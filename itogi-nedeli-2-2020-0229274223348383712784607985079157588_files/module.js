if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(bV,A,bn){var ba=false,N="194",v=10,cp=42,t=bV.roistatHost,av="0.2",Y="1.0",cw="roistat_visit_cookie_expire",bN="roistat_visit",aH="roistat_first_visit",ad="roistat_is_need_listen_requests",cW="roistat_phone",au="roistat_referrer",cz="roistat_marker",aX="roistat_marker_old",bi="roistat_ab",ce="rs",B="roistat",T="leadhunter_expire",H=5*60*60,bo="roistat_leadHunterEnabled",n="roistat_leadHunterTargetPagesMap",b8="roistat_leadHunterCallbackSettings",aF="roistat_leadHunterScriptId",O="roistat_isleadHunterScriptIdActive",aU="roistat_multiwidgetEnabled",bF="roistat_multiwidgetVKEnabled",cm="roistat_multiwidgetVKLink",I="roistat_multiwidgetFBEnabled",cG="roistat_multiwidgetFBLink",ca="roistat_multiwidgetTelegramEnabled",a8="roistat_multiwidgetTelegramLink",ck="roistat_onlineChatEnabled",w="roistat_onlineChatSettings",d=7*24*60*60,cr={expires:d,path:"/"},Z="roistat-promo",af="roistat-phone",z="roistat-phone-country",aa="roistat-phone-region",C="roistat-phone-number",cO="roistat-phone-tel",bu="country",aA="region",a1="number",bI="tel",l="roistat_call_tracking",P="roistat-js-script",bg="roistat_phone_replacement",a2="roistat_phone_script_data",co="roistat-visit-id",aI="roistat_metrika_counter_id",h="roistat_marker_from_referrer",bf="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",br="roistat_emailtracking_emails",cQ="roistat_proxy_forms",ct="roistat_isMultiDomain",ch=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],bO="roistat_debug",aL="roistat_settings_saved",b1="nocookie",aJ=["yandex.ru"],ar="beta_test",cc="roistat_settings_version",bD="roistat-leadhunter-form-template",be="roistat-leadhunter-pulsator-template",bC="roistat-leadhunter-pulsator-settings",a9="roistat-online-chat-pulsator-template",x="roistat-online-chat-iframe-template",cA="roistat-multiwidget-pulsator-template",e="roistat-multiwidget-pulsator-settings",R="roistat_last_settings_update_time";
var bA="ru",cT="en",W,p;var cF=t.replace(/^cloud\./,"");var cB="collector."+cF;var bE={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bP={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var cq={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bV.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bV.roistatAlreadyStarted=true;if(bV.roistatCookieDomain){cr.domain=bV.roistatCookieDomain}bV.roistat={version:N,getSource:function(){return bP.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(c1){bP.visitFromUser=c1},registerOnVisitProcessedCallback:function(c1){b9(c1)},registerOnCalltrackingPhoneReceivedCallback:function(c1){bb(c1)},disableCallTracking:function(){bE.callTrackingEnabled=false},setCallTrackingManualMode:function(){bE.callTrackingManual=true},setJSONPRequestTimeout:function(c1){bE.jsonpRequestTimeout=c1},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){s("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[],},},multiwidget:{isEnabled:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(c1){ap(c1,bn)},authClientByEmail:function(c1){ap(bn,c1)}};var ap=function(c1,c4){if(!bP.isVisitProcessed){s("Visit is not processed, return");return}var c5=c1!==bn&&c1.length>0,c8=c4!==bn&&c4.length>0;if(!c5&&!c8){s("Invalid client params, return");return}var c6=m();if(c6<=0){s("Invalid arguments, return");return}var c7="roistat_authorized_client",c9=bS.get(c7),c3=c5?c1:c4;if(c9===c3){s('Client "'+c3+'" is already authorized, return');return}s("Auth client: "+c3);bS.set(c7,c3);var c2=G()+"/update-visit-by-client?visit="+c6+"&v="+N;if(c5){c2+="&client_id="+encodeURIComponent(c1)}if(c8){c2+="&client_email="+encodeURIComponent(c4)}aG(c2)};var cJ=function(c4,c2){var c3=c4.length;for(var c1=0;c1<c3;c1++){if(c2===c4[c1]){return true}}return false};var U=function(){return i(ar)>0};var aO=function(){return bV.roistatProjectId};var cd=function(){return aO().replace(/\D/g,"")};var a4=function(c1){var c2=cd();return cJ(c1,c2)};var cj=function(c1){return JSON.parse(JSON.stringify(c1))};var bj=function(){var c2=cj(cr),c1=parseInt(bS.get(cw));c2.expires=c1>0?c1:d;return c2};var b9=function(c1){if(!bP.isVisitProcessed){cq.onVisitProcessed.push(c1)}else{c1()}};var cl=function(){bP.isVisitProcessed=true;s("[Roistat] visit id set. Processing callbacks");var c2=cq.onVisitProcessed.length;for(var c1=0;c1<c2;c1++){cq.onVisitProcessed[c1]()}if(bV.roistatVisitCallback!==bn){bV.roistatVisitCallback(bV.roistat.getVisit())}};var bb=function(c1){cq.onCallTrackingPhoneReceived.push(c1)};var cH=function(){var c2=cq.onCallTrackingPhoneReceived.length;for(var c1=0;c1<c2;c1++){cq.onCallTrackingPhoneReceived[c1]()}};var al=function al(c1){cq.onSPAPageChanged.push(c1)};var bL=function bL(){s("[Roistat] SPA page changed. Processing callbacks");var c2=cq.onSPAPageChanged.length;for(var c1=0;c1<c2;c1++){cq.onSPAPageChanged[c1]()}};var ab=function(c5,c4){var c3=c5.className.split(" "),c2=false,c1;for(c1=0;c1<c3.length;c1++){if(c3[c1]===c4){c2=true;break}}if(!c2){c3.push(c4);c5.className=c3.join(" ")}};var bM=function(c4,c3){var c2=c4.className.split(" "),c1;for(c1=0;c1<c2.length;c1++){if(c2[c1]===c3){c2.splice(c1,1);c4.className=c2.join(" ");break}}};var aq=function(c2){try{return decodeURIComponent(c2)}catch(c3){var c1;c1=u(c2);if(c1===null){return c2}return c1}};var bz={visitor_uid:function(){s("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!c0(bV.AMOPIXEL_IDENTIFIER)||!L(bV.AMOPIXEL_IDENTIFIER.getVisitorUid)){s("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var c1=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!aK(c1)){s("AmoCrmUID: visitor_uid value must be a string");return null}return c1}};var ao=function(){for(var c2 in bz){var c1=bz[c2]();if(c1===null){continue}cP(c2,c1,cr)}};var aY=function(){return["_ym_uid","_ga"].concat(D(bz))};var u=function(c5){var c4={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};
var c2="";var c3=0;while(c3<c5.length){var c1=c5.substring(c3,c3+3);if(Object.prototype.hasOwnProperty.call(c4,c1)){c2+=c4[c1];c3+=3}else{c2+=c5.substring(c3,c3+1);c3++}}try{return decodeURIComponent(c2)}catch(c6){return null}};bV.roistatVersion=N;var bh,M=[],b5=a4(["9978269456320005528414","325483621352862148"]),o=a4(["9978269456320005528414","593119171370269"]),bc=a4(["955909844195129958233503"]),j,b3=true,b7=A.location.href,aZ="",aE="",a6=new Date().getTime(),cy=false,cg=bV.roistatPhonePrefix?bV.roistatPhonePrefix:"",cX=bV.roistatPhonePrefixBind?bV.roistatPhonePrefixBind:"",J=bV.roistatCalltrackingScripts&&bV.roistatCalltrackingScripts.join?bV.roistatCalltrackingScripts.join(","):"";var i,cP;i=bV.roistatGetCookie=function(c1){var c2=A.cookie.match(new RegExp("(?:^|; )"+c1.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return c2?aq(c2[1]):bn};cP=bV.roistatSetCookie=function(c4,c6,c3){c3=c3||{};var c2=c3.expires;if(typeof c2=="number"&&c2){var c8=new Date();c8.setTime(c8.getTime()+c2*1000);c2=c3.expires=c8}if(c2&&c2.toUTCString){c3.expires=c2.toUTCString()}c6=encodeURIComponent(c6);var c1=c4+"="+c6;for(var c5 in c3){c1+="; "+c5;var c7=c3[c5];if(c7!==true){c1+="="+c7}}A.cookie=c1};var bm=function(c2,c4,c3){var c1=c2[c4];c2[c4]=function(){if(c1){c1.apply(this,arguments)}c3.apply(this,arguments)}};var X=function(c3,c2,c4){if(c3.addEventListener){c3.addEventListener(c2,c4,false);return}var c1="on"+c2;if(c3.attachEvent){c3.attachEvent(c1,c4);return}if(c1 in c3){bm(c3,c1,c4);return}if(c2 in c3){bm(c3,c2,c4);return}s("Handler could not be attached")};var q=function(c4,c3){var c2=c4.length;for(var c1=0;c1<c2;c1++){c3(c4[c1])}};var D=function(c1){var c2=[];a5(c1,function(c3,c4){c2.push(c3)});return c2};var a5=function(c1,c3){for(var c2 in c1){if(Object.prototype.hasOwnProperty.call(c1,c2)){c3(c2,c1[c2])}}};var bd=function(c1){return Object.prototype.toString.call(c1)==="[object Array]"};var aB=function(c2){if(typeof c2!=="object"){return false}for(var c1 in c2){if(c2.hasOwnProperty(c1)){return true}}return false};var cL=function(c2){try{var c1=JSON.parse(c2);if(c1&&typeof c1==="object"){return c1}}catch(c3){}return null};if(A.getElementsByClassName==bn){A.getElementsByClassName=function(c2){var c1=[];var c6=new RegExp("\\b"+c2+"\\b");var c5=this.getElementsByTagName("*");for(var c4=0;c4<c5.length;c4++){var c3=c5[c4].className;if(c6.test(c3)){c1.push(c5[c4])}}return c1}}var at=function(){return String.fromCharCode};var cn=function(c3){var c1="";for(var c2=0;c2<c3.length;++c2){c1+=at()(cp^c3.charCodeAt(c2))}return c1};var az=function(c1){return encodeURIComponent(cn(bZ.encode(c1)))};var bZ={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c3){var c1="";var da,c8,c6,c9,c7,c5,c4;var c2=0;c3=bZ._utf8_encode(c3);while(c2<c3.length){da=c3.charCodeAt(c2++);c8=c3.charCodeAt(c2++);c6=c3.charCodeAt(c2++);c9=da>>2;c7=((da&3)<<4)|(c8>>4);c5=((c8&15)<<2)|(c6>>6);c4=c6&63;if(isNaN(c8)){c5=c4=64}else{if(isNaN(c6)){c4=64}}c1=c1+this._keyStr.charAt(c9)+this._keyStr.charAt(c7)+this._keyStr.charAt(c5)+this._keyStr.charAt(c4)}return c1},decode:function(c3){var c1="";var da,c8,c6;var c9,c7,c5,c4;var c2=0;c3=c3.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c2<c3.length){c9=this._keyStr.indexOf(c3.charAt(c2++));c7=this._keyStr.indexOf(c3.charAt(c2++));c5=this._keyStr.indexOf(c3.charAt(c2++));c4=this._keyStr.indexOf(c3.charAt(c2++));da=(c9<<2)|(c7>>4);c8=((c7&15)<<4)|(c5>>2);c6=((c5&3)<<6)|c4;c1=c1+String.fromCharCode(da);if(c5!=64){c1=c1+String.fromCharCode(c8)}if(c4!=64){c1=c1+String.fromCharCode(c6)}}c1=bZ._utf8_decode(c1);return c1},_utf8_encode:function(c2){c2=c2.replace(/\r\n/g,"\n");var c1="";for(var c4=0;c4<c2.length;c4++){var c3=c2.charCodeAt(c4);if(c3<128){c1+=String.fromCharCode(c3)}else{if((c3>127)&&(c3<2048)){c1+=String.fromCharCode((c3>>6)|192);c1+=String.fromCharCode((c3&63)|128)}else{c1+=String.fromCharCode((c3>>12)|224);c1+=String.fromCharCode(((c3>>6)&63)|128);c1+=String.fromCharCode((c3&63)|128)}}}return c1},_utf8_decode:function(c1){var c5="";var c7=0;var c8=0;var c6=0;var c4=0;while(c7<c1.length){c8=c1.charCodeAt(c7);if(c8<128){c5+=String.fromCharCode(c8);c7++}else{if((c8>191)&&(c8<224)){c6=c1.charCodeAt(c7+1);c5+=String.fromCharCode(((c8&31)<<6)|(c6&63));c7+=2}else{c6=c1.charCodeAt(c7+1);c4=c1.charCodeAt(c7+2);c5+=String.fromCharCode(((c8&15)<<12)|((c6&63)<<6)|(c4&63));c7+=3}}}return c5}};var bk=function(){return A[at()(99,111,111,107,105,101)]};var ah=function(){cS();var c1={c:cE()};return az(JSON.stringify(c1))};var cb=function(){var c1=m();return(c1===bn||c1===null)?b1:c1};var cE=function(){var c1=[];for(var c2 in bP.cookies){if(!Object.prototype.hasOwnProperty.call(bP.cookies,c2)){continue}c1.push(c2+"="+bP.cookies[c2])}return c1.join("; ")};var cS=function(){var c1=k();for(var c2 in c1){if(!Object.prototype.hasOwnProperty.call(c1,c2)){continue}bP.cookies[c2]=c1[c2]}};var ag=function(c1){cP(cz,c1,bj());bP.source.marker=c1};var ac=function(){return i(cz)};var f=function(){a5(bV.roistat.page.params,function(c2,c1){bP.pageParams[c2]=c1
})};var k=function(){var c4=bk();var c5=c4.split("; ");var c1={};for(var c3=0;c3<c5.length;c3++){var c8=c5[c3];if(c8===""){continue}var c2=c8.split("=");if(c2.length<2){continue}var c7=c2[0].trim();var c6=c2[1].trim();c1[c7]=c6}return c1};var g=function(){return at()(104,97,115,104)};var ay=function(c1){return c1.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bK={isAvailable:function(){var c1=false;if(!bV.sessionStorage||!bV.sessionStorage.setItem||!bV.sessionStorage.getItem||!bV.sessionStorage.removeItem){return c1}try{bV.sessionStorage.setItem("testKey","testValue");c1=bV.sessionStorage.getItem("testKey")==="testValue";bV.sessionStorage.removeItem("testKey")}catch(c2){return false}return c1},remove:function(c1){if(this.isAvailable()){bV.sessionStorage.removeItem(c1)}},setObject:function(c1,c2){if(this.isAvailable()){bV.sessionStorage.setItem(c1,JSON.stringify(c2))}},getObject:function(c2){var c1=null;if(this.isAvailable()){c1=bV.sessionStorage.getItem(c2);c1=JSON.parse(c1)}return c1},set:function(c1,c2){if(this.isAvailable()){bV.sessionStorage.setItem(c1,c2)}},get:function(c2){var c1=null;if(this.isAvailable()){c1=bV.sessionStorage.getItem(c2)}return c1}};var bS={isAvailable:function(){var c1=false;if(!bV.localStorage||!bV.localStorage.setItem||!bV.localStorage.getItem||!bV.localStorage.removeItem){return c1}try{bV.localStorage.setItem("testKey","testValue");c1=bV.localStorage.getItem("testKey")==="testValue";bV.localStorage.removeItem("testKey")}catch(c2){return false}return c1},remove:function(c2){if(this.isAvailable()){bV.localStorage.removeItem(c2)}else{var c1=new Date(1970,1,1);cP(c2,"",{expires:c1.toUTCString()})}},setObject:function(c1,c2){if(this.isAvailable()){localStorage.setItem(c1,JSON.stringify(c2))}},getObject:function(c2){var c1=null;if(this.isAvailable()){c1=localStorage.getItem(c2);c1=cL(c1)}return c1},set:function(c1,c2){if(this.isAvailable()){localStorage.setItem(c1,c2)}else{cP(c1,c2,cr)}},save:function(c2,c3,c1){if(this.isAvailable()){localStorage.setItem(c2,c3)}cP(c2,c3,c1)},get:function(c2){var c1=null;if(this.isAvailable()){c1=localStorage.getItem(c2)}if(c1===null){c1=i(c2)}return c1}};var bH=function(){return !bG(A.referrer)?A.referrer:null};var L=function(c1){return typeof c1==="function"};var c0=function(c1){return typeof c1==="object"};var aK=function(c1){return typeof c1==="string"};var Q=function(c4,c3){c3=typeof c3!=="undefined"?c3:false;var c5=function(c8){var c7=null;var c9=new RegExp("[#&?]("+c4+"=[^#&?]+)");if(c9.test(c8)){c7=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var c6=aq(c7);return c7&&c6?c6:c7};var c1=c5(b7);if(c3){var c2=A.referrer;if(c1===null&&c2){c1=c5(c2)}}return c1};var cD=function(c2,c3){var c1=false;if(c2&&c3){c1=c2.split(c3).join("")!==c2}return c1};if(Q(bO)==="1"||k()[bO]==="1"){ba=true}var aT=function(){if("https:"===A.location.protocol){return"https:"}else{return"http:"}};var K=function(c2){var c1=A.createElement("img");c1.src=c2;s("sendRequestByUrl: "+c2)};var aG=function(c2){s("sendApiRequestJSONP: init with url "+c2);var c1=A.createElement("script");c1.onload=c1.onreadystatechange=function(){var c4=this.readyState?this.readyState:"unknown";s("sendApiRequestJSONP: script state changed to "+c4)};c1.src=c2;c1.type="text/javascript";c1.async=true;var c3=A.getElementsByTagName("script")[0];c3.parentNode.insertBefore(c1,c3);s("sendApiRequestJSONP: script appended")};var b6=function(){var c2=A.createElement("link"),c1=A.getElementsByTagName("head");c2.setAttribute("rel","stylesheet");c2.setAttribute("href",aT()+"//"+t+"/dist/module.css?"+N);if(c1.length>0){c1[0].appendChild(c2)}};var bY=function(){return b2()||cY()};var b2=function(){return a0()!==null};var cY=function(){return bU()!==null};var cx=function(){var c1=cu();if(c1!==null){cP(bN,c1,bj())}};var cu=function(){return a0()||bU()||null};var a0=function(){return Q("roistat_visit")};var bU=function(){return bP.visitFromUser};var a=function(c2,c1){if(!c1&&(bP.isSettingsUpdating||!A.hasFocus())){s("Already updating settings or document not in focus, return");return}var c3=G()+"/get-settings?v="+N+"&visit="+c2;s("Request new settings");bP.isSettingsUpdating=true;aG(c3)};var aC=function(){return bS.get(aL)>0};var cM=function(){bS.set(aL,1)};var an=function(){bS.remove(bD);bS.remove(be);bS.remove(bC);bS.remove(a9);bS.remove(x);bS.remove(ck);bS.remove(cA);bS.remove(e)};var bQ=function(){var c5=function(){return bS.get(cc)};var c4=function(){bS.set(cc,v)};var c2=function(){return typeof c5()==="string"};var c1=function(){const c6=Number(c5())>v;s("Settings Version: settings version change status - "+c6);return c6};var c3=function(){var c6=1000*60*60*24;var c9=cI();var c8=bX()-c9;var c7=c8>c6;s("Settings Version:: expiration day check: lastUpdateTime="+c9+", _lastUpdateTimeDiff="+c8+", _oneDayDiffInMs="+c6+", result="+(c7?1:0));return c7};if(!c2()){s("Settings Version: set settings version up to 1");c4()}if(c3()||c1()){s("Settings Version: clear settings");
an()}};var cU=function(){s("Call: Init");s("Counter version: "+N);if(Q("roistat_ab_demo")==="1"){s("Roistat initialisation rejected: ab test preview mode");return}b6();a3();ci();if((!ae()||cZ())&&!bV.roistatOnlineChatOnly){cy=true;bp()}else{bQ();cx();var c1=m();bv();aR();cv();roistat.visit=c1;bP.source.marker=ac();var c2=aC();if(!c2){a(c1)}else{cl()}}if(!o){cK()}};var E=function(c3){if(!c3.isEnabled){return true}var c1=new Date();var da=new Date().toISOString();var c7=c1.getUTCDay()===0?7:c1.getDay();var c8=c7===6||c7===7;var c6=new Date(c3.weekdaysTime.from).toISOString();var c2=new Date(c3.weekdaysTime.to).toISOString();var db=new Date(c3.weekendsTime.from).toISOString();var c4=new Date(c3.weekendsTime.to).toISOString();var c9=false;for(var c5=0;c5<c3.days.length;c5++){if(c7===c3.days[c5]){c9=true}}if(!c9){return false}if(c8){return da>=db&&da<=c4}return da>=c6&&da<=c2};var a3=function(){s("Call: initMarker");bh=b0();s("Call: inited marker: "+bh)};var ci=function(){s("Call: initReferrer");j=bH();s("Call: end initReferrer: "+j)};var bG=function(c3){if(!c3){return true}var c1=aS(c3);var c2=aS(A.domain);if(c1===c2){return true}var c4=bB();if(c4===null){return false}if(cD(c1,c4)&&cD(c2,c4)){return true}return false};var bB=function(){if(typeof cr.domain==="string"&&cr.domain!==""){return aS(cr.domain)}return null};var aS=function(c1){var c2=c1.split("http://").join("").split("https://").join("").split("www.").join("");return c2.split("/")[0]};var b0=function(){var c6=i(h)>0;var c8=null;var c3=function(db){return db.split("_").join(":u:")};var da=function(dc){var db=false;q(aJ,function(dd){if(dc.indexOf(dd)>-1){db=true}});return db};var c9=function(){var db=false;var dc;dc=Q(B,c6);if(dc!==null){c8=dc;db=true}dc=Q(ce,c6);if(dc!==null){c8=dc;db=true}return db};var c4=function(){var db=false;var dc=ac();if(dc){c8=dc;db=true;b3=false}return db};var c2=function(){var db=false;var dd=Q("utm_source",c6);if(dd!==null){db=true;c8=":utm:"+c3(dd);var df=["utm_medium","utm_campaign","utm_content","utm_term"];var dc;for(var de=0;de<df.length;de++){dc=Q(df[de],c6);if(dc!==null){c8=c8+"_"+c3(dc)}}}return db};var c5=function(){var dd,dc,db=false;dc=Q("_openstat",c6);if(!dc){return false}if(c7(dc)){dd=dc}else{dd=encodeURI(bZ.decode(dc));if(!c7(dd)){dd=dc}}if(dd){dd=c3(dd).split(";").join("_");c8=":openstat:"+dd;db=true}return db};var c7=function(db){return db.match(/^([^;]*(;[^;]*){3})$/)!==null};var c1=function(){var db=false;var dc=A.referrer;if(bG(dc)){return db}var dd=Q("from",c6);if(dd!==null&&!cD(dd,"http")){if(!da(dd)){db=true;c8=c3(dd)}}return db};if(c9()){cf("Init marker: init from RS param "+c8);return c8}if(c2()){cf("Init marker: init from UTM "+c8);return c8}if(c5()){cf("Init marker: init from OpenStat "+c8);return c8}if(c1()){cf("Init marker: init from custom tag "+c8);return c8}cf("Init marker: try init from cookie "+c8);c4();return c8};var m=function(){return bS.get(bN)};var S=function(){s("Call: saveReferrer");bS.set(au,j)};var bJ=function(){s("Call: removeReferrer");bS.remove(au)};var cK=function(){cP(aX,aq(bh),bj())};var cv=function(){s("Call: refreshPromoCode");if(bV.roistatOnlineChatOnly){s("PromoCode: Shut down because only online chat need to be inited");return}var c1=function(){return i(bN)};ak(c1());if(!bV.onload){bV.onload=function(){ak(c1())}}setTimeout(function(){ak(c1())},50);setTimeout(function(){ak(c1())},200);setTimeout(function(){ak(c1())},2000);setTimeout(function(){ak(c1())},10000)};bV.roistatPromoCodeRefresh=cv;var cN=function(){var c1=[];var c2=A.getElementsByClassName(Z);if(c2&&c2.length){c1=c2}return c1};var ak=function(c1){var c4=cN();s("setPromoCode: "+c1+" in "+c4.length+" elements");for(var c3=0;c3<c4.length;c3++){var c2=c4[c3];c2.innerHTML=c1?c1:""}};var bs=function(){var c3=b0(),c2=i(aX),c5=c3!==null,c4=true;var c7=aq(aq(c3)).toLowerCase().split("+").join(" "),c6=aq(aq(c2)).toLowerCase().split("+").join(" ");if(c3&&c2){c4=c7!==c6}var c1=c5&&c4;aE="Call: needOverrideByMarker (result "+(c1?"true":"false")+") with current "+c3+":"+c7+" and old "+c2+":"+c6;cf(aE);return c1};var ax=function(){var c2=function(da){return/[\u0400-\u04FF]/.test(da)};var c9=false,c6=j,c1=bS.get(au),c8=bV.location.host;if(!c6||!c8){cf("Call: needOverrideByReferrer (result "+(c9?"true":"false")+"), skip because one of params is empty");return c9}c8=aS(c8);c6=aq(c6);c1=aq(c1);var c4=aS(c6);if(cD(c6,"xn--")&&c2(c8)){cf("Call: needOverrideByReferrer (result "+(c9?"true":"false")+"), skip because of bugs with punycode in FF");return c9}if(!c4){cf("Call: needOverrideByReferrer (result "+(c9?"true":"false")+"), skip because current referrer is null");return c9}if(!c1){c9=!cD(c4,c8);cf("Call: needOverrideByReferrer (result "+(c9?"true":"false")+"), compare current referrer and host");return c9}if(cD(c6,c1)){cf("Call: needOverrideByReferrer (result "+(c9?"true":"false")+"), skip because the same referrer");return c9}var c7=c8.split(".").length>2&&c4.split(".").length>2;var c5=bV.roistatCookieDomain!==bn&&bV.roistatCookieDomain!==c8;
var c3=c4.split(".").slice(1).join(".")===c8.split(".").slice(1).join(".");if(c7&&c5&&c3){cf("Call: needOverrideByReferrer (result "+(c9?"true":"false")+"), skip because sub domains of same domain");return c9}c9=!(cD(c4,c8)||(cD(c8,c4)));cf("Call: needOverrideByReferrer (result "+(c9?"true":"false")+") referrerHost: "+c4+", currentHost: "+c8);return c9};var bw=function(){return Q("utm_nooverride")==="1"};var cZ=function(){return !bY()&&!bw()&&(bs()||ax())};var bx=function(c2,c1){return(c2&&c1&&c2!=c1)};var aV=function(c3){var c1=["cookieExpire"];var c5=c3.leadHunterEnabled;if(Number(bS.get(bo))!==Number(c3.leadHunterEnabled)){bS.set(bo,Number(c3.leadHunterEnabled))}if(c5){var c4={expires:H,path:"/"};if(cr.domain){c4.domain=cr.domain}cP(T,1,c4)}for(var c2 in c3){if(!Object.prototype.hasOwnProperty.call(c3,c2)){continue}if(!c5&&c2.indexOf("leadHunter")>=0&&c2.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aj(c1,c2)){bS.set("roistat_"+c2,c3[c2])}}};var cs=function(c1){if(!c1){return}roistat.multiwidget={isEnabled:c1.is_enabled,vk:{isEnabled:c1.vk.is_enabled,link:c1.vk.link},fb:{isEnabled:c1.fb.is_enabled,link:c1.fb.link},telegram:{isEnabled:c1.telegram.is_enabled,link:c1.telegram.link}};if(Number(bS.get(aU))!==Number(c1.is_enabled)){bS.set(aU,Number(c1.is_enabled))}if(Number(bS.get(bF))!==Number(c1.vk.is_enabled)){bS.set(bF,Number(c1.vk.is_enabled))}if(bS.get(cm)!==c1.vk.link){bS.set(cm,c1.vk.link)}if(Number(bS.get(I))!==Number(c1.fb.is_enabled)){bS.set(I,Number(c1.fb.is_enabled))}if(bS.get(cG)!==c1.fb.link){bS.set(cG,c1.fb.link)}if(Number(bS.get(ca))!==c1.telegram.is_enabled){bS.set(ca,Number(c1.telegram.is_enabled))}if(bS.get(a8)!==c1.telegram.link){bS.set(a8,c1.telegram.link)}};var bW=function(c1){roistat.onlineChat.isEnabled=c1.is_enabled;if(Number(bS.get(ck))!==Number(c1.is_enabled)){bS.set(ck,Number(c1.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=c1.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=c1.advanced_settings.pages_filter;bS.setObject(w,c1.advanced_settings)};var cV=function(c3,c5,c2,c4,c1,c6){aV(c3);roistat.callTracking.enabled=c5.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=c2.email;roistat.emailtracking.trackingEmail=c2.trackingEmail;roistat.emailtracking.emails=c2.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=c4;cs(c1);bW(c6)};bV.roistatModuleSetVisitCookie=function(c6,dd,c4,c2,dc,c1,de,c8){s("Call: roistatModuleSetVisitCookie("+c6+")");var c9;if(typeof c4.cookieExpire!=="number"){c9=bj().expires}else{c9=c4.cookieExpire}var c7=i(bN);var db={expires:c9,path:"/"};if(cr.domain){db.domain=cr.domain}cP(bN,c6,db);if(!(i(bN)>0)){bS.save(bN,c6,db)}if(!bS.get(aH)){var c3={expires:10*365*24*60*60,path:"/"};if(cr.domain){c3.domain=cr.domain}bS.save(aH,c6,c3)}var da=c4.abTests;if((typeof da!=="undefined")&&bS.isAvailable()){bS.setObject("abTesting",da)}applyTests();var c5=c4.isNeedToListenRequests;if((typeof c5!=="undefined")&&bS.isAvailable()){bS.set(ad,c5)}ak(c6);if(dd){ag(dd);cP(aX,dd,db)}s("Call: pre renderPromoCode");aR();cv();if(bx(c7,c6)){s("roistatModuleSetVisitCookie: visit changed from "+c7+" to "+c6)}if(bV.roistatCallback!==bn){bV.roistatCallback(c6,dd)}if(!de){de={}}cV(c4,c2,dc,c1,de.multiwidget_settings,c8);roistat.callTracking.phone=c2.phone;roistat.callTracking.sessionTime=c2.sessionTime;roistat.callTracking.replacementClasses=c2.replacementClasses;roistat.callTracking.phoneScriptsJson=c2.scripts;roistat.visit=c6;cH();cM();cl()};bV.roistatUpdateSettings=function(c1){s("Set settings.");bP.isSettingsUpdating=false;cV(c1.js_settings,c1.calltracking,c1.emailtracking,c1.proxy_forms,c1.multiwidget.multiwidget_settings,c1.online_chat);cM();cl()};var ae=function(){var c1;if(bV.roistatIsInitVisit===true){c1=false}else{c1=i(bN)>0}cf("Call: alreadyVisited (return "+(c1?"true":"false")+")");return c1};var c=function(c1){return encodeURIComponent?encodeURIComponent(c1):encodeURI(c1)};var aN=function(){return j?c(j):""};var G=function(){return aT()+"//"+t+"/api/site/"+Y+"/"+aO()};var b4=function(){var c1={expires:1,path:"/"};if(cr.domain){c1.domain=cr.domain}cP(bi,"",c1)};var bp=function(){s("Call: setVisitIdCookie");var c2=function(){var da=aO(),c7=aN(),c4=bV.roistatIsInitVisit===true?m():0,c9=i(bi),c5=bS.get(aH);c9=c9?c9:"";c5=c5?c5:"";bh=bh&&(!ax()||b3)?aq(aq(bh)):"";var c8=encodeURIComponent(b7);s("Calltracking: enabled="+bE.callTrackingEnabled+",manual="+bE.callTrackingManual);var c6=JSON.stringify(bV.roistat.page.params);return G()+"/addVisit?v="+N+"&marker="+encodeURIComponent(bh)+"&visit="+c4+"&first_visit="+c5+"&phone_prefix="+cg+"&phone_prefix_bind="+cX+"&phone_scripts_bind="+J+"&referrer="+c7+"&page="+c8+"&ab="+c(c9)+"&"+g()+"="+ah()+(c6==="{}"?"":"&page_params="+encodeURIComponent(c6))+((!bE.callTrackingEnabled||bE.callTrackingManual)?"&call_tracking_disabled=1":"")+(M.length>0?"&log="+encodeURIComponent(JSON.stringify(M)):"")};var c1=function(c4){setTimeout(function(){s("Call: setVisitIdCookie script creation after timeout");
var c5=A.createElement("script");c5.onload=c5.onreadystatechange=function(){var c7=this.readyState?this.readyState:"unknown";s("Call: setVisitIdCookie script state changed to "+c7)};c5.src=c4;c5.type="text/javascript";c5.async=true;c5.id=P;var c6=A.getElementsByTagName("script")[0];c6.parentNode.insertBefore(c5,c6);s("Call: setVisitIdCookie appended "+((A.getElementById(P))?"true":"false"));s("Call: sendJSONPRequest to URL "+c4);b4()},bE.jsonpRequestTimeout)};if(bh){ag(bh);if(o){cK()}}ao();var c3=c2();c1(c3);j?S():bJ()};var bv=function(){s("Call: sendAbTests");var c2=function(){var c6=aO(),c5=i(bN);return aT()+"//"+t+"/site-api/"+av+"/"+c6+"/visit/"+c5+"/addAbVariant"};var c3=i(bi);if(!c3){return}var c4=c2();c4=c4+"?ab="+c(c3);var c1=A.createElement("img");c1.src=c4;b4()};var aD={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(aD.Android()||aD.BlackBerry()||aD.iOS()||aD.Opera()||aD.Windows())}};var aM={isIE:function(c3,c5){var c6="IE",c2=A.createElement("B"),c1=A.documentElement,c4;if(c3){c6+=" "+c3;if(c5){c6=c5+" "+c6}}c2.innerHTML="<!--[if "+c6+']><b id="iecctest"></b><![endif]-->';c1.appendChild(c2);c4=!!A.getElementById("iecctest");c1.removeChild(c2);return c4}};var bX=function(){return new Date().getTime()};var cI=function(){return bS.get(R)};var V=function(){var c1="";bV.onerror=function(c7,c6,c3,c5,c4){var c2=!c5?"":", column: "+c5;c2+=!c4?"":", error: "+c4;c1=c1+", Error: "+c7+", url: "+c6+", line: "+c3+c2};setTimeout(function(){var c9=false,da="";var c5=cN();for(var c8=0;c8<c5.length;c8++){var c4=c5[c8];if(c4!==null&&!c4.innerHTML){c9=true;da="Promo HTML: "+c4.innerHTML}}if(!(i(bN)>0)){c9=true;da=da+"; roistat_visit = "+i(bN)}if(c9){var c3=A.getElementById(P);var c2=c3?1:0;var c6=bV.navigator.userAgent;da=encodeURIComponent(da);var c7=A.createElement("img");c7.src=aT()+"//"+t+"/site-api/"+av+"/"+aO()+"/debug?message="+da+"&agent="+c6+"&"+g()+"="+ah()+"&jserror="+c1+"&scriptResponse="+c2+"&version="+N+"&debug="+aZ}},20000)};var bl=function(){var c3=A.getElementsByTagName("body");var c4=A.documentElement;var c2=0,c5=0;if(c3.length){var c1=c3[0];c2=bV.innerWidth||c4.clientWidth||c1.clientWidth;c5=bV.innerHeight||c4.clientHeight||c1.clientHeight}else{c2=bV.innerWidth||c4.clientWidth;c5=bV.innerHeight||c4.clientHeight}return{width:c2,height:c5}};var aR=function(){var c6=A.getElementsByClassName("roistat-promo-wrap");if(c6.length){s("PromoCode: old promo code length - exit");return}if(bV.roistatOnlineChatOnly){s("PromoCode: Shut down because only online chat need to be inited");return}var c4=function(){var dd=A.createElement("div");dd.innerHTML=roistatPromoCode;var db=A.getElementsByTagName("body");if(db.length){db[0].appendChild(dd)}s("PromoCode: appended to body "+roistatPromoCode.length);var dc=A.getElementsByClassName("roistat-promo-wrap")[0];if(!dc){s("PromoCode: roistat-promo-wrap not found, skip");return}var da=dc.style;var c8,c9,c7;setInterval(function(){c8=bl();c9=dc.offsetWidth;c7=dc.offsetHeight*2;switch(roistatPosition){case"top_left":da.left=0;da.top=0;break;case"top":da.left=((c8.width-c9)/2)+"px";da.top=0;break;case"top_right":da.right=0;da.top=0;break;case"left":da.left=0;da.top=((c8.height-c7)/2)+"px";break;case"right":da.right=0;da.top=((c8.height-c7)/2)+"px";break;case"bottom_left":da.left=0;da.bottom=0;break;case"bottom":da.left=((c8.width-c9)/2)+"px";da.bottom=0;break;case"bottom_right":da.right=0;da.bottom=0;break;default:da.left=0;da.top=0}},500)};var c1=bS.getObject("promo_code_options");if(c1){bV.roistatPromoCode=c1.template;bV.roistatPosition=c1.position;c4()}else{var c5=A.getElementsByTagName("head")[0]||A.documentElement;var c3=A.createElement("script");c3.src=aT()+"//"+t+"/site-api/"+av+"/"+aO()+"/getPromoCode";c5.insertBefore(c3,c5.firstChild);s("PromoCode: loading started");var c2=false;c3.onload=c3.onreadystatechange=function(){if(!c2&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){c2=true;c3.onload=c3.onreadystatechange=null;if(c5&&c3.parentNode){c5.removeChild(c3)}}if(!c2){return}s("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){s("PromoCode: is disabled");return}c1={template:roistatPromoCode,position:roistatPosition};bS.setObject("promo_code_options",c1);c4()}}};var aj=function(c2,c3){for(var c1=0;c1<c2.length;c1++){if(c2[c1]===c3){return true}}return false};var s=function(c2){var c3=bX()-a6;var c1="["+(c3/1000)+"s] "+c2;aZ=aZ+"; "+c1;if(typeof console!=="undefined"&&console.log&&ba){console.log(c1)}};var cf=function(c1){s(c1);if(!b5){return}M.push(c1)};var aw=function aw(){var c5=bV.onpopstate;var c6=bV.history.pushState;var c1=bV.history.replaceState;X(bV,"popstate",function c4(c7){s("[Roistat]: popstate event catch");
bL();if(U()&&typeof c5==="function"){c5(c7)}});X(bV.history,"pushState",function c3(c8,c9,c7){s("[Roistat]: pushState event catch");bL();if(U()&&typeof c6==="function"){c6.apply(this,[c8,c9,c7])}});X(bV.history,"replaceState",function c2(c8,c9,c7){s("[Roistat]: replaceState event catch");bL();if(U()&&typeof c1==="function"){c1.apply(this,[c8,c9,c7])}})};(function bt(){aw();if(bV.onRoistatModuleLoaded!==bn&&typeof bV.onRoistatModuleLoaded==="function"){bV.onRoistatModuleLoaded()}})();var bq=function(c2){var c7=function(de,dc){var db;if(cD(dc,"*")){var dd=new RegExp(dc.split("*").join(".*"));db=dd.test(de)}else{db=de===dc}s("LeadHunter: compare current: "+de+", setting: "+dc+" with result = "+(db?1:0));return db};var c1=bV.location.href,c4=false,c3=false,c9="",c5=0,c8;c8=c2?c2.split(","):[];if(!c1||c8.length===0){c4=true}else{c9=ay(c1);var da;for(var c6=0;c6<c8.length;c6++){da=c8[c6].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(da)){if(c7(c9,da.split(/^!/).join(""))){c3=true;break}}else{c5++;if(c7(c9,da)){c4=true;break}}}}if(c3){s('LeadHunter: current page "'+c9+'" is disabled by list');return false}if(!c4&&c5>0){s('LeadHunter: current page "'+c9+'" is not listed');return false}s('LeadHunter: current page "'+c1+'", cleaned: "'+c9+'" is not disabled in '+c8.length+" list of pages");return true};cU();(function aQ(){var dn="empty",c7=false,c2=true,dg=false;var dk={roistat_visit:i(bN),marker:bh,user_agent:bV.navigator.userAgent,current_page:{title:A.title,href:bV.location.protocol+"//"+bV.location.host+bV.location.pathname,},};var dp=function(dt,ds,dr){if(dt.addEventListener){dt.addEventListener(ds,dr,false)}else{if(dt.attachEvent){dt.attachEvent("on"+ds,dr)}else{s("Handler could not be attached")}}};var di=function(dt,dr){if(dt===bn||typeof dr!=="string"||dr.length===0){return}var ds=dt.getElementsByClassName(dr);if(ds===bn||ds.length===0){return}return ds[0]};var dq=function(dr){return typeof dr==="object"&&dr!==null};var dl={leadHunter:function(){var fd="roistat-lh-form",dP="roistat-lh-form",fg="roistat-lh-head-text",d3="roistat-lh-head",dL="roistat-lh-thank-you",eu="roistat-lh-thank-you",dw="roistat-lh-close",dx="roistat-lh-submit",ec="roistat-lh-hidden",eS="roistat-lh-wrap",dR="roistat-lh-popup-wrapper",et="roistat-lh-popup",ff="roistat-lh-agreement",ep="roistat-lh-agreement roistat-lh-mobile",fu="roistat-lh-agreement-input",e4="roistat-lh-agreement-link",dr="roistat-lh-agreement-doc",e9="roistat-lh-alert-row",eB="roistat-lh-agreement",eo="roistat-lh-popup-iframe",eD="roistat_leadHunterUrl",e6="roistat_leadHunterAppearanceUrl",eg="roistat_leadHunterTargetPagesList",dK="roistat_leadHunterCaught",eK="roistat_leadHunterMinTime",d7="roistat_leadHunterAutoShowTime",eH="roistat_leadHunterPulsatorEnabled",d1="roistat_leadHunterScriptsCaught",fv="roistat_leadHunterScriptsShownCount",em="roistat-lh-load-done",dQ="roistat-lh-close-modal",eU="roistat-lh-script-settings",eT="roistat-lh-setting-size",fa="roistat-lh-before-submit",eE="roistat-lh-before-submit-done",fi="roistat-lh-after-submit",eX="roistat-lh-event-data",eY="roistat-lh-translate-form",fs={topLeft:{bottom:"80%",right:"auto"},topRight:{bottom:"80%",right:"3%"},bottomRight:{bottom:"10%",right:"3%"},bottomLeft:{bottom:"10%",right:"auto"}};var dJ=0.3,dV=0.001,dM=false,dY=0,dT=0,dZ=0,fk=0,dX=0,ed=false,dB=false,dW,e8,ew,eC,eR,d2,ft,fo,e5,fr,dF,fl,eO,ex,en,dI,du,eb,d0,d8,e2,fb,d5,fe,fj,ef;var fn={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var fh=function(fz){var fy=encodeURIComponent?encodeURIComponent:encodeURI;return fy(fz)};var eW=function(){if(!bV.roistat.leadHunter.isEnabled){return false}if(bV.roistatLeadHunterInited){return false}bV.roistatLeadHunterInited=true;if(bS.get(bo)<1){s("LeadHunter: disabled");return false}return true};var ea=function(){du=bS.get(eD);if(!du){s("LeadHunter: not active cause of empty url");return false}eb=bS.get(e6);fk=bS.get(eK);dX=bV.roistat.leadHunter.form.autoShowTime===null?bS.get(d7):bV.roistat.leadHunter.form.autoShowTime;c7=bS.get(eH)==1;dt();return true};var ei=function(){return bS.get(dK)>0};var dt=function(){if(!(i(T)>0)){s("LeadHunter: not active, expired for this visit");ed=true}};var dC=function(fy){d8=e2.src;var fz={version:N,additionalNotifyEmail:bV.roistat.leadHunter.additionalNotifyEmail,projectKey:aO(),language:W,visitId:cb(),moduleTargetOrigin:bV.location.origin,referrer:bV.location.href,windowWidth:bV.innerWidth||0,iframeWrapperWidth:eC.offsetWidth||0,sendRequestUrl:bS.get(eD),message:em};e2.contentWindow.postMessage(fz,d8);eJ();if(fy){s("Beta Test on, iframe fired, rise up iframe show count state");dv()}};var el=function(){dB=true;dA("click");dC();eQ()};var dz=function(){var fy=bV.location.hash;if(!fy){return}if(cD(fy,"roistat-lead-hunter")){el()}};var ej=function dH(){s("LeadHunter: binding timeout");if(ed){s("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(dM){s("LeadHunter: leadhunter was shown, no timeout show allowed");
return}if(dX>0){var fy=(dY-bX())+dX*1000;s("LeadHunter: binding timeout with delay "+fy+" ms");clearTimeout(fn.timeoutId);fn.timeoutId=setTimeout(function(){s("LeadHunter: form auto activate with autoTime = "+dX);if(!dM){s("LeadHunter: show by timeout");dB=true;dA("auto");dC(true);eQ()}},fy)}else{s("LeadHunter: auto show time is not positive, feature disabled")}};var e7=function(){e5.onclick=eR.onclick=ez;fr.onclick=ee;if(dq(fl)){dp(fl,"click",eq)}if(dq(eO)){dp(eO,"change",fw)}var fz=A.getElementsByClassName("roistat-lh-input");if(Array.isArray(fz)){for(var fC=0;fC<fz.length;fC++){dp(fz[fC],"keyup",function(fE){fE=fE||event;var fD=(fE.keyCode?fE.keyCode:fE.which);if(fD==13){ee()}})}}var fA=bV.onresize;bV.onresize=function(fD){if(fA){fA(fD)}fc(fD)};if(!ed){var fy=A.onmouseout;A.onmouseout=function(fD){if(fy){fy(fD)}eN(fD)}}if(c7&&!df()&&dq(dW)){dW.onmouseover=function(){ab(dW,"roistat-lh-pulsator-hover")};dW.onmouseout=function(){bM(dW,"roistat-lh-pulsator-hover")};dW.onclick=function(){el()}}var fB=bV.onhashchange;bV.onhashchange=function(){if(fB){fB.apply(this,arguments)}dz()}};var fq=function(){if(c7&&!df()&&dq(dW)){dW.onmouseover=function(){ab(dW,"roistat-lh-pulsator-hover")};dW.onmouseout=function(){bM(dW,"roistat-lh-pulsator-hover")};dW.onclick=function(){el()}}eR.onclick=ez;e2=A.getElementById(eo);if(dq(e2)){dp(e2,"load",function(){dC();fm()})}var fz=bV.onresize;bV.onresize=function(fB){if(fz){fz(fB)}fc(fB)};if(!ed){var fy=A.onmouseout;A.onmouseout=function(fB){if(fy){fy(fB)}if(!U()){s("ShowLimit: Beta Test off, check cursor usually");eN(fB)}else{s("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!eP()&&!dU()){s("ShowLimit: Check cursor allowed");eN(fB,true)}}}}var fA=bV.onhashchange;bV.onhashchange=function(){if(fA){fA.apply(this,arguments)}dz()}};var ey=function(fz){var fy=A.getElementsByClassName(fz);if(fy.length>0){return fy[0]}else{return null}};var ev=function(){var fB=ey("roistat-lh-title");if(dq(fB)&&roistat.leadHunter.form.title){fB.innerHTML=roistat.leadHunter.form.title}var fz=ey("roistat-lh-sub-title");if(dq(fz)&&roistat.leadHunter.form.subTitle){fz.innerHTML=roistat.leadHunter.form.subTitle}var fA=ey("roistat-lh-thank-you");if(dq(fA)&&roistat.leadHunter.form.thankYouText){fA.innerHTML=roistat.leadHunter.form.thankYouText}var fD=ey("roistat-lh-submit");if(dq(fD)&&roistat.leadHunter.form.buttonText){fD.value=roistat.leadHunter.form.buttonText}var fC=ey("roistat-lh-text-label-name");if(dq(fC)&&roistat.leadHunter.form.nameLabel){fC.innerHTML=roistat.leadHunter.form.nameLabel}var fy=ey("roistat-lh-text-label-contact");if(dq(fy)&&roistat.leadHunter.form.contactLabel){fy.innerHTML=roistat.leadHunter.form.contactLabel}};var dS=function(fz,fD,fC){var fy;if(!fz){s("LeadHunter: deactivating, empty form")}else{s("LeadHunter: rendering hidden form")}eR=A.createElement("div");eC=A.createElement("div");eC.innerHTML=fz;eR.className=ec;eC.className=ec;if(fD&&c7&&fC&&!df()){var fA=typeof fC.position==="string"&&fC.position!==""?fC.position:"bottomRight";fy=A.createElement("div");fy.innerHTML=fD;dW=fy.childNodes.item(0);e8=dW.childNodes.item(1);ew=dW.childNodes.item(2).childNodes.item(0);e8.setAttribute("style","background: "+fC.button.background+";");ew.setAttribute("style","fill: "+fC.button.color+";");dW.setAttribute("style","bottom: "+fs[fA].bottom+";right:"+fs[fA].right+";");fn.pulsator.previousClass=dW.className;dW.className=ec;A.body.appendChild(dW)}A.body.appendChild(eR);A.body.appendChild(eC);d2=A.getElementById(d3);ft=A.getElementById(dP);fo=A.getElementById(eu);e5=A.getElementById(dw);fr=A.getElementById(dx);dF=A.getElementById(ff);eO=A.getElementById(fu);fl=A.getElementById(e4);ex=A.getElementById(dr);en=A.getElementById(e9);dI=A.getElementById(eB);var fB=ey(dR);d0=dq(fB)&&fB.getAttribute("data-is-iframe");if(d0){fq()}else{ev();e7();dz();fm()}};var fp=function(fA){var fz=fA.button&&fA.button.background&&fA.button.color;if(!fz){return}bS.setObject(bC,ef);var fy=typeof fA.position==="string"&&fA.position!==""?fA.position:"bottomRight";if(dq(e8)){e8.setAttribute("style","background: "+fA.button.background+";")}if(dq(ew)){ew.setAttribute("style","fill: "+fA.button.color+";")}if(dq(dW)){dW.setAttribute("style","bottom: "+fs[fy].bottom+";right:"+fs[fy].right+";")}};var dG=function(){var fy=bS.get(bD),fA=bS.get(be),fz=bS.getObject(bC);dS(bZ.decode(fy),bZ.decode(fA),fz)};var eh=function(){var fz=eC.clientWidth,fy=eC.clientHeight;if(dq(eC)){eC.setAttribute("style",eC.getAttribute("style")+" width: "+fz+"px; height: "+fy+"px;")}if(dq(ft)){ft.className=ec}if(dq(d2)){d2.className=ec}if(dq(dF)){dF.className=ec}if(dq(fo)){fo.setAttribute("style","width: "+fz+"px; height: "+fy+"px; display: table-cell;");fo.className=dL}setTimeout(function(){s("LeadHunter: close form after timeout");ez()},7000)};var eQ=function(){var fz=Math.round((e3()-eC.clientHeight)/2);var fy=Math.round((fx()-eC.clientWidth)/2);if(dq(eC)){eC.setAttribute("style","left: "+fy+"px; top: "+Math.max(0,fz)+"px;")}};var dA=function(fz){if(bV.roistat.leadHunter.onBeforeAppear){s("LeadHunter: process user defined onBeforeAppear");
bV.roistat.leadHunter.onBeforeAppear(fz);if(d0){eJ()}}if(dq(eC)){eC.setAttribute("style","left:20px;top:-20px;opacity:0");eC.className=et}if(dq(eR)){eR.className=eS}if(dq(ft)){ft.className=fd}if(dq(d2)){d2.className=fg}if(dq(dF)){dF.className=ep}if(dq(fo)){fo.setAttribute("style","");fo.className=ec}if(dq(eR)){eR.setAttribute("style","opacity:0;")}dM=true;setTimeout(function(){eR.setAttribute("style","opacity:.5;")},10);var fA=i(bN),fy=eb+"?visit_id="+fA;K(fy);if(bV.roistat.leadHunter.onAfterAppear){s("LeadHunter: process user defined onAfterAppear");bV.roistat.leadHunter.onAfterAppear(fA,eR,eC,ft);if(d0){eJ()}}};var eV=function eA(){dY=bX();dG();s("LeadHunter: form initialized")};var fm=function ek(){s("LeadHunter: tuning appearance for page");if(!bq(bS.get(eg))||(bS.get(aF)&&!bS.get(O))){s("LeadHunter: disabled on page");fn.leave.isShowEnabled=false;clearTimeout(fn.timeoutId);if(df()){c2=false;db()}if(dq(dW)){dW.className=ec}}else{s("LeadHunter: enabled on page");if(!ei()&&!U()){s("ShowLimit: Beta Test off, bindShowOnTimeout usually");fn.leave.isShowEnabled=true;ej()}if(U()){s("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!eP()&&!dU()){s("ShowLimit: bindShowOnTimeout allowed");fn.leave.isShowEnabled=true;ej()}}if(dq(dW)){dW.className=fn.pulsator.previousClass}}};var d4=function eM(){s("LeadHunter: processing single page application state change");dY=bX();fm()};var e1=function er(){al(d4);X(bV,"resize",function(){var fz=600,fB=350,fC=bV.innerWidth,fA={};if(fC<fz&&fC>fB){fA={isMobileMarkup:true,isMobileMarkupXs:false};e2.contentWindow.postMessage({sizeSettings:fA,message:eT},d8);return}if(fC<fB){fA={isMobileMarkup:false,isMobileMarkupXs:true};e2.contentWindow.postMessage({sizeSettings:fA,message:eT},d8);return}fA={isMobileMarkup:false,isMobileMarkupXs:false};e2.contentWindow.postMessage({sizeSettings:fA,message:eT},d8)});X(bV,"message",function fy(fE){var fD=typeof fE.data==="string"?fE.data:fE.data.message;if(fD===eU){fb=fE.data.scriptId;d5=fE.data.showsLimit;var fB=bS.getObject(n)!==null;if(fB){fe=fE.data.leadHunterAutoShowTime;fj=fE.data.leadHunterMinTime;fj=fE.data.leadHunterMinTime;ef=fE.data.leadHunterPulsatorSettings;bS.set(eK,fj);bS.set(d7,fe);if(ef){bS.set(eH,Number(ef.isEnabled));fp(ef)}}s("ShowLimit: Get lhScriptId: "+fE.data.leadHunterId+" and lhScriptMaxShownCount: "+fE.data.leadHunterMaxShownCount+" from lh widget");eG()}if(fD===dQ){ez()}if(fD===eT){e2.setAttribute("style","width: "+fE.data.width+"px !important; height: "+fE.data.height+"px !important;");fc(fE)}if(fD===fa){var fF=fE.data.caughtLeadData;if(bV.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fA=bV.roistat.leadHunter.onBeforeSubmit(fF);if(fA){fF=fA}}if(!U()){s("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");dD()}else{s("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");eI()}var fz=bS.getObject(b8);var fC=fz!==null;var fG=fC&&fF.isNeedCallback===null&&!E(fz);if(fG){fF.isNeedCallback=0}e2.contentWindow.postMessage({caughtLead:fF,message:eE},d8)}if(fD===fi){if(bV.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bV.roistat.leadHunter.onAfterSubmit({name:fE.data.name,phone:fE.data.phone})}}})};function eJ(){var fy={apiData:bV.roistat.leadHunter.form,message:eX};e2.contentWindow.postMessage(fy,d8)}function eG(){if(!eW()){return}var fy=bS.getObject(n)!==null;if(fy){dE()}if(!ea()){return}s("LeadHunter: activated");eV();fm();e1()}function e3(){return(bV.innerHeight?bV.innerHeight:A.documentElement.clientHeight==0?A.body.clientHeight:A.documentElement.clientHeight)}function fx(){return(bV.innerWidth?bV.innerWidth:A.documentElement.clientWidth==0?A.body.clientWidth:A.documentElement.clientWidth)}function eN(fB,fy){fB=fB||event;dZ=fB.clientY;var fz=dZ/e3(),fD=dT>0&&dT>fz,fA=fz<dV,fC=(bX()-dY)>fk*1000;if(fD&&fA&&!dM&&fC&&fn.leave.isShowEnabled&&!ei()){s("LeadHunter: show modal with because move up ("+dT+" -> "+fz+") and in modal zone and show on leave enabled");dA("exit");dC(fy);es(fB)}if(fz<dJ){dT=fz}}function fc(fy){if(dB){eQ()}else{fy=fy||event;es(fy)}}function es(fD){var fz=fD.type==="message"?fD.data.width:eC.offsetWidth;var fA=fx();var fy=fD.clientX-Math.round(fz/2)||eC.offsetLeft;fy=Math.max(20,Math.min(fy,fA-fz-20));var fE=fy+fz>fA-40;if(fE){var fB=(fy+fz-20)-(fA-40);fy=fy-fB}var fC=fA-40>fz?"":"width: "+(fz-40)+"px;";if(dq(eC)){eC.setAttribute("style","left: "+fy+"px; top: 0px; "+fC)}}function dD(){bV.roistatSetCookie(dK,1,cr)}function ez(){if(!U()){s("ShowLimit: Beta Test off, setCookieLeadHunterCaught");dD()}if(dq(eR)){eR.setAttribute("style","opacity:0")}if(dq(eC)){eC.style.top="-"+eC.offsetHeight*2+"px";setTimeout(function(){eC.className=eR.className=ec},500)}}function ee(){var fM=A.getElementById("roistat-lh-phone-input"),fA=A.getElementById("roistat-lh-name-input"),fC,fK;fC=fM===null?"":fM.value;fK=fA===null?"":fA.value;var fH={name:fK,phone:fC,isNeedCallback:null,callbackPhone:null,fields:{}};
if(bV.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fD=bV.roistat.leadHunter.onBeforeSubmit(fH);if(fD){fH=fD}}var fJ=fH.phone.length<1;var fL=fH.phone.indexOf("_")===-1;var fF=!fJ&&fL;var fI=fH.name.length<1;var fz=!fI||!bV.roistat.leadHunter.form.isNameRequired;if(!fF&&dq(fM)){fM.setAttribute("style","border: 2px solid #E0571A;");return}if(!fz&&dq(fA)){fA.setAttribute("style","border: 2px solid #E0571A;");return}var fy=du+"?v="+N+"&lead-hunt-input="+encodeURIComponent(fH.phone)+"&lead-name="+encodeURIComponent(fH.name)+"&visit="+cb();if(fH.isNeedCallback!==null&&fH.isNeedCallback!==bn){fy=fy+"&is_need_callback="+(fH.isNeedCallback>0?1:0)}if(fH.callbackPhone){fy=fy+"&callback_phone="+fH.callbackPhone}if(bV.roistat.leadHunter.additionalNotifyEmail!==null){fy=fy+"&additional_email="+encodeURIComponent(bV.roistat.leadHunter.additionalNotifyEmail)}var fB=0;if(fH.fields&&typeof fH.fields==="object"){for(var fE in fH.fields){if(fH.fields.hasOwnProperty(fE)){++fB}}}if(fB>0){fy=fy+"&fields="+fh(JSON.stringify(fH.fields))}fy=fy+"&t="+bX();var fG=A.createElement("img");fG.src=fy;if(dq(fM)){fM.setAttribute("style","")}if(!U()){s("ShowLimit: Beta Test off, caught LH usually");dD()}else{s("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");eI()}if(!dq(fo)){ez();d9()}else{eh()}if(bV.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bV.roistat.leadHunter.onAfterSubmit({name:fK,phone:fC})}}function eq(fy){if(fy.preventDefault){fy.preventDefault()}else{fy.returnValue=false}if(dq(ex)){ex.style.display==="block"?ex.style.display="none":ex.setAttribute("style","display: block; padding: 0 30px; width:"+eC.clientWidth+"px;")}fc()}function fw(){if(dq(fr)){fr.disabled===true?fr.disabled=false:fr.disabled=true}if(dq(en)){en.style.display==="block"?en.style.display="none":en.style.display="block"}}function d9(){A.onmousemove=null;if(dq(eR)){eR.onresize=null}}var d6=function(fE,fH){if(!fE||!fH){s("LeadHunter: skip phone mask render due to empty input or mask");return}s("LeadHunter: render phone mask "+fH+" for input: "+fE.value);if(bV.roistatRenderPhoneMaskMutex){return}bV.roistatRenderPhoneMaskMutex=true;var fB="_",fA="x",fD="",fC=fH.toLowerCase().split(fA).join(fB).split(fD).join(fB);var fz=function(fI){if(fE.setSelectionRange){fE.setSelectionRange(fI,fI)}else{if(fE.createTextRange){var fJ=fE.createTextRange();fJ.collapse(true);fJ.moveEnd("character",fI);fJ.moveStart("character",fI);fJ.select()}}};var fF=function(fI){if(!fI){return 0}var fJ=fI.indexOf(fB);if(fJ<0){return fI.length}return fJ};var fG=function(fI){fz(fF(fI))};var fy=function(fR){var fS=fC.split("");if(!fR){return fC}var fI=fR.split("");var fT=[],fQ,fN,fP,fM,fK,fJ,fO;for(var fL=0;fL<fS.length;fL++){fN=fS[fL];if(fL>=fI.length){fT.push(fN);continue}fK=((fL+1)<fS.length)?fS[fL+1]:null;fJ=((fL+1)<fI.length)?fI[fL+1]:null;fO=((fL+2)<fI.length)?fI[fL+2]:null;fQ=fI[fL];fP=parseInt(fQ)>=0;fM=(fN===fB)&&fP;if(!fM){fT.push(fN);continue}if(fJ===fB&&fK!==fB&&fO!==fK){fT.push(fN);continue}fT.push(fQ)}return fT.join("")};setTimeout(function(){var fI=fy(fE.value);if(fE.value!==fI){fE.value=fI}fG(fI);bV.roistatRenderPhoneMaskMutex=false},1)};var e0=function(fy,fA,fz){bS.set(bD,bZ.encode(fy));bS.set(be,bZ.encode(fA));bS.setObject(bC,fz)};var eF=function(fy){W=fy;if(e2===bn){return}ds()};var ds=function(){var fy={language:W,message:eY};e2.contentWindow.postMessage(fy,d8)};var eI=function(){s("ShowLimit: Start set roistat_leadHunterScriptsCaught");var fy=dN(d1);if(!fy){fy={}}s("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");fy[fb]=1;eZ(d1,fy)};var dv=function(){s("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var fz=dN(fv);if(!fz){fz={}}var fA=fz.hasOwnProperty(fb);if(!fA){s("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");fz[fb]=0}var fy=fz[fb]+1>d5;if(fy){s("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}s("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");fz[fb]+=1;eZ(fv,fz)};var eZ=function(fy,fz){cP(fy,JSON.stringify(fz),cr)};var dN=function(fy){var fz=i(fy);if(typeof fz!=="undefined"){return JSON.parse(fz)}return fz};var dU=function(){if(d5===0){s("ShowLimit: show limit off and set to 0");return false}var fy=dN(fv),fz=fy?fy[fb]:null,fA=fz+1>d5;s("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+fA);return fA};var eP=function(){var fA=dN(d1),fy=fA?fA[fb]:null,fz=fy===1;s("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+fz);return fz};var dE=function(){bS.set(aF,dy());bS.set(bD,bZ.encode(eL()));bS.set(eg,dO())};var eL=function(){var fy=aT()+"//"+t+"/api/site/1.0/"+aO()+"/leadhunter/script/"+bS.get(aF)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+fy+'" frameborder="0"></iframe></div>'
};var dy=function(){var fy=bS.getObject(n);if(fy===null){return}bS.set(O,"");var fC=Number(bS.get(bo));var fF=Object.keys(fy);var fD=fF.sort()[0];if(!fC){return fD}for(var fB=0;fB<fF.length;fB++){var fG=fy[fF[fB]];var fE=fG.targetPageList;var fA=bq(fE.join(","));var fz=fE.length===0;if(fz||fA){if(!fG.timetable.isEnabled||E(fG.timetable)){fD=fF[fB];bS.set(O,fD)}}}return fD};var dO=function(){var fy=bS.get(aF);var fz=JSON.parse(bS.get(n));return fz[fy]?fz[fy].targetPageList.join(","):""};b9(eG);bV.roistatLeadHunterShow=el;bV.roistatRenderPhoneMask=d6;bV.roistat.leadHunter.localization.translateToRussian=function(){eF(bA)};bV.roistat.leadHunter.localization.translateToEnglish=function(){eF(cT)}},multiwidget:function(){var d1="roistat-multiwidget-hidden",d8="roistat-multiwidget-pulsator-phone",d6="roistat-multiwidget-pulsator-popup-item-lead-hunter",dH="roistat-multiwidget-pulsator-fill",ea="roistat-multiwidget-pulsator-fill-svg",dS="roistat-multiwidget-pulsator-img-icon",dG="roistat-multiwidget-pulsator-popup-item-chat",du="roistat-multiwidget-pulsator-popup-item-facebook",dy="roistat-multiwidget-pulsator-popup-item-vk",dR="roistat-multiwidget-pulsator-popup-item-telegram",dW="roistat-multiwidget-pulsator-items-popup-holder",dQ="iframe_chat_successfully_loaded",dA="roistat-multiwidget-pulsator-popup-tail";var dF,dV,dM,d7,dr,dw,d9,dO,dC,dt,dD,dv;var dK=false;var d5={topLeft:{bottom:"unset",right:"unset",top:"20px",left:"35px"},topRight:{bottom:"unset",right:"35px",top:"20px",left:"unset"},bottomRight:{bottom:"20px",right:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:"20px",right:"unset",top:"unset",left:"35px"}};var dz={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var dL={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function d0(ec){s("Multiwidget: "+ec)}function dP(){dV=di(dF,d8);dM=di(dF,dW);d7=di(dF,dA);dO=di(dM,d6);dC=di(dM,dG);dt=di(dM,dy);dD=di(dM,du);dv=di(dM,dR);dr=di(dV,dH);dw=dV.getElementsByClassName(ea);d9=di(dV,dS)}function dI(){if(dq(dM)){dM.classList.toggle(d1)}}function eb(){d0("add pulsator events");dp(dV,"click",function(){dI()});dp(dO,"click",function(){d0("opening leadhunter via multiwidget");bV.roistatLeadHunterShow();dI()});dp(dC,"click",function(){d0("opening online chat via multiwidget");bV.roistatOnlineChatShow();dI()});dp(dt,"click",function(){bV.open(bS.get(cm),"_blank")});dp(dD,"click",function(){bV.open(bS.get(cG),"_blank")});dp(dv,"click",function(){bV.open(bS.get(a8),"_blank")})}function dx(ec){if(dq(ec)){ec.classList.add(d1)}}function dY(ec){if(dq(ec)){ec.classList.remove(d1)}}function dT(){dx(dO)}function dN(){d0("hiding disabled multiwidget options");var ec=Number(bS.get(bo)),ed=Number(bS.get(ck)),ee=Number(bS.get(bF)),ef=Number(bS.get(I)),eg=Number(bS.get(ca));if(!ec||!c7||!c2){d0("hiding leadhunter option");dT()}if(!ed||!dK||!da()){d0("hiding online chat option");dx(dC)}if(!ee){d0("hiding vk-messenger option");dx(dt)}if(!ef){d0("hiding fb-messenger option");dx(dD)}if(!eg){d0("hiding telegram-messenger option");dx(dv)}}function ds(){var ed=bS.getObject(e);d0("start filling pulsator");if(ed){if(dq(dr)){dr.setAttribute("style","background: "+ed.button_color+";")}if(dq(d9)){d9.setAttribute("style","fill: "+ed.icon_color+";")}if(Array.isArray(dw)){for(var ec=0;ec<dw.length;ec++){dw[ec].setAttribute("style","fill: "+ed.button_color+";")}}}}function dX(){var ec=bS.getObject(e);return typeof ec.position==="string"&&ec.position!==""?ec.position:"bottomRight"}function dU(){if(dq(dF)){var ec=dX();dF.setAttribute("style","top: "+d5[ec].top+";right:"+d5[ec].right+";bottom:"+d5[ec].bottom+";left:"+d5[ec].left+";")}}function dJ(){if(dq(dV)){var ec=dX();var ed=ec==="topLeft"||ec==="bottomLeft"?"margin-right":"margin-left";dV.setAttribute("style",ed+": auto")}}function dZ(){if(dq(dM)){var ec=dX();dM.setAttribute("style","top: "+dz[ec].top+";right:"+dz[ec].right+";bottom:"+dz[ec].bottom+";left:"+dz[ec].left+";")}}function dB(){if(dq(d7)){var ec=dX();d7.setAttribute("style","top: "+dL[ec].top+";right:"+dL[ec].right+";bottom:"+dL[ec].bottom+";left:"+dL[ec].left+";border-top-color:"+dL[ec]["border-top-color"]+";border-right-color:"+dL[ec]["border-right-color"]+";border-bottom-color:"+dL[ec]["border-bottom-color"]+";border-left-color:"+dL[ec]["border-left-color"]+";")
}}function d3(){dU();dJ();dZ();dB()}function dE(){var ed=bZ.decode(bS.get(cA));if(ed){d0("appending multiwidget pulsator");var ec=A.createElement("div");ec.innerHTML=ed;dF=ec.childNodes.item(0);A.body.appendChild(dF);dP();dN();ds();d3();eb()}}function d2(){X(bV,"message",function ec(ee){var ed=typeof ee.data==="string"?ee.data:ee.data.message;if(ed===dQ){dK=true;dY(dC)}})}function d4(){d2();d0("activated");dE()}db=dT;b9(d4)},onlineChat:function(){var ej="iframe-module-created",dz="iframe_chat_successfully_loaded",dt="iframe-online-chat-opened",dx="iframe-online-chat-invite-message",el="roistat-online-chat-init",eG="roistat-online-chat-reload",et="roistat-online-chat-update-custom-params",dN="roistat-online-chat-lead_successfully_sent",ep="roistat-online-chat-translate-form",dP="roistat-online-chat-set-iframe-height",dW="roistat-online-chat-send-lead",ew="roistat_chat_id",eF="roistat_chat_session",ek="roistat_chat_custom_position",dH,dA,ex,dB,eu,ed,dQ,ec;var d8="roistat-online-chat-popup-iframe",dT="roistat-online-chat-hidden",ey="roistat-online-chat-holder",es="roistat-online-chat-popup-wrapper",eb="roistat-online-chat-popup-wrapper-hidden",dR="roistat-online-chat-popup-mouse-track",d7="roistat-online-chat-popup-mouse-track-active",dV="roistat-online-chat-pulsator-fill",ev="roistat-online-chat-pulsator-img",d1="roistat-online-chat-pulsator-phone",dL="roistat-online-chat-pulsator-fill-svg",dG=".roistat-multiwidget-pulsator-items-popup",dD=".roistat-online-chat-pulsator-phone",d4=".roistat-online-chat-popup-wrapper";var dS=false,dU=false,ef=0,dv=0;var d9=df()?".roistat-multiwidget-pulsator-holder":".roistat-online-chat-holder";var eB;var ea={topLeft:{top:"130px",right:"unset",bottom:"unset",left:"65px"},topRight:{top:"130px",right:"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:"65px",bottom:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:"130px",left:"65px"}};var ez={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var ei=function(eI){s("onlineChat: "+eI)};var dM=function(){function eI(){return Math.random().toString(36).substr(2,8)}return eI()+eI()+eI()+eI()};var dC=function(){var eI=bS.get(eF);if(!eI){eI=dM();bS.set(eF,eI)}return eI};var du=function(){var eI={message:ej,detail:{version:N,language:p,projectKey:aO(),visitId:cb(),chatId:i(ew),moduleTargetOrigin:bV.location.origin,referrer:bV.location.href,params:dk,sessionUniqueKey:dC()}};eu.contentWindow.postMessage(eI,eu.src)};var dI=function(){var eI={message:dt,detail:{isOpened:eA()}};eu.contentWindow.postMessage(eI,eu.src)};var dK=function(){var eI={message:et,detail:{params:dk}};eu.contentWindow.postMessage(eI,eu.src)};var dr=function(){var eI={language:p,message:ep};eu.contentWindow.postMessage(eI,eu.src)};var eq=function(){X(bV,"message",function eI(eL){var eK=typeof eL.data==="string"?eL.data:eL.data.message;var eJ=typeof eL.data!=="string"?eL.data.detail:{};ei("event: "+eK+" "+JSON.stringify(eJ));switch(eK){case dz:er();break;case ej:du();break;case el:ei("saving chat id = "+eJ.chatId);cP(ew,eJ.chatId,{path:"/"});break;case dx:ei("rendering invite message");em(eJ.message);break;case dP:ei("setting iframe height: "+eJ.height);dF(eJ.height);break;case dW:ei("sending lead");dJ(eJ.leadData)}})};var dX=function(){var eJ=bV.roistat.onlineChat.notificationsCustomHolderSelector;var eI=eJ!==null;return A.querySelector(eI?eJ:d9)};var dF=function(eI){var eJ=A.getElementById(d8);eJ.style.height=eI+"px"};var dJ=function(eI){bV.roistatGoal.reach(eI,function(){eu.contentWindow.postMessage(dN,eu.src)})};var em=function(eP){if(eA()){return}var eK="<div class='roistat-online-chat-message'><img src='"+eP.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+eP.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+eP.text+"</div></div><div class='roistat-online-chat-message-close'></div></div>";var eO=A.createElement("div");eO.innerHTML=eK;var eN=dX();if(dq(eN)){var eQ=ee()?"beforeend":"afterbegin";eN.insertAdjacentHTML(eQ,eK);var eM=eN.getElementsByClassName("roistat-online-chat-message-close");var eI=eN.getElementsByClassName("roistat-online-chat-message");var eL=eM[ee()?eM.length-1:0];var eJ=eI[ee()?eM.length-1:0]}setTimeout(function(){eJ.remove()},15000);dp(eJ,"click",function(eR){eR.stopPropagation();if(!eA()){eo()}eC()});dp(eL,"click",function(eR){eR.stopPropagation();eJ.remove()})};var eC=function(){var eJ=dX();if(dq(eJ)){var eI=eJ.getElementsByClassName("roistat-online-chat-message");while(eI.length>0){eI[0].remove()}}};var eE=function(){eu=A.getElementById(d8);if(dq(eu)){dp(eu,"load",function(){d6()})}dp(A,"click",function(eJ){var eI=bV.roistat.onlineChat.customTriggerSelector;
if(eA()&&(eJ.target.closest(dG)===null&&eJ.target.closest(d4)===null&&eJ.target.closest(dD)===null&&(eI?eJ.target.closest(eI)===null:true))){eo()}})};var ds=function(eK){var eJ=ex.getBoundingClientRect().x;var eI=ex.getBoundingClientRect().y;dU=true;dw();ef=eK.pageX-eJ;if(ee()){dv=eK.pageY+eI}else{dv=eK.pageY-eI}};var d0=function(){dU=false;en();dO()};var dw=function(){if(dq(dA)){dA.classList.add(d7)}};var en=function(){if(dq(dA)){dA.classList.remove(d7)}};var eg=function(eQ){if(dU&&dq(ex)){var eI=ex.getBoundingClientRect();var eP=eI.width;var eO=400;var eJ=50;var eT=0;var eL=bV.innerHeight-eO;var eR=eQ.pageX-ef;var eN=eJ;var eK=bV.innerWidth-eJ-eP;if(ee()){eT=bV.innerHeight-(eQ.pageY+eI.y)-20}else{eT=eQ.pageY-dv}var eS=eD();var eM=eS==="bottomLeft"||eS==="bottomRight"?"top":"bottom";if(eR>=eN&&eR<=eK){ex.style.left=eR+"px";if(!eH()){ex.style.right="unset"}}if(eT>=50&&eT<=eL){ex.style[eM]=eT+"px"}}};var dO=function(){var eI={position:eD(),top:ex.style.top,left:ex.style.left,bottom:ex.style.bottom,right:ex.style.right};bS.setObject(ek,eI)};var eD=function(){var eI=bS.getObject(e);var eJ=typeof eI.position==="string"&&eI.position!==""&&df();return eJ?eI.position:"bottomRight"};var ee=function(){var eI=eD();return eI==="topLeft"||eI==="topRight"};var eH=function(){var eI=eD();return eI==="topLeft"||eI==="bottomLeft"};var dy=function(){var eI=eD();var eL=bV.roistat.onlineChat.customPosition;var eJ=eL&&eL.top!==null?eL.top:ea[eI].top;var eM=eL&&eL.right!==null?eL.right:ea[eI].right;var eN=eL&&eL.bottom!==null?eL.bottom:ea[eI].bottom;var eK=eL&&eL.left!==null?eL.left:ea[eI].left;ex=U()?di(dH,ey):di(dH,es);if(dq(ex)){ex.classList.toggle(eb);ex.setAttribute("style","top: "+eJ+";right:"+eM+";bottom:"+eN+";left:"+eK+";")}};var dZ=function(){if(dq(dA)){var eI=eD();dA.setAttribute("style","top: "+ez[eI].top+";bottom:"+ez[eI].bottom+";height:"+ez[eI].height+";")}};var d3=function(){ei("iframe appending to page");var eI=bZ.decode(bS.get(x));dH=A.createElement("div");dH.innerHTML=eI;A.body.appendChild(dH);dA=di(A,dR);dy();eE()};var d5=function(){var eJ=bS.getObject(e);ei("start filling pulsator");if(eJ){if(dq(ed)){ed.setAttribute("style","background: "+eJ.button_color+";")}if(dq(dQ)){dQ.setAttribute("style","fill: "+eJ.icon_color+";")}if(Array.isArray(ec)){for(var eI=0;eI<ec.length;eI++){ec[eI].setAttribute("style","fill: "+eJ.button_color+";")}}}};var er=function(){var eJ=bZ.decode(bS.get(a9));var eK=(eJ&&!df()&&da())||bV.roistatOnlineChatOnly;if(eK){ei("pulsator appending to page");var eI=A.createElement("div");eI.innerHTML=eJ;eB=eI.childNodes.item(0);ed=di(eB,dV);dQ=di(eB,ev);dB=di(eB,d1);ec=A.getElementsByClassName(dL);A.body.appendChild(eB);dE();d5()}};var dE=function(){if(dq(eB)){dp(eB,"click",function(){eo()})}};var eA=function(){return dq(ex)&&!ex.classList.contains(eb)};var eo=function(){setTimeout(function(){dU=false},3000);if(dq(ex)){ex.classList.toggle(eb)}if(eA()){eC()}dI()};var d2=function(eI){p=eI;if(!dq(eu)){return}dr()};var d6=function(){dS=true;bV.roistatOnlineChatShow=eo;ei("chat window initialized")};function dY(eI){c3(eI);dK()}function eh(){d3();eq()}bV.setRoistatOnlineChatCustomParams=dY;bV.roistat.onlineChat.localization.translateToRussian=function(){d2(bA)};bV.roistat.onlineChat.localization.translateToEnglish=function(){d2(cT)};b9(eh)}};function dh(dr){s("Widgets: "+dr)}function c1(dr){return dr!==dn}function c3(dt){var ds=Object.keys(dt);for(var dr=0;dr<ds.length;dr++){dk[ds[dr]]=dt[ds[dr]]}}function df(){var du=Number(bS.get(bo)),dt=Number(bS.get(aU)),dv=Number(bS.get(ck)),dw=Number(bS.get(bF)),dx=Number(bS.get(I)),dy=Number(bS.get(ca)),ds=du&&!dv&&!dw&&!dx&&!dy,dr=dv&&!du&&!dw&&!dx&&!dy;return dt&&!dr&&!ds&&!bV.roistatOnlineChatOnly}function da(){if(!bc){s("OnlineChat: Project is not in pages filter focus group");return true}var dr=bS.getObject(w);if(!dr.is_available_for_current_user_agent){s("OnlineChat: Current device group is disabled");return false}if(!dr.pages_filter.is_enabled){s("OnlineChat: Pages filter is disabled");return true}return bq(dr.pages_filter.pages.join(","))}function db(){dh("Multiwidget disabled. Hide leadhunter pulsator from module")}function c5(dr,dt,ds){bS.set(bD,bZ.encode(dr));bS.set(be,bZ.encode(dt));bS.setObject(bC,ds)}function c9(ds,dr){bS.set(cA,bZ.encode(ds));bS.setObject(e,dr)}function c8(dt,dr,ds){bS.set(a9,bZ.encode(dt));bS.set(x,bZ.encode(dr));bS.set(ck,ds)}function dd(dr,dt,ds){c5(dr,dt,ds);bS.set(cA,bZ.encode(dn));bS.set(x,bZ.encode(dn));dg=false;dl.leadHunter()}function c4(dC,dy,dw){var dt=dC.form_template,dD=dC.pulsator_template,dv=dC.pulsator_settings;if(de()){dd(dt,dD,dv);return}dh("start initing widgets");var dz=dw.pulsator_template,du=dw.iframe_template,dB=dy.pulsator_template,dr=dy.pulsator_settings,dx=Number(bS.get(bo)),ds=Number(dw.settings.is_enabled),dA=bS.getObject(n)!==null;c5(dt,dD,dv);c9(dB,dr);c8(dz,du,ds);if(dA){bS.set(bD,bZ.encode(c6()))}dg=true;if(dx&&!bV.roistatOnlineChatOnly){dh("leadhunter enabled. Start processing");dl.leadHunter()}if(ds&&da()){dh("online chat enabled. Start processing");
dl.onlineChat()}if(df()){dh("multiwidget enabled. Start processing");dl.multiwidget()}}var c6=function(){var dr=aT()+"//"+t+"/api/site/1.0/"+aO()+"/leadhunter/script/"+bS.get(aF)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+dr+'" frameborder="0"></iframe></div>'};function dm(){var dt=bS.get(bD),dD=bS.get(be),dv=bS.getObject(bC),dy=bS.get(a9),du=bS.get(x),ds=bS.get(ck),dA=bS.get(cA),dr=bS.getObject(e);bV.roistatLeadhunterForm=dd;bV.roistatMultiwidget=c4;if(!dt||!dD||!dv||!dA||!dr||!dy){dh("requesting data from server");aG(aT()+"//"+t+"/api/site/"+Y+"/"+aO()+"/multiwidget?domain="+encodeURIComponent(A.domain))}else{var dC=bZ.decode(dA);var dz=bZ.decode(du);if((!c1(dC)||!c1(dz)||de())&&!bV.roistatOnlineChatOnly){dh("initing LeadHunter form");bV.roistatLeadhunterForm(bZ.decode(dt),bZ.decode(dD),dv)}else{dh("initing multiwidget form");var dw={pulsator_template:dC,pulsator_settings:dr},dx={form_template:bZ.decode(dt),pulsator_template:bZ.decode(dD),pulsator_settings:dv},dB={iframe_template:dz,pulsator_template:bZ.decode(dy),settings:{is_enabled:Number(ds),},};bV.roistatMultiwidget(dx,dw,dB)}}}function de(){var ds=aO()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||aO()==="4",dr=bV.location.host==="cloud.roistat.com"&&bV.location.pathname!=="/user/login"&&bV.location.pathname!=="/user/register";if((ds&&!dr)||(aO()==="489852fc24e99416c9e7336f08ba22dc"&&bV.location.host==="q92571df.beget.tech")){dh("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false}function dc(){dm();dh("Widgets: form initialized")}function dj(){dh("activated");dc()}b9(dj);bV.setRoistatOnlineChatCustomParams=c3;bV.roistatSaveLeadHunterTemplates=c5;bV.roistatSaveMultiwidgetTemplate=c9;bV.roistatSaveOnlineChatTemplate=c8})();(function r(){var de=function(){return i(cW)};var dc=function(){return bS.get(a2)};var c5=function(){return bS.get(bg)};var di=function(dk){return dk!=null&&dk!==bn&&dk!==""};var dh=function(){var dk=[];var dl=A.getElementsByClassName(af);if(dl&&dl.length){dk=dl}return dk};var c3=function(){var dk=[];var dl=A.getElementsByClassName(z);if(dl&&dl.length){dk=dl}return dk};var c2=function(){var dk=[];var dl=A.getElementsByClassName(aa);if(dl&&dl.length){dk=dl}return dk};var c7=function(){var dk=[];var dl=A.getElementsByClassName(C);if(dl&&dl.length){dk=dl}return dk};var da=function(){var dk=[];var dl=A.getElementsByClassName(cO);if(dl&&dl.length){dk=dl}return dk};var c1=function(dy,dl){s("CallTracking: RenderPhone phone = "+dy);var dr=function(dA){return dA.split(/[^0-9]/).join("")};var ds=function(dD,dF){var dI=null;if(!dD){return dI}var dA=dF.split(",");if(dA.length<2){dI=dF}else{var dB=dD.getAttribute("data-prefix");if(dB){for(var dE=0;dE<dA.length;dE++){var dG=dA[dE];var dH=dr(dG);if(dH.indexOf("8")===0){dH="7"+dH.substring(1)}var dC=dH.split(dB)[0]==="";if(dC){dI=dG;break}}}if(dI===null){dI=dA[0]}s("CallTracking._getPhoneForElement: Prepared phone = "+dI+" for data-prefix = "+dB)}return dI};var dp=function(dE,dC){var dA=ds(dE,dC);if(!dA||!dE){return}if(dE.tagName.toLowerCase()!=="a"){return}var dD=dE.getAttribute("href");if(cD(dD,"tel:")){var dB=dr(dA);if(dB.indexOf("8")===0){dB="7"+dB.substring(1)}dE.setAttribute("href","tel:+"+dB);dq(dE,dA)}};var dq=function(dB,dA){if(!dB.hasAttribute("title")){return}dB.setAttribute("title",dA)};var du=function(dC,dB){var dA=ds(dC,dB);if(!dA||!dC){return}dC.innerHTML=dA};var dz=function(dA){var dB=dh();s("CallTracking: render phone default classes for "+dB.length+" elements");q(dB,function(dC){du(dC,dA);dp(dC,dA)});q(c3(),function(dD){var dC=dr(ds(dD,dA)).slice(0,1);du(dD,dC)});q(c2(),function(dD){var dE=ds(dD,dA).match(/\((.*)\)/);if(dE!==null){var dC=dE[1];du(dD,dC)}});q(c7(),function(dE){var dC=ds(dE,dA).match(/\)(.*)/);if(dC!==null){var dF=dr(dC[1]);var dD=dF.slice(-1*dF.length,-4)+"-"+dF.slice(-4,-2)+"-"+dF.slice(-2);du(dE,dD)}});q(da(),function(dC){dp(dC,dA)})};var dx=function(dA,dF){if(!dF){return}s("CallTracking: render phone user replacement for "+dF.length+" replacements");for(var dE=0;dE<dF.length;dE++){var dH=dF[dE];if(!dH){continue}var dC=dH[0];dH=dH.substr(1);var dG=[];if(dC==="#"){var dD=A.getElementById(dH);if(dD!==null){dG.push(dD)}}else{dG=A.getElementsByClassName(dH);dn(dH,dA)}if(!dG||dG.length<1){continue}s("CallTracking: render phone for "+dH+", "+dG.length+" elements");for(var dB=0;dB<dG.length;dB++){du(dG[dB],dA);dp(dG[dB],dA)}}};var dt=function(dA){for(var dB=0;dB<dA.length;dB++){dx(dA[dB].phone,dA[dB].css_selectors);dw(dA[dB].phone,dA[dB].replaceable_numbers)}};var dw=function(dC,dB){if(!dB||dB.length===0){return}var dA=function(){var dN=dG();var dM=A.getElementsByTagName("*");var dH=dM.length;for(var dL=0;dL<dH;dL++){var dO=dM[dL];dD(dO,dN,ds(dO,dC));var dK=dO.childNodes.length;for(var dI=0;dI<dK;dI++){var dJ=dO.childNodes[dI];dF(dJ,dN,ds(dJ,dC))}}};var dD=function(dL,dK,dH){if(!dE(dL)){return}var dM=dL.getAttribute("href").replace("tel:","");
var dJ=dK.length;for(var dI=0;dI<dJ;dI++){if(dK[dI].test(dM)){dp(dL,ds(dL,dH))}}};var dE=function(dI){if(dI.tagName.toLowerCase()!=="a"){return false}var dH=dI.getAttribute("href");return aK(dH)&&dH.indexOf("tel:")===0};var dG=function(){var dJ=[];for(var dH=0;dH<dB.length;dH++){var dI="[\\s()[\\]{}\\-+.]*";var dK=dB[dH].split("").join(dI);dJ.push(new RegExp("[+(]?"+dK,"g"))}return dJ};var dF=function(dK,dJ,dH){if(dK.nodeType!==Node.TEXT_NODE){return}for(var dI=0;dI<dJ.length;dI++){if(dK.textContent&&dJ[dI].test(dK.textContent)){dK.textContent=dK.textContent.replace(dJ[dI],dH)}else{if(dK.innerText&&dJ[dI].test(dK.innerText)){dK.innerText=dK.innerText.replace(dJ[dI],dH)}}}};dA()};var dn=function(dB,dA){q(dm(dB+"-"+bu),function(dD){var dC=dr(ds(dD,dA)).slice(0,1);du(dD,dC)});q(dm(dB+"-"+aA),function(dD){var dE=ds(dD,dA).match(/\((.*)\)/);if(dE!==null){var dC=dE[1];du(dD,dC)}});q(dm(dB+"-"+a1),function(dE){var dC=ds(dE,dA).match(/\)(.*)/);if(dC!==null){var dF=dr(dC[1]);var dD=dF.slice(-1*dF.length,-4)+"-"+dF.slice(-4,-2)+"-"+dF.slice(-2);du(dE,dD)}});q(dm(dB+"-"+bI),function(dC){dp(dC,dA)})};var dm=function(dB){var dA=[];var dC=A.getElementsByClassName(dB);if(dC&&dC.length){dA=dC}return dA};var dv=function dv(){var dB=c5();if(dB){dB=dB.split("\n");for(var dA=0;dA<dB.length;dA++){dB[dA]="."+dB[dA]}}if(dl instanceof Array){dt(dl)}else{dz(dy);dx(dy,dB)}};(function dk(){dv();var dA=[300,5000,15000];dA.forEach(function(dB){setTimeout(dv,dB)})})()};var c4=function(dk){bS.save(l,dk,cr)};var dd=function(){if(bV.roistat.callTracking.phone){var dk={expires:parseInt(bV.roistat.callTracking.sessionTime),path:"/"};if(cr.domain){dk.domain=cr.domain}cP(cW,bV.roistat.callTracking.phone,dk);c4(1);bS.save(bg,bV.roistat.callTracking.replacementClasses,cr);bS.save(a2,bV.roistat.callTracking.phoneScriptsJson,cr)}};var db=function(dk,dp,dm,dl){s("CallTracking: reuse phone "+dk+" for time "+dp+" and replacements "+dm);if(!di(dk)){s("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cH();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=dk;roistat.callTracking.sessionTime=dp;roistat.callTracking.replacementClasses=dm;roistat.callTracking.phoneScriptsJson=dl;cH();dd();var dq={expires:parseInt(dp),path:"/"};if(cr.domain){dq.domain=cr.domain}cP(cW,dk,dq);bS.save(a2,dl,cr);bS.save(bg,dm,cr);var dn=cL(dl);if(dn==null){c1(dk)}else{c1(dk,dn)}};var c6=function(){s("CallTracking: request new phone");var dk=i(bN);var dp=ac();var dn=dp?dp:bh;var dm=encodeURIComponent(b7);var dl=G()+"/get-phone?visit="+dk+"&marker="+(dn?dn:"")+"&prefix="+cg+"&prefix_bind="+cX+"&phone_scripts_bind="+J+"&page="+dm;aG(dl)};var c8=function(){cg=bV.roistatPhonePrefix?bV.roistatPhonePrefix:"";cX=bV.roistatPhonePrefixBind?bV.roistatPhonePrefixBind:"";J=bV.roistatCalltrackingScripts&&bV.roistatCalltrackingScripts.join?bV.roistatCalltrackingScripts.join(","):"";s("CallTracking: refresh phone with prefix: "+cg+", binding: "+cX+", scripts: "+J);c6()};var dj=function(){var dk=bS.get(l)>0;var dl=bE.callTrackingEnabled;return dk&&dl};var c9=function(dk){c4(dk.is_enabled)};var dg=function dg(){var dk=de();if(!di(dk)){s("CallTracking: invalid phone "+dk+", requesting a new one");c6()}else{s("CallTracking: render phone "+dk);var dl=cL(dc());if(dl==null){c1(dk)}else{c1(dk,dl)}}};var df=function(){s("CallTracking: init");if(bV.roistatOnlineChatOnly){s("CallTracking: Shut down because only online chat need to be inited");return}dd();if(!dj()){s("CallTracking: disabled, skip");return}if(bE.callTrackingManual){s("CallTracking: init finish because off manual");return}dg();al(dg)};bV.roistatCallTrackingRefresh=c8;bV.roistatRequestNewPhone=c6;bV.roistatReusePhone=db;bV.roistatCalltrackingUpdateSettings=c9;b9(df)})();(function y(){var c3=function(c9){s("Emailtracking: "+c9)};var c7=function(c9,db,da){bS.save(bf,c9,cr);bS.save(b,db,cr);bS.save(br,JSON.stringify(da),cr)};var c2=function(){var c9=(bV.roistat.emailtracking.email&&bV.roistat.emailtracking.trackingEmail)||aB(bV.roistat.emailtracking.emails);if(bV.roistat.emailtracking.loaded&&c9){c3("save loaded email: "+bV.roistat.emailtracking.email);c7(bV.roistat.emailtracking.email,bV.roistat.emailtracking.trackingEmail,bV.roistat.emailtracking.emails)}else{c3("settings save skip, because not loaded");bV.roistat.emailtracking.email=bS.get(bf);bV.roistat.emailtracking.email=bV.roistat.emailtracking.email?bV.roistat.emailtracking.email:null;bV.roistat.emailtracking.email=bV.roistat.emailtracking.email==="null"?null:bV.roistat.emailtracking.email;c3("email loaded from storage: "+bV.roistat.emailtracking.email);bV.roistat.emailtracking.trackingEmail=bS.get(b);bV.roistat.emailtracking.trackingEmail=bV.roistat.emailtracking.trackingEmail?bV.roistat.emailtracking.trackingEmail:null;bV.roistat.emailtracking.trackingEmail=bV.roistat.emailtracking.trackingEmail==="null"?null:bV.roistat.emailtracking.trackingEmail;c3("tracking email loaded from storage: "+bV.roistat.emailtracking.trackingEmail);bV.roistat.emailtracking.emails=cL(bS.get(br));
bV.roistat.emailtracking.emails=bV.roistat.emailtracking.emails?bV.roistat.emailtracking.emails:null;c3("emails loaded from storage: "+JSON.stringify(bV.roistat.emailtracking.emails))}};var c5=function(c9){c7(c9.email,c9.trackingEmail,c9.emails)};var c4=function(){var c9=(!!bV.roistat.emailtracking.email&&!!bV.roistat.emailtracking.trackingEmail)||aB(bV.roistat.emailtracking.emails);return bV.roistat.emailtracking.enabled&&c9};var c1=function(){if(!c4()){c3("emailtracking disabled, skip swapping");return}var da=function(df,dg,de){if(df.href){var dd=aq(df.href);if(dg.test(dd)){df.href=dd.replace(dg,de);return true}}if(df.nodeType!==3){return false}if(df.textContent&&dg.test(df.textContent)){df.textContent=df.textContent.replace(dg,de);return true}else{if(df.innerText&&dg.test(df.innerText)){df.innerText=df.innerText.replace(dg,de);return true}}return false};var c9=function(dd){return dd.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var db=function(df,de){var dd=!de.match(/[a-z]/);return dd?df.toUpperCase():df};var dc=function(dl,dn){var dp=c9(dl);var df=new RegExp("(^|\\s)(mailto:)?("+dp+")($|\\s|\\?)","gi");var dq=function(dv,dt,dr,ds,du){dr=dr||"";return dt+dr+db(dn,ds)+du};c3("starting to replace email "+dl+" to "+dn+" with regexp "+df);var de=A.getElementsByTagName("*");var dh=de.length;c3("found "+dh+" nodes on page");var dk=0;for(var dj=0;dj<dh;dj++){var dg=de[dj];var dm=dg.childNodes.length;if(dm>0){for(var di=0;di<dm;di++){var dd=dg.childNodes[di];if(da(dd,df,dq)){dk++}}}if(da(dg,df,dq)){dk++}}c3("successfully replaced "+dk+" nodes")};if(bV.roistat.emailtracking.emails){a5(bV.roistat.emailtracking.emails,dc)}else{dc(bV.roistat.emailtracking.email,bV.roistat.emailtracking.trackingEmail)}};var c6=function(){c3("process email swap");c1();setTimeout(function(){c1()},300);setTimeout(function(){c1()},5000);setTimeout(function(){c1()},15000)};var c8=function(){c3("init");if(bV.roistatOnlineChatOnly){c3("Shut down because only online chat need to be inited");return}al(c6);c2();c6()};bV.roistatEmailtrackingUpdateSettings=c5;bV.roistat.emailtracking.refresh=c1;b9(c8)})();(function a7(){var c4=function(c6){s("MultiDomain: "+c6)};var c3=function(){return bS.get(ct)>0};var c2=function(da){var db=function(dd){if(!dd){return false}if(cD(dd,"roistat_visit")){return false}var dc=aS(dd);var df=aS(A.domain);var de=new RegExp(/^((https?:)?\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return dc!==df&&de.test(dd)};var c9=function(df){var dg=df.split("#");var de=dg[0].split("?");var dc="";var dd="";if(de.length===2){dc=de[1]}if(dc){dd="&"}dc=dc+dd+"roistat_visit="+roistat.getVisit();de[1]=dc;dg[0]=de.join("?");return dg.join("#")};if(da.tagName.toLowerCase()!=="a"){return}var c8=da.getAttribute("href");var c7=false;if(db(c8)){var c6=c9(c8);c4("update url "+c8+" > "+c6);da.setAttribute("href",c6);c7=true}return c7};var c1=function(){if(!c3()){c4("disabled, skip");return}var c6=A.getElementsByTagName("a");var c7=c6.length;c4("found "+c7+" <a> nodes on page");var da=0;for(var c8=0;c8<c7;c8++){var c9=c6[c8];if(c2(c9)){da++}}c4("replaced "+da+" nodes")};var c5=function(){c4("init");if(bV.roistatOnlineChatOnly){c4("Shut down because only online chat need to be inited");return}c1();setTimeout(function(){c1()},300);setTimeout(function(){c1()},5000);setTimeout(function(){c1()},15000)};b9(c5)})();(function cC(){var c1=60*1000;var c8=2*60*1000;var c2=function(da){s("SettingsUpdater: "+da)};var c6=function(){bS.set(R,bX())};var c7=function(){var db=cI();var da=!(db>0);c2("is first update check: lastUpdateTime="+db+", result="+(da?1:0));return da};var c9=function(){var dc=bX()-c8;var db=cI();var da=db<=dc;c2("expiration check: _minTime="+dc+", lastUpdateTime="+db+", result="+(da?1:0));return da};var c3=function(db){var da=i(bN);a(da,db)};var c4=function(db){c2("update settings and save last update time");var da=bS.getObject(n)!==null;if(da){bS.set(n,db.js_settings.leadHunterTargetPagesMap)}bV.roistatCalltrackingUpdateSettings(db.calltracking);bV.roistatEmailtrackingUpdateSettings(db.emailtracking);bV.roistatSaveLeadHunterTemplates(db.leadhunter_templates.form_template,db.leadhunter_templates.pulsator_template,db.leadhunter_templates.pulsator_settings);bV.roistatSaveMultiwidgetTemplate(db.multiwidget_templates.pulsator_template,db.multiwidget.pulsator_settings);bV.roistatSaveOnlineChatTemplate(db.online_chat_templates.pulsator_template,db.online_chat_templates.iframe_template);bV.roistatSaveProxyFormSettings(db.proxy_forms);aV(db.js_settings);cs(db.multiwidget.multiwidget_settings);bW(db.online_chat);bP.isSettingsUpdating=false;c6()};var c5=function(){c2("init");if(c7()){c2("in first update we just start first timer and skip");c6();return}if(!c9()){c2("update is not not expired, skip");return}c2("start to update settings");c3()};b9(function(){bV.roistatUpdateSettings=c4;setTimeout(function(){c5()},3000);c2("set interval to update settings");setInterval(function(){c5()},c1)})})();(function by(c5,c1,c7){var c4={};var c2=function(c9){var c8=encodeURIComponent?encodeURIComponent:encodeURI;
return c8(c9)};var c3=function(df,c9){s("Reach goal start");if(!df){df={}}var dc={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cb(),is_skip_sending:0,items:"",placeholders_data:""};for(var db in dc){if(!Object.prototype.hasOwnProperty.call(dc,db)){continue}if(!Object.prototype.hasOwnProperty.call(df,db)){continue}if(!df[db]){continue}if(db==="fields"||db==="client_fields"||db==="items"||db==="placeholders_data"){df[db]=JSON.stringify(df[db])}dc[db]=c2(df[db])}var de=aO();var dd=aT()+"//"+t+"/api/site/"+Y+"/"+de+"/reach-goal?v=2";for(var da in dc){if(!Object.prototype.hasOwnProperty.call(dc,da)){continue}dd=dd+"&"+da+"="+dc[da]}if(c9!==c7){var c8=Math.random().toString();c4[c8]=c9;dd+="&callback_key="+c8}aG(dd);s("Reach goal completed")};var c6=c5.roistatGoal={reach:function(c9,c8){c3(c9,c8)},callAfterReachCallback:function(c8){if(Object.prototype.hasOwnProperty.call(c4,c8)){c4[c8]();delete c4[c8]}}}})(bV,A,bn);(function cR(c3,c1,c4){var c2=function(c9){if(c9 instanceof Array||c9===null||typeof c9!=="object"){s("Invalid event data");return""}var c6=[];for(var c8 in c9){if(Object.prototype.hasOwnProperty.call(c9,c8)){var c7=c9[c8];if(typeof c7==="string"||typeof c7==="number"){c6.push("data["+encodeURIComponent(c8)+"]="+encodeURIComponent(c7))}else{s("Event data property ignored: "+c8)}}}return c6.length>0?"&"+c6.join("&"):""};var c5=function(c8,c9){s("Send event start");var c6=m();var c7=G()+"/event/register?visit="+c6+"&event="+c8+c2(c9);aG(c7);s("Send event completed")};c3.roistat.event={send:function(c6,c7){c5(c6,c7)}}})(bV,A,bn);(function bT(db,dd,c4){if(db.roistatOnlineChatOnly){s("VisitApprove: Shut down because only online chat need to be inited");return}var de=db.roistatIsInitVisit===true?20000:10000;var c3=(new Date()).getTime();var c2=function(di){return"approve_visit_"+di};var da=function(di){bK.set(c2(di),1)};var df=function(di){return bK.get(c2(di))>0};var c1,c6,dh=[];if(dd.addEventListener){c1=function(dj,di,dk){return dj.addEventListener(di,dk,false)};c6=function(dj,di,dk){return dj.removeEventListener(di,dk,false)}}else{c1=function(dj,di,dk){return dj.attachEvent("on"+di,dk)};c6=function(dj,di,dk){return dj.detachEvent("on"+di,dk)}}var c9=function(dl){if(dh.length>30){return}dl=dl||db.event;if(!dl||!dl.screenX){return}var dk=(new Date()).getTime();var dn,dm=null;if(dh.length>0){dm=dh[dh.length-1]}if(dm){dn=dk-dm.time}else{dn=dk-c3}if(dn<300){return}dn=dn-300;var dq=0;var di=dl.screenX;var dp=dl.screenY;if(dm){dq=parseInt(Math.sqrt(Math.pow(dm.y-dp,2)+Math.pow(dm.x-di,2)))}var dj={time:dk,pauseBeforeMove:dn,x:di,y:dp,distance:dq};dh.push(dj)};var c8=function(){var di=[];q(dh,function(dj){var dk=[dj.pauseBeforeMove,dj.distance];di.push(dk.join(":"))});if(di.length===0){di.push("0:0")}return di.join("|")};var c5=function(){for(var di in db){if(cD(di,"yaCounter")){return true}}return false};var dc=function(){c6(dd,"mousemove",c9);var di=m();s("VisitApprove: start for visit "+di);if(df(di)){s("VisitApprove: visit already approved, skip");return}da(di);ao();var dj=G()+"/approve?v="+N+"&visit="+di;if(dg()){dj+="&hash="+ah()}if(c7()){dj+="&page_params="+encodeURIComponent(JSON.stringify(db.roistat.page.params));f()}dj+="&mv="+c8();dj+="&pl="+(db.navigator?db.navigator.platform:"");dj+="&ym="+(c5()?"1":"0");aG(dj)};var dg=function(){var dm=bP.cookies,dl=k();var dp=aY();for(var dj=0;dj<dp.length;dj++){var dn=dp[dj];var dq=Object.prototype.hasOwnProperty.call(dm,dn)?dm[dn]:c4;var di=Object.prototype.hasOwnProperty.call(dl,dn)?dl[dn]:c4;var dk=typeof di==="string"&&di.length>0;if(dk&&dq!==di){return true}}return false};var c7=function(){var dn=bP.pageParams,dk=db.roistat.page.params;for(var dj=0;dj<ch.length;dj++){var di=ch[dj];var dl=Object.prototype.hasOwnProperty.call(dn,di)?dn[di]:null;var dm=Object.prototype.hasOwnProperty.call(dk,di)?dk[di]:null;if(dm!==dl){return true}}return false};setTimeout(function(){dc()},de);c1(dd,"mousemove",c9)})(bV,A,bn);(function am(c6,c7,c2){var c4=function(){return Q("roistat_ab_demo")==="1"};var c8=function(db){return new RegExp(db.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var c5=function(dg){var db=c6.location.href,de=dg.filter,dk=dg.filterValue;var dh;switch(de){case"except":case"pages":var dc,dj,di=false;dj=db?ay(db):"";dh=dk?dk.split("\n"):[];if(dj&&dh.length!==0){for(var dd=0;dd<dh.length;dd++){var df=dh[dd].trim();if(df.length===0){continue}dc=c8(df);if(dc.test(dj)){di=true;break}}}return(de==="pages")?di:!di;break;case"all":default:return true}};var c1=function(dd){var db=c7.getElementsByTagName("head")[0],dc;dc=c7.createElement("style");dc.setAttribute("type","text/css");if(dc.styleSheet){dc.styleSheet.cssText=dd.value}else{dc.innerText=dd.value}db.appendChild(dc)};var c3=function(db){if(c5(db)){switch(db.type){case"css":c1(db);break}}};c6.applyTests=function(){var db=bS.getObject("abTesting");var dd,dc;for(dd in db){if(!Object.prototype.hasOwnProperty.call(db,dd)){continue
}dc=db[dd];c3(dc)}};var c9=function(){s("Call: apply demo AB test");var db=Q("roistat_ab_data");var dc;if(db===null){return}else{dc=JSON.parse(bZ.decode(db))}if(typeof dc!=="object"){s("Error: testValue is not an object.");return}c3(dc)};function da(){if(c6.roistatOnlineChatOnly){s("ABTest: Shut down because only online chat need to be inited");return}var db=c4();if(!cy&&!db){applyTests()}if(db){c9()}}da()})(bV,A,bn);(function aW(c2,c1,c3){if(c2.roistatOnlineChatOnly){s("visitStreamNew: Shut down because only online chat need to be inited");return}if(!cB){return}setTimeout(function(){(function(da,c9,dd,dc,c7,c5,c8){da[c7]={COUNTER_ID:c5,HOST:c8};var c6=c9.location.protocol=="https:"?"https://":"http://";var c4=c9.createElement(dd);c4.async=1;c4.src=c6+c8+dc;var db=c9.getElementsByTagName(dd)[0];db.parentNode.insertBefore(c4,db)})(c2,c1,"script","/counter.js","datamap",aO(),cB)},1000)})(bV,A,bn);(function bR(c3,c1,c4){var c5=function(){var c6=c3.roistatMetrikaCounterId;if(c6){bS.set(aI,c6)}};var c2=function(db){var c6="yaCounter"+db;var da=100,c8=0,c9=60000;var c7=function(){c8+=da;s("YandexMetrika: trying to access counter "+db);if(c3[c6]===c4){if(c8<c9){setTimeout(c7,da);da*=2}return}var dc={};dc[co]=m();c3[c6].params(dc);s("YandexMetrika: visit id "+dc[co]+" sent to counter "+db)};setTimeout(c7,da)};b9(function(){c5();var c8=bS.get(aI);if(!c8){s("YandexMetrika: counter id not found");return}var c7=String(c8).split(",");s("YandexMetrika: counters: "+c7);for(var c6=0;c6<c7.length;c6++){if(c7[c6].trim()===""){continue}c2(c7[c6])}})})(bV,A,bn);(function ai(db,df){var dj=function(dm){s("Proxy Forms: "+dm)};var c8=function(){if(db.roistat.proxyForms.loaded&&db.roistat.proxyForms.settings.length>0){dj("save loaded settings");dg(db.roistat.proxyForms.settings)}else{dj("settings not loaded, getting from storage");db.roistat.proxyForms.settings=bS.getObject(cQ)||[]}};var dg=function(dm){bS.setObject(cQ,dm)};var dc=function(){dj("init form listener");c4(db.roistat.proxyForms.settings);c1(db.roistat.proxyForms.settings)};var dl=function(dm){return dm.hasOwnProperty("hosts")&&dm.hasOwnProperty("is_excluding_hosts")&&bd(dm.hosts)&&dm.hosts.length>0};var c6=function(dn){if(!dl(dn)){return true}var dp=cJ(dn.hosts,aS(db.location.host));var dm=Boolean(dn.is_excluding_hosts);return dm?!dp:dp};var c3=function(dn){var dm=[];q(dn,function(dp){if(c6(dp)){dm.push(dp)}});return dm};var c1=function(dm){var dp=[];q(dm,function(dq){if(dq.type==="js-button"){dp.push(dq)}});if(dp.length<1){dj("no button settings");return}var dn;if(df.addEventListener){dn=function(dq){c7(dp,dq,dq.target,c5)};df.addEventListener("click",dn,true)}else{if(df.attachEvent){dn=function(){var dq=db.event;c7(dp,dq,dq.srcElement,c5,true)};df.attachEvent("onclick",dn)}else{dj("Listener could not be attached")}}};var c4=function(dn){var dm=[];q(dn,function(dq){if(dq.type==="form"){dm.push(dq)}});if(dm.length<1){dj("no form settings");return}if(df.addEventListener){var dp=function(dq){c7(dm,dq,dq.target,dk)};df.addEventListener("submit",dp,true)}else{if(df.attachEvent){setInterval(function(){dm=c3(dm);var dq=df.getElementsByTagName("form");q(dq,function(dr){if(dr.getAttribute("data-roistat-proxy-form-checked")==="true"){return}dr.setAttribute("data-roistat-proxy-form-checked","true");q(dm,function(ds){if(c2(dr,ds.selector)){dr.attachEvent("onsubmit",function(){db.event.returnValue=false;dk(ds,db.event.srcElement)})}})})},2000)}else{dj("Listener could not be attached")}}};var c7=function(dq,dr,ds,dp,dm){var dt=c3(dq);var dn=null;q(dt,function(du){if(c2(ds,du.selector)){dn=du}});if(dn===null){dj("No matched settings found for listener");return}dp(dr,dn,ds,dm)};var dk=function(dr,dp,dq,dn){var dm=de(dq,dp);if(!dh(dm,dp)){return}dn?dr.returnValue=false:dr.preventDefault();c9(dm,dp,function(){HTMLFormElement.prototype.submit.call(dq)})};var c5=function(dp,dn){var dm=de(null,dn);if(!dh(dm,dn)){return}c9(dm,dn)};var c9=function(dm,dq,ds){var dr={};var dp=da(dq.crm)&&dq.crm.hasOwnProperty("is_enabled");var dn=dp?dq.crm.is_enabled:true;dr.leadName=dq.hasOwnProperty("lead_name")?dq.lead_name:"    "+dq.title;dr.formTitle=dq.title;dr.name=dm.name;dr.phone=dm.phone;dr.email=dm.email;dr.text=dm.comment;dr.fields=dm.fields;dr.placeholders_data=dm.placeholdersData;dr.is_need_callback=dq.is_need_callback>0?1:0;dr.is_skip_sending=!dn;db.roistatGoal.reach(dr,ds)};var da=function(dm){return(typeof dm==="number"&&!isNaN(dm))||(typeof dm==="string"&&dm!=="")||(typeof dm==="object"&&dm!==null)||(typeof dm==="boolean"&&dm)||bd(dm)};var dh=function(dm,dp){var dn=[],dr=["name","email","phone","comment"];q(dr,function(ds){if(dp.hasOwnProperty(ds)&&dp[ds].required>0){dn.push(ds)}});if(bd(dp.fields)){q(dp.fields,function(ds){if(ds.required>0){dn.push(ds)}})}var dq=true;q(dn,function(ds){if(!dm.hasOwnProperty(ds)||!da(dm[ds])){dq=false}});return dq};var de=function(dp,dn){var dm={};dm.name=dn.name?dd(dp,dn.name.value,dn.name.type):"";dm.phone=dn.phone?dd(dp,dn.phone.value,dn.phone.type):"";
dm.email=dn.email?dd(dp,dn.email.value,dn.email.type):"";dm.comment=dn.comment?dd(dp,dn.comment.value,dn.comment.type):"";dm.fields={};dm.placeholdersData={orderPage:b7};if(bd(dn.fields)){q(dn.fields,function(dq){dm.fields[dq.name]=dd(dp,dq.value,dq.type)})}return dm};var dd=function(dn,dr,dm){switch(dm){case"plain":return dr||"";case"input":var dq=dn.querySelector('input[name="'+dr+'"]');return dq?dq.value:"";case"js":try{return(new Function(dr))()}catch(dp){return""}}};var di=function(){dj("init");if(db.roistatOnlineChatOnly){dj("Shut down because only online chat need to be inited");return}if(!db.roistat.proxyForms.enabled){dj("disabled");return}c8();dc()};var c2=function(dq,dn){if(typeof Element!=="undefined"&&Element.prototype.matches){var dm=dq.matches(dn);if(!dm){return dq.closest(dn)?dq.closest(dn).matches(dn):false}return dm}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var dr=dq.matchesSelector(dn);if(!dr){return dq.closest(dn)?dq.closest(dn).matches(dn):false}return dr}else{if(df.querySelectorAll){var ds=df.querySelectorAll(dn);for(var dp=0;dp<ds.length;dp++){if(ds[dp]===dq){return true}}return false}}}return false};b9(di);db.roistatSaveProxyFormSettings=dg})(bV,A);(function F(){if(bV.onRoistatAllModulesLoaded!==bn&&typeof bV.onRoistatAllModulesLoaded==="function"){s("onRoistatAllModulesLoaded: call");bV.onRoistatAllModulesLoaded()}})();(function aP(c8,db,c5){var c1=function(){return bS.get(ad)*1>0};var da=function(dh){s("Request listener: "+dh)};var dg=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var c9=/^[^\s]+[@][^\s]+$/g;var c4=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var c3=function c3(){da("listen");if(c8.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function dj(dm){var dl=this;dc(dl.responseURL,dm,function(){dl.oldSend(dm)})}XMLHttpRequest.prototype.send=dj}if(c8.ActiveXObject){var di=dk;function dk(dn){var dl=new di(dn);var dp={};if(dn.toLowerCase()==="msxml2.xmlhttp"){dp={_ax:dl,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var dm="";dp._onReadyStateChange=function(){var dq=dp;return function(){dq.readyState=dq._ax.readyState;if(dq.readyState===4){dq.responseText=dq._ax.responseText;dq.responseXml=dq._ax.responseXml;dq.status=dq._ax.status;dq.statusText=dq._ax.statusText}if(dq.onReadyStateChange){dq.onReadyStateChange()}}}();dp.open=function(du,ds,dt,dq,dr){dm=ds;dt=(dt!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(du,ds,dt,dq,dr)};dp.send=function(dq){var dr=this;dc(dm,dq,function(){this._ax.send(dq)})}}else{dp=dl}return dp}c8.ActiveXObject=dk}if(c8.fetch){var dh=fetch;fetch=function(dl,dm){dc(dl.url,dm||{});return dh(dl,dm||{})}}c8.addEventListener("submit",function(dp){var dr=dp.target.elements;var dq={};for(var dn=0;dn<dr.length;dn++){var dm=dr[dn];var dl=dm.getAttribute("name");dq[dl]=dm.value}dc("",dq)})};function c6(dh){var dk={};if(dh.length===0){return dk}var dj=dh.split("?");if(dj.length<2){return dk}var di=dj[1];dk=c2(di);return dk}function c2(di){var dj=di.split("&"),dl={};for(var dh=0;dh<dj.length;dh++){var dk=dj[dh].split("=");if(dk.length<2){continue}dl[dk[0]]=dk[1]}return dl}function de(dz){da("data: "+JSON.stringify(dz));var ds={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var dp={email:"",phone:"",name:""};for(var dh in ds){var dv=ds[dh];for(var du in dv){if(dv.hasOwnProperty(du)){if(dz.hasOwnProperty(dv[du])){dp[dh]=dz[dv[du]];break}}}}da("new data: "+JSON.stringify(dp));var dj=dp.phone.length===0;var dn=dp.email.length===0;if(!dj&&!dn){return dp}var di=new RegExp(c9);var dm=new RegExp(dg);var dq=Object.keys(dz);for(var dw=0;dw<dq.length;dw++){var dt=decodeURIComponent(String(dz[dq[dw]]));if(dn){var dk=dt.match(di);if(dk&&dk.length>0){var dr=dp.email;dp.email=dk[0];da("parsing email, before: "+dr+", after: "+dp.email)}}if(dj){var dy=dt.replace(/[\s-.()+*_:;'"`]/g,"");var dx=dy.match(dm);if(dx&&dx.length>0){var dl=dp.phone;dp.phone=dt;da("parsing phone, before: "+dl+", after: "+dp.phone)}}}return dp}var c7=function(dh){var di=aS(dh);return !aj(c4,di)};function dc(dj,di,dh){if(dj.length>0&&!c7(dj)){return}var dl=c6(dj);var dn=di;if(typeof dn==="string"){dn=c2(dn)}da("data before parsing "+JSON.stringify({get:dl,post:dn}));var dm=de(dl);var dk=de(dn);da("data after parsing "+JSON.stringify({get:dm,post:dk}));dd(dm,dk,dh)}function dd(dh,dj,dn){var dm=dh.email.length>0?dh.email:dj.email;var di=dh.phone.length>0?dh.phone:dj.phone;var dl=dh.name.length>0?dh.name:dj.name;if(dm.length==0&&di.length==0){dn();return}setTimeout(function(){dn()},100);var dk={leadName:"   ",name:dl,phone:di,email:dm,is_skip_sending:1};da("phone or email is not empty, reaching goal "+JSON.stringify(dk));
roistatGoal.reach(dk)}(function df(){if(!c1()){da("disabled, skip");return}c3()})()})(bV,A,bn)})(window,document,undefined);