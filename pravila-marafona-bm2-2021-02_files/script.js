// widget bundle

// file: /bitrix/js/main/polyfill/core/dist/polyfill.bundle.js
(function(r){var t=r.babelHelpers={};function e(r){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){t.typeof=e=function(r){return typeof r}}else{t.typeof=e=function(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return e(r)}t.typeof=e;var n;function i(r,t,e,i){if(!n){n=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103}var a=r&&r.defaultProps;var o=arguments.length-3;if(!t&&o!==0){t={children:void 0}}if(t&&a){for(var u in a){if(t[u]===void 0){t[u]=a[u]}}}else if(!t){t=a||{}}if(o===1){t.children=i}else if(o>1){var f=new Array(o);for(var c=0;c<o;c++){f[c]=arguments[c+3]}t.children=f}return{$$typeof:n,type:r,key:e===undefined?null:""+e,ref:null,props:t,_owner:null}}t.jsx=i;function a(r){var t;if(typeof Symbol==="function"){if(Symbol.asyncIterator){t=r[Symbol.asyncIterator];if(t!=null)return t.call(r)}if(Symbol.iterator){t=r[Symbol.iterator];if(t!=null)return t.call(r)}}throw new TypeError("Object is not async iterable")}t.asyncIterator=a;function o(r){this.wrapped=r}t.AwaitValue=o;function u(r){var e,n;function i(r,t){return new Promise(function(i,o){var u={key:r,arg:t,resolve:i,reject:o,next:null};if(n){n=n.next=u}else{e=n=u;a(r,t)}})}function a(e,n){try{var i=r[e](n);var u=i.value;var f=u instanceof t.AwaitValue;Promise.resolve(f?u.wrapped:u).then(function(r){if(f){a("next",r);return}o(i.done?"return":"normal",r)},function(r){a("throw",r)})}catch(r){o("throw",r)}}function o(r,t){switch(r){case"return":e.resolve({value:t,done:true});break;case"throw":e.reject(t);break;default:e.resolve({value:t,done:false});break}e=e.next;if(e){a(e.key,e.arg)}else{n=null}}this._invoke=i;if(typeof r.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){u.prototype[Symbol.asyncIterator]=function(){return this}}u.prototype.next=function(r){return this._invoke("next",r)};u.prototype.throw=function(r){return this._invoke("throw",r)};u.prototype.return=function(r){return this._invoke("return",r)};t.AsyncGenerator=u;function f(r){return function(){return new t.AsyncGenerator(r.apply(this,arguments))}}t.wrapAsyncGenerator=f;function c(r){return new t.AwaitValue(r)}t.awaitAsyncGenerator=c;function s(r,t){var e={},n=false;function i(e,i){n=true;i=new Promise(function(t){t(r[e](i))});return{done:false,value:t(i)}}if(typeof Symbol==="function"&&Symbol.iterator){e[Symbol.iterator]=function(){return this}}e.next=function(r){if(n){n=false;return r}return i("next",r)};if(typeof r.throw==="function"){e.throw=function(r){if(n){n=false;throw r}return i("throw",r)}}if(typeof r.return==="function"){e.return=function(r){return i("return",r)}}return e}t.asyncGeneratorDelegate=s;function l(r,t,e,n,i,a,o){try{var u=r[a](o);var f=u.value}catch(r){e(r);return}if(u.done){t(f)}else{Promise.resolve(f).then(n,i)}}function v(r){return function(){var t=this,e=arguments;return new Promise(function(n,i){var a=r.apply(t,e);function o(r){l(a,n,i,o,u,"next",r)}function u(r){l(a,n,i,o,u,"throw",r)}o(undefined)})}}t.asyncToGenerator=v;function h(r,t){if(!(r instanceof t)){throw new TypeError("Cannot call a class as a function")}}t.classCallCheck=h;function p(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(r,n.key,n)}}function d(r,t,e){if(t)p(r.prototype,t);if(e)p(r,e);return r}t.createClass=d;function y(r,t){for(var e in t){var n=t[e];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(r,e,n)}if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(var a=0;a<i.length;a++){var o=i[a];var n=t[o];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(r,o,n)}}return r}t.defineEnumerableProperties=y;function g(r,t){var e=Object.getOwnPropertyNames(t);for(var n=0;n<e.length;n++){var i=e[n];var a=Object.getOwnPropertyDescriptor(t,i);if(a&&a.configurable&&r[i]===undefined){Object.defineProperty(r,i,a)}}return r}t.defaults=g;function b(r,t,e){if(t in r){Object.defineProperty(r,t,{value:e,enumerable:true,configurable:true,writable:true})}else{r[t]=e}return r}t.defineProperty=b;function w(){t.extends=w=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){r[n]=e[n]}}}return r};return w.apply(this,arguments)}t.extends=w;function m(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))}i.forEach(function(e){t.defineProperty(r,e,n[e])})}return r}t.objectSpread=m;function S(r,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:true,configurable:true}});if(e)t.setPrototypeOf(r,e)}t.inherits=S;function _(r,t){r.prototype=Object.create(t.prototype);r.prototype.constructor=r;r.__proto__=t}t.inheritsLoose=_;function O(r){t.getPrototypeOf=O=Object.setPrototypeOf?Object.getPrototypeOf:function r(t){return t.__proto__||Object.getPrototypeOf(t)};return O(r)}t.getPrototypeOf=O;function x(r,e){t.setPrototypeOf=x=Object.setPrototypeOf||function r(t,e){t.__proto__=e;return t};return x(r,e)}t.setPrototypeOf=x;function E(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(r){return false}}function P(r,e,n){if(E()){t.construct=P=Reflect.construct}else{t.construct=P=function r(e,n,i){var a=[null];a.push.apply(a,n);var o=Function.bind.apply(e,a);var u=new o;if(i)t.setPrototypeOf(u,i.prototype);return u}}return P.apply(null,arguments)}t.construct=P;function j(r){return Function.toString.call(r).indexOf("[native code]")!==-1}t.isNativeFunction=j;function M(r){var e=typeof Map==="function"?new Map:undefined;t.wrapNativeSuper=M=function r(n){if(n===null||!t.isNativeFunction(n))return n;if(typeof n!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof e!=="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return t.construct(n,arguments,t.getPrototypeOf(this).constructor)}i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:false,writable:true,configurable:true}});return t.setPrototypeOf(i,n)};return M(r)}t.wrapNativeSuper=M;function F(r,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return t[Symbol.hasInstance](r)}else{return r instanceof t}}t.instanceof=F;function I(r){return r&&r.__esModule?r:{default:r}}t.interopRequireDefault=I;function A(r){if(r&&r.__esModule){return r}else{var t={};if(r!=null){for(var e in r){if(Object.prototype.hasOwnProperty.call(r,e)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,e):{};if(n.get||n.set){Object.defineProperty(t,e,n)}else{t[e]=r[e]}}}}t.default=r;return t}}t.interopRequireWildcard=A;function T(r,t){if(r!==t){throw new TypeError("Cannot instantiate an arrow function")}}t.newArrowCheck=T;function k(r){if(r==null)throw new TypeError("Cannot destructure undefined")}t.objectDestructuringEmpty=k;function R(r,t){if(r==null)return{};var e={};var n=Object.keys(r);var i,a;for(a=0;a<n.length;a++){i=n[a];if(t.indexOf(i)>=0)continue;e[i]=r[i]}return e}t.objectWithoutPropertiesLoose=R;function N(r,e){if(r==null)return{};var n=t.objectWithoutPropertiesLoose(r,e);var i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++){i=o[a];if(e.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(r,i))continue;n[i]=r[i]}}return n}t.objectWithoutProperties=N;function L(r){if(r===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return r}t.assertThisInitialized=L;function D(r,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}return t.assertThisInitialized(r)}t.possibleConstructorReturn=D;function C(r,e){while(!Object.prototype.hasOwnProperty.call(r,e)){r=t.getPrototypeOf(r);if(r===null)break}return r}t.superPropBase=C;function W(r,e,n){if(typeof Reflect!=="undefined"&&Reflect.get){t.get=W=Reflect.get}else{t.get=W=function r(e,n,i){var a=t.superPropBase(e,n);if(!a)return;var o=Object.getOwnPropertyDescriptor(a,n);if(o.get){return o.get.call(i)}return o.value}}return W(r,e,n||r)}t.get=W;function G(r,e,n,i){if(typeof Reflect!=="undefined"&&Reflect.set){G=Reflect.set}else{G=function r(e,n,i,a){var o=t.superPropBase(e,n);var u;if(o){u=Object.getOwnPropertyDescriptor(o,n);if(u.set){u.set.call(a,i);return true}else if(!u.writable){return false}}u=Object.getOwnPropertyDescriptor(a,n);if(u){if(!u.writable){return false}u.value=i;Object.defineProperty(a,n,u)}else{t.defineProperty(a,n,i)}return true}}return G(r,e,n,i)}function U(r,t,e,n,i){var a=G(r,t,e,n||r);if(!a&&i){throw new Error("failed to set property")}return e}t.set=U;function z(r,t){if(!t){t=r.slice(0)}return Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(t)}}))}t.taggedTemplateLiteral=z;function V(r,t){if(!t){t=r.slice(0)}r.raw=t;return r}t.taggedTemplateLiteralLoose=V;function B(r,e){if(r===t.temporalUndefined){throw new ReferenceError(e+" is not defined - temporal dead zone")}else{return r}}t.temporalRef=B;function H(r){throw new Error('"'+r+'" is read-only')}t.readOnlyError=H;function K(r){throw new Error('Class "'+r+'" cannot be referenced in computed property keys.')}t.classNameTDZError=K;t.temporalUndefined={};function Y(r,e){return t.arrayWithHoles(r)||t.iterableToArrayLimit(r,e)||t.nonIterableRest()}t.slicedToArray=Y;function J(r,e){return t.arrayWithHoles(r)||t.iterableToArrayLimitLoose(r,e)||t.nonIterableRest()}t.slicedToArrayLoose=J;function $(r){return t.arrayWithHoles(r)||t.iterableToArray(r)||t.nonIterableRest()}t.toArray=$;function q(r){return t.arrayWithoutHoles(r)||t.iterableToArray(r)||t.nonIterableSpread()}t.toConsumableArray=q;function X(r){if(Array.isArray(r)){for(var t=0,e=new Array(r.length);t<r.length;t++)e[t]=r[t];return e}}t.arrayWithoutHoles=X;function Z(r){if(Array.isArray(r))return r}t.arrayWithHoles=Z;function Q(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}t.iterableToArray=Q;function rr(r,t){var e=[];var n=true;var i=false;var a=undefined;try{for(var o=r[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){e.push(u.value);if(t&&e.length===t)break}}catch(r){i=true;a=r}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return e}t.iterableToArrayLimit=rr;function tr(r,t){var e=[];for(var n=r[Symbol.iterator](),i;!(i=n.next()).done;){e.push(i.value);if(t&&e.length===t)break}return e}t.iterableToArrayLimitLoose=tr;function er(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.nonIterableSpread=er;function nr(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.nonIterableRest=nr;function ir(r){return function(){var t=r.apply(this,arguments);t.next();return t}}t.skipFirstGeneratorNext=ir;function ar(r){if(typeof r==="symbol"){return r}else{return String(r)}}t.toPropertyKey=ar;function or(r,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and set to use loose mode. "+"To use proposal-class-properties in spec mode with decorators, wait for "+"the next major version of decorators in stage 2.")}t.initializerWarningHelper=or;function ur(r,t,e,n){if(!e)return;Object.defineProperty(r,t,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0})}t.initializerDefineProperty=ur;function fr(r,t,e,n,i){var a={};Object["ke"+"ys"](n).forEach(function(r){a[r]=n[r]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=e.slice().reverse().reduce(function(e,n){return n(r,t,e)||e},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object["define"+"Property"](r,t,a);a=null}return a}t.applyDecoratedDescriptor=fr;var cr=0;function sr(r){return"__private_"+cr+++"_"+r}t.classPrivateFieldLooseKey=sr;function lr(r,t){if(!Object.prototype.hasOwnProperty.call(r,t)){throw new TypeError("attempted to use private field on non-instance")}return r}t.classPrivateFieldLooseBase=lr;function vr(r,t){if(!t.has(r)){throw new TypeError("attempted to get private field on non-instance")}return t.get(r).value}t.classPrivateFieldGet=vr;function hr(r,t,e){if(!t.has(r)){throw new TypeError("attempted to set private field on non-instance")}var n=t.get(r);if(!n.writable){throw new TypeError("attempted to set read only private field")}n.value=e;return e}t.classPrivateFieldSet=hr})(typeof global==="undefined"?window:global);!function(r){"use strict";var t=Object.prototype;var e=t.hasOwnProperty;var n;var i=typeof Symbol==="function"?Symbol:{};var a=i.iterator||"@@iterator";var o=i.asyncIterator||"@@asyncIterator";var u=i.toStringTag||"@@toStringTag";var f=r.regeneratorRuntime={};function c(r,t,e,n){var i=t&&t.prototype instanceof y?t:y;var a=Object.create(i.prototype);var o=new F(n||[]);a._invoke=E(r,e,o);return a}f.wrap=c;function s(r,t,e){try{return{type:"normal",arg:r.call(t,e)}}catch(r){return{type:"throw",arg:r}}}var l="suspendedStart";var v="suspendedYield";var h="executing";var p="completed";var d={};function y(){}function g(){}function b(){}var w={};w[a]=function(){return this};var m=Object.getPrototypeOf;var S=m&&m(m(I([])));if(S&&S!==t&&e.call(S,a)){w=S}var _=b.prototype=y.prototype=Object.create(w);g.prototype=_.constructor=b;b.constructor=g;b[u]=g.displayName="GeneratorFunction";function O(r){["next","throw","return"].forEach(function(t){r[t]=function(r){return this._invoke(t,r)}})}f.isGeneratorFunction=function(r){var t=typeof r==="function"&&r.constructor;return t?t===g||(t.displayName||t.name)==="GeneratorFunction":false};f.mark=function(r){if(Object.setPrototypeOf){Object.setPrototypeOf(r,b)}else{r.__proto__=b;if(!(u in r)){r[u]="GeneratorFunction"}}r.prototype=Object.create(_);return r};f.awrap=function(r){return{__await:r}};function x(r){function t(n,i,a,o){var u=s(r[n],r,i);if(u.type==="throw"){o(u.arg)}else{var f=u.arg;var c=f.value;if(c&&typeof c==="object"&&e.call(c,"__await")){return Promise.resolve(c.__await).then(function(r){t("next",r,a,o)},function(r){t("throw",r,a,o)})}return Promise.resolve(c).then(function(r){f.value=r;a(f)},o)}}var n;function i(r,e){function i(){return new Promise(function(n,i){t(r,e,n,i)})}return n=n?n.then(i,i):i()}this._invoke=i}O(x.prototype);x.prototype[o]=function(){return this};f.AsyncIterator=x;f.async=function(r,t,e,n){var i=new x(c(r,t,e,n));return f.isGeneratorFunction(t)?i:i.next().then(function(r){return r.done?r.value:i.next()})};function E(r,t,e){var n=l;return function i(a,o){if(n===h){throw new Error("Generator is already running")}if(n===p){if(a==="throw"){throw o}return A()}e.method=a;e.arg=o;while(true){var u=e.delegate;if(u){var f=P(u,e);if(f){if(f===d)continue;return f}}if(e.method==="next"){e.sent=e._sent=e.arg}else if(e.method==="throw"){if(n===l){n=p;throw e.arg}e.dispatchException(e.arg)}else if(e.method==="return"){e.abrupt("return",e.arg)}n=h;var c=s(r,t,e);if(c.type==="normal"){n=e.done?p:v;if(c.arg===d){continue}return{value:c.arg,done:e.done}}else if(c.type==="throw"){n=p;e.method="throw";e.arg=c.arg}}}}function P(r,t){var e=r.iterator[t.method];if(e===n){t.delegate=null;if(t.method==="throw"){if(r.iterator.return){t.method="return";t.arg=n;P(r,t);if(t.method==="throw"){return d}}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=s(e,r.iterator,t.arg);if(i.type==="throw"){t.method="throw";t.arg=i.arg;t.delegate=null;return d}var a=i.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return d}if(a.done){t[r.resultName]=a.value;t.next=r.nextLoc;if(t.method!=="return"){t.method="next";t.arg=n}}else{return a}t.delegate=null;return d}O(_);_[u]="Generator";_[a]=function(){return this};_.toString=function(){return"[object Generator]"};function j(r){var t={tryLoc:r[0]};if(1 in r){t.catchLoc=r[1]}if(2 in r){t.finallyLoc=r[2];t.afterLoc=r[3]}this.tryEntries.push(t)}function M(r){var t=r.completion||{};t.type="normal";delete t.arg;r.completion=t}function F(r){this.tryEntries=[{tryLoc:"root"}];r.forEach(j,this);this.reset(true)}f.keys=function(r){var t=[];for(var e in r){t.push(e)}t.reverse();return function e(){while(t.length){var n=t.pop();if(n in r){e.value=n;e.done=false;return e}}e.done=true;return e}};function I(r){if(r){var t=r[a];if(t){return t.call(r)}if(typeof r.next==="function"){return r}if(!isNaN(r.length)){var i=-1,o=function t(){while(++i<r.length){if(e.call(r,i)){t.value=r[i];t.done=false;return t}}t.value=n;t.done=true;return t};return o.next=o}}return{next:A}}f.values=I;function A(){return{value:n,done:true}}F.prototype={constructor:F,reset:function(r){this.prev=0;this.next=0;this.sent=this._sent=n;this.done=false;this.delegate=null;this.method="next";this.arg=n;this.tryEntries.forEach(M);if(!r){for(var t in this){if(t.charAt(0)==="t"&&e.call(this,t)&&!isNaN(+t.slice(1))){this[t]=n}}}},stop:function(){this.done=true;var r=this.tryEntries[0];var t=r.completion;if(t.type==="throw"){throw t.arg}return this.rval},dispatchException:function(r){if(this.done){throw r}var t=this;function i(e,i){u.type="throw";u.arg=r;t.next=e;if(i){t.method="next";t.arg=n}return!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];var u=o.completion;if(o.tryLoc==="root"){return i("end")}if(o.tryLoc<=this.prev){var f=e.call(o,"catchLoc");var c=e.call(o,"finallyLoc");if(f&&c){if(this.prev<o.catchLoc){return i(o.catchLoc,true)}else if(this.prev<o.finallyLoc){return i(o.finallyLoc)}}else if(f){if(this.prev<o.catchLoc){return i(o.catchLoc,true)}}else if(c){if(this.prev<o.finallyLoc){return i(o.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(r,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&e.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}if(a&&(r==="break"||r==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc){a=null}var o=a?a.completion:{};o.type=r;o.arg=t;if(a){this.method="next";this.next=a.finallyLoc;return d}return this.complete(o)},complete:function(r,t){if(r.type==="throw"){throw r.arg}if(r.type==="break"||r.type==="continue"){this.next=r.arg}else if(r.type==="return"){this.rval=this.arg=r.arg;this.method="return";this.next="end"}else if(r.type==="normal"&&t){this.next=t}return d},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===r){this.complete(e.completion,e.afterLoc);M(e);return d}}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===r){var n=e.completion;if(n.type==="throw"){var i=n.arg;M(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,e){this.delegate={iterator:I(r),resultName:t,nextLoc:e};if(this.method==="next"){this.arg=n}return d}}}(function(){return this}()||Function("return this")());(function(r){"use strict";function t(r,t){return t={exports:{}},r(t,t.exports),t.exports}var e=t(function(r){var t=r.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=t});var n={}.hasOwnProperty;var i=function(r,t){return n.call(r,t)};var a=function(r){try{return!!r()}catch(r){return true}};var o=!a(function(){return Object.defineProperty({},"a",{get:function r(){return 7}}).a!=7});var u=t(function(r){var t=r.exports={version:"2.6.3"};if(typeof __e=="number")__e=t});var f=u.version;var c=function(r){return babelHelpers.typeof(r)==="object"?r!==null:typeof r==="function"};var s=function(r){if(!c(r))throw TypeError(r+" is not an object!");return r};var l=e.document;var v=c(l)&&c(l.createElement);var h=function(r){return v?l.createElement(r):{}};var p=!o&&!a(function(){return Object.defineProperty(h("div"),"a",{get:function r(){return 7}}).a!=7});var d=function(r,t){if(!c(r))return r;var e,n;if(t&&typeof(e=r.toString)=="function"&&!c(n=e.call(r)))return n;if(typeof(e=r.valueOf)=="function"&&!c(n=e.call(r)))return n;if(!t&&typeof(e=r.toString)=="function"&&!c(n=e.call(r)))return n;throw TypeError("Can't convert object to primitive value")};var y=Object.defineProperty;var g=o?Object.defineProperty:function r(t,e,n){s(t);e=d(e,true);s(n);if(p)try{return y(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");if("value"in n)t[e]=n.value;return t};var b={f:g};var w=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}};var m=o?function(r,t,e){return b.f(r,t,w(1,e))}:function(r,t,e){r[t]=e;return r};var S=0;var _=Math.random();var O=function(r){return"Symbol(".concat(r===undefined?"":r,")_",(++S+_).toString(36))};var x=t(function(r){var t=O("src");var n="toString";var a=Function[n];var o=(""+a).split(n);u.inspectSource=function(r){return a.call(r)};(r.exports=function(r,n,a,u){var f=typeof a=="function";if(f)i(a,"name")||m(a,"name",n);if(r[n]===a)return;if(f)i(a,t)||m(a,t,r[n]?""+r[n]:o.join(String(n)));if(r===e){r[n]=a}else if(!u){delete r[n];m(r,n,a)}else if(r[n]){r[n]=a}else{m(r,n,a)}})(Function.prototype,n,function r(){return typeof this=="function"&&this[t]||a.call(this)})});var E=function(r){if(typeof r!="function")throw TypeError(r+" is not a function!");return r};var P=function(r,t,e){E(r);if(t===undefined)return r;switch(e){case 1:return function(e){return r.call(t,e)};case 2:return function(e,n){return r.call(t,e,n)};case 3:return function(e,n,i){return r.call(t,e,n,i)}}return function(){return r.apply(t,arguments)}};var j="prototype";var M=function r(t,n,i){var a=t&r.F;var o=t&r.G;var f=t&r.S;var c=t&r.P;var s=t&r.B;var l=o?e:f?e[n]||(e[n]={}):(e[n]||{})[j];var v=o?u:u[n]||(u[n]={});var h=v[j]||(v[j]={});var p,d,y,g;if(o)i=n;for(p in i){d=!a&&l&&l[p]!==undefined;y=(d?l:i)[p];g=s&&d?P(y,e):c&&typeof y=="function"?P(Function.call,y):y;if(l)x(l,p,y,t&r.U);if(v[p]!=y)m(v,p,g);if(c&&h[p]!=y)h[p]=y}};M.F=1;M.G=2;M.S=4;M.P=8;M.B=16;M.W=32;M.U=64;M.R=128;var F=M;var I=t(function(r){var t=O("meta");var e=b.f;var n=0;var o=Object.isExtensible||function(){return true};var u=!a(function(){return o(Object.preventExtensions({}))});var f=function r(i){e(i,t,{value:{i:"O"+ ++n,w:{}}})};var s=function r(e,n){if(!c(e))return babelHelpers.typeof(e)=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!i(e,t)){if(!o(e))return"F";if(!n)return"E";f(e)}return e[t].i};var l=function r(e,n){if(!i(e,t)){if(!o(e))return true;if(!n)return false;f(e)}return e[t].w};var v=function r(e){if(u&&h.NEED&&o(e)&&!i(e,t))f(e);return e};var h=r.exports={KEY:t,NEED:false,fastKey:s,getWeak:l,onFreeze:v}});var A=I.KEY;var T=I.NEED;var k=I.fastKey;var R=I.getWeak;var N=I.onFreeze;var L=false;var D=t(function(r){var t="__core-js_shared__";var n=e[t]||(e[t]={});(r.exports=function(r,t){return n[r]||(n[r]=t!==undefined?t:{})})("versions",[]).push({version:u.version,mode:L?"pure":"global",copyright:"(c) 2019 Denis Pushkarev (zloirock.ru)"})});var C=t(function(r){var t=D("wks");var n=e.Symbol;var i=typeof n=="function";var a=r.exports=function(r){return t[r]||(t[r]=i&&n[r]||(i?n:O)("Symbol."+r))};a.store=t});var W=b.f;var G=C("toStringTag");var U=function(r,t,e){if(r&&!i(r=e?r:r.prototype,G))W(r,G,{configurable:true,value:t})};var z=C;var V={f:z};var B=b.f;var H=function(r){var t=u.Symbol||(u.Symbol=L?{}:e.Symbol||{});if(r.charAt(0)!="_"&&!(r in t))B(t,r,{value:V.f(r)})};var K={}.toString;var Y=function(r){return K.call(r).slice(8,-1)};var J=Object("z").propertyIsEnumerable(0)?Object:function(r){return Y(r)=="String"?r.split(""):Object(r)};var $=function(r){if(r==undefined)throw TypeError("Can't call method on  "+r);return r};var q=function(r){return J($(r))};var X=Math.ceil;var Z=Math.floor;var Q=function(r){return isNaN(r=+r)?0:(r>0?Z:X)(r)};var rr=Math.min;var tr=function(r){return r>0?rr(Q(r),9007199254740991):0};var er=Math.max;var nr=Math.min;var ir=function(r,t){r=Q(r);return r<0?er(r+t,0):nr(r,t)};var ar=function(r){return function(t,e,n){var i=q(t);var a=tr(i.length);var o=ir(n,a);var u;if(r&&e!=e)while(a>o){u=i[o++];if(u!=u)return true}else for(;a>o;o++){if(r||o in i){if(i[o]===e)return r||o||0}}return!r&&-1}};var or=D("keys");var ur=function(r){return or[r]||(or[r]=O(r))};var fr=ar(false);var cr=ur("IE_PROTO");var sr=function(r,t){var e=q(r);var n=0;var a=[];var o;for(o in e){if(o!=cr)i(e,o)&&a.push(o)}while(t.length>n){if(i(e,o=t[n++])){~fr(a,o)||a.push(o)}}return a};var lr="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");var vr=Object.keys||function r(t){return sr(t,lr)};var hr=Object.getOwnPropertySymbols;var pr={f:hr};var dr={}.propertyIsEnumerable;var yr={f:dr};var gr=function(r){var t=vr(r);var e=pr.f;if(e){var n=e(r);var i=yr.f;var a=0;var o;while(n.length>a){if(i.call(r,o=n[a++]))t.push(o)}}return t};var br=Array.isArray||function r(t){return Y(t)=="Array"};var wr=o?Object.defineProperties:function r(t,e){s(t);var n=vr(e);var i=n.length;var a=0;var o;while(i>a){b.f(t,o=n[a++],e[o])}return t};var mr=e.document;var Sr=mr&&mr.documentElement;var _r=ur("IE_PROTO");var Or=function r(){};var xr="prototype";var Er=function r(){var t=h("iframe");var e=lr.length;var n="<";var i=">";var a;t.style.display="none";Sr.appendChild(t);t.src="javascript:";a=t.contentWindow.document;a.open();a.write(n+"script"+i+"document.F=Object"+n+"/script"+i);a.close();Er=a.F;while(e--){delete Er[xr][lr[e]]}return Er()};var Pr=Object.create||function r(t,e){var n;if(t!==null){Or[xr]=s(t);n=new Or;Or[xr]=null;n[_r]=t}else n=Er();return e===undefined?n:wr(n,e)};var jr=lr.concat("length","prototype");var Mr=Object.getOwnPropertyNames||function r(t){return sr(t,jr)};var Fr={f:Mr};var Ir=Fr.f;var Ar={}.toString;var Tr=(typeof window==="undefined"?"undefined":babelHelpers.typeof(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var kr=function r(t){try{return Ir(t)}catch(r){return Tr.slice()}};var Rr=function r(t){return Tr&&Ar.call(t)=="[object Window]"?kr(t):Ir(q(t))};var Nr={f:Rr};var Lr=Object.getOwnPropertyDescriptor;var Dr=o?Lr:function r(t,e){t=q(t);e=d(e,true);if(p)try{return Lr(t,e)}catch(r){}if(i(t,e))return w(!yr.f.call(t,e),t[e])};var Cr={f:Dr};var Wr=I.KEY;var Gr=Cr.f;var Ur=b.f;var zr=Nr.f;var Vr=e.Symbol;var Br=e.JSON;var Hr=Br&&Br.stringify;var Kr="prototype";var Yr=C("_hidden");var Jr=C("toPrimitive");var $r={}.propertyIsEnumerable;var qr=D("symbol-registry");var Xr=D("symbols");var Zr=D("op-symbols");var Qr=Object[Kr];var rt=typeof Vr=="function";var tt=e.QObject;var et=!tt||!tt[Kr]||!tt[Kr].findChild;var nt=o&&a(function(){return Pr(Ur({},"a",{get:function r(){return Ur(this,"a",{value:7}).a}})).a!=7})?function(r,t,e){var n=Gr(Qr,t);if(n)delete Qr[t];Ur(r,t,e);if(n&&r!==Qr)Ur(Qr,t,n)}:Ur;var it=function r(t){var e=Xr[t]=Pr(Vr[Kr]);e._k=t;return e};var at=rt&&babelHelpers.typeof(Vr.iterator)=="symbol"?function(r){return babelHelpers.typeof(r)=="symbol"}:function(r){return r instanceof Vr};var ot=function r(t,e,n){if(t===Qr)ot(Zr,e,n);s(t);e=d(e,true);s(n);if(i(Xr,e)){if(!n.enumerable){if(!i(t,Yr))Ur(t,Yr,w(1,{}));t[Yr][e]=true}else{if(i(t,Yr)&&t[Yr][e])t[Yr][e]=false;n=Pr(n,{enumerable:w(0,false)})}return nt(t,e,n)}return Ur(t,e,n)};var ut=function r(t,e){s(t);var n=gr(e=q(e));var i=0;var a=n.length;var o;while(a>i){ot(t,o=n[i++],e[o])}return t};var ft=function r(t,e){return e===undefined?Pr(t):ut(Pr(t),e)};var ct=function r(t){var e=$r.call(this,t=d(t,true));if(this===Qr&&i(Xr,t)&&!i(Zr,t))return false;return e||!i(this,t)||!i(Xr,t)||i(this,Yr)&&this[Yr][t]?e:true};var st=function r(t,e){t=q(t);e=d(e,true);if(t===Qr&&i(Xr,e)&&!i(Zr,e))return;var n=Gr(t,e);if(n&&i(Xr,e)&&!(i(t,Yr)&&t[Yr][e]))n.enumerable=true;return n};var lt=function r(t){var e=zr(q(t));var n=[];var a=0;var o;while(e.length>a){if(!i(Xr,o=e[a++])&&o!=Yr&&o!=Wr)n.push(o)}return n};var vt=function r(t){var e=t===Qr;var n=zr(e?Zr:q(t));var a=[];var o=0;var u;while(n.length>o){if(i(Xr,u=n[o++])&&(e?i(Qr,u):true))a.push(Xr[u])}return a};if(!rt){Vr=function r(){if(this instanceof Vr)throw TypeError("Symbol is not a constructor!");var t=O(arguments.length>0?arguments[0]:undefined);var e=function r(e){if(this===Qr)r.call(Zr,e);if(i(this,Yr)&&i(this[Yr],t))this[Yr][t]=false;nt(this,t,w(1,e))};if(o&&et)nt(Qr,t,{configurable:true,set:e});return it(t)};x(Vr[Kr],"toString",function r(){return this._k});Cr.f=st;b.f=ot;Fr.f=Nr.f=lt;yr.f=ct;pr.f=vt;if(o&&!L){x(Qr,"propertyIsEnumerable",ct,true)}V.f=function(r){return it(C(r))}}F(F.G+F.W+F.F*!rt,{Symbol:Vr});for(var ht="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),pt=0;ht.length>pt;){C(ht[pt++])}for(var dt=vr(C.store),yt=0;dt.length>yt;){H(dt[yt++])}F(F.S+F.F*!rt,"Symbol",{for:function r(t){return i(qr,t+="")?qr[t]:qr[t]=Vr(t)},keyFor:function r(t){if(!at(t))throw TypeError(t+" is not a symbol!");for(var e in qr){if(qr[e]===t)return e}},useSetter:function r(){et=true},useSimple:function r(){et=false}});F(F.S+F.F*!rt,"Object",{create:ft,defineProperty:ot,defineProperties:ut,getOwnPropertyDescriptor:st,getOwnPropertyNames:lt,getOwnPropertySymbols:vt});Br&&F(F.S+F.F*(!rt||a(function(){var r=Vr();return Hr([r])!="[null]"||Hr({a:r})!="{}"||Hr(Object(r))!="{}"})),"JSON",{stringify:function r(t){var e=[t];var n=1;var i,a;while(arguments.length>n){e.push(arguments[n++])}a=i=e[1];if(!c(i)&&t===undefined||at(t))return;if(!br(i))i=function r(t,e){if(typeof a=="function")e=a.call(this,t,e);if(!at(e))return e};e[1]=i;return Hr.apply(Br,e)}});Vr[Kr][Jr]||m(Vr[Kr],Jr,Vr[Kr].valueOf);U(Vr,"Symbol");U(Math,"Math",true);U(e.JSON,"JSON",true);F(F.S,"Object",{create:Pr});F(F.S+F.F*!o,"Object",{defineProperty:b.f});F(F.S+F.F*!o,"Object",{defineProperties:wr});var gt=function(r,t){var e=(u.Object||{})[r]||Object[r];var n={};n[r]=t(e);F(F.S+F.F*a(function(){e(1)}),"Object",n)};var bt=Cr.f;gt("getOwnPropertyDescriptor",function(){return function r(t,e){return bt(q(t),e)}});var wt=function(r){return Object($(r))};var mt=ur("IE_PROTO");var St=Object.prototype;var _t=Object.getPrototypeOf||function(r){r=wt(r);if(i(r,mt))return r[mt];if(typeof r.constructor=="function"&&r instanceof r.constructor){return r.constructor.prototype}return r instanceof Object?St:null};gt("getPrototypeOf",function(){return function r(t){return _t(wt(t))}});gt("keys",function(){return function r(t){return vr(wt(t))}});gt("getOwnPropertyNames",function(){return Nr.f});var Ot=I.onFreeze;gt("freeze",function(r){return function t(e){return r&&c(e)?r(Ot(e)):e}});var xt=I.onFreeze;gt("seal",function(r){return function t(e){return r&&c(e)?r(xt(e)):e}});var Et=I.onFreeze;gt("preventExtensions",function(r){return function t(e){return r&&c(e)?r(Et(e)):e}});gt("isFrozen",function(r){return function t(e){return c(e)?r?r(e):false:true}});gt("isSealed",function(r){return function t(e){return c(e)?r?r(e):false:true}});gt("isExtensible",function(r){return function t(e){return c(e)?r?r(e):true:false}});var Pt=Object.assign;var jt=!Pt||a(function(){var r={};var t={};var e=Symbol();var n="abcdefghijklmnopqrst";r[e]=7;n.split("").forEach(function(r){t[r]=r});return Pt({},r)[e]!=7||Object.keys(Pt({},t)).join("")!=n})?function r(t,e){var n=wt(t);var i=arguments.length;var a=1;var o=pr.f;var u=yr.f;while(i>a){var f=J(arguments[a++]);var c=o?vr(f).concat(o(f)):vr(f);var s=c.length;var l=0;var v;while(s>l){if(u.call(f,v=c[l++]))n[v]=f[v]}}return n}:Pt;F(F.S+F.F,"Object",{assign:jt});var Mt=Object.is||function r(t,e){return t===e?t!==0||1/t===1/e:t!=t&&e!=e};F(F.S,"Object",{is:Mt});var Ft=function r(t,e){s(t);if(!c(e)&&e!==null)throw TypeError(e+": can't set as prototype!")};var It={set:Object.setPrototypeOf||("__proto__"in{}?function(r,t,e){try{e=P(Function.call,Cr.f(Object.prototype,"__proto__").set,2);e(r,[]);t=!(r instanceof Array)}catch(r){t=true}return function r(n,i){Ft(n,i);if(t)n.__proto__=i;else e(n,i);return n}}({},false):undefined),check:Ft};F(F.S,"Object",{setPrototypeOf:It.set});var At=C("toStringTag");var Tt=Y(function(){return arguments}())=="Arguments";var kt=function r(t,e){try{return t[e]}catch(r){}};var Rt=function(r){var t,e,n;return r===undefined?"Undefined":r===null?"Null":typeof(e=kt(t=Object(r),At))=="string"?e:Tt?Y(t):(n=Y(t))=="Object"&&typeof t.callee=="function"?"Arguments":n};var Nt={};Nt[C("toStringTag")]="z";if(Nt+""!="[object z]"){x(Object.prototype,"toString",function r(){return"[object "+Rt(this)+"]"},true)}var Lt=function(r,t,e){var n=e===undefined;switch(t.length){case 0:return n?r():r.call(e);case 1:return n?r(t[0]):r.call(e,t[0]);case 2:return n?r(t[0],t[1]):r.call(e,t[0],t[1]);case 3:return n?r(t[0],t[1],t[2]):r.call(e,t[0],t[1],t[2]);case 4:return n?r(t[0],t[1],t[2],t[3]):r.call(e,t[0],t[1],t[2],t[3])}return r.apply(e,t)};var Dt=[].slice;var Ct={};var Wt=function r(t,e,n){if(!(e in Ct)){for(var i=[],a=0;a<e;a++){i[a]="a["+a+"]"}Ct[e]=Function("F,a","return new F("+i.join(",")+")")}return Ct[e](t,n)};var Gt=Function.bind||function r(t){var e=E(this);var n=Dt.call(arguments,1);var i=function r(){var i=n.concat(Dt.call(arguments));return this instanceof r?Wt(e,i.length,i):Lt(e,i,t)};if(c(e.prototype))i.prototype=e.prototype;return i};F(F.P,"Function",{bind:Gt});var Ut=b.f;var zt=Function.prototype;var Vt=/^\s*function ([^ (]*)/;var Bt="name";Bt in zt||o&&Ut(zt,Bt,{configurable:true,get:function r(){try{return(""+this).match(Vt)[1]}catch(r){return""}}});var Ht=C("hasInstance");var Kt=Function.prototype;if(!(Ht in Kt))b.f(Kt,Ht,{value:function r(t){if(typeof this!="function"||!c(t))return false;if(!c(this.prototype))return t instanceof this;while(t=_t(t)){if(this.prototype===t)return true}return false}});var Yt="\t\n\v\f\r   ᠎    "+"         　\u2028\u2029\ufeff";var Jt="["+Yt+"]";var $t="​";var qt=RegExp("^"+Jt+Jt+"*");var Xt=RegExp(Jt+Jt+"*$");var Zt=function r(t,e,n){var i={};var o=a(function(){return!!Yt[t]()||$t[t]()!=$t});var u=i[t]=o?e(Qt):Yt[t];if(n)i[n]=u;F(F.P+F.F*o,"String",i)};var Qt=Zt.trim=function(r,t){r=String($(r));if(t&1)r=r.replace(qt,"");if(t&2)r=r.replace(Xt,"");return r};var re=Zt;var te=e.parseInt;var ee=re.trim;var ne=/^[-+]?0[xX]/;var ie=te(Yt+"08")!==8||te(Yt+"0x16")!==22?function r(t,e){var n=ee(String(t),3);return te(n,e>>>0||(ne.test(n)?16:10))}:te;F(F.G+F.F*(parseInt!=ie),{parseInt:ie});var ae=e.parseFloat;var oe=re.trim;var ue=1/ae(Yt+"-0")!==-Infinity?function r(t){var e=oe(String(t),3);var n=ae(e);return n===0&&e.charAt(0)=="-"?-0:n}:ae;F(F.G+F.F*(parseFloat!=ue),{parseFloat:ue});var fe=It.set;var ce=function(r,t,e){var n=t.constructor;var i;if(n!==e&&typeof n=="function"&&(i=n.prototype)!==e.prototype&&c(i)&&fe){fe(r,i)}return r};var se=Fr.f;var le=Cr.f;var ve=b.f;var he=re.trim;var pe="Number";var de=e[pe];var ye=de;var ge=de.prototype;var be=Y(Pr(ge))==pe;var we="trim"in String.prototype;var me=function r(t){var e=d(t,false);if(typeof e=="string"&&e.length>2){e=we?e.trim():he(e,3);var n=e.charCodeAt(0);var i,a,o;if(n===43||n===45){i=e.charCodeAt(2);if(i===88||i===120)return NaN}else if(n===48){switch(e.charCodeAt(1)){case 66:case 98:a=2;o=49;break;case 79:case 111:a=8;o=55;break;default:return+e}for(var u=e.slice(2),f=0,c=u.length,s;f<c;f++){s=u.charCodeAt(f);if(s<48||s>o)return NaN}return parseInt(u,a)}}return+e};if(!de(" 0o1")||!de("0b1")||de("+0x1")){de=function r(t){var e=arguments.length<1?0:t;var n=this;return n instanceof de&&(be?a(function(){ge.valueOf.call(n)}):Y(n)!=pe)?ce(new ye(me(e)),n,de):me(e)};for(var Se=o?se(ye):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,"+"MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger").split(","),_e=0,Oe;Se.length>_e;_e++){if(i(ye,Oe=Se[_e])&&!i(de,Oe)){ve(de,Oe,le(ye,Oe))}}de.prototype=ge;ge.constructor=de;x(e,pe,de)}var xe=function(r,t){if(typeof r!="number"&&Y(r)!="Number")throw TypeError(t);return+r};var Ee=function r(t){var e=String($(this));var n="";var i=Q(t);if(i<0||i==Infinity)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e)){if(i&1)n+=e}return n};var Pe=1..toFixed;var je=Math.floor;var Me=[0,0,0,0,0,0];var Fe="Number.toFixed: incorrect invocation!";var Ie="0";var Ae=function r(t,e){var n=-1;var i=e;while(++n<6){i+=t*Me[n];Me[n]=i%1e7;i=je(i/1e7)}};var Te=function r(t){var e=6;var n=0;while(--e>=0){n+=Me[e];Me[e]=je(n/t);n=n%t*1e7}};var ke=function r(){var t=6;var e="";while(--t>=0){if(e!==""||t===0||Me[t]!==0){var n=String(Me[t]);e=e===""?n:e+Ee.call(Ie,7-n.length)+n}}return e};var Re=function r(t,e,n){return e===0?n:e%2===1?r(t,e-1,n*t):r(t*t,e/2,n)};var Ne=function r(t){var e=0;var n=t;while(n>=4096){e+=12;n/=4096}while(n>=2){e+=1;n/=2}return e};F(F.P+F.F*(!!Pe&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(0xde0b6b3a7640080).toFixed(0)!=="1000000000000000128")||!a(function(){Pe.call({})})),"Number",{toFixed:function r(t){var e=xe(this,Fe);var n=Q(t);var i="";var a=Ie;var o,u,f,c;if(n<0||n>20)throw RangeError(Fe);if(e!=e)return"NaN";if(e<=-1e21||e>=1e21)return String(e);if(e<0){i="-";e=-e}if(e>1e-21){o=Ne(e*Re(2,69,1))-69;u=o<0?e*Re(2,-o,1):e/Re(2,o,1);u*=4503599627370496;o=52-o;if(o>0){Ae(0,u);f=n;while(f>=7){Ae(1e7,0);f-=7}Ae(Re(10,f,1),0);f=o-1;while(f>=23){Te(1<<23);f-=23}Te(1<<f);Ae(1,1);Te(2);a=ke()}else{Ae(0,u);Ae(1<<-o,0);a=ke()+Ee.call(Ie,n)}}if(n>0){c=a.length;a=i+(c<=n?"0."+Ee.call(Ie,n-c)+a:a.slice(0,c-n)+"."+a.slice(c-n))}else{a=i+a}return a}});var Le=1..toPrecision;F(F.P+F.F*(a(function(){return Le.call(1,undefined)!=="1"})||!a(function(){Le.call({})})),"Number",{toPrecision:function r(t){var e=xe(this,"Number#toPrecision: incorrect invocation!");return t===undefined?Le.call(e):Le.call(e,t)}});F(F.S,"Number",{EPSILON:Math.pow(2,-52)});var De=e.isFinite;F(F.S,"Number",{isFinite:function r(t){return typeof t=="number"&&De(t)}});var Ce=Math.floor;var We=function r(t){return!c(t)&&isFinite(t)&&Ce(t)===t};F(F.S,"Number",{isInteger:We});F(F.S,"Number",{isNaN:function r(t){return t!=t}});var Ge=Math.abs;F(F.S,"Number",{isSafeInteger:function r(t){return We(t)&&Ge(t)<=9007199254740991}});F(F.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});F(F.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});F(F.S+F.F*(Number.parseFloat!=ue),"Number",{parseFloat:ue});F(F.S+F.F*(Number.parseInt!=ie),"Number",{parseInt:ie});var Ue=Math.log1p||function r(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)};var ze=Math.sqrt;var Ve=Math.acosh;F(F.S+F.F*!(Ve&&Math.floor(Ve(Number.MAX_VALUE))==710&&Ve(Infinity)==Infinity),"Math",{acosh:function r(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:Ue(t-1+ze(t-1)*ze(t+1))}});var Be=Math.asinh;function He(r){return!isFinite(r=+r)||r==0?r:r<0?-He(-r):Math.log(r+Math.sqrt(r*r+1))}F(F.S+F.F*!(Be&&1/Be(0)>0),"Math",{asinh:He});var Ke=Math.atanh;F(F.S+F.F*!(Ke&&1/Ke(-0)<0),"Math",{atanh:function r(t){return(t=+t)==0?t:Math.log((1+t)/(1-t))/2}});var Ye=Math.sign||function r(t){return(t=+t)==0||t!=t?t:t<0?-1:1};F(F.S,"Math",{cbrt:function r(t){return Ye(t=+t)*Math.pow(Math.abs(t),1/3)}});F(F.S,"Math",{clz32:function r(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}});var Je=Math.exp;F(F.S,"Math",{cosh:function r(t){return(Je(t=+t)+Je(-t))/2}});var $e=Math.expm1;var qe=!$e||$e(10)>22025.465794806718||$e(10)<22025.465794806718||$e(-2e-17)!=-2e-17?function r(t){return(t=+t)==0?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:$e;F(F.S+F.F*(qe!=Math.expm1),"Math",{expm1:qe});var Xe=Math.pow;var Ze=Xe(2,-52);var Qe=Xe(2,-23);var rn=Xe(2,127)*(2-Qe);var tn=Xe(2,-126);var en=function r(t){return t+1/Ze-1/Ze};var nn=Math.fround||function r(t){var e=Math.abs(t);var n=Ye(t);var i,a;if(e<tn)return n*en(e/tn/Qe)*tn*Qe;i=(1+Qe/Ze)*e;a=i-(i-e);if(a>rn||a!=a)return n*Infinity;return n*a};F(F.S,"Math",{fround:nn});var an=Math.abs;F(F.S,"Math",{hypot:function r(t,e){var n=0;var i=0;var a=arguments.length;var o=0;var u,f;while(i<a){u=an(arguments[i++]);if(o<u){f=o/u;n=n*f*f+1;o=u}else if(u>0){f=u/o;n+=f*f}else n+=u}return o===Infinity?Infinity:o*Math.sqrt(n)}});var on=Math.imul;F(F.S+F.F*a(function(){return on(4294967295,5)!=-5||on.length!=2}),"Math",{imul:function r(t,e){var n=65535;var i=+t;var a=+e;var o=n&i;var u=n&a;return 0|o*u+((n&i>>>16)*u+o*(n&a>>>16)<<16>>>0)}});F(F.S,"Math",{log10:function r(t){return Math.log(t)*Math.LOG10E}});F(F.S,"Math",{log1p:Ue});F(F.S,"Math",{log2:function r(t){return Math.log(t)/Math.LN2}});F(F.S,"Math",{sign:Ye});var un=Math.exp;F(F.S+F.F*a(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function r(t){return Math.abs(t=+t)<1?(qe(t)-qe(-t))/2:(un(t-1)-un(-t-1))*(Math.E/2)}});var fn=Math.exp;F(F.S,"Math",{tanh:function r(t){var e=qe(t=+t);var n=qe(-t);return e==Infinity?1:n==Infinity?-1:(e-n)/(fn(t)+fn(-t))}});F(F.S,"Math",{trunc:function r(t){return(t>0?Math.floor:Math.ceil)(t)}});var cn=String.fromCharCode;var sn=String.fromCodePoint;F(F.S+F.F*(!!sn&&sn.length!=1),"String",{fromCodePoint:function r(t){var e=[];var n=arguments.length;var i=0;var a;while(n>i){a=+arguments[i++];if(ir(a,1114111)!==a)throw RangeError(a+" is not a valid code point");e.push(a<65536?cn(a):cn(((a-=65536)>>10)+55296,a%1024+56320))}return e.join("")}});F(F.S,"String",{raw:function r(t){var e=q(t.raw);var n=tr(e.length);var i=arguments.length;var a=[];var o=0;while(n>o){a.push(String(e[o++]));if(o<i)a.push(String(arguments[o]))}return a.join("")}});re("trim",function(r){return function t(){return r(this,3)}});var ln=function(r){return function(t,e){var n=String($(t));var i=Q(e);var a=n.length;var o,u;if(i<0||i>=a)return r?"":undefined;o=n.charCodeAt(i);return o<55296||o>56319||i+1===a||(u=n.charCodeAt(i+1))<56320||u>57343?r?n.charAt(i):o:r?n.slice(i,i+2):(o-55296<<10)+(u-56320)+65536}};var vn={};var hn={};m(hn,C("iterator"),function(){return this});var pn=function(r,t,e){r.prototype=Pr(hn,{next:w(1,e)});U(r,t+" Iterator")};var dn=C("iterator");var yn=!([].keys&&"next"in[].keys());var gn="@@iterator";var bn="keys";var wn="values";var mn=function r(){return this};var Sn=function(r,t,e,n,i,a,o){pn(e,t,n);var u=function r(t){if(!yn&&t in l)return l[t];switch(t){case bn:return function r(){return new e(this,t)};case wn:return function r(){return new e(this,t)}}return function r(){return new e(this,t)}};var f=t+" Iterator";var c=i==wn;var s=false;var l=r.prototype;var v=l[dn]||l[gn]||i&&l[i];var h=v||u(i);var p=i?!c?h:u("entries"):undefined;var d=t=="Array"?l.entries||v:v;var y,g,b;if(d){b=_t(d.call(new r));if(b!==Object.prototype&&b.next){U(b,f,true);if(typeof b[dn]!="function")m(b,dn,mn)}}if(c&&v&&v.name!==wn){s=true;h=function r(){return v.call(this)}}if(yn||s||!l[dn]){m(l,dn,h)}vn[t]=h;vn[f]=mn;if(i){y={values:c?h:u(wn),keys:a?h:u(bn),entries:p};if(o)for(g in y){if(!(g in l))x(l,g,y[g])}else F(F.P+F.F*(yn||s),t,y)}return y};var _n=ln(true);Sn(String,"String",function(r){this._t=String(r);this._i=0},function(){var r=this._t;var t=this._i;var e;if(t>=r.length)return{value:undefined,done:true};e=_n(r,t);this._i+=e.length;return{value:e,done:false}});var On=ln(false);F(F.P,"String",{codePointAt:function r(t){return On(this,t)}});var xn=C("match");var En=function(r){var t;return c(r)&&((t=r[xn])!==undefined?!!t:Y(r)=="RegExp")};var Pn=function(r,t,e){if(En(t))throw TypeError("String#"+e+" doesn't accept regex!");return String($(r))};var jn=C("match");var Mn=function(r){var t=/./;try{"/./"[r](t)}catch(e){try{t[jn]=false;return!"/./"[r](t)}catch(r){}}return true};var Fn="endsWith";var In=""[Fn];F(F.P+F.F*Mn(Fn),"String",{endsWith:function r(t){var e=Pn(this,t,Fn);var n=arguments.length>1?arguments[1]:undefined;var i=tr(e.length);var a=n===undefined?i:Math.min(tr(n),i);var o=String(t);return In?In.call(e,o,a):e.slice(a-o.length,a)===o}});var An="includes";F(F.P+F.F*Mn(An),"String",{includes:function r(t){return!!~Pn(this,t,An).indexOf(t,arguments.length>1?arguments[1]:undefined)}});F(F.P,"String",{repeat:Ee});var Tn="startsWith";var kn=""[Tn];F(F.P+F.F*Mn(Tn),"String",{startsWith:function r(t){var e=Pn(this,t,Tn);var n=tr(Math.min(arguments.length>1?arguments[1]:undefined,e.length));var i=String(t);return kn?kn.call(e,i,n):e.slice(n,n+i.length)===i}});var Rn=/"/g;var Nn=function r(t,e,n,i){var a=String($(t));var o="<"+e;if(n!=="")o+=" "+n+'="'+String(i).replace(Rn,"&quot;")+'"';return o+">"+a+"</"+e+">"};var Ln=function(r,t){var e={};e[r]=t(Nn);F(F.P+F.F*a(function(){var t=""[r]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",e)};Ln("anchor",function(r){return function t(e){return r(this,"a","name",e)}});Ln("big",function(r){return function t(){return r(this,"big","","")}});Ln("blink",function(r){return function t(){return r(this,"blink","","")}});Ln("bold",function(r){return function t(){return r(this,"b","","")}});Ln("fixed",function(r){return function t(){return r(this,"tt","","")}});Ln("fontcolor",function(r){return function t(e){return r(this,"font","color",e)}});Ln("fontsize",function(r){return function t(e){return r(this,"font","size",e)}});Ln("italics",function(r){return function t(){return r(this,"i","","")}});Ln("link",function(r){return function t(e){return r(this,"a","href",e)}});Ln("small",function(r){return function t(){return r(this,"small","","")}});Ln("strike",function(r){return function t(){return r(this,"strike","","")}});Ln("sub",function(r){return function t(){return r(this,"sub","","")}});Ln("sup",function(r){return function t(){return r(this,"sup","","")}});F(F.S,"Date",{now:function r(){return(new Date).getTime()}});F(F.P+F.F*a(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function r(){return 1}})!==1}),"Date",{toJSON:function r(t){var e=wt(this);var n=d(e);return typeof n=="number"&&!isFinite(n)?null:e.toISOString()}});var Dn=Date.prototype.getTime;var Cn=Date.prototype.toISOString;var Wn=function r(t){return t>9?t:"0"+t};var Gn=a(function(){return Cn.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!a(function(){Cn.call(new Date(NaN))})?function r(){if(!isFinite(Dn.call(this)))throw RangeError("Invalid time value");var t=this;var e=t.getUTCFullYear();var n=t.getUTCMilliseconds();var i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+Wn(t.getUTCMonth()+1)+"-"+Wn(t.getUTCDate())+"T"+Wn(t.getUTCHours())+":"+Wn(t.getUTCMinutes())+":"+Wn(t.getUTCSeconds())+"."+(n>99?n:"0"+Wn(n))+"Z"}:Cn;F(F.P+F.F*(Date.prototype.toISOString!==Gn),"Date",{toISOString:Gn});var Un=Date.prototype;var zn="Invalid Date";var Vn="toString";var Bn=Un[Vn];var Hn=Un.getTime;if(new Date(NaN)+""!=zn){x(Un,Vn,function r(){var t=Hn.call(this);return t===t?Bn.call(this):zn})}var Kn="number";var Yn=function(r){if(r!=="string"&&r!==Kn&&r!=="default")throw TypeError("Incorrect hint");return d(s(this),r!=Kn)};var Jn=C("toPrimitive");var $n=Date.prototype;if(!(Jn in $n))m($n,Jn,Yn);F(F.S,"Array",{isArray:br});var qn=function(r,t,e,n){try{return n?t(s(e)[0],e[1]):t(e)}catch(t){var i=r["return"];if(i!==undefined)s(i.call(r));throw t}};var Xn=C("iterator");var Zn=Array.prototype;var Qn=function(r){return r!==undefined&&(vn.Array===r||Zn[Xn]===r)};var ri=function(r,t,e){if(t in r)b.f(r,t,w(0,e));else r[t]=e};var ti=C("iterator");var ei=u.getIteratorMethod=function(r){if(r!=undefined)return r[ti]||r["@@iterator"]||vn[Rt(r)]};var ni=C("iterator");var ii=false;try{var ai=[7][ni]();ai["return"]=function(){ii=true}}catch(r){}var oi=function(r,t){if(!t&&!ii)return false;var e=false;try{var n=[7];var i=n[ni]();i.next=function(){return{done:e=true}};n[ni]=function(){return i};r(n)}catch(r){}return e};F(F.S+F.F*!oi(function(r){}),"Array",{from:function r(t){var e=wt(t);var n=typeof this=="function"?this:Array;var i=arguments.length;var a=i>1?arguments[1]:undefined;var o=a!==undefined;var u=0;var f=ei(e);var c,s,l,v;if(o)a=P(a,i>2?arguments[2]:undefined,2);if(f!=undefined&&!(n==Array&&Qn(f))){for(v=f.call(e),s=new n;!(l=v.next()).done;u++){ri(s,u,o?qn(v,a,[l.value,u],true):l.value)}}else{c=tr(e.length);for(s=new n(c);c>u;u++){ri(s,u,o?a(e[u],u):e[u])}}s.length=u;return s}});F(F.S+F.F*a(function(){function r(){}return!(Array.of.call(r)instanceof r)}),"Array",{of:function r(){var t=0;var e=arguments.length;var n=new(typeof this=="function"?this:Array)(e);while(e>t){ri(n,t,arguments[t++])}n.length=e;return n}});var ui=function(r,t){return!!r&&a(function(){t?r.call(null,function(){},1):r.call(null)})};var fi=[].join;F(F.P+F.F*(J!=Object||!ui(fi)),"Array",{join:function r(t){return fi.call(q(this),t===undefined?",":t)}});var ci=[].slice;F(F.P+F.F*a(function(){if(Sr)ci.call(Sr)}),"Array",{slice:function r(t,e){var n=tr(this.length);var i=Y(this);e=e===undefined?n:e;if(i=="Array")return ci.call(this,t,e);var a=ir(t,n);var o=ir(e,n);var u=tr(o-a);var f=new Array(u);var c=0;for(;c<u;c++){f[c]=i=="String"?this.charAt(a+c):this[a+c]}return f}});var si=[].sort;var li=[1,2,3];F(F.P+F.F*(a(function(){li.sort(undefined)})||!a(function(){li.sort(null)})||!ui(si)),"Array",{sort:function r(t){return t===undefined?si.call(wt(this)):si.call(wt(this),E(t))}});var vi=C("species");var hi=function(r){var t;if(br(r)){t=r.constructor;if(typeof t=="function"&&(t===Array||br(t.prototype)))t=undefined;if(c(t)){t=t[vi];if(t===null)t=undefined}}return t===undefined?Array:t};var pi=function(r,t){return new(hi(r))(t)};var di=function(r,t){var e=r==1;var n=r==2;var i=r==3;var a=r==4;var o=r==6;var u=r==5||o;var f=t||pi;return function(t,c,s){var l=wt(t);var v=J(l);var h=P(c,s,3);var p=tr(v.length);var d=0;var y=e?f(t,p):n?f(t,0):undefined;var g,b;for(;p>d;d++){if(u||d in v){g=v[d];b=h(g,d,l);if(r){if(e)y[d]=b;else if(b)switch(r){case 3:return true;case 5:return g;case 6:return d;case 2:y.push(g)}else if(a)return false}}}return o?-1:i||a?a:y}};var yi=di(0);var gi=ui([].forEach,true);F(F.P+F.F*!gi,"Array",{forEach:function r(t){return yi(this,t,arguments[1])}});var bi=di(1);F(F.P+F.F*!ui([].map,true),"Array",{map:function r(t){return bi(this,t,arguments[1])}});var wi=di(2);F(F.P+F.F*!ui([].filter,true),"Array",{filter:function r(t){return wi(this,t,arguments[1])}});var mi=di(3);F(F.P+F.F*!ui([].some,true),"Array",{some:function r(t){return mi(this,t,arguments[1])}});var Si=di(4);F(F.P+F.F*!ui([].every,true),"Array",{every:function r(t){return Si(this,t,arguments[1])}});var _i=function(r,t,e,n,i){E(t);var a=wt(r);var o=J(a);var u=tr(a.length);var f=i?u-1:0;var c=i?-1:1;if(e<2)for(;;){if(f in o){n=o[f];f+=c;break}f+=c;if(i?f<0:u<=f){throw TypeError("Reduce of empty array with no initial value")}}for(;i?f>=0:u>f;f+=c){if(f in o){n=t(n,o[f],f,a)}}return n};F(F.P+F.F*!ui([].reduce,true),"Array",{reduce:function r(t){return _i(this,t,arguments.length,arguments[1],false)}});F(F.P+F.F*!ui([].reduceRight,true),"Array",{reduceRight:function r(t){return _i(this,t,arguments.length,arguments[1],true)}});var Oi=ar(false);var xi=[].indexOf;var Ei=!!xi&&1/[1].indexOf(1,-0)<0;F(F.P+F.F*(Ei||!ui(xi)),"Array",{indexOf:function r(t){return Ei?xi.apply(this,arguments)||0:Oi(this,t,arguments[1])}});var Pi=[].lastIndexOf;var ji=!!Pi&&1/[1].lastIndexOf(1,-0)<0;F(F.P+F.F*(ji||!ui(Pi)),"Array",{lastIndexOf:function r(t){if(ji)return Pi.apply(this,arguments)||0;var e=q(this);var n=tr(e.length);var i=n-1;if(arguments.length>1)i=Math.min(i,Q(arguments[1]));if(i<0)i=n+i;for(;i>=0;i--){if(i in e)if(e[i]===t)return i||0}return-1}});var Mi=[].copyWithin||function r(t,e){var n=wt(this);var i=tr(n.length);var a=ir(t,i);var o=ir(e,i);var u=arguments.length>2?arguments[2]:undefined;var f=Math.min((u===undefined?i:ir(u,i))-o,i-a);var c=1;if(o<a&&a<o+f){c=-1;o+=f-1;a+=f-1}while(f-- >0){if(o in n)n[a]=n[o];else delete n[a];a+=c;o+=c}return n};var Fi=C("unscopables");var Ii=Array.prototype;if(Ii[Fi]==undefined)m(Ii,Fi,{});var Ai=function(r){Ii[Fi][r]=true};F(F.P,"Array",{copyWithin:Mi});Ai("copyWithin");var Ti=function r(t){var e=wt(this);var n=tr(e.length);var i=arguments.length;var a=ir(i>1?arguments[1]:undefined,n);var o=i>2?arguments[2]:undefined;var u=o===undefined?n:ir(o,n);while(u>a){e[a++]=t}return e};F(F.P,"Array",{fill:Ti});Ai("fill");var ki=di(5);var Ri="find";var Ni=true;if(Ri in[])Array(1)[Ri](function(){Ni=false});F(F.P+F.F*Ni,"Array",{find:function r(t){return ki(this,t,arguments.length>1?arguments[1]:undefined)}});Ai(Ri);var Li=di(6);var Di="findIndex";var Ci=true;if(Di in[])Array(1)[Di](function(){Ci=false});F(F.P+F.F*Ci,"Array",{findIndex:function r(t){return Li(this,t,arguments.length>1?arguments[1]:undefined)}});Ai(Di);var Wi=C("species");var Gi=function(r){var t=e[r];if(o&&t&&!t[Wi])b.f(t,Wi,{configurable:true,get:function r(){return this}})};Gi("Array");var Ui=function(r,t){return{value:t,done:!!r}};var zi=Sn(Array,"Array",function(r,t){this._t=q(r);this._i=0;this._k=t},function(){var r=this._t;var t=this._k;var e=this._i++;if(!r||e>=r.length){this._t=undefined;return Ui(1)}if(t=="keys")return Ui(0,e);if(t=="values")return Ui(0,r[e]);return Ui(0,[e,r[e]])},"values");vn.Arguments=vn.Array;Ai("keys");Ai("values");Ai("entries");var Vi=function(){var r=s(this);var t="";if(r.global)t+="g";if(r.ignoreCase)t+="i";if(r.multiline)t+="m";if(r.unicode)t+="u";if(r.sticky)t+="y";return t};var Bi=b.f;var Hi=Fr.f;var Ki=e.RegExp;var Yi=Ki;var Ji=Ki.prototype;var $i=/a/g;var qi=/a/g;var Xi=new Ki($i)!==$i;if(o&&(!Xi||a(function(){qi[C("match")]=false;return Ki($i)!=$i||Ki(qi)==qi||Ki($i,"i")!="/a/i"}))){Ki=function r(t,e){var n=this instanceof Ki;var i=En(t);var a=e===undefined;return!n&&i&&t.constructor===Ki&&a?t:ce(Xi?new Yi(i&&!a?t.source:t,e):Yi((i=t instanceof Ki)?t.source:t,i&&a?Vi.call(t):e),n?this:Ji,Ki)};var Zi=function r(t){t in Ki||Bi(Ki,t,{configurable:true,get:function r(){return Yi[t]},set:function r(e){Yi[t]=e}})};for(var Qi=Hi(Yi),ra=0;Qi.length>ra;){Zi(Qi[ra++])}Ji.constructor=Ki;Ki.prototype=Ji;x(e,"RegExp",Ki)}Gi("RegExp");var ta=RegExp.prototype.exec;var ea=String.prototype.replace;var na=ta;var ia="lastIndex";var aa=function(){var r=/a/,t=/b*/g;ta.call(r,"a");ta.call(t,"a");return r[ia]!==0||t[ia]!==0}();var oa=/()??/.exec("")[1]!==undefined;var ua=aa||oa;if(ua){na=function r(t){var e=this;var n,i,a,o;if(oa){i=new RegExp("^"+e.source+"$(?!\\s)",Vi.call(e))}if(aa)n=e[ia];a=ta.call(e,t);if(aa&&a){e[ia]=e.global?a.index+a[0].length:n}if(oa&&a&&a.length>1){ea.call(a[0],i,function(){for(o=1;o<arguments.length-2;o++){if(arguments[o]===undefined)a[o]=undefined}})}return a}}var fa=na;F({target:"RegExp",proto:true,forced:fa!==/./.exec},{exec:fa});if(o&&/./g.flags!="g")b.f(RegExp.prototype,"flags",{configurable:true,get:Vi});var ca="toString";var sa=/./[ca];var la=function r(t){x(RegExp.prototype,ca,t,true)};if(a(function(){return sa.call({source:"a",flags:"b"})!="/a/b"})){la(function r(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?Vi.call(t):undefined)})}else if(sa.name!=ca){la(function r(){return sa.call(this)})}var va=ln(true);var ha=function(r,t,e){return t+(e?va(r,t).length:1)};var pa=RegExp.prototype.exec;var da=function(r,t){var e=r.exec;if(typeof e==="function"){var n=e.call(r,t);if(babelHelpers.typeof(n)!=="object"){throw new TypeError("RegExp exec method returned something other than an Object or null")}return n}if(Rt(r)!=="RegExp"){throw new TypeError("RegExp#exec called on incompatible receiver")}return pa.call(r,t)};var ya=C("species");var ga=!a(function(){var r=/./;r.exec=function(){var r=[];r.groups={a:"7"};return r};return"".replace(r,"$<a>")!=="7"});var ba=function(){var r=/(?:)/;var t=r.exec;r.exec=function(){return t.apply(this,arguments)};var e="ab".split(r);return e.length===2&&e[0]==="a"&&e[1]==="b"}();var wa=function(r,t,e){var n=C(r);var i=!a(function(){var t={};t[n]=function(){return 7};return""[r](t)!=7});var o=i?!a(function(){var t=false;var e=/a/;e.exec=function(){t=true;return null};if(r==="split"){e.constructor={};e.constructor[ya]=function(){return e}}e[n]("");return!t}):undefined;if(!i||!o||r==="replace"&&!ga||r==="split"&&!ba){var u=/./[n];var f=e($,n,""[r],function r(t,e,n,a,o){if(e.exec===fa){if(i&&!o){return{done:true,value:u.call(e,n,a)}}return{done:true,value:t.call(n,e,a)}}return{done:false}});var c=f[0];var s=f[1];x(String.prototype,r,c);m(RegExp.prototype,n,t==2?function(r,t){return s.call(r,this,t)}:function(r){return s.call(r,this)})}};wa("match",1,function(r,t,e,n){return[function e(n){var i=r(this);var a=n==undefined?undefined:n[t];return a!==undefined?a.call(n,i):new RegExp(n)[t](String(i))},function(r){var t=n(e,r,this);if(t.done)return t.value;var i=s(r);var a=String(this);if(!i.global)return da(i,a);var o=i.unicode;i.lastIndex=0;var u=[];var f=0;var c;while((c=da(i,a))!==null){var l=String(c[0]);u[f]=l;if(l==="")i.lastIndex=ha(a,tr(i.lastIndex),o);f++}return f===0?null:u}]});var ma=Math.max;var Sa=Math.min;var _a=Math.floor;var Oa=/\$([$&`']|\d\d?|<[^>]*>)/g;var xa=/\$([$&`']|\d\d?)/g;var Ea=function r(t){return t===undefined?t:String(t)};wa("replace",2,function(r,t,e,n){return[function n(i,a){var o=r(this);var u=i==undefined?undefined:i[t];return u!==undefined?u.call(i,o,a):e.call(String(o),i,a)},function(r,t){var a=n(e,r,this,t);if(a.done)return a.value;var o=s(r);var u=String(this);var f=typeof t==="function";if(!f)t=String(t);var c=o.global;if(c){var l=o.unicode;o.lastIndex=0}var v=[];while(true){var h=da(o,u);if(h===null)break;v.push(h);if(!c)break;var p=String(h[0]);if(p==="")o.lastIndex=ha(u,tr(o.lastIndex),l)}var d="";var y=0;for(var g=0;g<v.length;g++){h=v[g];var b=String(h[0]);var w=ma(Sa(Q(h.index),u.length),0);var m=[];for(var S=1;S<h.length;S++){m.push(Ea(h[S]))}var _=h.groups;if(f){var O=[b].concat(m,w,u);if(_!==undefined)O.push(_);var x=String(t.apply(undefined,O))}else{x=i(b,u,w,m,_,t)}if(w>=y){d+=u.slice(y,w)+x;y=w+b.length}}return d+u.slice(y)}];function i(r,t,n,i,a,o){var u=n+r.length;var f=i.length;var c=xa;if(a!==undefined){a=wt(a);c=Oa}return e.call(o,c,function(e,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return r;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":c=a[o.slice(1,-1)];break;default:var s=+o;if(s===0)return e;if(s>f){var l=_a(s/10);if(l===0)return e;if(l<=f)return i[l-1]===undefined?o.charAt(1):i[l-1]+o.charAt(1);return e}c=i[s-1]}return c===undefined?"":c})}});wa("search",1,function(r,t,e,n){return[function e(n){var i=r(this);var a=n==undefined?undefined:n[t];return a!==undefined?a.call(n,i):new RegExp(n)[t](String(i))},function(r){var t=n(e,r,this);if(t.done)return t.value;var i=s(r);var a=String(this);var o=i.lastIndex;if(!Mt(o,0))i.lastIndex=0;var u=da(i,a);if(!Mt(i.lastIndex,o))i.lastIndex=o;return u===null?-1:u.index}]});var Pa=C("species");var ja=function(r,t){var e=s(r).constructor;var n;return e===undefined||(n=s(e)[Pa])==undefined?t:E(n)};var Ma=Math.min;var Fa=[].push;var Ia="split";var Aa="length";var Ta="lastIndex";var ka=4294967295;var Ra=!a(function(){});wa("split",2,function(r,t,e,n){var i;if("abbc"[Ia](/(b)*/)[1]=="c"||"test"[Ia](/(?:)/,-1)[Aa]!=4||"ab"[Ia](/(?:ab)*/)[Aa]!=2||"."[Ia](/(.?)(.?)/)[Aa]!=4||"."[Ia](/()()/)[Aa]>1||""[Ia](/.?/)[Aa]){i=function r(t,n){var i=String(this);if(t===undefined&&n===0)return[];if(!En(t))return e.call(i,t,n);var a=[];var o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"");var u=0;var f=n===undefined?ka:n>>>0;var c=new RegExp(t.source,o+"g");var s,l,v;while(s=fa.call(c,i)){l=c[Ta];if(l>u){a.push(i.slice(u,s.index));if(s[Aa]>1&&s.index<i[Aa])Fa.apply(a,s.slice(1));v=s[0][Aa];u=l;if(a[Aa]>=f)break}if(c[Ta]===s.index)c[Ta]++}if(u===i[Aa]){if(v||!c.test(""))a.push("")}else a.push(i.slice(u));return a[Aa]>f?a.slice(0,f):a}}else if("0"[Ia](undefined,0)[Aa]){i=function r(t,n){return t===undefined&&n===0?[]:e.call(this,t,n)}}else{i=e}return[function e(n,a){var o=r(this);var u=n==undefined?undefined:n[t];return u!==undefined?u.call(n,o,a):i.call(String(o),n,a)},function(r,t){var a=n(i,r,this,t,i!==e);if(a.done)return a.value;var o=s(r);var u=String(this);var f=ja(o,RegExp);var c=o.unicode;var l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Ra?"y":"g");var v=new f(Ra?o:"^(?:"+o.source+")",l);var h=t===undefined?ka:t>>>0;if(h===0)return[];if(u.length===0)return da(v,u)===null?[u]:[];var p=0;var d=0;var y=[];while(d<u.length){v.lastIndex=Ra?d:0;var g=da(v,Ra?u:u.slice(d));var b;if(g===null||(b=Ma(tr(v.lastIndex+(Ra?0:d)),u.length))===p){d=ha(u,d,c)}else{y.push(u.slice(p,d));if(y.length===h)return y;for(var w=1;w<=g.length-1;w++){y.push(g[w]);if(y.length===h)return y}d=p=b}}y.push(u.slice(p));return y}]});var Na=function(r,t,e,n){if(!(r instanceof t)||n!==undefined&&n in r){throw TypeError(e+": incorrect invocation!")}return r};var La=t(function(r){var t={};var e={};var n=r.exports=function(r,n,i,a,o){var u=o?function(){return r}:ei(r);var f=P(i,a,n?2:1);var c=0;var l,v,h,p;if(typeof u!="function")throw TypeError(r+" is not iterable!");if(Qn(u))for(l=tr(r.length);l>c;c++){p=n?f(s(v=r[c])[0],v[1]):f(r[c]);if(p===t||p===e)return p}else for(h=u.call(r);!(v=h.next()).done;){p=qn(h,f,v.value,n);if(p===t||p===e)return p}};n.BREAK=t;n.RETURN=e});var Da=e.process;var Ca=e.setImmediate;var Wa=e.clearImmediate;var Ga=e.MessageChannel;var Ua=e.Dispatch;var za=0;var Va={};var Ba="onreadystatechange";var Ha,Ka,Ya;var Ja=function r(){var t=+this;if(Va.hasOwnProperty(t)){var e=Va[t];delete Va[t];e()}};var $a=function r(t){Ja.call(t.data)};if(!Ca||!Wa){Ca=function r(t){var e=[];var n=1;while(arguments.length>n){e.push(arguments[n++])}Va[++za]=function(){Lt(typeof t=="function"?t:Function(t),e)};Ha(za);return za};Wa=function r(t){delete Va[t]};if(Y(Da)=="process"){Ha=function r(t){Da.nextTick(P(Ja,t,1))}}else if(Ua&&Ua.now){Ha=function r(t){Ua.now(P(Ja,t,1))}}else if(Ga){Ka=new Ga;Ya=Ka.port2;Ka.port1.onmessage=$a;Ha=P(Ya.postMessage,Ya,1)}else if(e.addEventListener&&typeof postMessage=="function"&&!e.importScripts){Ha=function r(t){e.postMessage(t+"","*")};e.addEventListener("message",$a,false)}else if(Ba in h("script")){Ha=function r(t){Sr.appendChild(h("script"))[Ba]=function(){Sr.removeChild(this);Ja.call(t)}}}else{Ha=function r(t){setTimeout(P(Ja,t,1),0)}}}var qa={set:Ca,clear:Wa};var Xa=qa.set;var Za=e.MutationObserver||e.WebKitMutationObserver;var Qa=e.process;var ro=e.Promise;var to=Y(Qa)=="process";var eo=function(){var r,t,n;var i=function e(){var i,a;if(to&&(i=Qa.domain))i.exit();while(r){a=r.fn;r=r.next;try{a()}catch(e){if(r)n();else t=undefined;throw e}}t=undefined;if(i)i.enter()};if(to){n=function r(){Qa.nextTick(i)}}else if(Za&&!(e.navigator&&e.navigator.standalone)){var a=true;var o=document.createTextNode("");new Za(i).observe(o,{characterData:true});n=function r(){o.data=a=!a}}else if(ro&&ro.resolve){var u=ro.resolve(undefined);n=function r(){u.then(i)}}else{n=function r(){Xa.call(e,i)}}return function(e){var i={fn:e,next:undefined};if(t)t.next=i;if(!r){r=i;n()}t=i}};function no(r){var t,e;this.promise=new r(function(r,n){if(t!==undefined||e!==undefined)throw TypeError("Bad Promise constructor");t=r;e=n});this.resolve=E(t);this.reject=E(e)}var io=function(r){return new no(r)};var ao={f:io};var oo=function(r){try{return{e:false,v:r()}}catch(r){return{e:true,v:r}}};var uo=e.navigator;var fo=uo&&uo.userAgent||"";var co=function(r,t){s(r);if(c(t)&&t.constructor===r)return t;var e=ao.f(r);var n=e.resolve;n(t);return e.promise};var so=function(r,t,e){for(var n in t){x(r,n,t[n],e)}return r};var lo=qa.set;var vo=eo();var ho="Promise";var po=e.TypeError;var yo=e.process;var go=yo&&yo.versions;var bo=go&&go.v8||"";var wo=e[ho];var mo=Rt(yo)=="process";var So=function r(){};var _o,Oo,xo,Eo;var Po=Oo=ao.f;var jo=!!function(){try{var r=wo.resolve(1);var t=(r.constructor={})[C("species")]=function(r){r(So,So)};return(mo||typeof PromiseRejectionEvent=="function")&&r.then(So)instanceof t&&bo.indexOf("6.6")!==0&&fo.indexOf("Chrome/66")===-1}catch(r){}}();var Mo=function r(t){var e;return c(t)&&typeof(e=t.then)=="function"?e:false};var Fo=function r(t,e){if(t._n)return;t._n=true;var n=t._c;vo(function(){var r=t._v;var i=t._s==1;var a=0;var o=function e(n){var a=i?n.ok:n.fail;var o=n.resolve;var u=n.reject;var f=n.domain;var c,s,l;try{if(a){if(!i){if(t._h==2)To(t);t._h=1}if(a===true)c=r;else{if(f)f.enter();c=a(r);if(f){f.exit();l=true}}if(c===n.promise){u(po("Promise-chain cycle"))}else if(s=Mo(c)){s.call(c,o,u)}else o(c)}else u(r)}catch(r){if(f&&!l)f.exit();u(r)}};while(n.length>a){o(n[a++])}t._c=[];t._n=false;if(e&&!t._h)Io(t)})};var Io=function r(t){lo.call(e,function(){var r=t._v;var n=Ao(t);var i,a,o;if(n){i=oo(function(){if(mo){yo.emit("unhandledRejection",r,t)}else if(a=e.onunhandledrejection){a({promise:t,reason:r})}else if((o=e.console)&&o.error){o.error("Unhandled promise rejection",r)}});t._h=mo||Ao(t)?2:1}t._a=undefined;if(n&&i.e)throw i.v})};var Ao=function r(t){return t._h!==1&&(t._a||t._c).length===0};var To=function r(t){lo.call(e,function(){var r;if(mo){yo.emit("rejectionHandled",t)}else if(r=e.onrejectionhandled){r({promise:t,reason:t._v})}})};var ko=function r(t){var e=this;if(e._d)return;e._d=true;e=e._w||e;e._v=t;e._s=2;if(!e._a)e._a=e._c.slice();Fo(e,true)};var Ro=function r(t){var e=this;var n;if(e._d)return;e._d=true;e=e._w||e;try{if(e===t)throw po("Promise can't be resolved itself");if(n=Mo(t)){vo(function(){var i={_w:e,_d:false};try{n.call(t,P(r,i,1),P(ko,i,1))}catch(r){ko.call(i,r)}})}else{e._v=t;e._s=1;Fo(e,false)}}catch(r){ko.call({_w:e,_d:false},r)}};if(!jo){wo=function r(t){Na(this,wo,ho,"_h");E(t);_o.call(this);try{t(P(Ro,this,1),P(ko,this,1))}catch(r){ko.call(this,r)}};_o=function r(t){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};_o.prototype=so(wo.prototype,{then:function r(t,e){var n=Po(ja(this,wo));n.ok=typeof t=="function"?t:true;n.fail=typeof e=="function"&&e;n.domain=mo?yo.domain:undefined;this._c.push(n);if(this._a)this._a.push(n);if(this._s)Fo(this,false);return n.promise},catch:function r(t){return this.then(undefined,t)}});xo=function r(){var t=new _o;this.promise=t;this.resolve=P(Ro,t,1);this.reject=P(ko,t,1)};ao.f=Po=function r(t){return t===wo||t===Eo?new xo(t):Oo(t)}}F(F.G+F.W+F.F*!jo,{Promise:wo});U(wo,ho);Gi(ho);Eo=u[ho];F(F.S+F.F*!jo,ho,{reject:function r(t){var e=Po(this);var n=e.reject;n(t);return e.promise}});F(F.S+F.F*(L||!jo),ho,{resolve:function r(t){return co(L&&this===Eo?wo:this,t)}});F(F.S+F.F*!(jo&&oi(function(r){wo.all(r)["catch"](So)})),ho,{all:function r(t){var e=this;var n=Po(e);var i=n.resolve;var a=n.reject;var o=oo(function(){var r=[];var n=0;var o=1;La(t,false,function(t){var u=n++;var f=false;r.push(undefined);o++;e.resolve(t).then(function(t){if(f)return;f=true;r[u]=t;--o||i(r)},a)});--o||i(r)});if(o.e)a(o.v);return n.promise},race:function r(t){var e=this;var n=Po(e);var i=n.reject;var a=oo(function(){La(t,false,function(r){e.resolve(r).then(n.resolve,i)})});if(a.e)i(a.v);return n.promise}});var No=function(r,t){if(!c(r)||r._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return r};var Lo=b.f;var Do=I.fastKey;var Co=o?"_s":"size";var Wo=function r(t,e){var n=Do(e);var i;if(n!=="F")return t._i[n];for(i=t._f;i;i=i.n){if(i.k==e)return i}};var Go={getConstructor:function r(t,e,n,i){var a=t(function(r,t){Na(r,a,e,"_i");r._t=e;r._i=Pr(null);r._f=undefined;r._l=undefined;r[Co]=0;if(t!=undefined)La(t,n,r[i],r)});so(a.prototype,{clear:function r(){for(var t=No(this,e),n=t._i,i=t._f;i;i=i.n){i.r=true;if(i.p)i.p=i.p.n=undefined;delete n[i.i]}t._f=t._l=undefined;t[Co]=0},delete:function r(t){var n=No(this,e);var i=Wo(n,t);if(i){var a=i.n;var o=i.p;delete n._i[i.i];i.r=true;if(o)o.n=a;if(a)a.p=o;if(n._f==i)n._f=a;if(n._l==i)n._l=o;n[Co]--}return!!i},forEach:function r(t){No(this,e);var n=P(t,arguments.length>1?arguments[1]:undefined,3);var i;while(i=i?i.n:this._f){n(i.v,i.k,this);while(i&&i.r){i=i.p}}},has:function r(t){return!!Wo(No(this,e),t)}});if(o)Lo(a.prototype,"size",{get:function r(){return No(this,e)[Co]}});return a},def:function r(t,e,n){var i=Wo(t,e);var a,o;if(i){i.v=n}else{t._l=i={i:o=Do(e,true),k:e,v:n,p:a=t._l,n:undefined,r:false};if(!t._f)t._f=i;if(a)a.n=i;t[Co]++;if(o!=="F")t._i[o]=i}return t},getEntry:Wo,setStrong:function r(t,e,n){Sn(t,e,function(r,t){this._t=No(r,e);this._k=t;this._l=undefined},function(){var r=this;var t=r._k;var e=r._l;while(e&&e.r){e=e.p}if(!r._t||!(r._l=e=e?e.n:r._t._f)){r._t=undefined;return Ui(1)}if(t=="keys")return Ui(0,e.k);if(t=="values")return Ui(0,e.v);return Ui(0,[e.k,e.v])},n?"entries":"values",!n,true);Gi(e)}};var Uo=function(r,t,n,i,o,u){var f=e[r];var s=f;var l=o?"set":"add";var v=s&&s.prototype;var h={};var p=function r(t){var e=v[t];x(v,t,t=="delete"?function(r){return u&&!c(r)?false:e.call(this,r===0?0:r)}:t=="has"?function r(t){return u&&!c(t)?false:e.call(this,t===0?0:t)}:t=="get"?function r(t){return u&&!c(t)?undefined:e.call(this,t===0?0:t)}:t=="add"?function r(t){e.call(this,t===0?0:t);return this}:function r(t,n){e.call(this,t===0?0:t,n);return this})};if(typeof s!="function"||!(u||v.forEach&&!a(function(){(new s).entries().next()}))){s=i.getConstructor(t,r,o,l);so(s.prototype,n);I.NEED=true}else{var d=new s;var y=d[l](u?{}:-0,1)!=d;var g=a(function(){d.has(1)});var b=oi(function(r){new s(r)});var w=!u&&a(function(){var r=new s;var t=5;while(t--){r[l](t,t)}return!r.has(-0)});if(!b){s=t(function(t,e){Na(t,s,r);var n=ce(new f,t,s);if(e!=undefined)La(e,o,n[l],n);return n});s.prototype=v;v.constructor=s}if(g||w){p("delete");p("has");o&&p("get")}if(w||y)p(l);if(u&&v.clear)delete v.clear}U(s,r);h[r]=s;F(F.G+F.W+F.F*(s!=f),h);if(!u)i.setStrong(s,r,o);return s};var zo="Map";var Vo=Uo(zo,function(r){return function t(){return r(this,arguments.length>0?arguments[0]:undefined)}},{get:function r(t){var e=Go.getEntry(No(this,zo),t);return e&&e.v},set:function r(t,e){return Go.def(No(this,zo),t===0?0:t,e)}},Go,true);var Bo="Set";var Ho=Uo(Bo,function(r){return function t(){return r(this,arguments.length>0?arguments[0]:undefined)}},{add:function r(t){return Go.def(No(this,Bo),t=t===0?0:t,t)}},Go);var Ko=I.getWeak;var Yo=di(5);var Jo=di(6);var $o=0;var qo=function r(t){return t._l||(t._l=new Xo)};var Xo=function r(){this.a=[]};var Zo=function r(t,e){return Yo(t.a,function(r){return r[0]===e})};Xo.prototype={get:function r(t){var e=Zo(this,t);if(e)return e[1]},has:function r(t){return!!Zo(this,t)},set:function r(t,e){var n=Zo(this,t);if(n)n[1]=e;else this.a.push([t,e])},delete:function r(t){var e=Jo(this.a,function(r){return r[0]===t});if(~e)this.a.splice(e,1);return!!~e}};var Qo={getConstructor:function r(t,e,n,a){var o=t(function(r,t){Na(r,o,e,"_i");r._t=e;r._i=$o++;r._l=undefined;if(t!=undefined)La(t,n,r[a],r)});so(o.prototype,{delete:function r(t){if(!c(t))return false;var n=Ko(t);if(n===true)return qo(No(this,e))["delete"](t);return n&&i(n,this._i)&&delete n[this._i]},has:function r(t){if(!c(t))return false;var n=Ko(t);if(n===true)return qo(No(this,e)).has(t);return n&&i(n,this._i)}});return o},def:function r(t,e,n){var i=Ko(s(e),true);if(i===true)qo(t).set(e,n);else i[t._i]=n;return t},ufstore:qo};var ru=t(function(r){var t=di(0);var e="WeakMap";var n=I.getWeak;var i=Object.isExtensible;var o=Qo.ufstore;var u={};var f;var s=function r(t){return function r(){return t(this,arguments.length>0?arguments[0]:undefined)}};var l={get:function r(t){if(c(t)){var i=n(t);if(i===true)return o(No(this,e)).get(t);return i?i[this._i]:undefined}},set:function r(t,n){return Qo.def(No(this,e),t,n)}};var v=r.exports=Uo(e,s,l,Qo,true,true);if(a(function(){return(new v).set((Object.freeze||Object)(u),7).get(u)!=7})){f=Qo.getConstructor(s,e);jt(f.prototype,l);I.NEED=true;t(["delete","has","get","set"],function(r){var t=v.prototype;var e=t[r];x(t,r,function(t,n){if(c(t)&&!i(t)){if(!this._f)this._f=new f;var a=this._f[r](t,n);return r=="set"?this:a}return e.call(this,t,n)})})}});var tu="WeakSet";Uo(tu,function(r){return function t(){return r(this,arguments.length>0?arguments[0]:undefined)}},{add:function r(t){return Qo.def(No(this,tu),t,true)}},Qo,false,true);var eu=O("typed_array");var nu=O("view");var iu=!!(e.ArrayBuffer&&e.DataView);var au=iu;var ou=0;var uu=9;var fu;var cu="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(ou<uu){if(fu=e[cu[ou++]]){m(fu.prototype,eu,true);m(fu.prototype,nu,true)}else au=false}var su={ABV:iu,CONSTR:au,TYPED:eu,VIEW:nu};var lu=function(r){if(r===undefined)return 0;var t=Q(r);var e=tr(t);if(t!==e)throw RangeError("Wrong length!");return e};var vu=t(function(r,t){var n=Fr.f;var i=b.f;var u="ArrayBuffer";var f="DataView";var c="prototype";var s="Wrong length!";var l="Wrong index!";var v=e[u];var h=e[f];var p=e.Math;var d=e.RangeError;var y=e.Infinity;var g=v;var w=p.abs;var S=p.pow;var _=p.floor;var O=p.log;var x=p.LN2;var E="buffer";var P="byteLength";var j="byteOffset";var M=o?"_b":E;var F=o?"_l":P;var I=o?"_o":j;function A(r,t,e){var n=new Array(e);var i=e*8-t-1;var a=(1<<i)-1;var o=a>>1;var u=t===23?S(2,-24)-S(2,-77):0;var f=0;var c=r<0||r===0&&1/r<0?1:0;var s,l,v;r=w(r);if(r!=r||r===y){l=r!=r?1:0;s=a}else{s=_(O(r)/x);if(r*(v=S(2,-s))<1){s--;v*=2}if(s+o>=1){r+=u/v}else{r+=u*S(2,1-o)}if(r*v>=2){s++;v/=2}if(s+o>=a){l=0;s=a}else if(s+o>=1){l=(r*v-1)*S(2,t);s=s+o}else{l=r*S(2,o-1)*S(2,t);s=0}}for(;t>=8;n[f++]=l&255,l/=256,t-=8){}s=s<<t|l;i+=t;for(;i>0;n[f++]=s&255,s/=256,i-=8){}n[--f]|=c*128;return n}function T(r,t,e){var n=e*8-t-1;var i=(1<<n)-1;var a=i>>1;var o=n-7;var u=e-1;var f=r[u--];var c=f&127;var s;f>>=7;for(;o>0;c=c*256+r[u],u--,o-=8){}s=c&(1<<-o)-1;c>>=-o;o+=t;for(;o>0;s=s*256+r[u],u--,o-=8){}if(c===0){c=1-a}else if(c===i){return s?NaN:f?-y:y}else{s=s+S(2,t);c=c-a}return(f?-1:1)*s*S(2,c-t)}function k(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]}function R(r){return[r&255]}function N(r){return[r&255,r>>8&255]}function L(r){return[r&255,r>>8&255,r>>16&255,r>>24&255]}function D(r){return A(r,52,8)}function C(r){return A(r,23,4)}function W(r,t,e){i(r[c],t,{get:function r(){return this[e]}})}function G(r,t,e,n){var i=+e;var a=lu(i);if(a+t>r[F])throw d(l);var o=r[M]._b;var u=a+r[I];var f=o.slice(u,u+t);return n?f:f.reverse()}function z(r,t,e,n,i,a){var o=+e;var u=lu(o);if(u+t>r[F])throw d(l);var f=r[M]._b;var c=u+r[I];var s=n(+i);for(var v=0;v<t;v++){f[c+v]=s[a?v:t-v-1]}}if(!su.ABV){v=function r(t){Na(this,v,u);var e=lu(t);this._b=Ti.call(new Array(e),0);this[F]=e};h=function r(t,e,n){Na(this,h,f);Na(t,v,f);var i=t[F];var a=Q(e);if(a<0||a>i)throw d("Wrong offset!");n=n===undefined?i-a:tr(n);if(a+n>i)throw d(s);this[M]=t;this[I]=a;this[F]=n};if(o){W(v,P,"_l");W(h,E,"_b");W(h,P,"_l");W(h,j,"_o")}so(h[c],{getInt8:function r(t){return G(this,1,t)[0]<<24>>24},getUint8:function r(t){return G(this,1,t)[0]},getInt16:function r(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function r(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function r(t){return k(G(this,4,t,arguments[1]))},getUint32:function r(t){return k(G(this,4,t,arguments[1]))>>>0},getFloat32:function r(t){return T(G(this,4,t,arguments[1]),23,4)},getFloat64:function r(t){return T(G(this,8,t,arguments[1]),52,8)},setInt8:function r(t,e){z(this,1,t,R,e)},setUint8:function r(t,e){z(this,1,t,R,e)},setInt16:function r(t,e){z(this,2,t,N,e,arguments[2])},setUint16:function r(t,e){z(this,2,t,N,e,arguments[2])},setInt32:function r(t,e){z(this,4,t,L,e,arguments[2])},setUint32:function r(t,e){z(this,4,t,L,e,arguments[2])},setFloat32:function r(t,e){z(this,4,t,C,e,arguments[2])},setFloat64:function r(t,e){z(this,8,t,D,e,arguments[2])}})}else{if(!a(function(){v(1)})||!a(function(){new v(-1)})||a(function(){new v;new v(1.5);new v(NaN);return v.name!=u})){v=function r(t){Na(this,v);return new g(lu(t))};var V=v[c]=g[c];for(var B=n(g),H=0,K;B.length>H;){if(!((K=B[H++])in v))m(v,K,g[K])}V.constructor=v}var Y=new h(new v(2));var J=h[c].setInt8;Y.setInt8(0,2147483648);Y.setInt8(1,2147483649);if(Y.getInt8(0)||!Y.getInt8(1))so(h[c],{setInt8:function r(t,e){J.call(this,t,e<<24>>24)},setUint8:function r(t,e){J.call(this,t,e<<24>>24)}},true)}U(v,u);U(h,f);m(h[c],su.VIEW,true);t[u]=v;t[f]=h});var hu=e.ArrayBuffer;var pu=vu.ArrayBuffer;var du=vu.DataView;var yu=su.ABV&&hu.isView;var gu=pu.prototype.slice;var bu=su.VIEW;var wu="ArrayBuffer";F(F.G+F.W+F.F*(hu!==pu),{ArrayBuffer:pu});F(F.S+F.F*!su.CONSTR,wu,{isView:function r(t){return yu&&yu(t)||c(t)&&bu in t}});F(F.P+F.U+F.F*a(function(){return!new pu(2).slice(1,undefined).byteLength}),wu,{slice:function r(t,e){if(gu!==undefined&&e===undefined)return gu.call(s(this),t);var n=s(this).byteLength;var i=ir(t,n);var a=ir(e===undefined?n:e,n);var o=new(ja(this,pu))(tr(a-i));var u=new du(this);var f=new du(o);var c=0;while(i<a){f.setUint8(c++,u.getUint8(i++))}return o}});Gi(wu);F(F.G+F.W+F.F*!su.ABV,{DataView:vu.DataView});var mu=t(function(r){if(o){var t=e;var n=a;var u=F;var f=su;var s=vu;var l=P;var v=Na;var h=w;var p=m;var y=so;var g=Q;var S=tr;var _=lu;var x=ir;var E=d;var j=i;var M=Rt;var I=c;var A=wt;var T=Qn;var k=Pr;var R=_t;var N=Fr.f;var L=ei;var D=O;var W=C;var G=di;var U=ar;var z=ja;var V=zi;var B=vn;var H=oi;var K=Gi;var Y=Ti;var J=Mi;var $=b;var q=Cr;var X=$.f;var Z=q.f;var rr=t.RangeError;var er=t.TypeError;var nr=t.Uint8Array;var or="ArrayBuffer";var ur="Shared"+or;var fr="BYTES_PER_ELEMENT";var cr="prototype";var sr=Array[cr];var lr=s.ArrayBuffer;var vr=s.DataView;var hr=G(0);var pr=G(2);var dr=G(3);var yr=G(4);var gr=G(5);var br=G(6);var wr=U(true);var mr=U(false);var Sr=V.values;var _r=V.keys;var Or=V.entries;var xr=sr.lastIndexOf;var Er=sr.reduce;var jr=sr.reduceRight;var Mr=sr.join;var Ir=sr.sort;var Ar=sr.slice;var Tr=sr.toString;var kr=sr.toLocaleString;var Rr=W("iterator");var Nr=W("toStringTag");var Lr=D("typed_constructor");var Dr=D("def_constructor");var Wr=f.CONSTR;var Gr=f.TYPED;var Ur=f.VIEW;var zr="Wrong length!";var Vr=G(1,function(r,t){return Jr(z(r,r[Dr]),t)});var Br=n(function(){return new nr(new Uint16Array([1]).buffer)[0]===1});var Hr=!!nr&&!!nr[cr].set&&n(function(){new nr(1).set({})});var Kr=function r(t,e){var n=g(t);if(n<0||n%e)throw rr("Wrong offset!");return n};var Yr=function r(t){if(I(t)&&Gr in t)return t;throw er(t+" is not a typed array!")};var Jr=function r(t,e){if(!(I(t)&&Lr in t)){throw er("It is not a typed array constructor!")}return new t(e)};var $r=function r(t,e){return qr(z(t,t[Dr]),e)};var qr=function r(t,e){var n=0;var i=e.length;var a=Jr(t,i);while(i>n){a[n]=e[n++]}return a};var Xr=function r(t,e,n){X(t,e,{get:function r(){return this._d[n]}})};var Zr=function r(t){var e=A(t);var n=arguments.length;var i=n>1?arguments[1]:undefined;var a=i!==undefined;var o=L(e);var u,f,c,s,v,h;if(o!=undefined&&!T(o)){for(h=o.call(e),c=[],u=0;!(v=h.next()).done;u++){c.push(v.value)}e=c}if(a&&n>2)i=l(i,arguments[2],2);for(u=0,f=S(e.length),s=Jr(this,f);f>u;u++){s[u]=a?i(e[u],u):e[u]}return s};var Qr=function r(){var t=0;var e=arguments.length;var n=Jr(this,e);while(e>t){n[t]=arguments[t++]}return n};var rt=!!nr&&n(function(){kr.call(new nr(1))});var tt=function r(){return kr.apply(rt?Ar.call(Yr(this)):Yr(this),arguments)};var et={copyWithin:function r(t,e){return J.call(Yr(this),t,e,arguments.length>2?arguments[2]:undefined)},every:function r(t){return yr(Yr(this),t,arguments.length>1?arguments[1]:undefined)},fill:function r(t){return Y.apply(Yr(this),arguments)},filter:function r(t){return $r(this,pr(Yr(this),t,arguments.length>1?arguments[1]:undefined))},find:function r(t){return gr(Yr(this),t,arguments.length>1?arguments[1]:undefined)},findIndex:function r(t){return br(Yr(this),t,arguments.length>1?arguments[1]:undefined)},forEach:function r(t){hr(Yr(this),t,arguments.length>1?arguments[1]:undefined)},indexOf:function r(t){return mr(Yr(this),t,arguments.length>1?arguments[1]:undefined)},includes:function r(t){return wr(Yr(this),t,arguments.length>1?arguments[1]:undefined)},join:function r(t){return Mr.apply(Yr(this),arguments)},lastIndexOf:function r(t){return xr.apply(Yr(this),arguments)},map:function r(t){return Vr(Yr(this),t,arguments.length>1?arguments[1]:undefined)},reduce:function r(t){return Er.apply(Yr(this),arguments)},reduceRight:function r(t){return jr.apply(Yr(this),arguments)},reverse:function r(){var t=this;var e=Yr(t).length;var n=Math.floor(e/2);var i=0;var a;while(i<n){a=t[i];t[i++]=t[--e];t[e]=a}return t},some:function r(t){return dr(Yr(this),t,arguments.length>1?arguments[1]:undefined)},sort:function r(t){return Ir.call(Yr(this),t)},subarray:function r(t,e){var n=Yr(this);var i=n.length;var a=x(t,i);return new(z(n,n[Dr]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,S((e===undefined?i:x(e,i))-a))}};var nt=function r(t,e){return $r(this,Ar.call(Yr(this),t,e))};var it=function r(t){Yr(this);var e=Kr(arguments[1],1);var n=this.length;var i=A(t);var a=S(i.length);var o=0;if(a+e>n)throw rr(zr);while(o<a){this[e+o]=i[o++]}};var at={entries:function r(){return Or.call(Yr(this))},keys:function r(){return _r.call(Yr(this))},values:function r(){return Sr.call(Yr(this))}};var ot=function r(t,e){return I(t)&&t[Gr]&&babelHelpers.typeof(e)!="symbol"&&e in t&&String(+e)==String(e)};var ut=function r(t,e){return ot(t,e=E(e,true))?h(2,t[e]):Z(t,e)};var ft=function r(t,e,n){if(ot(t,e=E(e,true))&&I(n)&&j(n,"value")&&!j(n,"get")&&!j(n,"set")&&!n.configurable&&(!j(n,"writable")||n.writable)&&(!j(n,"enumerable")||n.enumerable)){t[e]=n.value;return t}return X(t,e,n)};if(!Wr){q.f=ut;$.f=ft}u(u.S+u.F*!Wr,"Object",{getOwnPropertyDescriptor:ut,defineProperty:ft});if(n(function(){Tr.call({})})){Tr=kr=function r(){return Mr.call(this)}}var ct=y({},et);y(ct,at);p(ct,Rr,at.values);y(ct,{slice:nt,set:it,constructor:function r(){},toString:Tr,toLocaleString:tt});Xr(ct,"buffer","b");Xr(ct,"byteOffset","o");Xr(ct,"byteLength","l");Xr(ct,"length","e");X(ct,Nr,{get:function r(){return this[Gr]}});r.exports=function(r,e,i,a){a=!!a;var o=r+(a?"Clamped":"")+"Array";var c="get"+r;var s="set"+r;var l=t[o];var h=l||{};var d=l&&R(l);var y=!l||!f.ABV;var g={};var b=l&&l[cr];var w=function r(t,n){var i=t._d;return i.v[c](n*e+i.o,Br)};var m=function r(t,n,i){var o=t._d;if(a)i=(i=Math.round(i))<0?0:i>255?255:i&255;o.v[s](n*e+o.o,i,Br)};var O=function r(t,e){X(t,e,{get:function r(){return w(this,e)},set:function r(t){return m(this,e,t)},enumerable:true})};if(y){l=i(function(r,t,n,i){v(r,l,o,"_d");var a=0;var u=0;var f,c,s,h;if(!I(t)){s=_(t);c=s*e;f=new lr(c)}else if(t instanceof lr||(h=M(t))==or||h==ur){f=t;u=Kr(n,e);var d=t.byteLength;if(i===undefined){if(d%e)throw rr(zr);c=d-u;if(c<0)throw rr(zr)}else{c=S(i)*e;if(c+u>d)throw rr(zr)}s=c/e}else if(Gr in t){return qr(l,t)}else{return Zr.call(l,t)}p(r,"_d",{b:f,o:u,l:c,e:s,v:new vr(f)});while(a<s){O(r,a++)}});b=l[cr]=k(ct);p(b,"constructor",l)}else if(!n(function(){l(1)})||!n(function(){new l(-1)})||!H(function(r){new l;new l(null);new l(1.5);new l(r)},true)){l=i(function(r,t,n,i){v(r,l,o);var a;if(!I(t))return new h(_(t));if(t instanceof lr||(a=M(t))==or||a==ur){return i!==undefined?new h(t,Kr(n,e),i):n!==undefined?new h(t,Kr(n,e)):new h(t)}if(Gr in t)return qr(l,t);return Zr.call(l,t)});hr(d!==Function.prototype?N(h).concat(N(d)):N(h),function(r){if(!(r in l))p(l,r,h[r])});l[cr]=b;b.constructor=l}var x=b[Rr];var E=!!x&&(x.name=="values"||x.name==undefined);var P=at.values;p(l,Lr,true);p(b,Gr,o);p(b,Ur,true);p(b,Dr,l);if(a?new l(1)[Nr]!=o:!(Nr in b)){X(b,Nr,{get:function r(){return o}})}g[o]=l;u(u.G+u.W+u.F*(l!=h),g);u(u.S,o,{BYTES_PER_ELEMENT:e});u(u.S+u.F*n(function(){h.of.call(l,1)}),o,{from:Zr,of:Qr});if(!(fr in b))p(b,fr,e);u(u.P,o,et);K(o);u(u.P+u.F*Hr,o,{set:it});u(u.P+u.F*!E,o,at);if(b.toString!=Tr)b.toString=Tr;u(u.P+u.F*n(function(){new l(1).slice()}),o,{slice:nt});u(u.P+u.F*(n(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!n(function(){b.toLocaleString.call([1,2])})),o,{toLocaleString:tt});B[o]=E?x:P;if(!E)p(b,Rr,P)}}else r.exports=function(){}});mu("Int8",1,function(r){return function t(e,n,i){return r(this,e,n,i)}});mu("Uint8",1,function(r){return function t(e,n,i){return r(this,e,n,i)}});mu("Uint8",1,function(r){return function t(e,n,i){return r(this,e,n,i)}},true);mu("Int16",2,function(r){return function t(e,n,i){return r(this,e,n,i)}});mu("Uint16",2,function(r){return function t(e,n,i){return r(this,e,n,i)}});mu("Int32",4,function(r){return function t(e,n,i){return r(this,e,n,i)}});mu("Uint32",4,function(r){return function t(e,n,i){return r(this,e,n,i)}});mu("Float32",4,function(r){return function t(e,n,i){return r(this,e,n,i)}});mu("Float64",8,function(r){return function t(e,n,i){return r(this,e,n,i)}});var Su=(e.Reflect||{}).apply;var _u=Function.apply;F(F.S+F.F*!a(function(){Su(function(){})}),"Reflect",{apply:function r(t,e,n){var i=E(t);var a=s(n);return Su?Su(i,e,a):_u.call(i,e,a)}});var Ou=(e.Reflect||{}).construct;var xu=a(function(){function r(){}return!(Ou(function(){},[],r)instanceof r)});var Eu=!a(function(){Ou(function(){})});F(F.S+F.F*(xu||Eu),"Reflect",{construct:function r(t,e){E(t);s(e);var n=arguments.length<3?t:E(arguments[2]);if(Eu&&!xu)return Ou(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];i.push.apply(i,e);return new(Gt.apply(t,i))}var a=n.prototype;var o=Pr(c(a)?a:Object.prototype);var u=Function.apply.call(t,o,e);return c(u)?u:o}});F(F.S+F.F*a(function(){Reflect.defineProperty(b.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function r(t,e,n){s(t);e=d(e,true);s(n);try{b.f(t,e,n);return true}catch(r){return false}}});var Pu=Cr.f;F(F.S,"Reflect",{deleteProperty:function r(t,e){var n=Pu(s(t),e);return n&&!n.configurable?false:delete t[e]}});var ju=function r(t){this._t=s(t);this._i=0;var e=this._k=[];var n;for(n in t){e.push(n)}};pn(ju,"Object",function(){var r=this;var t=r._k;var e;do{if(r._i>=t.length)return{value:undefined,done:true}}while(!((e=t[r._i++])in r._t));return{value:e,done:false}});F(F.S,"Reflect",{enumerate:function r(t){return new ju(t)}});function Mu(r,t){var e=arguments.length<3?r:arguments[2];var n,a;if(s(r)===e)return r[t];if(n=Cr.f(r,t))return i(n,"value")?n.value:n.get!==undefined?n.get.call(e):undefined;if(c(a=_t(r)))return Mu(a,t,e)}F(F.S,"Reflect",{get:Mu});F(F.S,"Reflect",{getOwnPropertyDescriptor:function r(t,e){return Cr.f(s(t),e)}});F(F.S,"Reflect",{getPrototypeOf:function r(t){return _t(s(t))}});F(F.S,"Reflect",{has:function r(t,e){return e in t}});var Fu=Object.isExtensible;F(F.S,"Reflect",{isExtensible:function r(t){s(t);return Fu?Fu(t):true}});var Iu=e.Reflect;var Au=Iu&&Iu.ownKeys||function r(t){var e=Fr.f(s(t));var n=pr.f;return n?e.concat(n(t)):e};F(F.S,"Reflect",{ownKeys:Au});var Tu=Object.preventExtensions;F(F.S,"Reflect",{preventExtensions:function r(t){s(t);try{if(Tu)Tu(t);return true}catch(r){return false}}});function ku(r,t,e){var n=arguments.length<4?r:arguments[3];var a=Cr.f(s(r),t);var o,u;if(!a){if(c(u=_t(r))){return ku(u,t,e,n)}a=w(0)}if(i(a,"value")){if(a.writable===false||!c(n))return false;if(o=Cr.f(n,t)){if(o.get||o.set||o.writable===false)return false;o.value=e;b.f(n,t,o)}else b.f(n,t,w(0,e));return true}return a.set===undefined?false:(a.set.call(n,e),true)}F(F.S,"Reflect",{set:ku});if(It)F(F.S,"Reflect",{setPrototypeOf:function r(t,e){It.check(t,e);try{It.set(t,e);return true}catch(r){return false}}});var Ru=ar(true);F(F.P,"Array",{includes:function r(t){return Ru(this,t,arguments.length>1?arguments[1]:undefined)}});Ai("includes");var Nu=C("isConcatSpreadable");function Lu(r,t,e,n,i,a,o,u){var f=i;var s=0;var l=o?P(o,u,3):false;var v,h;while(s<n){if(s in e){v=l?l(e[s],s,t):e[s];h=false;if(c(v)){h=v[Nu];h=h!==undefined?!!h:br(v)}if(h&&a>0){f=Lu(r,t,v,tr(v.length),f,a-1)-1}else{if(f>=9007199254740991)throw TypeError();r[f]=v}f++}s++}return f}var Du=Lu;F(F.P,"Array",{flatMap:function r(t){var e=wt(this);var n,i;E(t);n=tr(e.length);i=pi(e,0);Du(i,e,e,n,0,1,t,arguments[1]);return i}});Ai("flatMap");F(F.P,"Array",{flatten:function r(){var t=arguments[0];var e=wt(this);var n=tr(e.length);var i=pi(e,0);Du(i,e,e,n,0,t===undefined?1:Q(t));return i}});Ai("flatten");var Cu=ln(true);F(F.P,"String",{at:function r(t){return Cu(this,t)}});var Wu=function(r,t,e,n){var i=String($(r));var a=i.length;var o=e===undefined?" ":String(e);var u=tr(t);if(u<=a||o=="")return i;var f=u-a;var c=Ee.call(o,Math.ceil(f/o.length));if(c.length>f)c=c.slice(0,f);return n?c+i:i+c};F(F.P+F.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(fo),"String",{padStart:function r(t){return Wu(this,t,arguments.length>1?arguments[1]:undefined,true)}});F(F.P+F.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(fo),"String",{padEnd:function r(t){return Wu(this,t,arguments.length>1?arguments[1]:undefined,false)}});re("trimLeft",function(r){return function t(){return r(this,1)}},"trimStart");re("trimRight",function(r){return function t(){return r(this,2)}},"trimEnd");var Gu=RegExp.prototype;var Uu=function r(t,e){this._r=t;this._s=e};pn(Uu,"RegExp String",function r(){var t=this._r.exec(this._s);return{value:t,done:t===null}});F(F.P,"String",{matchAll:function r(t){$(this);if(!En(t))throw TypeError(t+" is not a regexp!");var e=String(this);var n="flags"in Gu?String(t.flags):Vi.call(t);var i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);i.lastIndex=tr(t.lastIndex);return new Uu(i,e)}});H("asyncIterator");H("observable");F(F.S,"Object",{getOwnPropertyDescriptors:function r(t){var e=q(t);var n=Cr.f;var i=Au(e);var a={};var o=0;var u,f;while(i.length>o){f=n(e,u=i[o++]);if(f!==undefined)ri(a,u,f)}return a}});var zu=yr.f;var Vu=function(r){return function(t){var e=q(t);var n=vr(e);var i=n.length;var a=0;var o=[];var u;while(i>a){if(zu.call(e,u=n[a++])){o.push(r?[u,e[u]]:e[u])}}return o}};var Bu=Vu(false);F(F.S,"Object",{values:function r(t){return Bu(t)}});var Hu=Vu(true);F(F.S,"Object",{entries:function r(t){return Hu(t)}});var Ku=!a(function(){var r=Math.random();__defineSetter__.call(null,r,function(){});delete e[r]});o&&F(F.P+Ku,"Object",{__defineGetter__:function r(t,e){b.f(wt(this),t,{get:E(e),enumerable:true,configurable:true})}});o&&F(F.P+Ku,"Object",{__defineSetter__:function r(t,e){b.f(wt(this),t,{set:E(e),enumerable:true,configurable:true})}});var Yu=Cr.f;o&&F(F.P+Ku,"Object",{__lookupGetter__:function r(t){var e=wt(this);var n=d(t,true);var i;do{if(i=Yu(e,n))return i.get}while(e=_t(e))}});var Ju=Cr.f;o&&F(F.P+Ku,"Object",{__lookupSetter__:function r(t){var e=wt(this);var n=d(t,true);var i;do{if(i=Ju(e,n))return i.set}while(e=_t(e))}});var $u=function(r,t){var e=[];La(r,false,e.push,e,t);return e};var qu=function(r){return function t(){if(Rt(this)!=r)throw TypeError(r+"#toJSON isn't generic");return $u(this)}};F(F.P+F.R,"Map",{toJSON:qu("Map")});F(F.P+F.R,"Set",{toJSON:qu("Set")});var Xu=function(r){F(F.S,r,{of:function r(){var t=arguments.length;var e=new Array(t);while(t--){e[t]=arguments[t]}return new this(e)}})};Xu("Map");Xu("Set");Xu("WeakMap");Xu("WeakSet");var Zu=function(r){F(F.S,r,{from:function r(t){var e=arguments[1];var n,i,a,o;E(this);n=e!==undefined;if(n)E(e);if(t==undefined)return new this;i=[];if(n){a=0;o=P(e,arguments[2],2);La(t,false,function(r){i.push(o(r,a++))})}else{La(t,false,i.push,i)}return new this(i)}})};Zu("Map");Zu("Set");Zu("WeakMap");Zu("WeakSet");F(F.G,{global:e});F(F.S,"System",{global:e});F(F.S,"Error",{isError:function r(t){return Y(t)==="Error"}});F(F.S,"Math",{clamp:function r(t,e,n){return Math.min(n,Math.max(e,t))}});F(F.S,"Math",{DEG_PER_RAD:Math.PI/180});var Qu=180/Math.PI;F(F.S,"Math",{degrees:function r(t){return t*Qu}});var rf=Math.scale||function r(t,e,n,i,a){if(arguments.length===0||t!=t||e!=e||n!=n||i!=i||a!=a)return NaN;if(t===Infinity||t===-Infinity)return t;return(t-e)*(a-i)/(n-e)+i};F(F.S,"Math",{fscale:function r(t,e,n,i,a){return nn(rf(t,e,n,i,a))}});F(F.S,"Math",{iaddh:function r(t,e,n,i){var a=t>>>0;var o=e>>>0;var u=n>>>0;return o+(i>>>0)+((a&u|(a|u)&~(a+u>>>0))>>>31)|0}});F(F.S,"Math",{isubh:function r(t,e,n,i){var a=t>>>0;var o=e>>>0;var u=n>>>0;return o-(i>>>0)-((~a&u|~(a^u)&a-u>>>0)>>>31)|0}});F(F.S,"Math",{imulh:function r(t,e){var n=65535;var i=+t;var a=+e;var o=i&n;var u=a&n;var f=i>>16;var c=a>>16;var s=(f*u>>>0)+(o*u>>>16);return f*c+(s>>16)+((o*c>>>0)+(s&n)>>16)}});F(F.S,"Math",{RAD_PER_DEG:180/Math.PI});var tf=Math.PI/180;F(F.S,"Math",{radians:function r(t){return t*tf}});F(F.S,"Math",{scale:rf});F(F.S,"Math",{umulh:function r(t,e){var n=65535;var i=+t;var a=+e;var o=i&n;var u=a&n;var f=i>>>16;var c=a>>>16;var s=(f*u>>>0)+(o*u>>>16);return f*c+(s>>>16)+((o*c>>>0)+(s&n)>>>16)}});F(F.S,"Math",{signbit:function r(t){return(t=+t)!=t?t:t==0?1/t==Infinity:t>0}});F(F.S,"Promise",{try:function r(t){var e=ao.f(this);var n=oo(t);(n.e?e.reject:e.resolve)(n.v);return e.promise}});var ef=D("metadata");var nf=ef.store||(ef.store=new ru);var af=function r(t,e,n){var i=nf.get(t);if(!i){if(!n)return undefined;nf.set(t,i=new Vo)}var a=i.get(e);if(!a){if(!n)return undefined;i.set(e,a=new Vo)}return a};var of=function r(t,e,n){var i=af(e,n,false);return i===undefined?false:i.has(t)};var uf=function r(t,e,n){var i=af(e,n,false);return i===undefined?undefined:i.get(t)};var ff=function r(t,e,n,i){af(n,i,true).set(t,e)};var cf=function r(t,e){var n=af(t,e,false);var i=[];if(n)n.forEach(function(r,t){i.push(t)});return i};var sf=function r(t){return t===undefined||babelHelpers.typeof(t)=="symbol"?t:String(t)};var lf=function r(t){F(F.S,"Reflect",t)};var vf={store:nf,map:af,has:of,get:uf,set:ff,keys:cf,key:sf,exp:lf};var hf=vf.key;var pf=vf.set;vf.exp({defineMetadata:function r(t,e,n,i){pf(t,e,s(n),hf(i))}});var df=vf.key;var yf=vf.map;var gf=vf.store;vf.exp({deleteMetadata:function r(t,e){var n=arguments.length<3?undefined:df(arguments[2]);var i=yf(s(e),n,false);if(i===undefined||!i["delete"](t))return false;if(i.size)return true;var a=gf.get(e);a["delete"](n);return!!a.size||gf["delete"](e)}});var bf=vf.has;var wf=vf.get;var mf=vf.key;var Sf=function r(t,e,n){var i=bf(t,e,n);if(i)return wf(t,e,n);var a=_t(e);return a!==null?r(t,a,n):undefined};vf.exp({getMetadata:function r(t,e){return Sf(t,s(e),arguments.length<3?undefined:mf(arguments[2]))}});var _f=vf.keys;var Of=vf.key;var xf=function r(t,e){var n=_f(t,e);var i=_t(t);if(i===null)return n;var a=r(i,e);return a.length?n.length?$u(new Ho(n.concat(a))):a:n};vf.exp({getMetadataKeys:function r(t){return xf(s(t),arguments.length<2?undefined:Of(arguments[1]))}});var Ef=vf.get;var Pf=vf.key;vf.exp({getOwnMetadata:function r(t,e){return Ef(t,s(e),arguments.length<3?undefined:Pf(arguments[2]))}});var jf=vf.keys;var Mf=vf.key;vf.exp({getOwnMetadataKeys:function r(t){return jf(s(t),arguments.length<2?undefined:Mf(arguments[1]))}});var Ff=vf.has;var If=vf.key;var Af=function r(t,e,n){var i=Ff(t,e,n);if(i)return true;var a=_t(e);return a!==null?r(t,a,n):false};vf.exp({hasMetadata:function r(t,e){return Af(t,s(e),arguments.length<3?undefined:If(arguments[2]))}});var Tf=vf.has;var kf=vf.key;vf.exp({hasOwnMetadata:function r(t,e){return Tf(t,s(e),arguments.length<3?undefined:kf(arguments[2]))}});var Rf=vf.key;var Nf=vf.set;vf.exp({metadata:function r(t,e){return function r(n,i){Nf(t,e,(i!==undefined?s:E)(n),Rf(i))}}});var Lf=eo();var Df=e.process;var Cf=Y(Df)=="process";F(F.G,{asap:function r(t){var e=Cf&&Df.domain;Lf(e?e.bind(t):t)}});var Wf=eo();var Gf=C("observable");var Uf=La.RETURN;var zf=function r(t){return t==null?undefined:E(t)};var Vf=function r(t){var e=t._c;if(e){t._c=undefined;e()}};var Bf=function r(t){return t._o===undefined};var Hf=function r(t){if(!Bf(t)){t._o=undefined;Vf(t)}};var Kf=function r(t,e){s(t);this._c=undefined;this._o=t;t=new Yf(this);try{var n=e(t);var i=n;if(n!=null){if(typeof n.unsubscribe==="function")n=function r(){i.unsubscribe()};else E(n);this._c=n}}catch(r){t.error(r);return}if(Bf(this))Vf(this)};Kf.prototype=so({},{unsubscribe:function r(){Hf(this)}});var Yf=function r(t){this._s=t};Yf.prototype=so({},{next:function r(t){var e=this._s;if(!Bf(e)){var n=e._o;try{var i=zf(n.next);if(i)return i.call(n,t)}catch(r){try{Hf(e)}finally{throw r}}}},error:function r(t){var e=this._s;if(Bf(e))throw t;var n=e._o;e._o=undefined;try{var i=zf(n.error);if(!i)throw t;t=i.call(n,t)}catch(r){try{Vf(e)}finally{throw r}}Vf(e);return t},complete:function r(t){var e=this._s;if(!Bf(e)){var n=e._o;e._o=undefined;try{var i=zf(n.complete);t=i?i.call(n,t):undefined}catch(r){try{Vf(e)}finally{throw r}}Vf(e);return t}}});var Jf=function r(t){Na(this,Jf,"Observable","_f")._f=E(t)};so(Jf.prototype,{subscribe:function r(t){return new Kf(t,this._f)},forEach:function r(t){var n=this;return new(u.Promise||e.Promise)(function(r,e){E(t);var i=n.subscribe({next:function r(n){try{return t(n)}catch(r){e(r);i.unsubscribe()}},error:e,complete:r})})}});so(Jf,{from:function r(t){var e=typeof this==="function"?this:Jf;var n=zf(s(t)[Gf]);if(n){var i=s(n.call(t));return i.constructor===e?i:new e(function(r){return i.subscribe(r)})}return new e(function(r){var e=false;Wf(function(){if(!e){try{if(La(t,false,function(t){r.next(t);if(e)return Uf})===Uf)return}catch(t){if(e)throw t;r.error(t);return}r.complete()}});return function(){e=true}})},of:function r(){for(var t=0,e=arguments.length,n=new Array(e);t<e;){n[t]=arguments[t++]}return new(typeof this==="function"?this:Jf)(function(r){var t=false;Wf(function(){if(!t){for(var e=0;e<n.length;++e){r.next(n[e]);if(t)return}r.complete()}});return function(){t=true}})}});m(Jf.prototype,Gf,function(){return this});F(F.G,{Observable:Jf});Gi("Observable");var $f=[].slice;var qf=/MSIE .\./.test(fo);var Xf=function r(t){return function(r,e){var n=arguments.length>2;var i=n?$f.call(arguments,2):false;return t(n?function(){(typeof r=="function"?r:Function(r)).apply(this,i)}:r,e)}};F(F.G+F.B+F.F*qf,{setTimeout:Xf(e.setTimeout),setInterval:Xf(e.setInterval)});F(F.G+F.B,{setImmediate:qa.set,clearImmediate:qa.clear});var Zf=C("iterator");var Qf=C("toStringTag");var rc=vn.Array;var tc={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var ec=vr(tc),nc=0;nc<ec.length;nc++){var ic=ec[nc];var ac=tc[ic];var oc=e[ic];var uc=oc&&oc.prototype;var fc;if(uc){if(!uc[Zf])m(uc,Zf,rc);if(!uc[Qf])m(uc,Qf,ic);vn[ic]=rc;if(ac)for(fc in zi){if(!uc[fc])x(uc,fc,zi[fc],true)}}}if(window._main_core_polyfill){console.warn("main.core.polyfill is loaded more than once on this page")}window._main_core_polyfill=true})(this.window=this.window||{});(function(r){"use strict";if(!r.matches&&r.matchesSelector){r.matches=r.matchesSelector}if(!r.matches){r.matches=function(r){var t=document.querySelectorAll(r);var e=this;return Array.prototype.some.call(t,function(r){return r===e})}}})(Element.prototype);(function(){"use strict";if(!Element.prototype.closest){Object.defineProperty(Element.prototype,"closest",{enumerable:false,value:function(r){var t=this;while(t){if(t.matches(r)){return t}t=t.parentElement}return null}})}})();(function(r){"use strict";if(!window.DOMRect||typeof DOMRect.prototype.toJSON!=="function"||typeof DOMRect.fromRect!=="function"){window.DOMRect=function(){function r(t,e,n,i){babelHelpers.classCallCheck(this,r);this.x=t||0;this.y=e||0;this.width=n||0;this.height=i||0}babelHelpers.createClass(r,[{key:"toJSON",value:function r(){return{top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,x:this.x,y:this.y}}},{key:"top",get:function r(){return this.y}},{key:"left",get:function r(){return this.x}},{key:"right",get:function r(){return this.x+this.width}},{key:"bottom",get:function r(){return this.y+this.height}}],[{key:"fromRect",value:function t(e){return new r(e.x,e.y,e.width,e.height)}}]);return r}()}})(this.window=this.window||{});
 



// file: /bitrix/js/main/polyfill/customevent/main.polyfill.customevent.js
(function(){"use strict";try{new window.CustomEvent("bx-test-custom-event",{bubbles:true,cancelable:true})}catch(t){var e=function(e,t){t=t||{};t.bubbles=!!t.bubbles;t.cancelable=!!t.cancelable;var n=document.createEvent("CustomEvent");n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);var u=n.preventDefault;n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return true}});u.call(this)};return n};e.prototype=window.Event.prototype;window.CustomEvent=e}})();
 



// file: /bitrix/js/ui/vue/vendor/v2/prod/dist/vue.bundle.js
(function(e){"use strict";if(typeof e!=="undefined"&&"VueVendorV2"in e){var t="2.6.12";if(e.VueVendorV2.version!=t){console.warn("BX.Vue already loaded. Loaded: "+e.VueVendorV2.version+", Skipped: "+t)}e.VueVendorV2=e.VueVendorV2}else{var n=Object.freeze({});function r(e){return null==e}function i(e){return null!=e}function o(e){return!0===e}function a(e){return"string"==typeof e||"number"==typeof e||"symbol"==babelHelpers.typeof(e)||"boolean"==typeof e}function s(e){return null!==e&&"object"==babelHelpers.typeof(e)}var c=Object.prototype.toString;function u(e){return"[object Object]"===c.call(e)}function l(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return i(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function d(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++){n[r[i]]=!0}return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var h=v("slot,component",!0),m=v("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var g=Object.prototype.hasOwnProperty;function _(e,t){return g.call(e,t)}function b(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var $=/-(\w)/g,w=b(function(e){return e.replace($,function(e,t){return t?t.toUpperCase():""})}),C=b(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),x=/\B([A-Z])/g,k=b(function(e){return e.replace(x,"-$1").toLowerCase()});var A=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function O(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;){r[n]=e[n+t]}return r}function S(e,t){for(var n in t){e[n]=t[n]}return e}function T(e){for(var t={},n=0;n<e.length;n++){e[n]&&S(t,e[n])}return t}function N(e,t,n){}var E=function e(t,n,r){return!1},j=function e(t){return t};function D(e,t){if(e===t)return!0;var n=s(e),r=s(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every(function(e,n){return D(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var a=Object.keys(e),c=Object.keys(t);return a.length===c.length&&a.every(function(n){return D(e[n],t[n])})}catch(e){return!1}}function L(e,t){for(var n=0;n<e.length;n++){if(D(e[n],t))return n}return-1}function M(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var I="data-server-rendered",F=["component","directive","filter"],P=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],R={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:E,isReservedAttr:E,isUnknownElement:E,getTagNamespace:N,parsePlatformTagName:j,mustUseProp:E,async:!0,_lifecycleHooks:P},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var B=new RegExp("[^"+H.source+".$_\\d]");var U,z="__proto__"in{},K="undefined"!=typeof window,J="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,q=J&&WXEnvironment.platform.toLowerCase(),W=K&&window.navigator.userAgent.toLowerCase(),X=W&&/msie|trident/.test(W),Z=W&&W.indexOf("msie 9.0")>0,G=W&&W.indexOf("edge/")>0,Y=(W&&W.indexOf("android"),W&&/iphone|ipad|ipod|ios/.test(W)||"ios"===q),Q=(W&&/chrome\/\d+/.test(W),W&&/phantomjs/.test(W),W&&W.match(/firefox\/(\d+)/)),ee={}.watch,te=!1;if(K)try{var ne={};Object.defineProperty(ne,"passive",{get:function e(){te=!0}}),window.addEventListener("test-passive",null,ne)}catch(n){}var re=function e(){return void 0===U&&(U=!K&&!J&&"undefined"!=typeof global&&global.process&&"server"===global.process.env.VUE_ENV),U},ie=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function oe(e){return"function"==typeof e&&/native code/.test(e.toString())}var ae,se="undefined"!=typeof Symbol&&oe(Symbol)&&"undefined"!=typeof Reflect&&oe(Reflect.ownKeys);ae="undefined"!=typeof Set&&oe(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ce=N,ue=0,le=function e(){this.id=ue++,this.subs=[]};le.prototype.addSub=function(e){this.subs.push(e)},le.prototype.removeSub=function(e){y(this.subs,e)},le.prototype.depend=function(){le.target&&le.target.addDep(this)},le.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++){e[t].update()}},le.target=null;var fe=[];function pe(e){fe.push(e),le.target=e}function de(){fe.pop(),le.target=fe[fe.length-1]}var ve=function e(t,n,r,i,o,a,s,c){this.tag=t,this.data=n,this.children=r,this.text=i,this.elm=o,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},he={child:{configurable:!0}};he.child.get=function(){return this.componentInstance},Object.defineProperties(ve.prototype,he);var me=function e(t){void 0===t&&(t="");var n=new ve;return n.text=t,n.isComment=!0,n};function ye(e){return new ve(void 0,void 0,void 0,String(e))}function ge(e){var t=new ve(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var _e=Array.prototype,be=Object.create(_e);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=_e[e];V(be,e,function(){for(var n=[],r=arguments.length;r--;){n[r]=arguments[r]}var i,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var $e=Object.getOwnPropertyNames(be),we=!0;function Ce(e){we=e}var xe=function e(t){var n;this.value=t,this.dep=new le,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t)?(z?(n=be,t.__proto__=n):function(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];V(e,o,t[o])}}(t,be,$e),this.observeArray(t)):this.walk(t)};function ke(e,t){var n;if(s(e)&&!(e instanceof ve))return _(e,"__ob__")&&e.__ob__ instanceof xe?n=e.__ob__:we&&!re()&&(Array.isArray(e)||u(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new xe(e)),t&&n&&n.vmCount++,n}function Ae(e,t,n,r,i){var o=new le,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(n=e[t]);var u=!i&&ke(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function t(){var r=s?s.call(e):n;return le.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(r)&&function e(t){for(var n=void 0,r=0,i=t.length;r<i;r++){(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}}(r))),r},set:function t(r){var a=s?s.call(e):n;r===a||r!=r&&a!=a||s&&!c||(c?c.call(e,r):n=r,u=!i&&ke(r),o.notify())}})}}function Oe(e,t,n){if(Array.isArray(e)&&l(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Ae(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function Se(e,t){if(Array.isArray(e)&&l(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||_(e,t)&&(delete e[t],n&&n.dep.notify())}}xe.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){Ae(e,t[n])}},xe.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++){ke(e[t])}};var Te=R.optionMergeStrategies;function Ne(e,t){if(!t)return e;for(var n,r,i,o=se?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++){"__ob__"!==(n=o[a])&&(r=e[n],i=t[n],_(e,n)?r!==i&&u(r)&&u(i)&&Ne(r,i):Oe(e,n,i))}return e}function Ee(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,i="function"==typeof e?e.call(n,n):e;return r?Ne(r,i):i}:t?e?function(){return Ne("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function je(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++){-1===t.indexOf(e[n])&&t.push(e[n])}return t}(n):n}function De(e,t,n,r){var i=Object.create(e||null);return t?S(i,t):i}Te.data=function(e,t,n){return n?Ee(e,t,n):t&&"function"!=typeof t?e:Ee(e,t)},P.forEach(function(e){Te[e]=je}),F.forEach(function(e){Te[e+"s"]=De}),Te.watch=function(e,t,n,r){if(e===ee&&(e=void 0),t===ee&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in S(i,e),t){var a=i[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Te.props=Te.methods=Te.inject=Te.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return S(i,e),t&&S(i,t),i},Te.provide=Ee;var Le=function e(t,n){return void 0===n?t:n};function Me(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;){"string"==typeof(i=n[r])&&(o[w(i)]={type:null})}else if(u(n))for(var a in n){i=n[a],o[w(a)]=u(i)?i:{type:i}}e.props=o}}(t),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++){r[n[i]]={from:n[i]}}else if(u(n))for(var o in n){var a=n[o];r[o]=u(a)?S({from:o},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}(t),!t._base&&(t.extends&&(e=Me(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++){e=Me(e,t.mixins[r],n)}var o,a={};for(o in e){s(o)}for(o in t){_(e,o)||s(o)}function s(r){var i=Te[r]||Le;a[r]=i(e[r],t[r],n,r)}return a}function Ie(e,t,n,r){if("string"==typeof n){var i=e[t];if(_(i,n))return i[n];var o=w(n);if(_(i,o))return i[o];var a=C(o);return _(i,a)?i[a]:i[n]||i[o]||i[a]}}function Fe(e,t,n,r){var i=t[e],o=!_(n,e),a=n[e],s=He(Boolean,i.type);if(s>-1)if(o&&!_(i,"default"))a=!1;else if(""===a||a===k(e)){var c=He(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(!_(t,"default"))return;var r=t.default;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return"function"==typeof r&&"Function"!==Pe(t.type)?r.call(e):r}(r,i,e);var u=we;Ce(!0),ke(a),Ce(u)}return a}function Pe(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Re(e,t){return Pe(e)===Pe(t)}function He(e,t){if(!Array.isArray(t))return Re(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++){if(Re(t[n],e))return n}return-1}function Ve(e,t,n){pe();try{if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++){try{if(!1===i[o].call(r,e,t,n))return}catch(e){Ue(e,r,"errorCaptured hook")}}}Ue(e,t,n)}finally{de()}}function Be(e,t,n,r,i){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&f(o)&&!o._handled&&(o.catch(function(e){return Ve(e,r,i+" (Promise/async)")}),o._handled=!0)}catch(e){Ve(e,r,i)}return o}function Ue(e,t,n){if(R.errorHandler)try{return R.errorHandler.call(null,e,t,n)}catch(t){t!==e&&ze(t,null,"config.errorHandler")}ze(e,t,n)}function ze(e,t,n){if(!K&&!J||"undefined"==typeof console)throw e;console.error(e)}var Ke,Je=!1,qe=[],We=!1;function Xe(){We=!1;var e=qe.slice(0);qe.length=0;for(var t=0;t<e.length;t++){e[t]()}}if("undefined"!=typeof Promise&&oe(Promise)){var Ze=Promise.resolve();Ke=function e(){Ze.then(Xe),Y&&setTimeout(N)},Je=!0}else if(X||"undefined"==typeof MutationObserver||!oe(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ke="undefined"!=typeof setImmediate&&oe(setImmediate)?function(){setImmediate(Xe)}:function(){setTimeout(Xe,0)};else{var Ge=1,Ye=new MutationObserver(Xe),Qe=document.createTextNode(String(Ge));Ye.observe(Qe,{characterData:!0}),Ke=function e(){Ge=(Ge+1)%2,Qe.data=String(Ge)},Je=!0}function et(e,t){var n;if(qe.push(function(){if(e)try{e.call(t)}catch(e){Ve(e,t,"nextTick")}else n&&n(t)}),We||(We=!0,Ke()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}var tt=new ae;function nt(e){!function e(t,n){var r,i;var o=Array.isArray(t);if(!o&&!s(t)||Object.isFrozen(t)||t instanceof ve)return;if(t.__ob__){var a=t.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=t.length;r--;){e(t[r],n)}else for(i=Object.keys(t),r=i.length;r--;){e(t[i[r]],n)}}(e,tt),tt.clear()}var rt=b(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}});function it(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return Be(r,null,arguments,t,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++){Be(i[o],null,e,t,"v-on handler")}}return n.fns=e,n}function ot(e,t,n,i,a,s){var c,u,l,f;for(c in e){u=e[c],l=t[c],f=rt(c),r(u)||(r(l)?(r(u.fns)&&(u=e[c]=it(u,s)),o(f.once)&&(u=e[c]=a(f.name,u,f.capture)),n(f.name,u,f.capture,f.passive,f.params)):u!==l&&(l.fns=u,e[c]=l))}for(c in t){r(e[c])&&i((f=rt(c)).name,t[c],f.capture)}}function at(e,t,n){var a;e instanceof ve&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function c(){n.apply(this,arguments),y(a.fns,c)}r(s)?a=it([c]):i(s.fns)&&o(s.merged)?(a=s).fns.push(c):a=it([s,c]),a.merged=!0,e[t]=a}function st(e,t,n,r,o){if(i(t)){if(_(t,n))return e[n]=t[n],o||delete t[n],!0;if(_(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function ct(e){return a(e)?[ye(e)]:Array.isArray(e)?function e(t,n){var s=[];var c,u,l,f;for(c=0;c<t.length;c++){r(u=t[c])||"boolean"==typeof u||(l=s.length-1,f=s[l],Array.isArray(u)?u.length>0&&(ut((u=e(u,(n||"")+"_"+c))[0])&&ut(f)&&(s[l]=ye(f.text+u[0].text),u.shift()),s.push.apply(s,u)):a(u)?ut(f)?s[l]=ye(f.text+u):""!==u&&s.push(ye(u)):ut(u)&&ut(f)?s[l]=ye(f.text+u.text):(o(t._isVList)&&i(u.tag)&&r(u.key)&&i(n)&&(u.key="__vlist"+n+"_"+c+"__"),s.push(u)))}return s}(e):void 0}function ut(e){return i(e)&&i(e.text)&&!1===e.isComment}function lt(e,t){if(e){for(var n=Object.create(null),r=se?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=e[o].from,s=t;s;){if(s._provided&&_(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in e[o]){var c=e[o].default;n[o]="function"==typeof c?c.call(t):c}}}return n}}function ft(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in n){n[u].every(pt)&&delete n[u]}return n}function pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function dt(e,t,r){var i,o=Object.keys(t).length>0,a=e?!!e.$stable:!o,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==n&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var c in i={},e){e[c]&&"$"!==c[0]&&(i[c]=vt(t,c,e[c]))}}else i={};for(var u in t){u in i||(i[u]=ht(t,u))}return e&&Object.isExtensible(e)&&(e._normalized=i),V(i,"$stable",a),V(i,"$key",s),V(i,"$hasNormal",o),i}function vt(e,t,n){var r=function e(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==babelHelpers.typeof(t)&&!Array.isArray(t)?[t]:ct(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function ht(e,t){return function(){return e[t]}}function mt(e,t){var n,r,o,a,c;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++){n[r]=t(e[r],r)}else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++){n[r]=t(r+1,r)}else if(s(e))if(se&&e[Symbol.iterator]){n=[];for(var u=e[Symbol.iterator](),l=u.next();!l.done;){n.push(t(l.value,n.length)),l=u.next()}}else for(a=Object.keys(e),n=new Array(a.length),r=0,o=a.length;r<o;r++){c=a[r],n[r]=t(e[c],c,r)}return i(n)||(n=[]),n._isVList=!0,n}function yt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=S(S({},r),n)),i=o(n)||t):i=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function gt(e){return Ie(this.$options,"filters",e)||j}function _t(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function bt(e,t,n,r,i){var o=R.keyCodes[t]||n;return i&&r&&!R.keyCodes[t]?_t(i,r):o?_t(o,e):r?k(r)!==t:void 0}function $t(e,t,n,r,i){if(n)if(s(n)){var o;Array.isArray(n)&&(n=T(n));var a=function a(s){if("class"===s||"style"===s||m(s))o=e;else{var a=e.attrs&&e.attrs.type;o=r||R.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=w(s),u=k(s);c in o||u in o||(o[s]=n[s],i&&((e.on||(e.on={}))["update:"+s]=function(e){n[s]=e}))};for(var c in n){a(c)}}return e}function wt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t?r:(xt(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r)}function Ct(e,t,n){return xt(e,"__once__"+t+(n?"_"+n:""),!0),e}function xt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++){e[r]&&"string"!=typeof e[r]&&kt(e[r],t+"_"+r,n)}else kt(e,t,n)}function kt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function At(e,t){if(t)if(u(t)){var n=e.on=e.on?S({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}return e}function Ot(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?Ot(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function St(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Tt(e,t){return"string"==typeof e?t+e:e}function Nt(e){e._o=Ct,e._n=d,e._s=p,e._l=mt,e._t=yt,e._q=D,e._i=L,e._m=wt,e._f=gt,e._k=bt,e._b=$t,e._v=ye,e._e=me,e._u=Ot,e._g=At,e._d=St,e._p=Tt}function Et(e,t,r,i,a){var s,c=this,u=a.options;_(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var l=o(u._compiled),f=!l;this.data=e,this.props=t,this.children=r,this.parent=i,this.listeners=e.on||n,this.injections=lt(u.inject,i),this.slots=function(){return c.$slots||dt(e.scopedSlots,c.$slots=ft(r,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function t(){return dt(e.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=dt(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,r){var o=Ht(s,e,t,n,r,f);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,r){return Ht(s,e,t,n,r,f)}}function jt(e,t,n,r,i){var o=ge(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Dt(e,t){for(var n in t){e[w(n)]=t[n]}}Nt(Et.prototype);var Lt={init:function e(t,n){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;Lt.prepatch(r,r)}else{(t.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new e.componentOptions.Ctor(n)}(t,Zt)).$mount(n?t.elm:void 0,n)}},prepatch:function e(t,r){var i=r.componentOptions;!function(e,t,r,i,o){var a=i.data.scopedSlots,s=e.$scopedSlots,c=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key),u=!!(o||e.$options._renderChildren||c);e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i);if(e.$options._renderChildren=o,e.$attrs=i.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){Ce(!1);for(var l=e._props,f=e.$options._propKeys||[],p=0;p<f.length;p++){var d=f[p],v=e.$options.props;l[d]=Fe(d,v,t,e)}Ce(!0),e.$options.propsData=t}r=r||n;var h=e.$options._parentListeners;e.$options._parentListeners=r,Xt(e,r,h),u&&(e.$slots=ft(o,i.context),e.$forceUpdate())}(r.componentInstance=t.componentInstance,i.propsData,i.listeners,r,i.children)},insert:function e(t){var n,r=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,en(i,"mounted")),t.data.keepAlive&&(r._isMounted?((n=i)._inactive=!1,nn.push(n)):Qt(i,!0))},destroy:function e(t){var n=t.componentInstance;n._isDestroyed||(t.data.keepAlive?function e(t,n){if(n&&(t._directInactive=!0,Yt(t)))return;if(!t._inactive){t._inactive=!0;for(var r=0;r<t.$children.length;r++){e(t.$children[r])}en(t,"deactivated")}}(n,!0):n.$destroy())}},Mt=Object.keys(Lt);function It(e,t,a,c,u){if(!r(e)){var l=a.$options._base;if(s(e)&&(e=l.extend(e)),"function"==typeof e){var p;if(r(e.cid)&&void 0===(e=function(e,t){if(o(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=Bt;n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n);if(o(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var a=e.owners=[n],c=!0,u=null,l=null;n.$on("hook:destroyed",function(){return y(a,n)});var p=function e(t){for(var n=0,r=a.length;n<r;n++){a[n].$forceUpdate()}t&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},d=M(function(n){e.resolved=Ut(n,t),c?a.length=0:p(!0)}),v=M(function(t){i(e.errorComp)&&(e.error=!0,p(!0))}),h=e(d,v);return s(h)&&(f(h)?r(e.resolved)&&h.then(d,v):f(h.component)&&(h.component.then(d,v),i(h.error)&&(e.errorComp=Ut(h.error,t)),i(h.loading)&&(e.loadingComp=Ut(h.loading,t),0===h.delay?e.loading=!0:u=setTimeout(function(){u=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,p(!1))},h.delay||200)),i(h.timeout)&&(l=setTimeout(function(){l=null,r(e.resolved)&&v(null)},h.timeout)))),c=!1,e.loading?e.loadingComp:e.resolved}}(p=e,l)))return function(e,t,n,r,i){var o=me();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}(p,t,a,c,u);t=t||{},Cn(e),i(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[r],s=t.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}(e.options,t);var d=function(e,t,n){var o=t.options.props;if(!r(o)){var a={},s=e.attrs,c=e.props;if(i(s)||i(c))for(var u in o){var l=k(u);st(a,c,u,l,!0)||st(a,s,u,l,!1)}return a}}(t,e);if(o(e.options.functional))return function(e,t,r,o,a){var s=e.options,c={},u=s.props;if(i(u))for(var l in u){c[l]=Fe(l,u,t||n)}else i(r.attrs)&&Dt(c,r.attrs),i(r.props)&&Dt(c,r.props);var f=new Et(r,c,a,o,e),p=s.render.call(null,f._c,f);if(p instanceof ve)return jt(p,r,f.parent,s);if(Array.isArray(p)){for(var d=ct(p)||[],v=new Array(d.length),h=0;h<d.length;h++){v[h]=jt(d[h],r,f.parent,s)}return v}}(e,d,t,a,c);var v=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Mt.length;n++){var r=Mt[n],i=t[r],o=Lt[r];i===o||i&&i._merged||(t[r]=i?Ft(o,i):o)}}(t);var m=e.options.name||u;return new ve("vue-component-"+e.cid+(m?"-"+m:""),t,void 0,void 0,void 0,a,{Ctor:e,propsData:d,listeners:v,tag:u,children:c},p)}}}function Ft(e,t){var n=function n(r,i){e(r,i),t(r,i)};return n._merged=!0,n}var Pt=1,Rt=2;function Ht(e,t,n,c,u,l){return(Array.isArray(n)||a(n))&&(u=c,c=n,n=void 0),o(l)&&(u=Rt),function(e,t,n,a,c){if(i(n)&&i(n.__ob__))return me();i(n)&&i(n.is)&&(t=n.is);if(!t)return me();Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={default:a[0]},a.length=0);c===Rt?a=ct(a):c===Pt&&(a=function(e){for(var t=0;t<e.length;t++){if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e)}return e}(a));var u,l;if("string"==typeof t){var f;l=e.$vnode&&e.$vnode.ns||R.getTagNamespace(t),u=R.isReservedTag(t)?new ve(R.parsePlatformTagName(t),n,a,void 0,void 0,e):n&&n.pre||!i(f=Ie(e.$options,"components",t))?new ve(t,n,a,void 0,void 0,e):It(f,n,e,a,t)}else u=It(t,n,e,a);return Array.isArray(u)?u:i(u)?(i(l)&&function e(t,n,a){t.ns=n;"foreignObject"===t.tag&&(n=void 0,a=!0);if(i(t.children))for(var s=0,c=t.children.length;s<c;s++){var u=t.children[s];i(u.tag)&&(r(u.ns)||o(a)&&"svg"!==u.tag)&&e(u,n,a)}}(u,l),i(n)&&function(e){s(e.style)&&nt(e.style);s(e.class)&&nt(e.class)}(n),u):me()}(e,t,n,c,u)}var Vt,Bt=null;function Ut(e,t){return(e.__esModule||se&&"Module"===e[Symbol.toStringTag])&&(e=e.default),s(e)?t.extend(e):e}function zt(e){return e.isComment&&e.asyncFactory}function Kt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||zt(n)))return n}}function Jt(e,t){Vt.$on(e,t)}function qt(e,t){Vt.$off(e,t)}function Wt(e,t){var n=Vt;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function Xt(e,t,n){Vt=e,ot(t,n||{},Jt,qt,Wt,e),Vt=void 0}var Zt=null;function Gt(e){var t=Zt;return Zt=e,function(){Zt=t}}function Yt(e){for(;e&&(e=e.$parent);){if(e._inactive)return!0}return!1}function Qt(e,t){if(t){if(e._directInactive=!1,Yt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++){Qt(e.$children[n])}en(e,"activated")}}function en(e,t){pe();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,o=n.length;i<o;i++){Be(n[i],e,null,e,r)}e._hasHookEvent&&e.$emit("hook:"+t),de()}var tn=[],nn=[],rn={},on=!1,an=!1,sn=0;var cn=0,un=Date.now;if(K&&!X){var ln=window.performance;ln&&"function"==typeof ln.now&&un()>document.createEvent("Event").timeStamp&&(un=function e(){return ln.now()})}function fn(){var e,t;for(cn=un(),an=!0,tn.sort(function(e,t){return e.id-t.id}),sn=0;sn<tn.length;sn++){(e=tn[sn]).before&&e.before(),t=e.id,rn[t]=null,e.run()}var n=nn.slice(),r=tn.slice();sn=tn.length=nn.length=0,rn={},on=an=!1,function(e){for(var t=0;t<e.length;t++){e[t]._inactive=!0,Qt(e[t],!0)}}(n),function(e){var t=e.length;for(;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&en(r,"updated")}}(r),ie&&R.devtools&&ie.emit("flush")}var pn=0,dn=function e(t,n,r,i,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++pn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ae,this.newDepIds=new ae,this.expression="","function"==typeof n?this.getter=n:(this.getter=function(e){if(!B.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(n),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};dn.prototype.get=function(){var e;pe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Ve(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&nt(e),de(),this.cleanupDeps()}return e},dn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},dn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},dn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==rn[t]){if(rn[t]=!0,an){for(var n=tn.length-1;n>sn&&tn[n].id>e.id;){n--}tn.splice(n+1,0,e)}else tn.push(e);on||(on=!0,et(fn))}}(this)},dn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){Ve(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},dn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},dn.prototype.depend=function(){for(var e=this.deps.length;e--;){this.deps[e].depend()}},dn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var e=this.deps.length;e--;){this.deps[e].removeSub(this)}this.active=!1}};var vn={enumerable:!0,configurable:!0,get:N,set:N};function hn(e,t,n){vn.get=function(){return this[t][n]},vn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,vn)}function mn(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[];e.$parent&&Ce(!1);var o=function o(a){i.push(a);var s=Fe(a,t,n,e);Ae(r,a,s),a in e||hn(e,"_props",a)};for(var a in t){o(a)}Ce(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t){e[n]="function"!=typeof t[n]?N:A(t[n],e)}}(e,t.methods),t.data?function(e){var t=e.$options.data;u(t=e._data="function"==typeof t?function(e,t){pe();try{return e.call(t,t)}catch(e){return Ve(e,t,"data()"),{}}finally{de()}}(t,e):t||{})||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);for(;i--;){var o=n[i];r&&_(r,o)||(a=void 0,36!==(a=(o+"").charCodeAt(0))&&95!==a&&hn(e,"_data",o))}var a;ke(t,!0)}(e):ke(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=re();for(var i in t){var o=t[i],a="function"==typeof o?o:o.get;r||(n[i]=new dn(e,a||N,N,yn)),i in e||gn(e,i,o)}}(e,t.computed),t.watch&&t.watch!==ee&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++){$n(e,n,r[i])}else $n(e,n,r)}}(e,t.watch)}var yn={lazy:!0};function gn(e,t,n){var r=!re();"function"==typeof n?(vn.get=r?_n(t):bn(n),vn.set=N):(vn.get=n.get?r&&!1!==n.cache?_n(t):bn(n.get):N,vn.set=n.set||N),Object.defineProperty(e,t,vn)}function _n(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),le.target&&t.depend(),t.value}}function bn(e){return function(){return e.call(this,this)}}function $n(e,t,n,r){return u(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}var wn=0;function Cn(e){var t=e.options;if(e.super){var n=Cn(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var i in n){n[i]!==r[i]&&(t||(t={}),t[i]=n[i])}return t}(e);r&&S(e.extendOptions,r),(t=e.options=Me(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function xn(e){this._init(e)}function kn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name,a=function e(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=t++,a.options=Me(n.options,e),a.super=n,a.options.props&&function(e){var t=e.options.props;for(var n in t){hn(e.prototype,"_props",n)}}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t){gn(e.prototype,n,t[n])}}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,F.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=S({},a.options),i[r]=a,a}}function An(e){return e&&(e.Ctor.options.name||e.tag)}function On(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:(n=e,"[object RegExp]"===c.call(n)&&e.test(t));var n}function Sn(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var a=n[o];if(a){var s=An(a.componentOptions);s&&!t(s)&&Tn(n,o,r,i)}}}function Tn(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,y(n,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=wn++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Me(Cn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;){n=n.$parent}n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Xt(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=ft(t._renderChildren,i),e.$scopedSlots=n,e._c=function(t,n,r,i){return Ht(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return Ht(e,t,n,r,i,!0)};var o=r&&r.data;Ae(e,"$attrs",o&&o.attrs||n,null,!0),Ae(e,"$listeners",t._parentListeners||n,null,!0)}(t),en(t,"beforeCreate"),function(e){var t=lt(e.$options.inject,e);t&&(Ce(!1),Object.keys(t).forEach(function(n){Ae(e,n,t[n])}),Ce(!0))}(t),mn(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),en(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(xn),function(e){var t={get:function e(){return this._data}},n={get:function e(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Oe,e.prototype.$delete=Se,e.prototype.$watch=function(e,t,n){if(u(t))return $n(this,e,t,n);(n=n||{}).user=!0;var r=new dn(this,e,t,n);if(n.immediate)try{t.call(this,r.value)}catch(e){Ve(e,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(xn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++){r.$on(e[i],n)}else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++){n.$off(e[r],t)}return n}var o,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;for(var s=a.length;s--;){if((o=a[s])===t||o.fn===t){a.splice(s,1);break}}return n},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?O(t):t;for(var n=O(arguments,1),r='event handler for "'+e+'"',i=0,o=t.length;i<o;i++){Be(t[i],this,n,this,r)}}return this}}(xn),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Gt(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){en(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;){e._watchers[n].teardown()}e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),en(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(xn),function(e){Nt(e.prototype),e.prototype.$nextTick=function(e){return et(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=dt(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{Bt=t,e=r.call(t._renderProxy,t.$createElement)}catch(n){Ve(n,t,"render"),e=t._vnode}finally{Bt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ve||(e=me()),e.parent=i,e}}(xn);var Nn=[String,RegExp,Array],En={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Nn,exclude:Nn,max:[String,Number]},created:function e(){this.cache=Object.create(null),this.keys=[]},destroyed:function e(){for(var t in this.cache){Tn(this.cache,t,this.keys)}},mounted:function e(){var t=this;this.$watch("include",function(e){Sn(t,function(t){return On(e,t)})}),this.$watch("exclude",function(e){Sn(t,function(t){return!On(e,t)})})},render:function e(){var t=this.$slots.default,n=Kt(t),r=n&&n.componentOptions;if(r){var i=An(r),o=this.include,a=this.exclude;if(o&&(!i||!On(o,i))||a&&i&&On(a,i))return n;var s=this.cache,c=this.keys,u=null==n.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):n.key;s[u]?(n.componentInstance=s[u].componentInstance,y(c,u),c.push(u)):(s[u]=n,c.push(u),this.max&&c.length>parseInt(this.max)&&Tn(s,c[0],c,this._vnode)),n.data.keepAlive=!0}return n||t&&t[0]}}};!function(e){var t={get:function e(){return R}};Object.defineProperty(e,"config",t),e.util={warn:ce,extend:S,mergeOptions:Me,defineReactive:Ae},e.set=Oe,e.delete=Se,e.nextTick=et,e.observable=function(e){return ke(e),e},e.options=Object.create(null),F.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,S(e.options.components,En),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=O(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Me(this.options,e),this}}(e),kn(e),function(e){F.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&u(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}(e)}(xn),Object.defineProperty(xn.prototype,"$isServer",{get:re}),Object.defineProperty(xn.prototype,"$ssrContext",{get:function e(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xn,"FunctionalRenderContext",{value:Et}),xn.version="2.6.12";var jn=v("style,class"),Dn=v("input,textarea,option,select,progress"),Ln=function e(t,n,r){return"value"===r&&Dn(t)&&"button"!==n||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},Mn=v("contenteditable,draggable,spellcheck"),In=v("events,caret,typing,plaintext-only"),Fn=function e(t,n){return Bn(n)||"false"===n?"false":"contenteditable"===t&&In(n)?n:"true"},Pn=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Rn="http://www.w3.org/1999/xlink",Hn=function e(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Vn=function e(t){return Hn(t)?t.slice(6,t.length):""},Bn=function e(t){return null==t||!1===t};function Un(e){for(var t=e.data,n=e,r=e;i(r.componentInstance);){(r=r.componentInstance._vnode)&&r.data&&(t=zn(r.data,t))}for(;i(n=n.parent);){n&&n.data&&(t=zn(t,n.data))}return function(e,t){if(i(e)||i(t))return Kn(e,Jn(t));return""}(t.staticClass,t.class)}function zn(e,t){return{staticClass:Kn(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Kn(e,t){return e?t?e+" "+t:e:t||""}function Jn(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,o=e.length;r<o;r++){i(t=Jn(e[r]))&&""!==t&&(n&&(n+=" "),n+=t)}return n}(e):s(e)?function(e){var t="";for(var n in e){e[n]&&(t&&(t+=" "),t+=n)}return t}(e):"string"==typeof e?e:""}var qn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wn=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Xn=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Zn=function e(t){return Wn(t)||Xn(t)};function Gn(e){return Xn(e)?"svg":"math"===e?"math":void 0}var Yn=Object.create(null);var Qn=v("text,number,password,search,email,tel,url");function er(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}var tr=Object.freeze({createElement:function e(t,n){var r=document.createElement(t);return"select"!==t?r:(n.data&&n.data.attrs&&void 0!==n.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)},createElementNS:function e(t,n){return document.createElementNS(qn[t],n)},createTextNode:function e(t){return document.createTextNode(t)},createComment:function e(t){return document.createComment(t)},insertBefore:function e(t,n,r){t.insertBefore(n,r)},removeChild:function e(t,n){t.removeChild(n)},appendChild:function e(t,n){t.appendChild(n)},parentNode:function e(t){return t.parentNode},nextSibling:function e(t){return t.nextSibling},tagName:function e(t){return t.tagName},setTextContent:function e(t,n){t.textContent=n},setStyleScope:function e(t,n){t.setAttribute(n,"")}}),nr={create:function e(t,n){rr(n)},update:function e(t,n){t.data.ref!==n.data.ref&&(rr(t,!0),rr(n))},destroy:function e(t){rr(t,!0)}};function rr(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[n])?y(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var ir=new ve("",{},[]),or=["create","activate","update","remove","destroy"];function ar(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||Qn(r)&&Qn(o)}(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function sr(e,t,n){var r,o,a={};for(r=t;r<=n;++r){i(o=e[r].key)&&(a[o]=r)}return a}var cr={create:ur,update:ur,destroy:function e(t){ur(t,ir)}};function ur(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,i,o=e===ir,a=t===ir,s=fr(e.data.directives,e.context),c=fr(t.data.directives,t.context),u=[],l=[];for(n in c){r=s[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,dr(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(dr(i,"bind",t,e),i.def&&i.def.inserted&&u.push(i))}if(u.length){var f=function n(){for(var r=0;r<u.length;r++){dr(u[r],"inserted",t,e)}};o?at(t,"insert",f):f()}l.length&&at(t,"postpatch",function(){for(var n=0;n<l.length;n++){dr(l[n],"componentUpdated",t,e)}});if(!o)for(n in s){c[n]||dr(s[n],"unbind",e,e,a)}}(e,t)}var lr=Object.create(null);function fr(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++){(r=e[n]).modifiers||(r.modifiers=lr),i[pr(r)]=r,r.def=Ie(t.$options,"directives",r.name)}return i}function pr(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function dr(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(r){Ve(r,n.context,"directive "+e.name+" "+t+" hook")}}var vr=[nr,cr];function hr(e,t){var n=t.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var o,a,s=t.elm,c=e.data.attrs||{},u=t.data.attrs||{};for(o in i(u.__ob__)&&(u=t.data.attrs=S({},u)),u){a=u[o],c[o]!==a&&mr(s,o,a)}for(o in(X||G)&&u.value!==c.value&&mr(s,"value",u.value),c){r(u[o])&&(Hn(o)?s.removeAttributeNS(Rn,Vn(o)):Mn(o)||s.removeAttribute(o))}}}function mr(e,t,n){e.tagName.indexOf("-")>-1?yr(e,t,n):Pn(t)?Bn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Mn(t)?e.setAttribute(t,Fn(t,n)):Hn(t)?Bn(n)?e.removeAttributeNS(Rn,Vn(t)):e.setAttributeNS(Rn,t,n):yr(e,t,n)}function yr(e,t,n){if(Bn(n))e.removeAttribute(t);else{if(X&&!Z&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function t(n){n.stopImmediatePropagation(),e.removeEventListener("input",t)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var gr={create:hr,update:hr};function _r(e,t){var n=t.elm,o=t.data,a=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Un(t),c=n._transitionClasses;i(c)&&(s=Kn(s,Jn(c))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var br,$r,wr,Cr,xr,kr,Ar={create:_r,update:_r},Or=/[\w).+\-_$\]]/;function Sr(e){var t,n,r,i,o,a=!1,s=!1,c=!1,u=!1,l=0,f=0,p=0,d=0;for(r=0;r<e.length;r++){if(n=t,t=e.charCodeAt(r),a)39===t&&92!==n&&(a=!1);else if(s)34===t&&92!==n&&(s=!1);else if(c)96===t&&92!==n&&(c=!1);else if(u)47===t&&92!==n&&(u=!1);else if(124!==t||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||l||f||p){switch(t){case 34:s=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:f++;break;case 93:f--;break;case 123:l++;break;case 125:l--}if(47===t){for(var v=r-1,h=void 0;v>=0&&" "===(h=e.charAt(v));v--){}h&&Or.test(h)||(u=!0)}}else void 0===i?(d=r+1,i=e.slice(0,r).trim()):m()}function m(){(o||(o=[])).push(e.slice(d,r).trim()),d=r+1}if(void 0===i?i=e.slice(0,r).trim():0!==d&&m(),o)for(r=0;r<o.length;r++){i=Tr(i,o[r])}return i}function Tr(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),i=t.slice(n+1);return'_f("'+r+'")('+e+(")"!==i?","+i:i)}function Nr(e,t){console.error("[Vue compiler]: "+e)}function Er(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function jr(e,t,n,r,i){(e.props||(e.props=[])).push(Vr({name:t,value:n,dynamic:i},r)),e.plain=!1}function Dr(e,t,n,r,i){(i?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(Vr({name:t,value:n,dynamic:i},r)),e.plain=!1}function Lr(e,t,n,r){e.attrsMap[t]=n,e.attrsList.push(Vr({name:t,value:n},r))}function Mr(e,t,n,r,i,o,a,s){(e.directives||(e.directives=[])).push(Vr({name:t,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:a},s)),e.plain=!1}function Ir(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function Fr(e,t,r,i,o,a,s,c){var u;(i=i||n).right?c?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete i.right):i.middle&&(c?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),i.capture&&(delete i.capture,t=Ir("!",t,c)),i.once&&(delete i.once,t=Ir("~",t,c)),i.passive&&(delete i.passive,t=Ir("&",t,c)),i.native?(delete i.native,u=e.nativeEvents||(e.nativeEvents={})):u=e.events||(e.events={});var l=Vr({value:r.trim(),dynamic:c},s);i!==n&&(l.modifiers=i);var f=u[t];Array.isArray(f)?o?f.unshift(l):f.push(l):u[t]=f?o?[l,f]:[f,l]:l,e.plain=!1}function Pr(e,t,n){var r=Rr(e,":"+t)||Rr(e,"v-bind:"+t);if(null!=r)return Sr(r);if(!1!==n){var i=Rr(e,t);if(null!=i)return JSON.stringify(i)}}function Rr(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var i=e.attrsList,o=0,a=i.length;o<a;o++){if(i[o].name===t){i.splice(o,1);break}}return n&&delete e.attrsMap[t],r}function Hr(e,t){for(var n=e.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(t.test(o.name))return n.splice(r,1),o}}function Vr(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Br(e,t,n){var r=n||{},i=r.number,o="$$v";r.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(o="_n("+o+")");var a=Ur(t,o);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+a+"}"}}function Ur(e,t){var n=function(e){if(e=e.trim(),br=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<br-1)return(Cr=e.lastIndexOf("."))>-1?{exp:e.slice(0,Cr),key:'"'+e.slice(Cr+1)+'"'}:{exp:e,key:null};$r=e,Cr=xr=kr=0;for(;!Kr();){Jr(wr=zr())?Wr(wr):91===wr&&qr(wr)}return{exp:e.slice(0,xr),key:e.slice(xr+1,kr)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function zr(){return $r.charCodeAt(++Cr)}function Kr(){return Cr>=br}function Jr(e){return 34===e||39===e}function qr(e){var t=1;for(xr=Cr;!Kr();){if(Jr(e=zr()))Wr(e);else if(91===e&&t++,93===e&&t--,0===t){kr=Cr;break}}}function Wr(e){for(var t=e;!Kr()&&(e=zr())!==t;){}}var Xr,Zr="__r",Gr="__c";function Yr(e,t,n){var r=Xr;return function i(){null!==t.apply(null,arguments)&&ti(e,i,n,r)}}var Qr=Je&&!(Q&&Number(Q[1])<=53);function ei(e,t,n,r){if(Qr){var i=cn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Xr.addEventListener(e,t,te?{capture:n,passive:r}:n)}function ti(e,t,n,r){(r||Xr).removeEventListener(e,t._wrapper||t,n)}function ni(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},o=e.data.on||{};Xr=t.elm,function(e){if(i(e[Zr])){var t=X?"change":"input";e[t]=[].concat(e[Zr],e[t]||[]),delete e[Zr]}i(e[Gr])&&(e.change=[].concat(e[Gr],e.change||[]),delete e[Gr])}(n),ot(n,o,ei,ti,Yr,t.context),Xr=void 0}}var ri,ii={create:ni,update:ni};function oi(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,o,a=t.elm,s=e.data.domProps||{},c=t.data.domProps||{};for(n in i(c.__ob__)&&(c=t.data.domProps=S({},c)),s){n in c||(a[n]="")}for(n in c){if(o=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var u=r(o)?"":String(o);ai(a,u)&&(a.value=u)}else if("innerHTML"===n&&Xn(a.tagName)&&r(a.innerHTML)){(ri=ri||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var l=ri.firstChild;a.firstChild;){a.removeChild(a.firstChild)}for(;l.firstChild;){a.appendChild(l.firstChild)}}else if(o!==s[n])try{a[n]=o}catch(e){}}}}function ai(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return d(n)!==d(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var si={create:oi,update:oi},ci=b(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t});function ui(e){var t=li(e.style);return e.staticStyle?S(e.staticStyle,t):t}function li(e){return Array.isArray(e)?T(e):"string"==typeof e?ci(e):e}var fi,pi=/^--/,di=/\s*!important$/,vi=function e(t,n,r){if(pi.test(n))t.style.setProperty(n,r);else if(di.test(r))t.style.setProperty(k(n),r.replace(di,""),"important");else{var i=mi(n);if(Array.isArray(r))for(var o=0,a=r.length;o<a;o++){t.style[i]=r[o]}else t.style[i]=r}},hi=["Webkit","Moz","ms"],mi=b(function(e){if(fi=fi||document.createElement("div").style,"filter"!==(e=w(e))&&e in fi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<hi.length;n++){var r=hi[n]+t;if(r in fi)return r}});function yi(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,c=t.elm,u=o.staticStyle,l=o.normalizedStyle||o.style||{},f=u||l,p=li(t.data.style)||{};t.data.normalizedStyle=i(p.__ob__)?S({},p):p;var d=function(e,t){var n,r={};if(t)for(var i=e;i.componentInstance;){(i=i.componentInstance._vnode)&&i.data&&(n=ui(i.data))&&S(r,n)}(n=ui(e.data))&&S(r,n);for(var o=e;o=o.parent;){o.data&&(n=ui(o.data))&&S(r,n)}return r}(t,!0);for(s in f){r(d[s])&&vi(c,s,"")}for(s in d){(a=d[s])!==f[s]&&vi(c,s,null==a?"":a)}}}var gi={create:yi,update:yi},_i=/\s+/;function bi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(_i).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function $i(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(_i).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;){n=n.replace(r," ")}(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function wi(e){if(e){if("object"==babelHelpers.typeof(e)){var t={};return!1!==e.css&&S(t,Ci(e.name||"v")),S(t,e),t}return"string"==typeof e?Ci(e):void 0}}var Ci=b(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),xi=K&&!Z,ki="transition",Ai="animation",Oi="transition",Si="transitionend",Ti="animation",Ni="animationend";xi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oi="WebkitTransition",Si="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ti="WebkitAnimation",Ni="webkitAnimationEnd"));var Ei=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function ji(e){Ei(function(){Ei(e)})}function Di(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),bi(e,t))}function Li(e,t){e._transitionClasses&&y(e._transitionClasses,t),$i(e,t)}function Mi(e,t,n){var r=Fi(e,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===ki?Si:Ni,c=0,u=function t(){e.removeEventListener(s,l),n()},l=function t(n){n.target===e&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),e.addEventListener(s,l)}var Ii=/\b(transform|all)(,|$)/;function Fi(e,t){var n,r=window.getComputedStyle(e),i=(r[Oi+"Delay"]||"").split(", "),o=(r[Oi+"Duration"]||"").split(", "),a=Pi(i,o),s=(r[Ti+"Delay"]||"").split(", "),c=(r[Ti+"Duration"]||"").split(", "),u=Pi(s,c),l=0,f=0;return t===ki?a>0&&(n=ki,l=a,f=o.length):t===Ai?u>0&&(n=Ai,l=u,f=c.length):f=(n=(l=Math.max(a,u))>0?a>u?ki:Ai:null)?n===ki?o.length:c.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===ki&&Ii.test(r[Oi+"Property"])}}function Pi(e,t){for(;e.length<t.length;){e=e.concat(e)}return Math.max.apply(null,t.map(function(t,n){return Ri(t)+Ri(e[n])}))}function Ri(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Hi(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=wi(e.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){for(var a=o.css,c=o.type,u=o.enterClass,l=o.enterToClass,f=o.enterActiveClass,p=o.appearClass,v=o.appearToClass,h=o.appearActiveClass,m=o.beforeEnter,y=o.enter,g=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,$=o.appear,w=o.afterAppear,C=o.appearCancelled,x=o.duration,k=Zt,A=Zt.$vnode;A&&A.parent;){k=A.context,A=A.parent}var O=!k._isMounted||!e.isRootInsert;if(!O||$||""===$){var S=O&&p?p:u,T=O&&h?h:f,N=O&&v?v:l,E=O&&b||m,j=O&&"function"==typeof $?$:y,D=O&&w||g,L=O&&C||_,I=d(s(x)?x.enter:x),F=!1!==a&&!Z,P=Ui(j),R=n._enterCb=M(function(){F&&(Li(n,N),Li(n,T)),R.cancelled?(F&&Li(n,S),L&&L(n)):D&&D(n),n._enterCb=null});e.data.show||at(e,"insert",function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),j&&j(n,R)}),E&&E(n),F&&(Di(n,S),Di(n,T),ji(function(){Li(n,S),R.cancelled||(Di(n,N),P||(Bi(I)?setTimeout(R,I):Mi(n,c,R)))})),e.data.show&&(t&&t(),j&&j(n,R)),F||P||R()}}}function Vi(e,t){var n=e.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=wi(e.data.transition);if(r(o)||1!==n.nodeType)return t();if(!i(n._leaveCb)){var a=o.css,c=o.type,u=o.leaveClass,l=o.leaveToClass,f=o.leaveActiveClass,p=o.beforeLeave,v=o.leave,h=o.afterLeave,m=o.leaveCancelled,y=o.delayLeave,g=o.duration,_=!1!==a&&!Z,b=Ui(v),$=d(s(g)?g.leave:g),w=n._leaveCb=M(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),_&&(Li(n,l),Li(n,f)),w.cancelled?(_&&Li(n,u),m&&m(n)):(t(),h&&h(n)),n._leaveCb=null});y?y(C):C()}function C(){w.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),p&&p(n),_&&(Di(n,u),Di(n,f),ji(function(){Li(n,u),w.cancelled||(Di(n,l),b||(Bi($)?setTimeout(w,$):Mi(n,c,w)))})),v&&v(n,w),_||b||w())}}function Bi(e){return"number"==typeof e&&!isNaN(e)}function Ui(e){if(r(e))return!1;var t=e.fns;return i(t)?Ui(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function zi(e,t){!0!==t.data.show&&Hi(t)}var Ki=function(e){var t,n,s={},c=e.modules,u=e.nodeOps;for(t=0;t<or.length;++t){for(s[or[t]]=[],n=0;n<c.length;++n){i(c[n][or[t]])&&s[or[t]].push(c[n][or[t]])}}function l(e){var t=u.parentNode(e);i(t)&&u.removeChild(t,e)}function f(e,t,n,r,a,c,l){if(i(e.elm)&&i(c)&&(e=c[l]=ge(e)),e.isRootInsert=!a,!function(e,t,n,r){var a=e.data;if(i(a)){var c=i(e.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(e,!1),i(e.componentInstance))return p(e,t),d(n,e.elm,r),o(c)&&function(e,t,n,r){for(var o,a=e;a.componentInstance;){if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o){s.activate[o](ir,a)}t.push(a);break}}d(n,e.elm,r)}(e,t,n,r),!0}}(e,t,n,r)){var f=e.data,v=e.children,m=e.tag;i(m)?(e.elm=e.ns?u.createElementNS(e.ns,m):u.createElement(m,e),g(e),h(e,v,t),i(f)&&y(e,t),d(n,e.elm,r)):o(e.isComment)?(e.elm=u.createComment(e.text),d(n,e.elm,r)):(e.elm=u.createTextNode(e.text),d(n,e.elm,r))}}function p(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(y(e,t),g(e)):(rr(e),t.push(e))}function d(e,t,n){i(e)&&(i(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function h(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r){f(t[r],n,e.elm,null,!0,t,r)}else a(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function m(e){for(;e.componentInstance;){e=e.componentInstance._vnode}return i(e.tag)}function y(e,n){for(var r=0;r<s.create.length;++r){s.create[r](ir,e)}i(t=e.data.hook)&&(i(t.create)&&t.create(ir,e),i(t.insert)&&n.push(e))}function g(e){var t;if(i(t=e.fnScopeId))u.setStyleScope(e.elm,t);else for(var n=e;n;){i(t=n.context)&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent}i(t=Zt)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function _(e,t,n,r,i,o){for(;r<=i;++r){f(n[r],o,e,t,!1,n,r)}}function b(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t){s.destroy[t](e)}if(i(t=e.children))for(n=0;n<e.children.length;++n){b(e.children[n])}}function $(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(w(r),b(r)):l(r.elm))}}function w(e,t){if(i(t)||i(e.data)){var n,r=s.remove.length+1;for(i(t)?t.listeners+=r:t=function(e,t){function n(){0==--n.listeners&&l(e)}return n.listeners=t,n}(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&w(n,t),n=0;n<s.remove.length;++n){s.remove[n](e,t)}i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else l(e.elm)}function C(e,t,n,r){for(var o=n;o<r;o++){var a=t[o];if(i(a)&&ar(e,a))return o}}function x(e,t,n,a,c,l){if(e!==t){i(t.elm)&&i(a)&&(t=a[c]=ge(t));var p=t.elm=e.elm;if(o(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?O(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var d,v=t.data;i(v)&&i(d=v.hook)&&i(d=d.prepatch)&&d(e,t);var h=e.children,y=t.children;if(i(v)&&m(t)){for(d=0;d<s.update.length;++d){s.update[d](e,t)}i(d=v.hook)&&i(d=d.update)&&d(e,t)}r(t.text)?i(h)&&i(y)?h!==y&&function(e,t,n,o,a){for(var s,c,l,p=0,d=0,v=t.length-1,h=t[0],m=t[v],y=n.length-1,g=n[0],b=n[y],w=!a;p<=v&&d<=y;){r(h)?h=t[++p]:r(m)?m=t[--v]:ar(h,g)?(x(h,g,o,n,d),h=t[++p],g=n[++d]):ar(m,b)?(x(m,b,o,n,y),m=t[--v],b=n[--y]):ar(h,b)?(x(h,b,o,n,y),w&&u.insertBefore(e,h.elm,u.nextSibling(m.elm)),h=t[++p],b=n[--y]):ar(m,g)?(x(m,g,o,n,d),w&&u.insertBefore(e,m.elm,h.elm),m=t[--v],g=n[++d]):(r(s)&&(s=sr(t,p,v)),r(c=i(g.key)?s[g.key]:C(g,t,p,v))?f(g,o,e,h.elm,!1,n,d):ar(l=t[c],g)?(x(l,g,o,n,d),t[c]=void 0,w&&u.insertBefore(e,l.elm,h.elm)):f(g,o,e,h.elm,!1,n,d),g=n[++d])}p>v?_(e,r(n[y+1])?null:n[y+1].elm,n,d,y,o):d>y&&$(t,p,v)}(p,h,y,n,l):i(y)?(i(e.text)&&u.setTextContent(p,""),_(p,null,y,0,y.length-1,n)):i(h)?$(h,0,h.length-1):i(e.text)&&u.setTextContent(p,""):e.text!==t.text&&u.setTextContent(p,t.text),i(v)&&i(d=v.hook)&&i(d=d.postpatch)&&d(e,t)}}}function k(e,t,n){if(o(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r){t[r].data.hook.insert(t[r])}}var A=v("attrs,class,staticClass,staticStyle,key");function O(e,t,n,r){var a,s=t.tag,c=t.data,u=t.children;if(r=r||c&&c.pre,t.elm=e,o(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(a=c.hook)&&i(a=a.init)&&a(t,!0),i(a=t.componentInstance)))return p(t,n),!0;if(i(s)){if(i(u))if(e.hasChildNodes()){if(i(a=c)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var l=!0,f=e.firstChild,d=0;d<u.length;d++){if(!f||!O(f,u[d],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}}else h(t,u,n);if(i(c)){var v=!1;for(var m in c){if(!A(m)){v=!0,y(t,n);break}}!v&&c.class&&nt(c.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,a){if(!r(t)){var c,l=!1,p=[];if(r(e))l=!0,f(t,p);else{var d=i(e.nodeType);if(!d&&ar(e,t))x(e,t,p,null,null,a);else{if(d){if(1===e.nodeType&&e.hasAttribute(I)&&(e.removeAttribute(I),n=!0),o(n)&&O(e,t,p))return k(t,p,!0),e;c=e,e=new ve(u.tagName(c).toLowerCase(),{},[],void 0,c)}var v=e.elm,h=u.parentNode(v);if(f(t,p,v._leaveCb?null:h,u.nextSibling(v)),i(t.parent))for(var y=t.parent,g=m(t);y;){for(var _=0;_<s.destroy.length;++_){s.destroy[_](y)}if(y.elm=t.elm,g){for(var w=0;w<s.create.length;++w){s.create[w](ir,y)}var C=y.data.hook.insert;if(C.merged)for(var A=1;A<C.fns.length;A++){C.fns[A]()}}else rr(y);y=y.parent}i(h)?$([e],0,0):i(e.tag)&&b(e)}}return k(t,p,l),t.elm}i(e)&&b(e)}}({nodeOps:tr,modules:[gr,Ar,ii,si,gi,K?{create:zi,activate:zi,remove:function e(t,n){!0!==t.data.show?Vi(t,n):n()}}:{}].concat(vr)});Z&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Qi(e,"input")});var Ji={inserted:function e(t,n,r,i){"select"===r.tag?(i.elm&&!i.elm._vOptions?at(r,"postpatch",function(){Ji.componentUpdated(t,n,r)}):qi(t,n,r.context),t._vOptions=[].map.call(t.options,Zi)):("textarea"===r.tag||Qn(t.type))&&(t._vModifiers=n.modifiers,n.modifiers.lazy||(t.addEventListener("compositionstart",Gi),t.addEventListener("compositionend",Yi),t.addEventListener("change",Yi),Z&&(t.vmodel=!0)))},componentUpdated:function e(t,n,r){if("select"===r.tag){qi(t,n,r.context);var i=t._vOptions,o=t._vOptions=[].map.call(t.options,Zi);if(o.some(function(e,t){return!D(e,i[t])}))(t.multiple?n.value.some(function(e){return Xi(e,o)}):n.value!==n.oldValue&&Xi(n.value,o))&&Qi(t,"change")}}};function qi(e,t,n){Wi(e,t,n),(X||G)&&setTimeout(function(){Wi(e,t,n)},0)}function Wi(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,c=e.options.length;s<c;s++){if(a=e.options[s],i)o=L(r,Zi(a))>-1,a.selected!==o&&(a.selected=o);else if(D(Zi(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s))}i||(e.selectedIndex=-1)}}function Xi(e,t){return t.every(function(t){return!D(t,e)})}function Zi(e){return"_value"in e?e._value:e.value}function Gi(e){e.target.composing=!0}function Yi(e){e.target.composing&&(e.target.composing=!1,Qi(e.target,"input"))}function Qi(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function eo(e){return!e.componentInstance||e.data&&e.data.transition?e:eo(e.componentInstance._vnode)}var to={model:Ji,show:{bind:function e(t,n,r){var i=n.value,o=(r=eo(r)).data&&r.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&o?(r.data.show=!0,Hi(r,function(){t.style.display=a})):t.style.display=i?a:"none"},update:function e(t,n,r){var i=n.value;!i!=!n.oldValue&&((r=eo(r)).data&&r.data.transition?(r.data.show=!0,i?Hi(r,function(){t.style.display=t.__vOriginalDisplay}):Vi(r,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function e(t,n,r,i,o){o||(t.style.display=t.__vOriginalDisplay)}}},no={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ro(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?ro(Kt(t.children)):e}function io(e){var t={},n=e.$options;for(var r in n.propsData){t[r]=e[r]}var i=n._parentListeners;for(var o in i){t[w(o)]=i[o]}return t}function oo(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var ao=function e(t){return t.tag||zt(t)},so=function e(t){return"show"===t.name},co={name:"transition",props:no,abstract:!0,render:function e(t){var n=this,r=this.$slots.default;if(r&&(r=r.filter(ao)).length){var i=this.mode,o=r[0];if(function(e){for(;e=e.parent;){if(e.data.transition)return!0}}(this.$vnode))return o;var s=ro(o);if(!s)return o;if(this._leaving)return oo(t,o);var c="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?c+"comment":c+s.tag:a(s.key)?0===String(s.key).indexOf(c)?s.key:c+s.key:s.key;var u=(s.data||(s.data={})).transition=io(this),l=this._vnode,f=ro(l);if(s.data.directives&&s.data.directives.some(so)&&(s.data.show=!0),f&&f.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(s,f)&&!zt(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){var p=f.data.transition=S({},u);if("out-in"===i)return this._leaving=!0,at(p,"afterLeave",function(){n._leaving=!1,n.$forceUpdate()}),oo(t,o);if("in-out"===i){if(zt(s))return l;var d,v=function e(){d()};at(u,"afterEnter",v),at(u,"enterCancelled",v),at(p,"delayLeave",function(e){d=e})}}return o}}},uo=S({tag:String,moveClass:String},no);function lo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function fo(e){e.data.newPos=e.elm.getBoundingClientRect()}function po(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete uo.mode;var vo={Transition:co,TransitionGroup:{props:uo,beforeMount:function e(){var t=this,n=this._update;this._update=function(e,r){var i=Gt(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),n.call(t,e,r)}},render:function e(t){for(var n=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],s=io(this),c=0;c<o.length;c++){var u=o[c];u.tag&&null!=u.key&&0!==String(u.key).indexOf("__vlist")&&(a.push(u),r[u.key]=u,(u.data||(u.data={})).transition=s)}if(i){for(var l=[],f=[],p=0;p<i.length;p++){var d=i[p];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),r[d.key]?l.push(d):f.push(d)}this.kept=t(n,null,l),this.removed=f}return t(n,null,a)},updated:function e(){var t=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,n)&&(t.forEach(lo),t.forEach(fo),t.forEach(po),this._reflow=document.body.offsetHeight,t.forEach(function(e){if(e.data.moved){var t=e.elm,r=t.style;Di(t,n),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(Si,t._moveCb=function e(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(Si,e),t._moveCb=null,Li(t,n))})}}))},methods:{hasMove:function e(t,n){if(!xi)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(e){$i(r,e)}),bi(r,n),r.style.display="none",this.$el.appendChild(r);var i=Fi(r);return this.$el.removeChild(r),this._hasMove=i.hasTransform}}}};xn.config.mustUseProp=Ln,xn.config.isReservedTag=Zn,xn.config.isReservedAttr=jn,xn.config.getTagNamespace=Gn,xn.config.isUnknownElement=function(e){if(!K)return!0;if(Zn(e))return!1;if(e=e.toLowerCase(),null!=Yn[e])return Yn[e];var t=document.createElement(e);return e.indexOf("-")>-1?Yn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Yn[e]=/HTMLUnknownElement/.test(t.toString())},S(xn.options.directives,to),S(xn.options.components,vo),xn.prototype.__patch__=K?Ki:N,xn.prototype.$mount=function(e,t){return function(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=me),en(e,"beforeMount"),r=function t(){e._update(e._render(),n)},new dn(e,r,N,{before:function t(){e._isMounted&&!e._isDestroyed&&en(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,en(e,"mounted")),e}(this,e=e&&K?er(e):void 0,t)},K&&setTimeout(function(){R.devtools&&ie&&ie.emit("init",xn)},0);var ho=/\{\{((?:.|\r?\n)+?)\}\}/g,mo=/[-.*+?^${}()|[\]\/\\]/g,yo=b(function(e){var t=e[0].replace(mo,"\\$&"),n=e[1].replace(mo,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")});var go={staticKeys:["staticClass"],transformNode:function e(t,n){n.warn;var r=Rr(t,"class");r&&(t.staticClass=JSON.stringify(r));var i=Pr(t,"class",!1);i&&(t.classBinding=i)},genData:function e(t){var n="";return t.staticClass&&(n+="staticClass:"+t.staticClass+","),t.classBinding&&(n+="class:"+t.classBinding+","),n}};var _o,bo={staticKeys:["staticStyle"],transformNode:function e(t,n){n.warn;var r=Rr(t,"style");r&&(t.staticStyle=JSON.stringify(ci(r)));var i=Pr(t,"style",!1);i&&(t.styleBinding=i)},genData:function e(t){var n="";return t.staticStyle&&(n+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(n+="style:("+t.styleBinding+"),"),n}},$o=function e(t){return(_o=_o||document.createElement("div")).innerHTML=t,_o.textContent},wo=v("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Co=v("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),xo=v("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),ko=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ao=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Oo="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+H.source+"]*",So="((?:"+Oo+"\\:)?"+Oo+")",To=new RegExp("^<"+So),No=/^\s*(\/?)>/,Eo=new RegExp("^<\\/"+So+"[^>]*>"),jo=/^<!DOCTYPE [^>]+>/i,Do=/^<!\--/,Lo=/^<!\[/,Mo=v("script,style,textarea",!0),Io={},Fo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Po=/&(?:lt|gt|quot|amp|#39);/g,Ro=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Ho=v("pre,textarea",!0),Vo=function e(t,n){return t&&Ho(t)&&"\n"===n[0]};function Bo(e,t){var n=t?Ro:Po;return e.replace(n,function(e){return Fo[e]})}var Uo,zo,Ko,Jo,qo,Wo,Xo,Zo,Go=/^@|^v-on:/,Yo=/^v-|^@|^:|^#/,Qo=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ea=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,ta=/^\(|\)$/g,na=/^\[.*\]$/,ra=/:(.*)$/,ia=/^:|^\.|^v-bind:/,oa=/\.[^.\]]+(?=[^\]]*$)/g,aa=/^v-slot(:|$)|^#/,sa=/[\r\n]/,ca=/\s+/g,ua=b($o),la="_empty_";function fa(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:ga(t),rawAttrsMap:{},parent:n,children:[]}}function pa(e,t){Uo=t.warn||Nr,Wo=t.isPreTag||E,Xo=t.mustUseProp||E,Zo=t.getTagNamespace||E;t.isReservedTag;Ko=Er(t.modules,"transformNode"),Jo=Er(t.modules,"preTransformNode"),qo=Er(t.modules,"postTransformNode"),zo=t.delimiters;var n,r,i=[],o=!1!==t.preserveWhitespace,a=t.whitespace,s=!1,c=!1;function u(e){if(l(e),s||e.processed||(e=da(e,t)),i.length||e===n||n.if&&(e.elseif||e.else)&&ha(n,{exp:e.elseif,block:e}),r&&!e.forbidden)if(e.elseif||e.else)a=e,(u=function(e){var t=e.length;for(;t--;){if(1===e[t].type)return e[t];e.pop()}}(r.children))&&u.if&&ha(u,{exp:a.elseif,block:a});else{if(e.slotScope){var o=e.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[o]=e}r.children.push(e),e.parent=r}var a,u;e.children=e.children.filter(function(e){return!e.slotScope}),l(e),e.pre&&(s=!1),Wo(e.tag)&&(c=!1);for(var f=0;f<qo.length;f++){qo[f](e,t)}}function l(e){if(!c)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;){e.children.pop()}}return function(e,t){for(var n,r,i=[],o=t.expectHTML,a=t.isUnaryTag||E,s=t.canBeLeftOpenTag||E,c=0;e;){if(n=e,r&&Mo(r)){var u=0,l=r.toLowerCase(),f=Io[l]||(Io[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),p=e.replace(f,function(e,n,r){return u=r.length,Mo(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Vo(l,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""});c+=e.length-p.length,e=p,A(l,c-u,c)}else{var d=e.indexOf("<");if(0===d){if(Do.test(e)){var v=e.indexOf("--\x3e");if(v>=0){t.shouldKeepComment&&t.comment(e.substring(4,v),c,c+v+3),C(v+3);continue}}if(Lo.test(e)){var h=e.indexOf("]>");if(h>=0){C(h+2);continue}}var m=e.match(jo);if(m){C(m[0].length);continue}var y=e.match(Eo);if(y){var g=c;C(y[0].length),A(y[1],g,c);continue}var _=x();if(_){k(_),Vo(_.tagName,e)&&C(1);continue}}var b=void 0,$=void 0,w=void 0;if(d>=0){for($=e.slice(d);!(Eo.test($)||To.test($)||Do.test($)||Lo.test($)||(w=$.indexOf("<",1))<0);){d+=w,$=e.slice(d)}b=e.substring(0,d)}d<0&&(b=e),b&&C(b.length),t.chars&&b&&t.chars(b,c-b.length,c)}if(e===n){t.chars&&t.chars(e);break}}function C(t){c+=t,e=e.substring(t)}function x(){var t=e.match(To);if(t){var n,r,i={tagName:t[1],attrs:[],start:c};for(C(t[0].length);!(n=e.match(No))&&(r=e.match(Ao)||e.match(ko));){r.start=c,C(r[0].length),r.end=c,i.attrs.push(r)}if(n)return i.unarySlash=n[1],C(n[0].length),i.end=c,i}}function k(e){var n=e.tagName,c=e.unarySlash;o&&("p"===r&&xo(n)&&A(r),s(n)&&r===n&&A(n));for(var u=a(n)||!!c,l=e.attrs.length,f=new Array(l),p=0;p<l;p++){var d=e.attrs[p],v=d[3]||d[4]||d[5]||"",h="a"===n&&"href"===d[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;f[p]={name:d[1],value:Bo(v,h)}}u||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:f,start:e.start,end:e.end}),r=n),t.start&&t.start(n,f,u,e.start,e.end)}function A(e,n,o){var a,s;if(null==n&&(n=c),null==o&&(o=c),e)for(s=e.toLowerCase(),a=i.length-1;a>=0&&i[a].lowerCasedTag!==s;a--){}else a=0;if(a>=0){for(var u=i.length-1;u>=a;u--){t.end&&t.end(i[u].tag,n,o)}i.length=a,r=a&&i[a-1].tag}else"br"===s?t.start&&t.start(e,[],!0,n,o):"p"===s&&(t.start&&t.start(e,[],!1,n,o),t.end&&t.end(e,n,o))}A()}(e,{warn:Uo,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function e(o,a,l,f,p){var d=r&&r.ns||Zo(o);X&&"svg"===d&&(a=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];_a.test(r.name)||(r.name=r.name.replace(ba,""),t.push(r))}return t}(a));var v,h=fa(o,a,r);d&&(h.ns=d),"style"!==(v=h).tag&&("script"!==v.tag||v.attrsMap.type&&"text/javascript"!==v.attrsMap.type)||re()||(h.forbidden=!0);for(var m=0;m<Jo.length;m++){h=Jo[m](h,t)||h}s||(!function(e){null!=Rr(e,"v-pre")&&(e.pre=!0)}(h),h.pre&&(s=!0)),Wo(h.tag)&&(c=!0),s?function(e){var t=e.attrsList,n=t.length;if(n)for(var r=e.attrs=new Array(n),i=0;i<n;i++){r[i]={name:t[i].name,value:JSON.stringify(t[i].value)},null!=t[i].start&&(r[i].start=t[i].start,r[i].end=t[i].end)}else e.pre||(e.plain=!0)}(h):h.processed||(va(h),function(e){var t=Rr(e,"v-if");if(t)e.if=t,ha(e,{exp:t,block:e});else{null!=Rr(e,"v-else")&&(e.else=!0);var n=Rr(e,"v-else-if");n&&(e.elseif=n)}}(h),function(e){null!=Rr(e,"v-once")&&(e.once=!0)}(h)),n||(n=h),l?u(h):(r=h,i.push(h))},end:function e(t,n,o){var a=i[i.length-1];i.length-=1,r=i[i.length-1],u(a)},chars:function e(t,n,i){if(r&&(!X||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var u,l,f,p=r.children;if(t=c||t.trim()?"script"===(u=r).tag||"style"===u.tag?t:ua(t):p.length?a?"condense"===a&&sa.test(t)?"":" ":o?" ":"":"")c||"condense"!==a||(t=t.replace(ca," ")),!s&&" "!==t&&(l=function(e,t){var n=t?yo(t):ho;if(n.test(e)){for(var r,i,o,a=[],s=[],c=n.lastIndex=0;r=n.exec(e);){(i=r.index)>c&&(s.push(o=e.slice(c,i)),a.push(JSON.stringify(o)));var u=Sr(r[1].trim());a.push("_s("+u+")"),s.push({"@binding":u}),c=i+r[0].length}return c<e.length&&(s.push(o=e.slice(c)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}(t,zo))?f={type:2,expression:l.expression,tokens:l.tokens,text:t}:" "===t&&p.length&&" "===p[p.length-1].text||(f={type:3,text:t}),f&&p.push(f)}},comment:function e(t,n,i){if(r){var o={type:3,text:t,isComment:!0};r.children.push(o)}}}),n}function da(e,t){var n,r;(r=Pr(n=e,"key"))&&(n.key=r),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,function(e){var t=Pr(e,"ref");t&&(e.ref=t,e.refInFor=function(e){var t=e;for(;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){var t;"template"===e.tag?(t=Rr(e,"scope"),e.slotScope=t||Rr(e,"slot-scope")):(t=Rr(e,"slot-scope"))&&(e.slotScope=t);var n=Pr(e,"slot");n&&(e.slotTarget='""'===n?'"default"':n,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Dr(e,"slot",n,function(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}(e,"slot")));if("template"===e.tag){var r=Hr(e,aa);if(r){var i=ma(r),o=i.name,a=i.dynamic;e.slotTarget=o,e.slotTargetDynamic=a,e.slotScope=r.value||la}}else{var s=Hr(e,aa);if(s){var c=e.scopedSlots||(e.scopedSlots={}),u=ma(s),l=u.name,f=u.dynamic,p=c[l]=fa("template",[],e);p.slotTarget=l,p.slotTargetDynamic=f,p.children=e.children.filter(function(e){if(!e.slotScope)return e.parent=p,!0}),p.slotScope=s.value||la,e.children=[],e.plain=!1}}}(e),function(e){"slot"===e.tag&&(e.slotName=Pr(e,"name"))}(e),function(e){var t;(t=Pr(e,"is"))&&(e.component=t);null!=Rr(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var i=0;i<Ko.length;i++){e=Ko[i](e,t)||e}return function(e){var t,n,r,i,o,a,s,c,u=e.attrsList;for(t=0,n=u.length;t<n;t++){if(r=i=u[t].name,o=u[t].value,Yo.test(r)){if(e.hasBindings=!0,(a=ya(r.replace(Yo,"")))&&(r=r.replace(oa,"")),ia.test(r))r=r.replace(ia,""),o=Sr(o),(c=na.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!c&&"innerHtml"===(r=w(r))&&(r="innerHTML"),a.camel&&!c&&(r=w(r)),a.sync&&(s=Ur(o,"$event"),c?Fr(e,'"update:"+('+r+")",s,null,!1,0,u[t],!0):(Fr(e,"update:"+w(r),s,null,!1,0,u[t]),k(r)!==w(r)&&Fr(e,"update:"+k(r),s,null,!1,0,u[t])))),a&&a.prop||!e.component&&Xo(e.tag,e.attrsMap.type,r)?jr(e,r,o,u[t],c):Dr(e,r,o,u[t],c);else if(Go.test(r))r=r.replace(Go,""),(c=na.test(r))&&(r=r.slice(1,-1)),Fr(e,r,o,a,!1,0,u[t],c);else{var l=(r=r.replace(Yo,"")).match(ra),f=l&&l[1];c=!1,f&&(r=r.slice(0,-(f.length+1)),na.test(f)&&(f=f.slice(1,-1),c=!0)),Mr(e,r,i,o,f,c,a,u[t])}}else Dr(e,r,JSON.stringify(o),u[t]),!e.component&&"muted"===r&&Xo(e.tag,e.attrsMap.type,r)&&jr(e,r,"true",u[t])}}(e),e}function va(e){var t;if(t=Rr(e,"v-for")){var n=function(e){var t=e.match(Qo);if(!t)return;var n={};n.for=t[2].trim();var r=t[1].trim().replace(ta,""),i=r.match(ea);i?(n.alias=r.replace(ea,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(t);n&&S(e,n)}}function ha(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function ma(e){var t=e.name.replace(aa,"");return t||"#"!==e.name[0]&&(t="default"),na.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function ya(e){var t=e.match(oa);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}function ga(e){for(var t={},n=0,r=e.length;n<r;n++){t[e[n].name]=e[n].value}return t}var _a=/^xmlns:NS\d+/,ba=/^NS\d+:/;function $a(e){return fa(e.tag,e.attrsList.slice(),e.parent)}var wa=[go,bo,{preTransformNode:function e(t,n){if("input"===t.tag){var r,i=t.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(r=Pr(t,"type")),i.type||r||!i["v-bind"]||(r="("+i["v-bind"]+").type"),r){var o=Rr(t,"v-if",!0),a=o?"&&("+o+")":"",s=null!=Rr(t,"v-else",!0),c=Rr(t,"v-else-if",!0),u=$a(t);va(u),Lr(u,"type","checkbox"),da(u,n),u.processed=!0,u.if="("+r+")==='checkbox'"+a,ha(u,{exp:u.if,block:u});var l=$a(t);Rr(l,"v-for",!0),Lr(l,"type","radio"),da(l,n),ha(u,{exp:"("+r+")==='radio'"+a,block:l});var f=$a(t);return Rr(f,"v-for",!0),Lr(f,":type",r),da(f,n),ha(u,{exp:o,block:f}),s?u.else=!0:c&&(u.elseif=c),u}}}}];var Ca,xa,ka={expectHTML:!0,modules:wa,directives:{model:function e(t,n,r){var i=n.value,o=n.modifiers,a=t.tag,s=t.attrsMap.type;if(t.component)return Br(t,i,o),!1;if("select"===a)!function(e,t,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";r=r+" "+Ur(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Fr(e,"change",r,null,!0)}(t,i,o);else if("input"===a&&"checkbox"===s)!function(e,t,n){var r=n&&n.number,i=Pr(e,"value")||"null",o=Pr(e,"true-value")||"true",a=Pr(e,"false-value")||"false";jr(e,"checked","Array.isArray("+t+")?_i("+t+","+i+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),Fr(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Ur(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Ur(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Ur(t,"$$c")+"}",null,!0)}(t,i,o);else if("input"===a&&"radio"===s)!function(e,t,n){var r=n&&n.number,i=Pr(e,"value")||"null";jr(e,"checked","_q("+t+","+(i=r?"_n("+i+")":i)+")"),Fr(e,"change",Ur(t,i),null,!0)}(t,i,o);else if("input"===a||"textarea"===a)!function(e,t,n){var r=e.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,c=!o&&"range"!==r,u=o?"change":"range"===r?Zr:"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var f=Ur(t,l);c&&(f="if($event.target.composing)return;"+f),jr(e,"value","("+t+")"),Fr(e,u,f,null,!0),(s||a)&&Fr(e,"blur","$forceUpdate()")}(t,i,o);else if(!R.isReservedTag(a))return Br(t,i,o),!1;return!0},text:function e(t,n){n.value&&jr(t,"textContent","_s("+n.value+")",n)},html:function e(t,n){n.value&&jr(t,"innerHTML","_s("+n.value+")",n)}},isPreTag:function e(t){return"pre"===t},isUnaryTag:wo,mustUseProp:Ln,canBeLeftOpenTag:Co,isReservedTag:Zn,getTagNamespace:Gn,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(wa)},Aa=b(function(e){return v("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))});function Oa(e,t){e&&(Ca=Aa(t.staticKeys||""),xa=t.isReservedTag||E,function e(t){t.static=function(e){if(2===e.type)return!1;if(3===e.type)return!0;return!(!e.pre&&(e.hasBindings||e.if||e.for||h(e.tag)||!xa(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(Ca)))}(t);if(1===t.type){if(!xa(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var n=0,r=t.children.length;n<r;n++){var i=t.children[n];e(i),i.static||(t.static=!1)}if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++){var s=t.ifConditions[o].block;e(s),s.static||(t.static=!1)}}}(e),function e(t,n){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=n),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,i=t.children.length;r<i;r++){e(t.children[r],n||!!t.for)}if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++){e(t.ifConditions[o].block,n)}}}(e,!1))}var Sa=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Ta=/\([^)]*?\);*$/,Na=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ea={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ja={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Da=function e(t){return"if("+t+")return null;"},La={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Da("$event.target !== $event.currentTarget"),ctrl:Da("!$event.ctrlKey"),shift:Da("!$event.shiftKey"),alt:Da("!$event.altKey"),meta:Da("!$event.metaKey"),left:Da("'button' in $event && $event.button !== 0"),middle:Da("'button' in $event && $event.button !== 1"),right:Da("'button' in $event && $event.button !== 2")};function Ma(e,t){var n=t?"nativeOn:":"on:",r="",i="";for(var o in e){var a=Ia(e[o]);e[o]&&e[o].dynamic?i+=o+","+a+",":r+='"'+o+'":'+a+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function Ia(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Ia(e)}).join(",")+"]";var t=Na.test(e.value),n=Sa.test(e.value),r=Na.test(e.value.replace(Ta,""));if(e.modifiers){var i="",o="",a=[];for(var s in e.modifiers){if(La[s])o+=La[s],Ea[s]&&a.push(s);else if("exact"===s){var c=e.modifiers;o+=Da(["ctrl","shift","alt","meta"].filter(function(e){return!c[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else a.push(s)}return a.length&&(i+=function(e){return"if(!$event.type.indexOf('key')&&"+e.map(Fa).join("&&")+")return null;"}(a)),o&&(i+=o),"function($event){"+i+(t?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":r?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}function Fa(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Ea[e],r=ja[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Pa={on:function e(t,n){t.wrapListeners=function(e){return"_g("+e+","+n.value+")"}},bind:function e(t,n){t.wrapData=function(e){return"_b("+e+",'"+t.tag+"',"+n.value+","+(n.modifiers&&n.modifiers.prop?"true":"false")+(n.modifiers&&n.modifiers.sync?",true":"")+")"}},cloak:N},Ra=function e(t){this.options=t,this.warn=t.warn||Nr,this.transforms=Er(t.modules,"transformCode"),this.dataGenFns=Er(t.modules,"genData"),this.directives=S(S({},Pa),t.directives);var n=t.isReservedTag||E;this.maybeComponent=function(e){return!!e.component||!n(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ha(e,t){var n=new Ra(t);return{render:"with(this){return "+(e?Va(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Va(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Ba(e,t);if(e.once&&!e.onceProcessed)return Ua(e,t);if(e.for&&!e.forProcessed)return Ka(e,t);if(e.if&&!e.ifProcessed)return za(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',r=Xa(e,t),i="_t("+n+(r?","+r:""),o=e.attrs||e.dynamicAttrs?Ya((e.attrs||[]).concat(e.dynamicAttrs||[]).map(function(e){return{name:w(e.name),value:e.value,dynamic:e.dynamic}})):null,a=e.attrsMap["v-bind"];!o&&!a||r||(i+=",null");o&&(i+=","+o);a&&(i+=(o?"":",null")+","+a);return i+")"}(e,t);var n;if(e.component)n=function(e,t,n){var r=t.inlineTemplate?null:Xa(t,n,!0);return"_c("+e+","+Ja(t,n)+(r?","+r:"")+")"}(e.component,e,t);else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=Ja(e,t));var i=e.inlineTemplate?null:Xa(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<t.transforms.length;o++){n=t.transforms[o](e,n)}return n}return Xa(e,t)||"void 0"}function Ba(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Va(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function Ua(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return za(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Va(e,t)+","+t.onceId+++","+n+")":Va(e,t)}return Ba(e,t)}function za(e,t,n,r){return e.ifProcessed=!0,function e(t,n,r,i){if(!t.length)return i||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+e(t,n,r,i):""+a(o.block);function a(e){return r?r(e,n):e.once?Ua(e,n):Va(e,n)}}(e.ifConditions.slice(),t,n,r)}function Ka(e,t,n,r){var i=e.for,o=e.alias,a=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||Va)(e,t)+"})"}function Ja(e,t){var n="{",r=function(e,t){var n=e.directives;if(!n)return;var r,i,o,a,s="directives:[",c=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var u=t.directives[o.name];u&&(a=!!u(e,o,t.warn)),a&&(c=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(c)return s.slice(0,-1)+"]"}(e,t);r&&(n+=r+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var i=0;i<t.dataGenFns.length;i++){n+=t.dataGenFns[i](e)}if(e.attrs&&(n+="attrs:"+Ya(e.attrs)+","),e.props&&(n+="domProps:"+Ya(e.props)+","),e.events&&(n+=Ma(e.events,!1)+","),e.nativeEvents&&(n+=Ma(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=function(e,t,n){var r=e.for||Object.keys(t).some(function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||qa(n)}),i=!!e.if;if(!r)for(var o=e.parent;o;){if(o.slotScope&&o.slotScope!==la||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var a=Object.keys(t).map(function(e){return Wa(t[e],n)}).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(e){var t=5381,n=e.length;for(;n;){t=33*t^e.charCodeAt(--n)}return t>>>0}(a):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var o=function(e,t){var n=e.children[0];if(n&&1===n.type){var r=Ha(n,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}(e,t);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+Ya(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function qa(e){return 1===e.type&&("slot"===e.tag||e.children.some(qa))}function Wa(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return za(e,t,Wa,"null");if(e.for&&!e.forProcessed)return Ka(e,t,Wa);var r=e.slotScope===la?"":String(e.slotScope),i="function("+r+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(Xa(e,t)||"undefined")+":undefined":Xa(e,t)||"undefined":Va(e,t))+"}",o=r?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+i+o+"}"}function Xa(e,t,n,r,i){var o=e.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?t.maybeComponent(a)?",1":",0":"";return""+(r||Va)(a,t)+s}var c=n?function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(1===i.type){if(Za(i)||i.ifConditions&&i.ifConditions.some(function(e){return Za(e.block)})){n=2;break}(t(i)||i.ifConditions&&i.ifConditions.some(function(e){return t(e.block)}))&&(n=1)}}return n}(o,t.maybeComponent):0,u=i||Ga;return"["+o.map(function(e){return u(e,t)}).join(",")+"]"+(c?","+c:"")}}function Za(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Ga(e,t){return 1===e.type?Va(e,t):3===e.type&&e.isComment?(r=e,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=e).type?n.expression:Qa(JSON.stringify(n.text)))+")";var n,r}function Ya(e){for(var t="",n="",r=0;r<e.length;r++){var i=e[r],o=Qa(i.value);i.dynamic?n+=i.name+","+o+",":t+='"'+i.name+'":'+o+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function Qa(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function es(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),N}}function ts(e){var t=Object.create(null);return function(n,r,i){(r=S({},r)).warn;delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(t[o])return t[o];var a=e(n,r),s={},c=[];return s.render=es(a.render,c),s.staticRenderFns=a.staticRenderFns.map(function(e){return es(e,c)}),t[o]=s}}var ns,rs,is=(ns=function e(t,n){var r=pa(t.trim(),n);!1!==n.optimize&&Oa(r,n);var i=Ha(r,n);return{ast:r,render:i.render,staticRenderFns:i.staticRenderFns}},function(e){function t(t,n){var r=Object.create(e),i=[],o=[];if(n)for(var a in n.modules&&(r.modules=(e.modules||[]).concat(n.modules)),n.directives&&(r.directives=S(Object.create(e.directives||null),n.directives)),n){"modules"!==a&&"directives"!==a&&(r[a]=n[a])}r.warn=function(e,t,n){(n?o:i).push(e)};var s=ns(t.trim(),r);return s.errors=i,s.tips=o,s}return{compile:t,compileToFunctions:ts(t)}})(ka),os=(is.compile,is.compileToFunctions);function as(e){return(rs=rs||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',rs.innerHTML.indexOf("&#10;")>0}var ss=!!K&&as(!1),cs=!!K&&as(!0),us=b(function(e){var t=er(e);return t&&t.innerHTML}),ls=xn.prototype.$mount;xn.prototype.$mount=function(e,t){if((e=e&&er(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r){if("string"==typeof r)"#"===r.charAt(0)&&(r=us(r));else{if(!r.nodeType)return this;r=r.innerHTML}}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(r){var i=os(r,{outputSourceRange:!1,shouldDecodeNewlines:ss,shouldDecodeNewlinesForHref:cs,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return ls.call(this,e,t)},xn.compile=os,xn;e.VueVendorV2=xn}})(this.BX=this.BX||{});
 



// file: /bitrix/js/ui/vue/dist/vue.bitrix.bundle.js
(function(e,t,n){"use strict";var i=function(){function e(){babelHelpers.classCallCheck(this,e);this._components={};this._mutations={};this._clones={};this.event=new n.VueVendorV2({})}babelHelpers.createClass(e,[{key:"create",value:function e(t){return new n.VueVendorV2(t)}},{key:"component",value:function e(t,i){this._components[t]=Object.assign({},i);if(typeof this._clones[t]!=="undefined"){this._registerCloneComponent(t)}return n.VueVendorV2.component(t,this._getComponentParamsWithMutation(t,this._mutations[t]))}},{key:"mutateComponent",value:function e(t,n){var i=this;if(typeof this._mutations[t]==="undefined"){this._mutations[t]=[]}this._mutations[t].push(n);if(typeof this._components[t]!=="undefined"){this.component(t,this._components[t])}return function(){i._mutations[t]=i._mutations[t].filter(function(e){return e!==n})}}},{key:"cloneComponent",value:function e(t,n,i){if(typeof this._clones[n]==="undefined"){this._clones[n]={}}this._clones[n][t]={id:t,sourceId:n,mutations:i};if(typeof this._components[n]!=="undefined"){this._registerCloneComponent(n,t)}return true}},{key:"isComponent",value:function e(t){return typeof this._components[t]!=="undefined"}},{key:"extend",value:function e(t){return n.VueVendorV2.extend(t)}},{key:"nextTick",value:function e(t,i){return n.VueVendorV2.nextTick(t,i)}},{key:"set",value:function e(t,i,r){return n.VueVendorV2.set(t,i,r)}},{key:"delete",value:function e(t,i){return n.VueVendorV2.delete(t,i)}},{key:"directive",value:function e(t,i){return n.VueVendorV2.directive(t,i)}},{key:"filter",value:function e(t,i){return n.VueVendorV2.filter(t,i)}},{key:"use",value:function e(t){return n.VueVendorV2.use(t)}},{key:"mixin",value:function e(t){return n.VueVendorV2.mixin(t)}},{key:"observable",value:function e(t){return n.VueVendorV2.observable(t)}},{key:"compile",value:function e(t){return n.VueVendorV2.compile(t)}},{key:"version",value:function e(){return n.VueVendorV2.version}},{key:"getFilteredPhrases",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i={};if(!n&&typeof BX.message!=="undefined"){n=BX.message}if(Array.isArray(t)){var r=function e(r){if(!n.hasOwnProperty(r)){return"continue"}if(!t.find(function(e){return r.toString().startsWith(e)})){return"continue"}i[r]=n[r]};for(var o in n){var s=r(o);if(s==="continue")continue}}else{for(var u in n){if(!n.hasOwnProperty(u)){continue}if(!u.startsWith(t)){continue}i[u]=n[u]}}return Object.freeze(i)}},{key:"_getComponentParamsWithMutation",value:function e(t,n){var i=this;if(typeof this._components[t]==="undefined"){return null}var r=Object.assign({},this._components[t]);if(typeof n==="undefined"){return r}n.forEach(function(e){r=i._applyMutation(i._cloneObjectWithoutDuplicateFunction(r,e),e)});return r}},{key:"_registerCloneComponent",value:function e(t){var n=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var r=[];if(i){if(typeof this._clones[t][i]!=="undefined"){r.push(this._clones[t][i])}}else{for(var o in this._clones[t]){if(!this._clones[t].hasOwnProperty(o)){continue}r.push(this._clones[t][o])}}r.forEach(function(e){var t=[];if(typeof n._mutations[e.sourceId]!=="undefined"){t=t.concat(n._mutations[e.sourceId])}t.push(e.mutations);var i=n._getComponentParamsWithMutation(e.sourceId,t);if(!i){return false}n.component(e.id,i)})}},{key:"_cloneObjectWithoutDuplicateFunction",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var r={};for(var o in t){if(!t.hasOwnProperty(o)){continue}if(typeof t[o]==="string"){r[o]=t[o]}else if(Object.prototype.toString.call(t[o])==="[object Array]"){r[o]=[].concat(t[o])}else if(babelHelpers.typeof(t[o])==="object"){if(t[o]===null){r[o]=null}else if(babelHelpers.typeof(n[o])==="object"){r[o]=this._cloneObjectWithoutDuplicateFunction(t[o],n[o],i+1)}else{r[o]=Object.assign({},t[o])}}else if(typeof t[o]==="function"){if(typeof n[o]!=="function"){r[o]=t[o]}else if(i>1){r["parent"+o[0].toUpperCase()+o.substr(1)]=t[o]}else{if(typeof r["methods"]==="undefined"){r["methods"]={}}r["methods"]["parent"+o[0].toUpperCase()+o.substr(1)]=t[o];if(typeof t["methods"]==="undefined"){t["methods"]={}}t["methods"]["parent"+o[0].toUpperCase()+o.substr(1)]=t[o]}}else if(typeof t[o]!=="undefined"){r[o]=t[o]}}return r}},{key:"_applyMutation",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=Object.assign({},t);for(var r in n){if(!n.hasOwnProperty(r)){continue}if(typeof n[r]==="string"){if(typeof i[r]==="string"){i[r]=n[r].replace("#PARENT_".concat(r.toUpperCase(),"#"),i[r])}else{i[r]=n[r].replace("#PARENT_".concat(r.toUpperCase(),"#"),"")}}else if(Object.prototype.toString.call(n[r])==="[object Array]"){i[r]=[].concat(n[r])}else if(babelHelpers.typeof(n[r])==="object"){if(babelHelpers.typeof(i[r])==="object"){i[r]=this._applyMutation(i[r],n[r])}else{i[r]=n[r]}}else{i[r]=n[r]}}return i}},{key:"testNode",value:function e(t,n){if(!n||babelHelpers.typeof(n)!=="object"){return true}var i,r,o;for(i in n){if(!n.hasOwnProperty(i)){continue}switch(i){case"tag":case"tagName":if(typeof n[i]==="string"){if(t.tagName.toUpperCase()!==n[i].toUpperCase()){return false}}else if(n[i]instanceof RegExp){if(!n[i].test(t.tagName)){return false}}break;case"class":case"className":if(typeof n[i]==="string"){if(!t.classList.contains(n[i].trim())){return false}}else if(n[i]instanceof RegExp){if(typeof t.className!=="string"||!n[i].test(t.className)){return false}}break;case"attr":case"attrs":case"attribute":if(typeof n[i]==="string"){if(!t.getAttribute(n[i])){return false}}else if(n[i]&&Object.prototype.toString.call(n[i])==="[object Array]"){for(r=0,o=n[i].length;r<o;r++){if(n[i][r]&&!t.getAttribute(n[i][r])){return false}}}else{for(r in n[i]){if(!n[i].hasOwnProperty(r)){continue}var s=t.getAttribute(r);if(typeof s!=="string"){return false}if(n[i][r]instanceof RegExp){if(!n[i][r].test(s)){return false}}else if(s!==""+n[i][r]){return false}}}break;case"property":case"props":if(typeof n[i]==="string"){if(!t[n[i]]){return false}}else if(n[i]&&Object.prototype.toString.call(n[i])=="[object Array]"){for(r=0,o=n[i].length;r<o;r++){if(n[i][r]&&!t[n[i][r]]){return false}}}else{for(r in n[i]){if(!n[i].hasOwnProperty(r)){continue}if(typeof n[i][r]==="string"){if(t[r]!=n[i][r]){return false}}else if(n[i][r]instanceof RegExp){if(typeof t[r]!=="string"||!n[i][r].test(t[r])){return false}}}}break}}return true}}]);return e}();if(typeof e!=="undefined"&&"Vue"in e){e.Vue=e.Vue;e.VueVendor=e.VueVendor}else{e.Vue=new i;e.VueVendor=n.VueVendorV2}})(this.BX=this.BX||{},window,BX);
 



// file: /bitrix/js/pull/protobuf/protobuf.js
(function(global,undefined){"use strict";(function e(t,r,i){function n(e){var i=r[e];if(!i)t[e][0].call(i=r[e]={exports:{}},n,i,i.exports);return i.exports}var s=global.protobuf=n(i[0])})({1:[function(e,t,r){"use strict";t.exports=i;function i(e,t){var r=new Array(arguments.length-1),i=0,n=2,s=true;while(n<arguments.length)r[i++]=arguments[n++];return new Promise(function n(o,f){r[i]=function e(t){if(s){s=false;if(t)f(t);else{var r=new Array(arguments.length-1),i=0;while(i<r.length)r[i++]=arguments[i];o.apply(null,r)}}};try{e.apply(t||null,r)}catch(e){if(s){s=false;f(e)}}})}},{}],2:[function(e,t,r){"use strict";var i=r;i.length=function e(t){var r=t.length;if(!r)return 0;var i=0;while(--r%4>1&&t.charAt(r)==="=")++i;return Math.ceil(t.length*3)/4-i};var n=new Array(64);var s=new Array(123);for(var o=0;o<64;)s[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;i.encode=function e(t,r,i){var s=null,o=[];var f=0,a=0,u;while(r<i){var l=t[r++];switch(a){case 0:o[f++]=n[l>>2];u=(l&3)<<4;a=1;break;case 1:o[f++]=n[u|l>>4];u=(l&15)<<2;a=2;break;case 2:o[f++]=n[u|l>>6];o[f++]=n[l&63];a=0;break}if(f>8191){(s||(s=[])).push(String.fromCharCode.apply(String,o));f=0}}if(a){o[f++]=n[u];o[f++]=61;if(a===1)o[f++]=61}if(s){if(f)s.push(String.fromCharCode.apply(String,o.slice(0,f)));return s.join("")}return String.fromCharCode.apply(String,o.slice(0,f))};var f="invalid encoding";i.decode=function e(t,r,i){var n=i;var o=0,a;for(var u=0;u<t.length;){var l=t.charCodeAt(u++);if(l===61&&o>1)break;if((l=s[l])===undefined)throw Error(f);switch(o){case 0:a=l;o=1;break;case 1:r[i++]=a<<2|(l&48)>>4;a=l;o=2;break;case 2:r[i++]=(a&15)<<4|(l&60)>>2;a=l;o=3;break;case 3:r[i++]=(a&3)<<6|l;o=0;break}}if(o===1)throw Error(f);return i-n};i.test=function e(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},{}],3:[function(e,t,r){"use strict";t.exports=i;function i(e,t){if(typeof e==="string"){t=e;e=undefined}var r=[];function n(e){if(typeof e!=="string"){var t=s();if(i.verbose)console.log("codegen: "+t);t="return "+t;if(e){var o=Object.keys(e),f=new Array(o.length+1),a=new Array(o.length),u=0;while(u<o.length){f[u]=o[u];a[u]=e[o[u++]]}f[u]=t;return Function.apply(null,f).apply(null,a)}return Function(t)()}var l=new Array(arguments.length-1),c=0;while(c<l.length)l[c]=arguments[++c];c=0;e=e.replace(/%([%dfijs])/g,function e(t,r){var i=l[c++];switch(r){case"d":case"f":return String(Number(i));case"i":return String(Math.floor(i));case"j":return JSON.stringify(i);case"s":return String(i)}return"%"});if(c!==l.length)throw Error("parameter count mismatch");r.push(e);return n}function s(i){return"function "+(i||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}n.toString=s;return n}i.verbose=false},{}],4:[function(e,t,r){"use strict";t.exports=i;function i(){this._listeners={}}i.prototype.on=function e(t,r,i){(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:i||this});return this};i.prototype.off=function e(t,r){if(t===undefined)this._listeners={};else{if(r===undefined)this._listeners[t]=[];else{var i=this._listeners[t];for(var n=0;n<i.length;)if(i[n].fn===r)i.splice(n,1);else++n}}return this};i.prototype.emit=function e(t){var r=this._listeners[t];if(r){var i=[],n=1;for(;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}},{}],5:[function(e,t,r){"use strict";t.exports=o;var i=e(1),n=e(7);var s=n("fs");function o(e,t,r){if(typeof t==="function"){r=t;t={}}else if(!t)t={};if(!r)return i(o,this,e,t);if(!t.xhr&&s&&s.readFile)return s.readFile(e,function i(n,s){return n&&typeof XMLHttpRequest!=="undefined"?o.xhr(e,t,r):n?r(n):r(null,t.binary?s:s.toString("utf8"))});return o.xhr(e,t,r)}o.xhr=function e(t,r,i){var n=new XMLHttpRequest;n.onreadystatechange=function e(){if(n.readyState!==4)return undefined;if(n.status!==0&&n.status!==200)return i(Error("status "+n.status));if(r.binary){var t=n.response;if(!t){t=[];for(var s=0;s<n.responseText.length;++s)t.push(n.responseText.charCodeAt(s)&255)}return i(null,typeof Uint8Array!=="undefined"?new Uint8Array(t):t)}return i(null,n.responseText)};if(r.binary){if("overrideMimeType"in n)n.overrideMimeType("text/plain; charset=x-user-defined");n.responseType="arraybuffer"}n.open("GET",t);n.send()}},{1:1,7:7}],6:[function(e,t,r){"use strict";t.exports=i(i);function i(e){if(typeof Float32Array!=="undefined")(function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=r[3]===128;function n(e,i,n){t[0]=e;i[n]=r[0];i[n+1]=r[1];i[n+2]=r[2];i[n+3]=r[3]}function s(e,i,n){t[0]=e;i[n]=r[3];i[n+1]=r[2];i[n+2]=r[1];i[n+3]=r[0]}e.writeFloatLE=i?n:s;e.writeFloatBE=i?s:n;function o(e,i){r[0]=e[i];r[1]=e[i+1];r[2]=e[i+2];r[3]=e[i+3];return t[0]}function f(e,i){r[3]=e[i];r[2]=e[i+1];r[1]=e[i+2];r[0]=e[i+3];return t[0]}e.readFloatLE=i?o:f;e.readFloatBE=i?f:o})();else(function(){function t(e,t,r,i){var n=t<0?1:0;if(n)t=-t;if(t===0)e(1/t>0?0:2147483648,r,i);else if(isNaN(t))e(2143289344,r,i);else if(t>3.4028234663852886e38)e((n<<31|2139095040)>>>0,r,i);else if(t<1.1754943508222875e-38)e((n<<31|Math.round(t/1.401298464324817e-45))>>>0,r,i);else{var s=Math.floor(Math.log(t)/Math.LN2),o=Math.round(t*Math.pow(2,-s)*8388608)&8388607;e((n<<31|s+127<<23|o)>>>0,r,i)}}e.writeFloatLE=t.bind(null,n);e.writeFloatBE=t.bind(null,s);function r(e,t,r){var i=e(t,r),n=(i>>31)*2+1,s=i>>>23&255,o=i&8388607;return s===255?o?NaN:n*Infinity:s===0?n*1.401298464324817e-45*o:n*Math.pow(2,s-150)*(o+8388608)}e.readFloatLE=r.bind(null,o);e.readFloatBE=r.bind(null,f)})();if(typeof Float64Array!=="undefined")(function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=r[7]===128;function n(e,i,n){t[0]=e;i[n]=r[0];i[n+1]=r[1];i[n+2]=r[2];i[n+3]=r[3];i[n+4]=r[4];i[n+5]=r[5];i[n+6]=r[6];i[n+7]=r[7]}function s(e,i,n){t[0]=e;i[n]=r[7];i[n+1]=r[6];i[n+2]=r[5];i[n+3]=r[4];i[n+4]=r[3];i[n+5]=r[2];i[n+6]=r[1];i[n+7]=r[0]}e.writeDoubleLE=i?n:s;e.writeDoubleBE=i?s:n;function o(e,i){r[0]=e[i];r[1]=e[i+1];r[2]=e[i+2];r[3]=e[i+3];r[4]=e[i+4];r[5]=e[i+5];r[6]=e[i+6];r[7]=e[i+7];return t[0]}function f(e,i){r[7]=e[i];r[6]=e[i+1];r[5]=e[i+2];r[4]=e[i+3];r[3]=e[i+4];r[2]=e[i+5];r[1]=e[i+6];r[0]=e[i+7];return t[0]}e.readDoubleLE=i?o:f;e.readDoubleBE=i?f:o})();else(function(){function t(e,t,r,i,n,s){var o=i<0?1:0;if(o)i=-i;if(i===0){e(0,n,s+t);e(1/i>0?0:2147483648,n,s+r)}else if(isNaN(i)){e(0,n,s+t);e(2146959360,n,s+r)}else if(i>1.7976931348623157e308){e(0,n,s+t);e((o<<31|2146435072)>>>0,n,s+r)}else{var f;if(i<2.2250738585072014e-308){f=i/5e-324;e(f>>>0,n,s+t);e((o<<31|f/4294967296)>>>0,n,s+r)}else{var a=Math.floor(Math.log(i)/Math.LN2);if(a===1024)a=1023;f=i*Math.pow(2,-a);e(f*4503599627370496>>>0,n,s+t);e((o<<31|a+1023<<20|f*1048576&1048575)>>>0,n,s+r)}}}e.writeDoubleLE=t.bind(null,n,0,4);e.writeDoubleBE=t.bind(null,s,4,0);function r(e,t,r,i,n){var s=e(i,n+t),o=e(i,n+r);var f=(o>>31)*2+1,a=o>>>20&2047,u=4294967296*(o&1048575)+s;return a===2047?u?NaN:f*Infinity:a===0?f*5e-324*u:f*Math.pow(2,a-1075)*(u+4503599627370496)}e.readDoubleLE=r.bind(null,o,0,4);e.readDoubleBE=r.bind(null,f,4,0)})();return e}function n(e,t,r){t[r]=e&255;t[r+1]=e>>>8&255;t[r+2]=e>>>16&255;t[r+3]=e>>>24}function s(e,t,r){t[r]=e>>>24;t[r+1]=e>>>16&255;t[r+2]=e>>>8&255;t[r+3]=e&255}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function f(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}},{}],7:[function(require,module,exports){"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}},{}],8:[function(e,t,r){"use strict";var i=r;var n=i.isAbsolute=function e(t){return/^(?:\/|\w+:)/.test(t)};var s=i.normalize=function e(t){t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=t.split("/"),i=n(t),s="";if(i)s=r.shift()+"/";for(var o=0;o<r.length;){if(r[o]===".."){if(o>0&&r[o-1]!=="..")r.splice(--o,2);else if(i)r.splice(o,1);else++o}else if(r[o]===".")r.splice(o,1);else++o}return s+r.join("/")};i.resolve=function e(t,r,i){if(!i)r=s(r);if(n(r))return r;if(!i)t=s(t);return(t=t.replace(/(?:\/|^)[^/]+$/,"")).length?s(t+"/"+r):r}},{}],9:[function(e,t,r){"use strict";t.exports=i;function i(e,t,r){var i=r||8192;var n=i>>>1;var s=null;var o=i;return function r(f){if(f<1||f>n)return e(f);if(o+f>i){s=e(i);o=0}var a=t.call(s,o,o+=f);if(o&7)o=(o|7)+1;return a}}},{}],10:[function(e,t,r){"use strict";var i=r;i.length=function e(t){var r=0,i=0;for(var n=0;n<t.length;++n){i=t.charCodeAt(n);if(i<128)r+=1;else if(i<2048)r+=2;else if((i&64512)===55296&&(t.charCodeAt(n+1)&64512)===56320){++n;r+=4}else r+=3}return r};i.read=function e(t,r,i){var n=i-r;if(n<1)return"";var s=null,o=[],f=0,a;while(r<i){a=t[r++];if(a<128)o[f++]=a;else if(a>191&&a<224)o[f++]=(a&31)<<6|t[r++]&63;else if(a>239&&a<365){a=((a&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536;o[f++]=55296+(a>>10);o[f++]=56320+(a&1023)}else o[f++]=(a&15)<<12|(t[r++]&63)<<6|t[r++]&63;if(f>8191){(s||(s=[])).push(String.fromCharCode.apply(String,o));f=0}}if(s){if(f)s.push(String.fromCharCode.apply(String,o.slice(0,f)));return s.join("")}return String.fromCharCode.apply(String,o.slice(0,f))};i.write=function e(t,r,i){var n=i,s,o;for(var f=0;f<t.length;++f){s=t.charCodeAt(f);if(s<128){r[i++]=s}else if(s<2048){r[i++]=s>>6|192;r[i++]=s&63|128}else if((s&64512)===55296&&((o=t.charCodeAt(f+1))&64512)===56320){s=65536+((s&1023)<<10)+(o&1023);++f;r[i++]=s>>18|240;r[i++]=s>>12&63|128;r[i++]=s>>6&63|128;r[i++]=s&63|128}else{r[i++]=s>>12|224;r[i++]=s>>6&63|128;r[i++]=s&63|128}}return i-n}},{}],11:[function(e,t,r){"use strict";t.exports=n;var i=/\/|\./;function n(e,t){if(!i.test(e)){e="google/protobuf/"+e+".proto";t={nested:{google:{nested:{protobuf:{nested:t}}}}}}n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var s;n("duration",{Duration:s={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});n("timestamp",{Timestamp:s});n("empty",{Empty:{fields:{}}});n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});n.get=function e(t){return n[t]||null}},{}],12:[function(e,t,r){"use strict";var i=r;var n=e(15),s=e(37);function o(e,t,r,i){if(t.resolvedType){if(t.resolvedType instanceof n){e("switch(d%s){",i);for(var s=t.resolvedType.values,o=Object.keys(s),f=0;f<o.length;++f){if(t.repeated&&s[o[f]]===t.typeDefault)e("default:");e("case%j:",o[f])("case %i:",s[o[f]])("m%s=%j",i,s[o[f]])("break")}e("}")}else e('if(typeof d%s!=="object")',i)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,r,i)}else{var a=false;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",i,i);break;case"uint64":a=true;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,a)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,a?"true":"");break;case"bytes":e('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":e("m%s=String(d%s)",i,i);break;case"bool":e("m%s=Boolean(d%s)",i,i);break}}return e}i.fromObject=function e(t){var r=t.fieldsArray;var i=s.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return i("return new this.ctor");i("var m=new this.ctor");for(var f=0;f<r.length;++f){var a=r[f].resolve(),u=s.safeProp(a.name);if(a.map){i("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u);o(i,a,f,u+"[ks[i]]")("}")("}")}else if(a.repeated){i("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u);o(i,a,f,u+"[i]")("}")("}")}else{if(!(a.resolvedType instanceof n))i("if(d%s!=null){",u);o(i,a,f,u);if(!(a.resolvedType instanceof n))i("}")}}return i("return m")};function f(e,t,r,i){if(t.resolvedType){if(t.resolvedType instanceof n)e("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,r,i,i);else e("d%s=types[%i].toObject(m%s,o)",i,r,i)}else{var s=false;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":s=true;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,s?"true":"",i);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:e("d%s=m%s",i,i);break}}return e}i.toObject=function e(t){var r=t.fieldsArray.slice().sort(s.compareFieldsById);if(!r.length)return s.codegen()("return {}");var i=s.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}");var o=[],a=[],u=[],l=0;for(;l<r.length;++l)if(!r[l].partOf)(r[l].resolve().repeated?o:r[l].map?a:u).push(r[l]);if(o.length){i("if(o.arrays||o.defaults){");for(l=0;l<o.length;++l)i("d%s=[]",s.safeProp(o[l].name));i("}")}if(a.length){i("if(o.objects||o.defaults){");for(l=0;l<a.length;++l)i("d%s={}",s.safeProp(a[l].name));i("}")}if(u.length){i("if(o.defaults){");for(l=0;l<u.length;++l){var c=u[l],p=s.safeProp(c.name);if(c.resolvedType instanceof n)i("d%s=o.enums===String?%j:%j",p,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",p)("}else")("d%s=o.longs===String?%j:%i",p,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes)i("d%s=o.bytes===String?%j:%s",p,String.fromCharCode.apply(String,c.typeDefault),"["+Array.prototype.slice.call(c.typeDefault).join(",")+"]");else i("d%s=%j",p,c.typeDefault)}i("}")}var h=false;for(l=0;l<r.length;++l){var c=r[l],d=t._fieldsArray.indexOf(c),p=s.safeProp(c.name);if(c.map){if(!h){h=true;i("var ks2")}i("if(m%s&&(ks2=Object.keys(m%s)).length){",p,p)("d%s={}",p)("for(var j=0;j<ks2.length;++j){");f(i,c,d,p+"[ks2[j]]")("}")}else if(c.repeated){i("if(m%s&&m%s.length){",p,p)("d%s=[]",p)("for(var j=0;j<m%s.length;++j){",p);f(i,c,d,p+"[j]")("}")}else{i("if(m%s!=null&&m.hasOwnProperty(%j)){",p,c.name);f(i,c,d,p);if(c.partOf)i("if(o.oneofs)")("d%s=%j",s.safeProp(c.partOf.name),c.name)}i("}")}return i("return d")}},{15:15,37:37}],13:[function(e,t,r){"use strict";t.exports=f;var i=e(15),n=e(36),s=e(37);function o(e){return"missing required '"+e.name+"'"}function f(e){var t=s.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");if(e.group)t("if((t&7)===4)")("break");t("switch(t>>>3){");var r=0;for(;r<e.fieldsArray.length;++r){var f=e._fieldsArray[r].resolve(),a=f.resolvedType instanceof i?"int32":f.type,u="m"+s.safeProp(f.name);t("case %i:",f.id);if(f.map){t("r.skip().pos++")("if(%s===util.emptyObject)",u)("%s={}",u)("k=r.%s()",f.keyType)("r.pos++");if(n.long[f.keyType]!==undefined){if(n.basic[a]===undefined)t('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',u,r);else t('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',u,a)}else{if(n.basic[a]===undefined)t("%s[k]=types[%i].decode(r,r.uint32())",u,r);else t("%s[k]=r.%s()",u,a)}}else if(f.repeated){t("if(!(%s&&%s.length))",u,u)("%s=[]",u);if(n.packed[a]!==undefined)t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,a)("}else");if(n.basic[a]===undefined)t(f.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",u,r);else t("%s.push(r.%s())",u,a)}else if(n.basic[a]===undefined)t(f.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",u,r);else t("%s=r.%s()",u,a);t("break")}t("default:")("r.skipType(t&7)")("break")("}")("}");for(r=0;r<e._fieldsArray.length;++r){var l=e._fieldsArray[r];if(l.required)t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",o(l))}return t("return m")}},{15:15,36:36,37:37}],14:[function(e,t,r){"use strict";t.exports=f;var i=e(15),n=e(36),s=e(37);function o(e,t,r,i){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,i,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,i,(t.id<<3|2)>>>0)}function f(e){var t=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()");var r,f;var a=e.fieldsArray.slice().sort(s.compareFieldsById);for(var r=0;r<a.length;++r){var u=a[r].resolve(),l=e._fieldsArray.indexOf(u),c=u.resolvedType instanceof i?"int32":u.type,p=n.basic[c];f="m"+s.safeProp(u.name);if(u.map){t("if(%s!=null&&m.hasOwnProperty(%j)){",f,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",f)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|n.mapKey[u.keyType],u.keyType);if(p===undefined)t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,f);else t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,c,f);t("}")("}")}else if(u.repeated){t("if(%s!=null&&%s.length){",f,f);if(u.packed&&n.packed[c]!==undefined){t("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",f)("w.%s(%s[i])",c,f)("w.ldelim()")}else{t("for(var i=0;i<%s.length;++i)",f);if(p===undefined)o(t,u,l,f+"[i]");else t("w.uint32(%i).%s(%s[i])",(u.id<<3|p)>>>0,c,f)}t("}")}else{if(u.optional)t("if(%s!=null&&m.hasOwnProperty(%j))",f,u.name);if(p===undefined)o(t,u,l,f);else t("w.uint32(%i).%s(%s)",(u.id<<3|p)>>>0,c,f)}}return t("return w")}},{15:15,36:36,37:37}],15:[function(e,t,r){"use strict";t.exports=o;var i=e(24);((o.prototype=Object.create(i.prototype)).constructor=o).className="Enum";var n=e(23),s=e(37);function o(e,t,r,n,s){i.call(this,e,r);if(t&&typeof t!=="object")throw TypeError("values must be an object");this.valuesById={};this.values=Object.create(this.valuesById);this.comment=n;this.comments=s||{};this.reserved=undefined;if(t)for(var o=Object.keys(t),f=0;f<o.length;++f)if(typeof t[o[f]]==="number")this.valuesById[this.values[o[f]]=t[o[f]]]=o[f]}o.fromJSON=function e(t,r){var i=new o(t,r.values,r.options,r.comment,r.comments);i.reserved=r.reserved;return i};o.prototype.toJSON=function e(t){var r=t?Boolean(t.keepComments):false;return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",r?this.comment:undefined,"comments",r?this.comments:undefined])};o.prototype.add=function e(t,r,i){if(!s.isString(t))throw TypeError("name must be a string");if(!s.isInteger(r))throw TypeError("id must be an integer");if(this.values[t]!==undefined)throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(this.valuesById[r]!==undefined){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[t]=r}else this.valuesById[this.values[t]=r]=t;this.comments[t]=i||null;return this};o.prototype.remove=function e(t){if(!s.isString(t))throw TypeError("name must be a string");var r=this.values[t];if(r==null)throw Error("name '"+t+"' does not exist in "+this);delete this.valuesById[r];delete this.values[t];delete this.comments[t];return this};o.prototype.isReservedId=function e(t){return n.isReservedId(this.reserved,t)};o.prototype.isReservedName=function e(t){return n.isReservedName(this.reserved,t)}},{23:23,24:24,37:37}],16:[function(e,t,r){"use strict";t.exports=u;var i=e(24);((u.prototype=Object.create(i.prototype)).constructor=u).className="Field";var n=e(15),s=e(36),o=e(37);var f;var a=/^required|optional|repeated$/;u.fromJSON=function e(t,r){return new u(t,r.id,r.type,r.rule,r.extend,r.options,r.comment)};function u(e,t,r,n,f,u,l){if(o.isObject(n)){l=f;u=n;n=f=undefined}else if(o.isObject(f)){l=u;u=f;f=undefined}i.call(this,e,u);if(!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(r))throw TypeError("type must be a string");if(n!==undefined&&!a.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(f!==undefined&&!o.isString(f))throw TypeError("extend must be a string");this.rule=n&&n!=="optional"?n:undefined;this.type=r;this.id=t;this.extend=f||undefined;this.required=n==="required";this.optional=!this.required;this.repeated=n==="repeated";this.map=false;this.message=null;this.partOf=null;this.typeDefault=null;this.defaultValue=null;this.long=o.Long?s.long[r]!==undefined:false;this.bytes=r==="bytes";this.resolvedType=null;this.extensionField=null;this.declaringField=null;this._packed=null;this.comment=l}Object.defineProperty(u.prototype,"packed",{get:function(){if(this._packed===null)this._packed=this.getOption("packed")!==false;return this._packed}});u.prototype.setOption=function e(t,r,n){if(t==="packed")this._packed=null;return i.prototype.setOption.call(this,t,r,n)};u.prototype.toJSON=function e(t){var r=t?Boolean(t.keepComments):false;return o.toObject(["rule",this.rule!=="optional"&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:undefined])};u.prototype.resolve=function e(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===undefined){this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type);if(this.resolvedType instanceof f)this.typeDefault=null;else this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]}if(this.options&&this.options["default"]!=null){this.typeDefault=this.options["default"];if(this.resolvedType instanceof n&&typeof this.typeDefault==="string")this.typeDefault=this.resolvedType.values[this.typeDefault]}if(this.options){if(this.options.packed===true||this.options.packed!==undefined&&this.resolvedType&&!(this.resolvedType instanceof n))delete this.options.packed;if(!Object.keys(this.options).length)this.options=undefined}if(this.long){this.typeDefault=o.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u");if(Object.freeze)Object.freeze(this.typeDefault)}else if(this.bytes&&typeof this.typeDefault==="string"){var t;if(o.base64.test(this.typeDefault))o.base64.decode(this.typeDefault,t=o.newBuffer(o.base64.length(this.typeDefault)),0);else o.utf8.write(this.typeDefault,t=o.newBuffer(o.utf8.length(this.typeDefault)),0);this.typeDefault=t}if(this.map)this.defaultValue=o.emptyObject;else if(this.repeated)this.defaultValue=o.emptyArray;else this.defaultValue=this.typeDefault;if(this.parent instanceof f)this.parent.ctor.prototype[this.name]=this.defaultValue;return i.prototype.resolve.call(this)};u.d=function e(t,r,i,n){if(typeof r==="function")r=o.decorateType(r).name;else if(r&&typeof r==="object")r=o.decorateEnum(r).name;return function e(s,f){o.decorateType(s.constructor).add(new u(f,t,r,i,{default:n}))}};u._configure=function e(t){f=t}},{15:15,24:24,36:36,37:37}],17:[function(e,t,r){"use strict";var i=t.exports=e(18);i.build="light";function n(e,t,r){if(typeof t==="function"){r=t;t=new i.Root}else if(!t)t=new i.Root;return t.load(e,r)}i.load=n;function s(e,t){if(!t)t=new i.Root;return t.loadSync(e)}i.loadSync=s;i.encoder=e(14);i.decoder=e(13);i.verifier=e(40);i.converter=e(12);i.ReflectionObject=e(24);i.Namespace=e(23);i.Root=e(29);i.Enum=e(15);i.Type=e(35);i.Field=e(16);i.OneOf=e(25);i.MapField=e(20);i.Service=e(33);i.Method=e(22);i.Message=e(21);i.wrappers=e(41);i.types=e(36);i.util=e(37);i.ReflectionObject._configure(i.Root);i.Namespace._configure(i.Type,i.Service);i.Root._configure(i.Type);i.Field._configure(i.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(e,t,r){"use strict";var i=r;i.build="minimal";i.Writer=e(42);i.BufferWriter=e(43);i.Reader=e(27);i.BufferReader=e(28);i.util=e(39);i.rpc=e(31);i.roots=e(30);i.configure=n;function n(){i.Reader._configure(i.BufferReader);i.util._configure()}i.Writer._configure(i.BufferWriter);n()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(e,t,r){"use strict";var i=t.exports=e(17);i.build="full";i.tokenize=e(34);i.parse=e(26);i.common=e(11);i.Root._configure(i.Type,i.parse,i.common)},{11:11,17:17,26:26,34:34}],20:[function(e,t,r){"use strict";t.exports=o;var i=e(16);((o.prototype=Object.create(i.prototype)).constructor=o).className="MapField";var n=e(36),s=e(37);function o(e,t,r,n,o,f){i.call(this,e,t,n,undefined,undefined,o,f);if(!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r;this.resolvedKeyType=null;this.map=true}o.fromJSON=function e(t,r){return new o(t,r.id,r.keyType,r.type,r.options,r.comment)};o.prototype.toJSON=function e(t){var r=t?Boolean(t.keepComments):false;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:undefined])};o.prototype.resolve=function e(){if(this.resolved)return this;if(n.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)};o.d=function e(t,r,i){if(typeof i==="function")i=s.decorateType(i).name;else if(i&&typeof i==="object")i=s.decorateEnum(i).name;return function e(n,f){s.decorateType(n.constructor).add(new o(f,t,r,i))}}},{16:16,36:36,37:37}],21:[function(e,t,r){"use strict";t.exports=n;var i=e(39);function n(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}n.create=function e(t){return this.$type.create(t)};n.encode=function e(t,r){return this.$type.encode(t,r)};n.encodeDelimited=function e(t,r){return this.$type.encodeDelimited(t,r)};n.decode=function e(t){return this.$type.decode(t)};n.decodeDelimited=function e(t){return this.$type.decodeDelimited(t)};n.verify=function e(t){return this.$type.verify(t)};n.fromObject=function e(t){return this.$type.fromObject(t)};n.toObject=function e(t,r){return this.$type.toObject(t,r)};n.prototype.toJSON=function e(){return this.$type.toObject(this,i.toJSONOptions)}},{39:39}],22:[function(e,t,r){"use strict";t.exports=s;var i=e(24);((s.prototype=Object.create(i.prototype)).constructor=s).className="Method";var n=e(37);function s(e,t,r,s,o,f,a,u){if(n.isObject(o)){a=o;o=f=undefined}else if(n.isObject(f)){a=f;f=undefined}if(!(t===undefined||n.isString(t)))throw TypeError("type must be a string");if(!n.isString(r))throw TypeError("requestType must be a string");if(!n.isString(s))throw TypeError("responseType must be a string");i.call(this,e,a);this.type=t||"rpc";this.requestType=r;this.requestStream=o?true:undefined;this.responseType=s;this.responseStream=f?true:undefined;this.resolvedRequestType=null;this.resolvedResponseType=null;this.comment=u}s.fromJSON=function e(t,r){return new s(t,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment)};s.prototype.toJSON=function e(t){var r=t?Boolean(t.keepComments):false;return n.toObject(["type",this.type!=="rpc"&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:undefined])};s.prototype.resolve=function e(){if(this.resolved)return this;this.resolvedRequestType=this.parent.lookupType(this.requestType);this.resolvedResponseType=this.parent.lookupType(this.responseType);return i.prototype.resolve.call(this)}},{24:24,37:37}],23:[function(e,t,r){"use strict";t.exports=l;var i=e(24);((l.prototype=Object.create(i.prototype)).constructor=l).className="Namespace";var n=e(15),s=e(16),o=e(37);var f,a;l.fromJSON=function e(t,r){return new l(t,r.options).addJSON(r.nested)};function u(e,t){if(!(e&&e.length))return undefined;var r={};for(var i=0;i<e.length;++i)r[e[i].name]=e[i].toJSON(t);return r}l.arrayToJSON=u;l.isReservedId=function e(t,r){if(t)for(var i=0;i<t.length;++i)if(typeof t[i]!=="string"&&t[i][0]<=r&&t[i][1]>=r)return true;return false};l.isReservedName=function e(t,r){if(t)for(var i=0;i<t.length;++i)if(t[i]===r)return true;return false};function l(e,t){i.call(this,e,t);this.nested=undefined;this._nestedArray=null}function c(e){e._nestedArray=null;return e}Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=o.toArray(this.nested))}});l.prototype.toJSON=function e(t){return o.toObject(["options",this.options,"nested",u(this.nestedArray,t)])};l.prototype.addJSON=function e(t){var r=this;if(t){for(var i=Object.keys(t),o=0,u;o<i.length;++o){u=t[i[o]];r.add((u.fields!==undefined?f.fromJSON:u.values!==undefined?n.fromJSON:u.methods!==undefined?a.fromJSON:u.id!==undefined?s.fromJSON:l.fromJSON)(i[o],u))}}return this};l.prototype.get=function e(t){return this.nested&&this.nested[t]||null};l.prototype.getEnum=function e(t){if(this.nested&&this.nested[t]instanceof n)return this.nested[t].values;throw Error("no such enum: "+t)};l.prototype.add=function e(t){if(!(t instanceof s&&t.extend!==undefined||t instanceof f||t instanceof n||t instanceof a||t instanceof l))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var r=this.get(t.name);if(r){if(r instanceof l&&t instanceof l&&!(r instanceof f||r instanceof a)){var i=r.nestedArray;for(var o=0;o<i.length;++o)t.add(i[o]);this.remove(r);if(!this.nested)this.nested={};t.setOptions(r.options,true)}else throw Error("duplicate name '"+t.name+"' in "+this)}}this.nested[t.name]=t;t.onAdd(this);return c(this)};l.prototype.remove=function e(t){if(!(t instanceof i))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);delete this.nested[t.name];if(!Object.keys(this.nested).length)this.nested=undefined;t.onRemove(this);return c(this)};l.prototype.define=function e(t,r){if(o.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&t[0]==="")throw Error("path must be relative");var i=this;while(t.length>0){var n=t.shift();if(i.nested&&i.nested[n]){i=i.nested[n];if(!(i instanceof l))throw Error("path conflicts with non-namespace objects")}else i.add(i=new l(n))}if(r)i.addJSON(r);return i};l.prototype.resolveAll=function e(){var t=this.nestedArray,r=0;while(r<t.length)if(t[r]instanceof l)t[r++].resolveAll();else t[r++].resolve();return this.resolve()};l.prototype.lookup=function e(t,r,i){if(typeof r==="boolean"){i=r;r=undefined}else if(r&&!Array.isArray(r))r=[r];if(o.isString(t)&&t.length){if(t===".")return this.root;t=t.split(".")}else if(!t.length)return this;if(t[0]==="")return this.root.lookup(t.slice(1),r);var n=this.get(t[0]);if(n){if(t.length===1){if(!r||r.indexOf(n.constructor)>-1)return n}else if(n instanceof l&&(n=n.lookup(t.slice(1),r,true)))return n}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof l&&(n=this._nestedArray[s].lookup(t,r,true)))return n;if(this.parent===null||i)return null;return this.parent.lookup(t,r)};l.prototype.lookupType=function e(t){var r=this.lookup(t,[f]);if(!r)throw Error("no such type: "+t);return r};l.prototype.lookupEnum=function e(t){var r=this.lookup(t,[n]);if(!r)throw Error("no such Enum '"+t+"' in "+this);return r};l.prototype.lookupTypeOrEnum=function e(t){var r=this.lookup(t,[f,n]);if(!r)throw Error("no such Type or Enum '"+t+"' in "+this);return r};l.prototype.lookupService=function e(t){var r=this.lookup(t,[a]);if(!r)throw Error("no such Service '"+t+"' in "+this);return r};l._configure=function(e,t){f=e;a=t}},{15:15,16:16,24:24,37:37}],24:[function(e,t,r){"use strict";t.exports=s;s.className="ReflectionObject";var i=e(37);var n;function s(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t;this.name=e;this.parent=null;this.resolved=false;this.comment=null;this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){var e=this;while(e.parent!==null)e=e.parent;return e}},fullName:{get:function(){var e=[this.name],t=this.parent;while(t){e.unshift(t.name);t=t.parent}return e.join(".")}}});s.prototype.toJSON=function e(){throw Error()};s.prototype.onAdd=function e(t){if(this.parent&&this.parent!==t)this.parent.remove(this);this.parent=t;this.resolved=false;var r=t.root;if(r instanceof n)r._handleAdd(this)};s.prototype.onRemove=function e(t){var r=t.root;if(r instanceof n)r._handleRemove(this);this.parent=null;this.resolved=false};s.prototype.resolve=function e(){if(this.resolved)return this;if(this.root instanceof n)this.resolved=true;return this};s.prototype.getOption=function e(t){if(this.options)return this.options[t];return undefined};s.prototype.setOption=function e(t,r,i){if(!i||!this.options||this.options[t]===undefined)(this.options||(this.options={}))[t]=r;return this};s.prototype.setOptions=function e(t,r){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)this.setOption(i[n],t[i[n]],r);return this};s.prototype.toString=function e(){var t=this.constructor.className,r=this.fullName;if(r.length)return t+" "+r;return t};s._configure=function(e){n=e}},{37:37}],25:[function(e,t,r){"use strict";t.exports=o;var i=e(24);((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var n=e(16),s=e(37);function o(e,t,r,n){if(!Array.isArray(t)){r=t;t=undefined}i.call(this,e,r);if(!(t===undefined||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[];this.fieldsArray=[];this.comment=n}o.fromJSON=function e(t,r){return new o(t,r.oneof,r.options,r.comment)};o.prototype.toJSON=function e(t){var r=t?Boolean(t.keepComments):false;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:undefined])};function f(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)if(!e.fieldsArray[t].parent)e.parent.add(e.fieldsArray[t])}o.prototype.add=function e(t){if(!(t instanceof n))throw TypeError("field must be a Field");if(t.parent&&t.parent!==this.parent)t.parent.remove(t);this.oneof.push(t.name);this.fieldsArray.push(t);t.partOf=this;f(this);return this};o.prototype.remove=function e(t){if(!(t instanceof n))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(t);if(r<0)throw Error(t+" is not a member of "+this);this.fieldsArray.splice(r,1);r=this.oneof.indexOf(t.name);if(r>-1)this.oneof.splice(r,1);t.partOf=null;return this};o.prototype.onAdd=function e(t){i.prototype.onAdd.call(this,t);var r=this;for(var n=0;n<this.oneof.length;++n){var s=t.get(this.oneof[n]);if(s&&!s.partOf){s.partOf=r;r.fieldsArray.push(s)}}f(this)};o.prototype.onRemove=function e(t){for(var r=0,n;r<this.fieldsArray.length;++r)if((n=this.fieldsArray[r]).parent)n.parent.remove(n);i.prototype.onRemove.call(this,t)};o.d=function e(){var t=new Array(arguments.length),r=0;while(r<arguments.length)t[r]=arguments[r++];return function e(r,i){s.decorateType(r.constructor).add(new o(i,t));Object.defineProperty(r,i,{get:s.oneOfGetter(t),set:s.oneOfSetter(t)})}}},{16:16,24:24,37:37}],26:[function(e,t,r){"use strict";t.exports=A;A.filename=null;A.defaults={keepCase:false};var i=e(34),n=e(29),s=e(35),o=e(16),f=e(20),a=e(25),u=e(15),l=e(33),c=e(22),p=e(36),h=e(37);var d=/^[1-9][0-9]*$/,y=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,g=/^0[0-7]+$/,b=/^-?0[0-7]+$/,w=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,k=/^[a-zA-Z_][a-zA-Z_0-9]*$/,O=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,j=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function A(e,t,r){if(!(t instanceof n)){r=t;t=new n}if(!r)r=A.defaults;var x=i(e,r.alternateCommentMode||false),S=x.next,_=x.push,T=x.peek,N=x.skip,E=x.cmnt;var B=true,I,R,D,F,L=false;var J=t;var $=r.keepCase?function(e){return e}:h.camelCase;function P(e,t,r){var i=A.filename;if(!r)A.filename=null;return Error("illegal "+(t||"token")+" '"+e+"' ("+(i?i+", ":"")+"line "+x.line+")")}function C(){var e=[],t;do{if((t=S())!=='"'&&t!=="'")throw P(t);e.push(S());N(t);t=T()}while(t==='"'||t==="'");return e.join("")}function q(e){var t=S();switch(t){case"'":case'"':_(t);return C();case"true":case"TRUE":return true;case"false":case"FALSE":return false}try{return V(t,true)}catch(r){if(e&&O.test(t))return t;throw P(t,"value")}}function z(e,t){var r,i;do{if(t&&((r=T())==='"'||r==="'"))e.push(C());else e.push([i=M(S()),N("to",true)?M(S()):i])}while(N(",",true));N(";")}function V(e,t){var r=1;if(e.charAt(0)==="-"){r=-1;e=e.substring(1)}switch(e){case"inf":case"INF":case"Inf":return r*Infinity;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(d.test(e))return r*parseInt(e,10);if(m.test(e))return r*parseInt(e,16);if(g.test(e))return r*parseInt(e,8);if(w.test(e))return r*parseFloat(e);throw P(e,"number",t)}function M(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&e.charAt(0)==="-")throw P(e,"id");if(y.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw P(e,"id")}function U(){if(I!==undefined)throw P("package");I=S();if(!O.test(I))throw P(I,"name");J=J.define(I);N(";")}function H(){var e=T();var t;switch(e){case"weak":t=D||(D=[]);S();break;case"public":S();default:t=R||(R=[]);break}e=C();N(";");t.push(e)}function Z(){N("=");F=C();L=F==="proto3";if(!L&&F!=="proto2")throw P(F,"syntax");N(";")}function W(e,t){switch(t){case"option":ie(e,t);N(";");return true;case"message":G(e,t);return true;case"enum":te(e,t);return true;case"service":fe(e,t);return true;case"extend":ue(e,t);return true}return false}function K(e,t,r){var i=x.line;if(e){e.comment=E();e.filename=A.filename}if(N("{",true)){var n;while((n=S())!=="}")t(n);N(";",true)}else{if(r)r();N(";");if(e&&typeof e.comment!=="string")e.comment=E(i)}}function G(e,t){if(!k.test(t=S()))throw P(t,"type name");var r=new s(t);K(r,function e(t){if(W(r,t))return;switch(t){case"map":Y(r,t);break;case"required":case"optional":case"repeated":X(r,t);break;case"oneof":ee(r,t);break;case"extensions":z(r.extensions||(r.extensions=[]));break;case"reserved":z(r.reserved||(r.reserved=[]),true);break;default:if(!L||!O.test(t))throw P(t);_(t);X(r,"optional");break}});e.add(r)}function X(e,t,r){var i=S();if(i==="group"){Q(e,t);return}if(!O.test(i))throw P(i,"type");var n=S();if(!k.test(n))throw P(n,"name");n=$(n);N("=");var s=new o(n,M(S()),i,t,r);K(s,function e(t){if(t==="option"){ie(s,t);N(";")}else throw P(t)},function e(){oe(s)});e.add(s);if(!L&&s.repeated&&(p.packed[i]!==undefined||p.basic[i]===undefined))s.setOption("packed",false,true)}function Q(e,t){var r=S();if(!k.test(r))throw P(r,"name");var i=h.lcFirst(r);if(r===i)r=h.ucFirst(r);N("=");var n=M(S());var f=new s(r);f.group=true;var a=new o(i,n,r,t);a.filename=A.filename;K(f,function e(t){switch(t){case"option":ie(f,t);N(";");break;case"required":case"optional":case"repeated":X(f,t);break;default:throw P(t)}});e.add(f).add(a)}function Y(e){N("<");var t=S();if(p.mapKey[t]===undefined)throw P(t,"type");N(",");var r=S();if(!O.test(r))throw P(r,"type");N(">");var i=S();if(!k.test(i))throw P(i,"name");N("=");var n=new f($(i),M(S()),t,r);K(n,function e(t){if(t==="option"){ie(n,t);N(";")}else throw P(t)},function e(){oe(n)});e.add(n)}function ee(e,t){if(!k.test(t=S()))throw P(t,"name");var r=new a($(t));K(r,function e(t){if(t==="option"){ie(r,t);N(";")}else{_(t);X(r,"optional")}});e.add(r)}function te(e,t){if(!k.test(t=S()))throw P(t,"name");var r=new u(t);K(r,function e(t){switch(t){case"option":ie(r,t);N(";");break;case"reserved":z(r.reserved||(r.reserved=[]),true);break;default:re(r,t)}});e.add(r)}function re(e,t){if(!k.test(t))throw P(t,"name");N("=");var r=M(S(),true),i={};K(i,function e(t){if(t==="option"){ie(i,t);N(";")}else throw P(t)},function e(){oe(i)});e.add(t,r,i.comment)}function ie(e,t){var r=N("(",true);if(!O.test(t=S()))throw P(t,"name");var i=t;if(r){N(")");i="("+i+")";t=T();if(j.test(t)){i+=t;S()}}N("=");ne(e,i)}function ne(e,t){if(N("{",true)){do{if(!k.test(le=S()))throw P(le,"name");if(T()==="{")ne(e,t+"."+le);else{N(":");if(T()==="{")ne(e,t+"."+le);else se(e,t+"."+le,q(true))}}while(!N("}",true))}else se(e,t,q(true))}function se(e,t,r){if(e.setOption)e.setOption(t,r)}function oe(e){if(N("[",true)){do{ie(e,"option")}while(N(",",true));N("]")}return e}function fe(e,t){if(!k.test(t=S()))throw P(t,"service name");var r=new l(t);K(r,function e(t){if(W(r,t))return;if(t==="rpc")ae(r,t);else throw P(t)});e.add(r)}function ae(e,t){var r=t;if(!k.test(t=S()))throw P(t,"name");var i=t,n,s,o,f;N("(");if(N("stream",true))s=true;if(!O.test(t=S()))throw P(t);n=t;N(")");N("returns");N("(");if(N("stream",true))f=true;if(!O.test(t=S()))throw P(t);o=t;N(")");var a=new c(i,r,n,o,s,f);K(a,function e(t){if(t==="option"){ie(a,t);N(";")}else throw P(t)});e.add(a)}function ue(e,t){if(!O.test(t=S()))throw P(t,"reference");var r=t;K(null,function t(i){switch(i){case"required":case"repeated":case"optional":X(e,i,r);break;default:if(!L||!O.test(i))throw P(i);_(i);X(e,"optional",r);break}})}var le;while((le=S())!==null){switch(le){case"package":if(!B)throw P(le);U();break;case"import":if(!B)throw P(le);H();break;case"syntax":if(!B)throw P(le);Z();break;case"option":if(!B)throw P(le);ie(J,le);N(";");break;default:if(W(J,le)){B=false;continue}throw P(le)}}A.filename=null;return{package:I,imports:R,weakImports:D,syntax:F,root:t}}},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(e,t,r){"use strict";t.exports=a;var i=e(39);var n;var s=i.LongBits,o=i.utf8;function f(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a(e){this.buf=e;this.pos=0;this.len=e.length}var u=typeof Uint8Array!=="undefined"?function e(t){if(t instanceof Uint8Array||Array.isArray(t))return new a(t);throw Error("illegal buffer")}:function e(t){if(Array.isArray(t))return new a(t);throw Error("illegal buffer")};a.create=i.Buffer?function e(t){return(a.create=function e(t){return i.Buffer.isBuffer(t)?new n(t):u(t)})(t)}:u;a.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice;a.prototype.uint32=function e(){var t=4294967295;return function e(){t=(this.buf[this.pos]&127)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<7)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<14)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<21)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&15)<<28)>>>0;if(this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len){this.pos=this.len;throw f(this,10)}return t}}();a.prototype.int32=function e(){return this.uint32()|0};a.prototype.sint32=function e(){var t=this.uint32();return t>>>1^-(t&1)|0};function l(){var e=new s(0,0);var t=0;if(this.len-this.pos>4){for(;t<4;++t){e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0;e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0;if(this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw f(this);e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0;return e}if(this.len-this.pos>4){for(;t<5;++t){e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}else{for(;t<5;++t){if(this.pos>=this.len)throw f(this);e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}throw Error("invalid varint encoding")}a.prototype.bool=function e(){return this.uint32()!==0};function c(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}a.prototype.fixed32=function e(){if(this.pos+4>this.len)throw f(this,4);return c(this.buf,this.pos+=4)};a.prototype.sfixed32=function e(){if(this.pos+4>this.len)throw f(this,4);return c(this.buf,this.pos+=4)|0};function p(){if(this.pos+8>this.len)throw f(this,8);return new s(c(this.buf,this.pos+=4),c(this.buf,this.pos+=4))}a.prototype.float=function e(){if(this.pos+4>this.len)throw f(this,4);var t=i.float.readFloatLE(this.buf,this.pos);this.pos+=4;return t};a.prototype.double=function e(){if(this.pos+8>this.len)throw f(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);this.pos+=8;return t};a.prototype.bytes=function e(){var t=this.uint32(),r=this.pos,i=this.pos+t;if(i>this.len)throw f(this,t);this.pos+=t;if(Array.isArray(this.buf))return this.buf.slice(r,i);return r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};a.prototype.string=function e(){var t=this.bytes();return o.read(t,0,t.length)};a.prototype.skip=function e(t){if(typeof t==="number"){if(this.pos+t>this.len)throw f(this,t);this.pos+=t}else{do{if(this.pos>=this.len)throw f(this)}while(this.buf[this.pos++]&128)}return this};a.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:do{if((e=this.uint32()&7)===4)break;this.skipType(e)}while(true);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};a._configure=function(e){n=e;var t=i.Long?"toLong":"toNumber";i.merge(a.prototype,{int64:function e(){return l.call(this)[t](false)},uint64:function e(){return l.call(this)[t](true)},sint64:function e(){return l.call(this).zzDecode()[t](false)},fixed64:function e(){return p.call(this)[t](true)},sfixed64:function e(){return p.call(this)[t](false)}})}},{39:39}],28:[function(e,t,r){"use strict";t.exports=s;var i=e(27);(s.prototype=Object.create(i.prototype)).constructor=s;var n=e(39);function s(e){i.call(this,e)}if(n.Buffer)s.prototype._slice=n.Buffer.prototype.slice;s.prototype.string=function e(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},{27:27,39:39}],29:[function(e,t,r){"use strict";t.exports=c;var i=e(23);((c.prototype=Object.create(i.prototype)).constructor=c).className="Root";var n=e(16),s=e(15),o=e(25),f=e(37);var a,u,l;function c(e){i.call(this,"",e);this.deferred=[];this.files=[]}c.fromJSON=function e(t,r){if(!r)r=new c;if(t.options)r.setOptions(t.options);return r.addJSON(t.nested)};c.prototype.resolvePath=f.path.resolve;function p(){}c.prototype.load=function e(t,r,i){if(typeof r==="function"){i=r;r=undefined}var n=this;if(!i)return f.asPromise(e,n,t,r);var s=i===p;function o(e,t){if(!i)return;var r=i;i=null;if(s)throw e;r(e,t)}function a(e,t){try{if(f.isString(t)&&t.charAt(0)==="{")t=JSON.parse(t);if(!f.isString(t))n.setOptions(t.options).addJSON(t.nested);else{u.filename=e;var i=u(t,n,r),a,l=0;if(i.imports)for(;l<i.imports.length;++l)if(a=n.resolvePath(e,i.imports[l]))c(a);if(i.weakImports)for(l=0;l<i.weakImports.length;++l)if(a=n.resolvePath(e,i.weakImports[l]))c(a,true)}}catch(e){o(e)}if(!s&&!h)o(null,n)}function c(e,t){var r=e.lastIndexOf("google/protobuf/");if(r>-1){var u=e.substring(r);if(u in l)e=u}if(n.files.indexOf(e)>-1)return;n.files.push(e);if(e in l){if(s)a(e,l[e]);else{++h;setTimeout(function(){--h;a(e,l[e])})}return}if(s){var c;try{c=f.fs.readFileSync(e).toString("utf8")}catch(e){if(!t)o(e);return}a(e,c)}else{++h;f.fetch(e,function(r,s){--h;if(!i)return;if(r){if(!t)o(r);else if(!h)o(null,n);return}a(e,s)})}}var h=0;if(f.isString(t))t=[t];for(var d=0,y;d<t.length;++d)if(y=n.resolvePath("",t[d]))c(y);if(s)return n;if(!h)o(null,n);return undefined};c.prototype.loadSync=function e(t,r){if(!f.isNode)throw Error("not supported");return this.load(t,r,p)};c.prototype.resolveAll=function e(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return i.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function d(e,t){var r=t.parent.lookup(t.extend);if(r){var i=new n(t.fullName,t.id,t.type,t.rule,undefined,t.options);i.declaringField=t;t.extensionField=i;r.add(i);return true}return false}c.prototype._handleAdd=function e(t){if(t instanceof n){if(t.extend!==undefined&&!t.extensionField)if(!d(this,t))this.deferred.push(t)}else if(t instanceof s){if(h.test(t.name))t.parent[t.name]=t.values}else if(!(t instanceof o)){if(t instanceof a)for(var r=0;r<this.deferred.length;)if(d(this,this.deferred[r]))this.deferred.splice(r,1);else++r;for(var i=0;i<t.nestedArray.length;++i)this._handleAdd(t._nestedArray[i]);if(h.test(t.name))t.parent[t.name]=t}};c.prototype._handleRemove=function e(t){if(t instanceof n){if(t.extend!==undefined){if(t.extensionField){t.extensionField.parent.remove(t.extensionField);t.extensionField=null}else{var r=this.deferred.indexOf(t);if(r>-1)this.deferred.splice(r,1)}}}else if(t instanceof s){if(h.test(t.name))delete t.parent[t.name]}else if(t instanceof i){for(var o=0;o<t.nestedArray.length;++o)this._handleRemove(t._nestedArray[o]);if(h.test(t.name))delete t.parent[t.name]}};c._configure=function(e,t,r){a=e;u=t;l=r}},{15:15,16:16,23:23,25:25,37:37}],30:[function(e,t,r){"use strict";t.exports={}},{}],31:[function(e,t,r){"use strict";var i=r;i.Service=e(32)},{32:32}],32:[function(e,t,r){"use strict";t.exports=n;var i=e(39);(n.prototype=Object.create(i.EventEmitter.prototype)).constructor=n;function n(e,t,r){if(typeof e!=="function")throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this);this.rpcImpl=e;this.requestDelimited=Boolean(t);this.responseDelimited=Boolean(r)}n.prototype.rpcCall=function e(t,r,n,s,o){if(!s)throw TypeError("request must be specified");var f=this;if(!o)return i.asPromise(e,f,t,r,n,s);if(!f.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return undefined}try{return f.rpcImpl(t,r[f.requestDelimited?"encodeDelimited":"encode"](s).finish(),function e(r,i){if(r){f.emit("error",r,t);return o(r)}if(i===null){f.end(true);return undefined}if(!(i instanceof n)){try{i=n[f.responseDelimited?"decodeDelimited":"decode"](i)}catch(r){f.emit("error",r,t);return o(r)}}f.emit("data",i,t);return o(null,i)})}catch(e){f.emit("error",e,t);setTimeout(function(){o(e)},0);return undefined}};n.prototype.end=function e(t){if(this.rpcImpl){if(!t)this.rpcImpl(null,null,null);this.rpcImpl=null;this.emit("end").off()}return this}},{39:39}],33:[function(e,t,r){"use strict";t.exports=f;var i=e(23);((f.prototype=Object.create(i.prototype)).constructor=f).className="Service";var n=e(22),s=e(37),o=e(31);function f(e,t){i.call(this,e,t);this.methods={};this._methodsArray=null}f.fromJSON=function e(t,r){var i=new f(t,r.options);if(r.methods)for(var s=Object.keys(r.methods),o=0;o<s.length;++o)i.add(n.fromJSON(s[o],r.methods[s[o]]));if(r.nested)i.addJSON(r.nested);i.comment=r.comment;return i};f.prototype.toJSON=function e(t){var r=i.prototype.toJSON.call(this,t);var n=t?Boolean(t.keepComments):false;return s.toObject(["options",r&&r.options||undefined,"methods",i.arrayToJSON(this.methodsArray,t)||{},"nested",r&&r.nested||undefined,"comment",n?this.comment:undefined])};Object.defineProperty(f.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}});function a(e){e._methodsArray=null;return e}f.prototype.get=function e(t){return this.methods[t]||i.prototype.get.call(this,t)};f.prototype.resolveAll=function e(){var t=this.methodsArray;for(var r=0;r<t.length;++r)t[r].resolve();return i.prototype.resolve.call(this)};f.prototype.add=function e(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof n){this.methods[t.name]=t;t.parent=this;return a(this)}return i.prototype.add.call(this,t)};f.prototype.remove=function e(t){if(t instanceof n){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);delete this.methods[t.name];t.parent=null;return a(this)}return i.prototype.remove.call(this,t)};f.prototype.create=function e(t,r,i){var n=new o.Service(t,r,i);for(var f=0,a;f<this.methodsArray.length;++f){var u=s.lcFirst((a=this._methodsArray[f]).resolve().name).replace(/[^$\w_]/g,"");n[u]=s.codegen(["r","c"],s.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:a,q:a.resolvedRequestType.ctor,s:a.resolvedResponseType.ctor})}return n}},{22:22,23:23,31:31,37:37}],34:[function(e,t,r){"use strict";t.exports=h;var i=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,s=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g;var o=/^ *[*/]+ */,f=/^\s*\*?\/*/,a=/\n/g,u=/\s/,l=/\\(.?)/g;var c={0:"\0",r:"\r",n:"\n",t:"\t"};function p(e){return e.replace(l,function(e,t){switch(t){case"\\":case"":return t;default:return c[t]||""}})}h.unescape=p;function h(e,t){e=e.toString();var r=0,l=e.length,c=1,h=null,d=null,y=0,m=false;var v=[];var g=null;function b(e){return Error("illegal "+e+" (line "+c+")")}function w(){var t=g==="'"?s:n;t.lastIndex=r-1;var i=t.exec(e);if(!i)throw b("string");r=t.lastIndex;S(g);g=null;return p(i[1])}function k(t){return e.charAt(t)}function O(r,i){h=e.charAt(r++);y=c;m=false;var n;if(t){n=2}else{n=3}var s=r-n,u;do{if(--s<0||(u=e.charAt(s))==="\n"){m=true;break}}while(u===" "||u==="\t");var l=e.substring(r,i).split(a);for(var p=0;p<l.length;++p)l[p]=l[p].replace(t?f:o,"").trim();d=l.join("\n").trim()}function j(t){var r=A(t);var i=e.substring(t,r);var n=/^\s*\/{1,2}/.test(i);return n}function A(e){var t=e;while(t<l&&k(t)!=="\n"){t++}return t}function x(){if(v.length>0)return v.shift();if(g)return w();var n,s,o,f,a;do{if(r===l)return null;n=false;while(u.test(o=k(r))){if(o==="\n")++c;if(++r===l)return null}if(k(r)==="/"){if(++r===l){throw b("comment")}if(k(r)==="/"){if(!t){a=k(f=r+1)==="/";while(k(++r)!=="\n"){if(r===l){return null}}++r;if(a){O(f,r-1)}++c;n=true}else{f=r;a=false;if(j(r)){a=true;do{r=A(r);if(r===l){break}r++}while(j(r))}else{r=Math.min(l,A(r)+1)}if(a){O(f,r)}c++;n=true}}else if((o=k(r))==="*"){f=r+1;a=t||k(f)==="*";do{if(o==="\n"){++c}if(++r===l){throw b("comment")}s=o;o=k(r)}while(s!=="*"||o!=="/");++r;if(a){O(f,r-2)}n=true}else{return"/"}}}while(n);var p=r;i.lastIndex=0;var h=i.test(k(p++));if(!h)while(p<l&&!i.test(k(p)))++p;var d=e.substring(r,r=p);if(d==='"'||d==="'")g=d;return d}function S(e){v.push(e)}function _(){if(!v.length){var e=x();if(e===null)return null;S(e)}return v[0]}function T(e,t){var r=_(),i=r===e;if(i){x();return true}if(!t)throw b("token '"+r+"', '"+e+"' expected");return false}function N(e){var r=null;if(e===undefined){if(y===c-1&&(t||h==="*"||m)){r=d}}else{if(y<e){_()}if(y===e&&!m&&(t||h==="/")){r=d}}return r}return Object.defineProperty({next:x,peek:_,push:S,skip:T,cmnt:N},"line",{get:function(){return c}})}},{}],35:[function(e,t,r){"use strict";t.exports=g;var i=e(23);((g.prototype=Object.create(i.prototype)).constructor=g).className="Type";var n=e(15),s=e(25),o=e(16),f=e(20),a=e(33),u=e(21),l=e(27),c=e(42),p=e(37),h=e(14),d=e(13),y=e(40),m=e(12),v=e(41);function g(e,t){i.call(this,e,t);this.fields={};this.oneofs=undefined;this.extensions=undefined;this.reserved=undefined;this.group=undefined;this._fieldsById=null;this._fieldsArray=null;this._oneofsArray=null;this._ctor=null}Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g.generateConstructor(this)())},set:function(e){var t=e.prototype;if(!(t instanceof u)){(e.prototype=new u).constructor=e;p.merge(e.prototype,t)}e.$type=e.prototype.$type=this;p.merge(e,u,true);this._ctor=e;var r=0;for(;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var i={};for(r=0;r<this.oneofsArray.length;++r)i[this._oneofsArray[r].resolve().name]={get:p.oneOfGetter(this._oneofsArray[r].oneof),set:p.oneOfSetter(this._oneofsArray[r].oneof)};if(r)Object.defineProperties(e.prototype,i)}}});g.generateConstructor=function e(t){var r=p.codegen(["p"],t.name);for(var i=0,n;i<t.fieldsArray.length;++i)if((n=t._fieldsArray[i]).map)r("this%s={}",p.safeProp(n.name));else if(n.repeated)r("this%s=[]",p.safeProp(n.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function b(e){e._fieldsById=e._fieldsArray=e._oneofsArray=null;delete e.encode;delete e.decode;delete e.verify;return e}g.fromJSON=function e(t,r){var u=new g(t,r.options);u.extensions=r.extensions;u.reserved=r.reserved;var l=Object.keys(r.fields),c=0;for(;c<l.length;++c)u.add((typeof r.fields[l[c]].keyType!=="undefined"?f.fromJSON:o.fromJSON)(l[c],r.fields[l[c]]));if(r.oneofs)for(l=Object.keys(r.oneofs),c=0;c<l.length;++c)u.add(s.fromJSON(l[c],r.oneofs[l[c]]));if(r.nested)for(l=Object.keys(r.nested),c=0;c<l.length;++c){var p=r.nested[l[c]];u.add((p.id!==undefined?o.fromJSON:p.fields!==undefined?g.fromJSON:p.values!==undefined?n.fromJSON:p.methods!==undefined?a.fromJSON:i.fromJSON)(l[c],p))}if(r.extensions&&r.extensions.length)u.extensions=r.extensions;if(r.reserved&&r.reserved.length)u.reserved=r.reserved;if(r.group)u.group=true;if(r.comment)u.comment=r.comment;return u};g.prototype.toJSON=function e(t){var r=i.prototype.toJSON.call(this,t);var n=t?Boolean(t.keepComments):false;return p.toObject(["options",r&&r.options||undefined,"oneofs",i.arrayToJSON(this.oneofsArray,t),"fields",i.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",r&&r.nested||undefined,"comment",n?this.comment:undefined])};g.prototype.resolveAll=function e(){var t=this.fieldsArray,r=0;while(r<t.length)t[r++].resolve();var n=this.oneofsArray;r=0;while(r<n.length)n[r++].resolve();return i.prototype.resolveAll.call(this)};g.prototype.get=function e(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null};g.prototype.add=function e(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof o&&t.extend===undefined){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);if(t.parent)t.parent.remove(t);this.fields[t.name]=t;t.message=this;t.onAdd(this);return b(this)}if(t instanceof s){if(!this.oneofs)this.oneofs={};this.oneofs[t.name]=t;t.onAdd(this);return b(this)}return i.prototype.add.call(this,t)};g.prototype.remove=function e(t){if(t instanceof o&&t.extend===undefined){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);delete this.fields[t.name];t.parent=null;t.onRemove(this);return b(this)}if(t instanceof s){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);delete this.oneofs[t.name];t.parent=null;t.onRemove(this);return b(this)}return i.prototype.remove.call(this,t)};g.prototype.isReservedId=function e(t){return i.isReservedId(this.reserved,t)};g.prototype.isReservedName=function e(t){return i.isReservedName(this.reserved,t)};g.prototype.create=function e(t){return new this.ctor(t)};g.prototype.setup=function e(){var t=this.fullName,r=[];for(var i=0;i<this.fieldsArray.length;++i)r.push(this._fieldsArray[i].resolve().resolvedType);this.encode=h(this)({Writer:c,types:r,util:p});this.decode=d(this)({Reader:l,types:r,util:p});this.verify=y(this)({types:r,util:p});this.fromObject=m.fromObject(this)({types:r,util:p});this.toObject=m.toObject(this)({types:r,util:p});var n=v[t];if(n){var s=Object.create(this);s.fromObject=this.fromObject;this.fromObject=n.fromObject.bind(s);s.toObject=this.toObject;this.toObject=n.toObject.bind(s)}return this};g.prototype.encode=function e(t,r){return this.setup().encode(t,r)};g.prototype.encodeDelimited=function e(t,r){return this.encode(t,r&&r.len?r.fork():r).ldelim()};g.prototype.decode=function e(t,r){return this.setup().decode(t,r)};g.prototype.decodeDelimited=function e(t){if(!(t instanceof l))t=l.create(t);return this.decode(t,t.uint32())};g.prototype.verify=function e(t){return this.setup().verify(t)};g.prototype.fromObject=function e(t){return this.setup().fromObject(t)};g.prototype.toObject=function e(t,r){return this.setup().toObject(t,r)};g.d=function e(t){return function e(r){p.decorateType(r,t)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(e,t,r){"use strict";var i=r;var n=e(37);var s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var r=0,i={};t|=0;while(r<e.length)i[s[r+t]]=e[r++];return i}i.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);i.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,false,"",n.emptyArray,null]);i.long=o([0,0,0,1,1],7);i.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2);i.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(e,t,r){"use strict";var i=t.exports=e(39);var n=e(30);var s,o;i.codegen=e(3);i.fetch=e(5);i.path=e(8);i.fs=i.inquire("fs");i.toArray=function e(t){if(t){var r=Object.keys(t),i=new Array(r.length),n=0;while(n<r.length)i[n]=t[r[n++]];return i}return[]};i.toObject=function e(t){var r={},i=0;while(i<t.length){var n=t[i++],s=t[i++];if(s!==undefined)r[n]=s}return r};var f=/\\/g,a=/"/g;i.isReserved=function e(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)};i.safeProp=function e(t){if(!/^[$\w_]+$/.test(t)||i.isReserved(t))return'["'+t.replace(f,"\\\\").replace(a,'\\"')+'"]';return"."+t};i.ucFirst=function e(t){return t.charAt(0).toUpperCase()+t.substring(1)};var u=/_([a-z])/g;i.camelCase=function e(t){return t.substring(0,1)+t.substring(1).replace(u,function(e,t){return t.toUpperCase()})};i.compareFieldsById=function e(t,r){return t.id-r.id};i.decorateType=function t(r,n){if(r.$type){if(n&&r.$type.name!==n){i.decorateRoot.remove(r.$type);r.$type.name=n;i.decorateRoot.add(r.$type)}return r.$type}if(!s)s=e(35);var o=new s(n||r.name);i.decorateRoot.add(o);o.ctor=r;Object.defineProperty(r,"$type",{value:o,enumerable:false});Object.defineProperty(r.prototype,"$type",{value:o,enumerable:false});return o};var l=0;i.decorateEnum=function t(r){if(r.$type)return r.$type;if(!o)o=e(15);var n=new o("Enum"+l++,r);i.decorateRoot.add(n);Object.defineProperty(r,"$type",{value:n,enumerable:false});return n};Object.defineProperty(i,"decorateRoot",{get:function(){return n["decorated"]||(n["decorated"]=new(e(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(e,t,r){"use strict";t.exports=n;var i=e(39);function n(e,t){this.lo=e>>>0;this.hi=t>>>0}var s=n.zero=new n(0,0);s.toNumber=function(){return 0};s.zzEncode=s.zzDecode=function(){return this};s.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function e(t){if(t===0)return s;var r=t<0;if(r)t=-t;var i=t>>>0,o=(t-i)/4294967296>>>0;if(r){o=~o>>>0;i=~i>>>0;if(++i>4294967295){i=0;if(++o>4294967295)o=0}}return new n(i,o)};n.from=function e(t){if(typeof t==="number")return n.fromNumber(t);if(i.isString(t)){if(i.Long)t=i.Long.fromString(t);else return n.fromNumber(parseInt(t,10))}return t.low||t.high?new n(t.low>>>0,t.high>>>0):s};n.prototype.toNumber=function e(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;if(!r)i=i+1>>>0;return-(r+i*4294967296)}return this.lo+this.hi*4294967296};n.prototype.toLong=function e(t){return i.Long?new i.Long(this.lo|0,this.hi|0,Boolean(t)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(t)}};var f=String.prototype.charCodeAt;n.fromHash=function e(t){if(t===o)return s;return new n((f.call(t,0)|f.call(t,1)<<8|f.call(t,2)<<16|f.call(t,3)<<24)>>>0,(f.call(t,4)|f.call(t,5)<<8|f.call(t,6)<<16|f.call(t,7)<<24)>>>0)};n.prototype.toHash=function e(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};n.prototype.zzEncode=function e(){var t=this.hi>>31;this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0;this.lo=(this.lo<<1^t)>>>0;return this};n.prototype.zzDecode=function e(){var t=-(this.lo&1);this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0;this.hi=(this.hi>>>1^t)>>>0;return this};n.prototype.length=function e(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}},{39:39}],39:[function(e,t,r){"use strict";var i=r;i.asPromise=e(1);i.base64=e(2);i.EventEmitter=e(4);i.float=e(6);i.inquire=e(7);i.utf8=e(10);i.pool=e(9);i.LongBits=e(38);i.emptyArray=Object.freeze?Object.freeze([]):[];i.emptyObject=Object.freeze?Object.freeze({}):{};i.isNode=Boolean(global.process&&global.process.versions&&global.process.versions.node);i.isInteger=Number.isInteger||function e(t){return typeof t==="number"&&isFinite(t)&&Math.floor(t)===t};i.isString=function e(t){return typeof t==="string"||t instanceof String};i.isObject=function e(t){return t&&typeof t==="object"};i.isset=i.isSet=function e(t,r){var i=t[r];if(i!=null&&t.hasOwnProperty(r))return typeof i!=="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0;return false};i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}();i._Buffer_from=null;i._Buffer_allocUnsafe=null;i.newBuffer=function e(t){return typeof t==="number"?i.Buffer?i._Buffer_allocUnsafe(t):new i.Array(t):i.Buffer?i._Buffer_from(t):typeof Uint8Array==="undefined"?t:new Uint8Array(t)};i.Array=typeof Uint8Array!=="undefined"?Uint8Array:Array;i.Long=global.dcodeIO&&global.dcodeIO.Long||i.inquire("long");i.key2Re=/^true|false|0|1$/;i.key32Re=/^-?(?:0|[1-9][0-9]*)$/;i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;i.longToHash=function e(t){return t?i.LongBits.from(t).toHash():i.LongBits.zeroHash};i.longFromHash=function e(t,r){var n=i.LongBits.fromHash(t);if(i.Long)return i.Long.fromBits(n.lo,n.hi,r);return n.toNumber(Boolean(r))};function n(e,t,r){for(var i=Object.keys(t),n=0;n<i.length;++n)if(e[i[n]]===undefined||!r)e[i[n]]=t[i[n]];return e}i.merge=n;i.lcFirst=function e(t){return t.charAt(0).toLowerCase()+t.substring(1)};function s(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}});if(Error.captureStackTrace)Error.captureStackTrace(this,t);else Object.defineProperty(this,"stack",{value:(new Error).stack||""});if(r)n(this,r)}(t.prototype=Object.create(Error.prototype)).constructor=t;Object.defineProperty(t.prototype,"name",{get:function(){return e}});t.prototype.toString=function e(){return this.name+": "+this.message};return t}i.newError=s;i.ProtocolError=s("ProtocolError");i.oneOfGetter=function e(t){var r={};for(var i=0;i<t.length;++i)r[t[i]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;t>-1;--t)if(r[e[t]]===1&&this[e[t]]!==undefined&&this[e[t]]!==null)return e[t]}};i.oneOfSetter=function e(t){return function(e){for(var r=0;r<t.length;++r)if(t[r]!==e)delete this[t[r]]}};i.toJSONOptions={longs:String,enums:String,bytes:String,json:true};i._configure=function(){var e=i.Buffer;if(!e){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=e.from!==Uint8Array.from&&e.from||function t(r,i){return new e(r,i)};i._Buffer_allocUnsafe=e.allocUnsafe||function t(r){return new e(r)}}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(e,t,r){"use strict";t.exports=a;var i=e(15),n=e(37);function s(e,t){return e.name+": "+t+(e.repeated&&t!=="array"?"[]":e.map&&t!=="object"?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,r,n){if(t.resolvedType){if(t.resolvedType instanceof i){e("switch(%s){",n)("default:")("return%j",s(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),f=0;f<o.length;++f)e("case %i:",t.resolvedType.values[o[f]]);e("break")("}")}else{e("{")("var e=types[%i].verify(%s);",r,n)("if(e)")("return%j+e",t.name+".")("}")}}else{switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",n)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',n)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',n)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",n)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",s(t,"buffer"));break}}return e}function f(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",s(t,"boolean key"));break}return e}function a(e){var t=n.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected");var r=e.oneofsArray,i={};if(r.length)t("var p={}");for(var a=0;a<e.fieldsArray.length;++a){var u=e._fieldsArray[a].resolve(),l="m"+n.safeProp(u.name);if(u.optional)t("if(%s!=null&&m.hasOwnProperty(%j)){",l,u.name);if(u.map){t("if(!util.isObject(%s))",l)("return%j",s(u,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){");f(t,u,"k[i]");o(t,u,a,l+"[k[i]]")("}")}else if(u.repeated){t("if(!Array.isArray(%s))",l)("return%j",s(u,"array"))("for(var i=0;i<%s.length;++i){",l);o(t,u,a,l+"[i]")("}")}else{if(u.partOf){var c=n.safeProp(u.partOf.name);if(i[u.partOf.name]===1)t("if(p%s===1)",c)("return%j",u.partOf.name+": multiple values");i[u.partOf.name]=1;t("p%s=1",c)}o(t,u,a,l)}if(u.optional)t("}")}return t("return null")}},{15:15,37:37}],41:[function(e,t,r){"use strict";var i=r;var n=e(21);i[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var r=e["@type"].charAt(0)==="."?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+r,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var r=e.type_url.substring(e.type_url.lastIndexOf("/")+1);var i=this.lookup(r);if(i)e=i.decode(e.value)}if(!(e instanceof this.ctor)&&e instanceof n){var s=e.$type.toObject(e,t);s["@type"]=e.$type.fullName;return s}return this.toObject(e,t)}}},{21:21}],42:[function(e,t,r){"use strict";t.exports=c;var i=e(39);var n;var s=i.LongBits,o=i.base64,f=i.utf8;function a(e,t,r){this.fn=e;this.len=t;this.next=undefined;this.val=r}function u(){}function l(e){this.head=e.head;this.tail=e.tail;this.len=e.len;this.next=e.states}function c(){this.len=0;this.head=new a(u,0,0);this.tail=this.head;this.states=null}c.create=i.Buffer?function e(){return(c.create=function e(){return new n})()}:function e(){return new c};c.alloc=function e(t){return new i.Array(t)};if(i.Array!==Array)c.alloc=i.pool(c.alloc,i.Array.prototype.subarray);c.prototype._push=function e(t,r,i){this.tail=this.tail.next=new a(t,r,i);this.len+=r;return this};function p(e,t,r){t[r]=e&255}function h(e,t,r){while(e>127){t[r++]=e&127|128;e>>>=7}t[r]=e}function d(e,t){this.len=e;this.next=undefined;this.val=t}d.prototype=Object.create(a.prototype);d.prototype.fn=h;c.prototype.uint32=function e(t){this.len+=(this.tail=this.tail.next=new d((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len;return this};c.prototype.int32=function e(t){return t<0?this._push(y,10,s.fromNumber(t)):this.uint32(t)};c.prototype.sint32=function e(t){return this.uint32((t<<1^t>>31)>>>0)};function y(e,t,r){while(e.hi){t[r++]=e.lo&127|128;e.lo=(e.lo>>>7|e.hi<<25)>>>0;e.hi>>>=7}while(e.lo>127){t[r++]=e.lo&127|128;e.lo=e.lo>>>7}t[r++]=e.lo}c.prototype.uint64=function e(t){var r=s.from(t);return this._push(y,r.length(),r)};c.prototype.int64=c.prototype.uint64;c.prototype.sint64=function e(t){var r=s.from(t).zzEncode();return this._push(y,r.length(),r)};c.prototype.bool=function e(t){return this._push(p,1,t?1:0)};function m(e,t,r){t[r]=e&255;t[r+1]=e>>>8&255;t[r+2]=e>>>16&255;t[r+3]=e>>>24}c.prototype.fixed32=function e(t){return this._push(m,4,t>>>0)};c.prototype.sfixed32=c.prototype.fixed32;c.prototype.fixed64=function e(t){var r=s.from(t);return this._push(m,4,r.lo)._push(m,4,r.hi)};c.prototype.sfixed64=c.prototype.fixed64;c.prototype.float=function e(t){return this._push(i.float.writeFloatLE,4,t)};c.prototype.double=function e(t){return this._push(i.float.writeDoubleLE,8,t)};var v=i.Array.prototype.set?function e(t,r,i){r.set(t,i)}:function e(t,r,i){for(var n=0;n<t.length;++n)r[i+n]=t[n]};c.prototype.bytes=function e(t){var r=t.length>>>0;if(!r)return this._push(p,1,0);if(i.isString(t)){var n=c.alloc(r=o.length(t));o.decode(t,n,0);t=n}return this.uint32(r)._push(v,r,t)};c.prototype.string=function e(t){var r=f.length(t);return r?this.uint32(r)._push(f.write,r,t):this._push(p,1,0)};c.prototype.fork=function e(){this.states=new l(this);this.head=this.tail=new a(u,0,0);this.len=0;return this};c.prototype.reset=function e(){if(this.states){this.head=this.states.head;this.tail=this.states.tail;this.len=this.states.len;this.states=this.states.next}else{this.head=this.tail=new a(u,0,0);this.len=0}return this};c.prototype.ldelim=function e(){var t=this.head,r=this.tail,i=this.len;this.reset().uint32(i);if(i){this.tail.next=t.next;this.tail=r;this.len+=i}return this};c.prototype.finish=function e(){var t=this.head.next,r=this.constructor.alloc(this.len),i=0;while(t){t.fn(t.val,r,i);i+=t.len;t=t.next}return r};c._configure=function(e){n=e}},{39:39}],43:[function(e,t,r){"use strict";t.exports=o;var i=e(42);(o.prototype=Object.create(i.prototype)).constructor=o;var n=e(39);var s=n.Buffer;function o(){i.call(this)}o.alloc=function e(t){return(o.alloc=n._Buffer_allocUnsafe)(t)};var f=s&&s.prototype instanceof Uint8Array&&s.prototype.set.name==="set"?function e(t,r,i){r.set(t,i)}:function e(t,r,i){if(t.copy)t.copy(r,i,0,t.length);else for(var n=0;n<t.length;)r[i++]=t[n++]};o.prototype.bytes=function e(t){if(n.isString(t))t=n._Buffer_from(t,"base64");var r=t.length>>>0;this.uint32(r);if(r)this._push(f,r,t);return this};function a(e,t,r){if(e.length<40)n.utf8.write(e,t,r);else t.utf8Write(e,r)}o.prototype.string=function e(t){var r=s.byteLength(t);this.uint32(r);if(r)this._push(a,r,t);return this}},{39:39,42:42}]},{},[19])})(typeof window==="object"&&window||typeof self==="object"&&self||this);
 



// file: /bitrix/js/pull/protobuf/model.js
(function(e){"use strict";var n=e.Reader,t=e.Writer,r=e.util;var s=e.roots["push-server"]||(e.roots["push-server"]={});s.RequestBatch=function(){function e(e){this.requests=[];if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.requests=r.emptyArray;e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.requests!=null&&n.requests.length)for(var i=0;i<n.requests.length;++i)s.Request.encode(n.requests[i],r.uint32(10).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.RequestBatch;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:if(!(o.requests&&o.requests.length))o.requests=[];o.requests.push(s.Request.decode(t,t.uint32()));break;default:t.skipType(a&7);break}}return o};return e}();s.Request=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.incomingMessages=null;e.prototype.channelStats=null;e.prototype.serverStats=null;var i;Object.defineProperty(e.prototype,"command",{get:r.oneOfGetter(i=["incomingMessages","channelStats","serverStats"]),set:r.oneOfSetter(i)});e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.incomingMessages!=null&&n.hasOwnProperty("incomingMessages"))s.IncomingMessagesRequest.encode(n.incomingMessages,r.uint32(10).fork()).ldelim();if(n.channelStats!=null&&n.hasOwnProperty("channelStats"))s.ChannelStatsRequest.encode(n.channelStats,r.uint32(18).fork()).ldelim();if(n.serverStats!=null&&n.hasOwnProperty("serverStats"))s.ServerStatsRequest.encode(n.serverStats,r.uint32(26).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.Request;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:o.incomingMessages=s.IncomingMessagesRequest.decode(t,t.uint32());break;case 2:o.channelStats=s.ChannelStatsRequest.decode(t,t.uint32());break;case 3:o.serverStats=s.ServerStatsRequest.decode(t,t.uint32());break;default:t.skipType(a&7);break}}return o};return e}();s.IncomingMessagesRequest=function(){function e(e){this.messages=[];if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.messages=r.emptyArray;e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.messages!=null&&n.messages.length)for(var i=0;i<n.messages.length;++i)s.IncomingMessage.encode(n.messages[i],r.uint32(10).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.IncomingMessagesRequest;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:if(!(o.messages&&o.messages.length))o.messages=[];o.messages.push(s.IncomingMessage.decode(t,t.uint32()));break;default:t.skipType(a&7);break}}return o};return e}();s.IncomingMessage=function(){function e(e){this.receivers=[];if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.receivers=r.emptyArray;e.prototype.sender=null;e.prototype.body="";e.prototype.expiry=0;e.prototype.type="";e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.receivers!=null&&n.receivers.length)for(var i=0;i<n.receivers.length;++i)s.Receiver.encode(n.receivers[i],r.uint32(10).fork()).ldelim();if(n.sender!=null&&n.hasOwnProperty("sender"))s.Sender.encode(n.sender,r.uint32(18).fork()).ldelim();if(n.body!=null&&n.hasOwnProperty("body"))r.uint32(26).string(n.body);if(n.expiry!=null&&n.hasOwnProperty("expiry"))r.uint32(32).uint32(n.expiry);if(n.type!=null&&n.hasOwnProperty("type"))r.uint32(42).string(n.type);return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.IncomingMessage;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:if(!(o.receivers&&o.receivers.length))o.receivers=[];o.receivers.push(s.Receiver.decode(t,t.uint32()));break;case 2:o.sender=s.Sender.decode(t,t.uint32());break;case 3:o.body=t.string();break;case 4:o.expiry=t.uint32();break;case 5:o.type=t.string();break;default:t.skipType(a&7);break}}return o};return e}();s.ChannelStatsRequest=function(){function e(e){this.channels=[];if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.channels=r.emptyArray;e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.channels!=null&&n.channels.length)for(var i=0;i<n.channels.length;++i)s.ChannelId.encode(n.channels[i],r.uint32(10).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.ChannelStatsRequest;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:if(!(o.channels&&o.channels.length))o.channels=[];o.channels.push(s.ChannelId.decode(t,t.uint32()));break;default:t.skipType(a&7);break}}return o};return e}();s.ChannelId=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.id=r.newBuffer([]);e.prototype.isPrivate=false;e.prototype.signature=r.newBuffer([]);e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.id!=null&&n.hasOwnProperty("id"))r.uint32(10).bytes(n.id);if(n.isPrivate!=null&&n.hasOwnProperty("isPrivate"))r.uint32(16).bool(n.isPrivate);if(n.signature!=null&&n.hasOwnProperty("signature"))r.uint32(26).bytes(n.signature);return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.ChannelId;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:o.id=t.bytes();break;case 2:o.isPrivate=t.bool();break;case 3:o.signature=t.bytes();break;default:t.skipType(a&7);break}}return o};return e}();s.ServerStatsRequest=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.ServerStatsRequest;while(t.pos<i){var a=t.uint32();switch(a>>>3){default:t.skipType(a&7);break}}return o};return e}();s.Sender=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.type=0;e.prototype.id=r.newBuffer([]);e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.type!=null&&n.hasOwnProperty("type"))r.uint32(8).int32(n.type);if(n.id!=null&&n.hasOwnProperty("id"))r.uint32(18).bytes(n.id);return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.Sender;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:o.type=t.int32();break;case 2:o.id=t.bytes();break;default:t.skipType(a&7);break}}return o};return e}();s.SenderType=function(){var e={},n=Object.create(e);n[e[0]="UNKNOWN"]=0;n[e[1]="CLIENT"]=1;n[e[2]="BACKEND"]=2;return n}();s.Receiver=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.id=r.newBuffer([]);e.prototype.isPrivate=false;e.prototype.signature=r.newBuffer([]);e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.id!=null&&n.hasOwnProperty("id"))r.uint32(10).bytes(n.id);if(n.isPrivate!=null&&n.hasOwnProperty("isPrivate"))r.uint32(16).bool(n.isPrivate);if(n.signature!=null&&n.hasOwnProperty("signature"))r.uint32(26).bytes(n.signature);return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.Receiver;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:o.id=t.bytes();break;case 2:o.isPrivate=t.bool();break;case 3:o.signature=t.bytes();break;default:t.skipType(a&7);break}}return o};return e}();s.ResponseBatch=function(){function e(e){this.responses=[];if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.responses=r.emptyArray;e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.responses!=null&&n.responses.length)for(var i=0;i<n.responses.length;++i)s.Response.encode(n.responses[i],r.uint32(10).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.ResponseBatch;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:if(!(o.responses&&o.responses.length))o.responses=[];o.responses.push(s.Response.decode(t,t.uint32()));break;default:t.skipType(a&7);break}}return o};return e}();s.Response=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.outgoingMessages=null;e.prototype.channelStats=null;e.prototype.serverStats=null;var i;Object.defineProperty(e.prototype,"command",{get:r.oneOfGetter(i=["outgoingMessages","channelStats","serverStats"]),set:r.oneOfSetter(i)});e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.outgoingMessages!=null&&n.hasOwnProperty("outgoingMessages"))s.OutgoingMessagesResponse.encode(n.outgoingMessages,r.uint32(10).fork()).ldelim();if(n.channelStats!=null&&n.hasOwnProperty("channelStats"))s.ChannelStatsResponse.encode(n.channelStats,r.uint32(18).fork()).ldelim();if(n.serverStats!=null&&n.hasOwnProperty("serverStats"))s.JsonResponse.encode(n.serverStats,r.uint32(26).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.Response;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:o.outgoingMessages=s.OutgoingMessagesResponse.decode(t,t.uint32());break;case 2:o.channelStats=s.ChannelStatsResponse.decode(t,t.uint32());break;case 3:o.serverStats=s.JsonResponse.decode(t,t.uint32());break;default:t.skipType(a&7);break}}return o};return e}();s.OutgoingMessagesResponse=function(){function e(e){this.messages=[];if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.messages=r.emptyArray;e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.messages!=null&&n.messages.length)for(var i=0;i<n.messages.length;++i)s.OutgoingMessage.encode(n.messages[i],r.uint32(10).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.OutgoingMessagesResponse;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:if(!(o.messages&&o.messages.length))o.messages=[];o.messages.push(s.OutgoingMessage.decode(t,t.uint32()));break;default:t.skipType(a&7);break}}return o};return e}();s.OutgoingMessage=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.id=r.newBuffer([]);e.prototype.body="";e.prototype.expiry=0;e.prototype.created=0;e.prototype.sender=null;e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.id!=null&&n.hasOwnProperty("id"))r.uint32(10).bytes(n.id);if(n.body!=null&&n.hasOwnProperty("body"))r.uint32(18).string(n.body);if(n.expiry!=null&&n.hasOwnProperty("expiry"))r.uint32(24).uint32(n.expiry);if(n.created!=null&&n.hasOwnProperty("created"))r.uint32(37).fixed32(n.created);if(n.sender!=null&&n.hasOwnProperty("sender"))s.Sender.encode(n.sender,r.uint32(42).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.OutgoingMessage;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:o.id=t.bytes();break;case 2:o.body=t.string();break;case 3:o.expiry=t.uint32();break;case 4:o.created=t.fixed32();break;case 5:o.sender=s.Sender.decode(t,t.uint32());break;default:t.skipType(a&7);break}}return o};return e}();s.ChannelStatsResponse=function(){function e(e){this.channels=[];if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.channels=r.emptyArray;e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.channels!=null&&n.channels.length)for(var i=0;i<n.channels.length;++i)s.ChannelStats.encode(n.channels[i],r.uint32(10).fork()).ldelim();return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.ChannelStatsResponse;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:if(!(o.channels&&o.channels.length))o.channels=[];o.channels.push(s.ChannelStats.decode(t,t.uint32()));break;default:t.skipType(a&7);break}}return o};return e}();s.ChannelStats=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.id=r.newBuffer([]);e.prototype.isPrivate=false;e.prototype.isOnline=false;e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.id!=null&&n.hasOwnProperty("id"))r.uint32(10).bytes(n.id);if(n.isPrivate!=null&&n.hasOwnProperty("isPrivate"))r.uint32(16).bool(n.isPrivate);if(n.isOnline!=null&&n.hasOwnProperty("isOnline"))r.uint32(24).bool(n.isOnline);return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.ChannelStats;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:o.id=t.bytes();break;case 2:o.isPrivate=t.bool();break;case 3:o.isOnline=t.bool();break;default:t.skipType(a&7);break}}return o};return e}();s.JsonResponse=function(){function e(e){if(e)for(var n=Object.keys(e),t=0;t<n.length;++t)if(e[n[t]]!=null)this[n[t]]=e[n[t]]}e.prototype.json="";e.create=function n(t){return new e(t)};e.encode=function e(n,r){if(!r)r=t.create();if(n.json!=null&&n.hasOwnProperty("json"))r.uint32(10).string(n.json);return r};e.decode=function e(t,r){if(!(t instanceof n))t=n.create(t);var i=r===undefined?t.len:t.pos+r,o=new s.JsonResponse;while(t.pos<i){var a=t.uint32();switch(a>>>3){case 1:o.json=t.string();break;default:t.skipType(a&7);break}}return o};return e}();return s})(typeof window==="object"&&typeof window.protobuf==="object"&&window.protobuf||typeof self==="object"&&typeof self.protobuf==="object"&&self.protobuf||typeof protobuf==="object"&&protobuf);
 



// file: /bitrix/js/main/core/core_promise.js
(function(t){if(!t.BX){t.BX={}}var e=t.BX;e.Promise=function(t,e){this.state=null;this.value=null;this.reason=null;this.next=null;this.ctx=e||this;this.onFulfilled=[];this.onRejected=[]};e.Promise.prototype.fulfill=function(t){this.checkState();this.value=t;this.state=true;this.execute()};e.Promise.prototype.reject=function(t){this.checkState();this.reason=t;this.state=false;this.execute()};e.Promise.prototype.then=function(t,i){if(typeof t=="function"||t instanceof Function){this.onFulfilled.push(t)}if(typeof i=="function"||i instanceof Function){this.onRejected.push(i)}if(this.next===null){this.next=new e.Promise(null,this.ctx)}if(this.state!==null){this.execute()}return this.next};e.Promise.prototype.catch=function(t){if(typeof t=="function"||t instanceof Function){this.onRejected.push(t)}if(this.next===null){this.next=new e.Promise(null,this.ctx)}if(this.state!==null){this.execute()}return this.next};e.Promise.prototype.setAutoResolve=function(t,e){this.timer=setTimeout(function(){if(this.state===null){this[t?"fulfill":"reject"]()}}.bind(this),e||15)};e.Promise.prototype.cancelAutoResolve=function(){clearTimeout(this.timer)};e.Promise.prototype.resolve=function(t){var e=this;if(this===t){this.reject(new TypeError("Promise cannot fulfill or reject itself"))}else if(t&&t.toString()==="[object BX.Promise]"){t.then(function(t){e.fulfill(t)},function(t){e.reject(t)})}else{this.fulfill(t)}};e.Promise.prototype.toString=function(){return"[object BX.Promise]"};e.Promise.prototype.execute=function(){if(this.state===null){return}var i=undefined;var n=undefined;var o=undefined;var s;if(this.state===true){if(this.onFulfilled.length){try{for(s=0;s<this.onFulfilled.length;s++){o=this.onFulfilled[s].apply(this.ctx,[this.value]);if(typeof o!="undefined"){i=o}}}catch(i){if("console"in t){console.dir(i)}if(typeof e.debug!=="undefined"){e.debug(i)}n=i}}else{i=this.value}}else if(this.state===false){if(this.onRejected.length){try{for(s=0;s<this.onRejected.length;s++){o=this.onRejected[s].apply(this.ctx,[this.reason]);if(typeof o!="undefined"){i=o}}}catch(i){if("console"in t){console.dir(i)}if(typeof e.debug!=="undefined"){e.debug(i)}n=i}}else{n=this.reason}}if(this.next!==null){if(typeof n!="undefined"){this.next.reject(n)}else if(typeof i!="undefined"){this.next.resolve(i)}}};e.Promise.prototype.checkState=function(){if(this.state!==null){throw new Error("You can not do fulfill() or reject() multiple times")}}})(window);
 



// file: /bitrix/js/rest/client/rest.client.js
"use strict";(function(){if(!window.BX){window.BX={}}else if(window.BX.RestClient){return}var e=window.BX;e.RestClient=function(e){e=e||{};this.endpoint=e.endpoint||"/rest";this.queryParams=e.queryParams||"";this.cors=e.cors===true};e.RestClient.prototype.callMethod=function(e,t,r,i,s){return n({method:e,data:t,callback:r,sendCallback:i,logTag:s,endpoint:this.endpoint,queryParams:this.queryParams,cors:this.cors})};e.RestClient.prototype.callBatch=function(e,t,i,s,o){var a=r.isArray(e)?[]:{};var u=0;var f=function(e){n.batch(e,t,i,s,this.endpoint,this.queryParams,this.cors,o)}.bind(this);for(var l in e){var c=null,p=null;if(!!e[l]&&e.hasOwnProperty(l)){if(r.isArray(e[l])){c=e[l][0];p=e[l][1]}else if(!!e[l].method){c=e[l].method;p=e[l].params}if(!!c){u++;a[l]=[c,p]}}}if(u>0){var d=function(e){return function(t){a[e]=a[e][0]+"?"+t;if(--u<=0)f(a)}};for(var h in a){if(a.hasOwnProperty(h)){n.prepareData(a[h][1],"",d(h))}}}};e.RestClient.prototype.setEndpoint=function(e){this.endpoint=e};e.RestClient.prototype.enableCorsRequest=function(e){this.cors=e===true};e.RestClient.prototype.setQueryParams=function(e){this.queryParams=e};if(typeof e.namespace!=="undefined"){var t=new e.RestClient;if(typeof e.rest=="undefined"){e.rest={}}e.rest.callMethod=function(e,r,n,i,s){return t.callMethod(e,r,n,i,s)};e.rest.callBatch=function(e,r,n,i,s){return t.callBatch(e,r,n,i,s)}}var r={isArray:function(e){return e&&Object.prototype.toString.call(e)=="[object Array]"},isFunction:function(e){return e===null?false:typeof e=="function"||e instanceof Function},isString:function(e){return e===""?true:e?typeof e=="string"||e instanceof String:false},isDomNode:function(e){return e&&typeof e=="object"&&"nodeType"in e},isDate:function(e){return e&&Object.prototype.toString.call(e)=="[object Date]"},buildQueryString:function(e){var t="";for(var r in e){if(!e.hasOwnProperty(r)){continue}var n=e[r];if(this.isArray(n)){n.forEach(function(e,n){t+=encodeURIComponent(r+"["+n+"]")+"="+encodeURIComponent(e)+"&"})}else{t+=encodeURIComponent(r)+"="+encodeURIComponent(n)+"&"}}if(t.length>0){t=t.substr(0,t.length-1)}return t},clone:function(e,t){var r,n,i;if(t!==false)t=true;if(e===null)return null;if(this.isDomNode(e)){r=e.cloneNode(t)}else if(typeof e=="object"){if(this.isArray(e)){r=[];for(n=0,i=e.length;n<i;n++){if(typeof e[n]=="object"&&t)r[n]=this.clone(e[n],t);else r[n]=e[n]}}else{r={};if(e.constructor){if(this.isDate(e))r=new Date(e);else r=new e.constructor}for(n in e){if(typeof e[n]=="object"&&t)r[n]=this.clone(e[n],t);else r[n]=e[n]}}}else{r=e}return r}};var n=function(t){var s=!!t.callback&&r.isFunction(t.callback);var o=typeof e.Promise==="undefined"||s?null:new e.Promise;var a=t.sendCallback||function(){};var u=t.withoutRestoringCsrf||false;var f=t.loginAttempt||0;var l=n.xhr();var c=t.endpoint+"/"+n.escape(t.method)+".json"+(t.logTag?"?logTag="+t.logTag:"");l.open("POST",c);l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");if(t.cors){l.withCredentials=true}var p=false;l.onprogress=function(){};l.ontimeout=function(){};l.timeout=0;l.onload=function(){if(p)return;l.onload=function(){};var r=n.isSuccess(l);var a=l.status;if(r){var c=l.responseText;if(c.length>0){try{c=JSON.parse(c)}catch(e){r=false}}if(a==401){if(c.extended_error==="user_not_authorized"&&f===0){if(c.sessid){console.warn("BX.rest: csrf-token has expired, replace to a new token");e.message({bitrix_sessid:c.sessid})}if("BXDesktopSystem"in window){console.warn("BX.rest: you are not authorized, trying to log in");t.loginAttempt=1;BXDesktopSystem.Login({success:function(){console.warn("BX.rest: successfully logged in, repeating request");if(!s){t.callback=function(e){if(e.error()){o.reject(e)}else{o.fulfill(e)}}}n(t)}});return true}}else if(c.sessid&&!u){e.message({bitrix_sessid:c.sessid});console.warn("BX.rest: your csrf-token has expired, send query with a new token");t.withoutRestoringCsrf=true;if(!s){t.callback=function(e){if(e.error()){o.reject(e)}else{o.fulfill(e)}}}n(t);return true}}else if(a==0){c={result:{},error:"ERROR_NETWORK",error_description:"A network error occurred while the request was being executed."}}else{if(a==200){if(c.length<=0){c={result:{},error:"BLANK_ANSWER",error_description:"Empty answer with correct http code, network error possible."}}}else if(c.length<=0){c={result:{},error:"BLANK_ANSWER_WITH_ERROR_CODE",error_description:"Empty answer with error http code: "+a}}}}l=null;if(r){var d=new i(c,t,a);if(s){t.callback.apply(window,[d])}else{if(d.error()){o.reject(d)}else{o.fulfill(d)}}}else{var d=new i({error:"ERROR_UNEXPECTED_ANSWER",error_description:"Server returned an unexpected response.",ex:{}},t,0);if(s){t.callback.apply(window,[d])}else{o.reject(d)}}};l.onerror=function(e){var r=new i({error:"ERROR_NETWORK",error_description:"A network error occurred while the request was being executed.",ex:e},t,0);if(s){t.callback.apply(window,[r])}else{o.reject(r)}};var d="";if(t.queryParams){d=r.buildQueryString(t.queryParams)}else if(typeof e.bitrix_sessid!=="undefined"){d="sessid="+e.bitrix_sessid()}if(typeof t.start!=="undefined"){d+="&start="+parseInt(t.start)}if(!!t.data){n.prepareData(t.data,"",function(e){d+="&"+e;l.send(d);a(l)})}else{l.send(d);a(l)}return s||!o?l:o};n.batch=function(e,t,s,o,a,u,f,l){return n({method:"batch",data:{halt:!!s?1:0,cmd:e},callback:function(n,s,o){if(!t){return false}var l=n.error();var c=n.data();var p=r.isArray(e)?[]:{};for(var d in e){if(!!e[d]&&e.hasOwnProperty(d)){if(r.isString(e[d])){var h=e[d].split("?")}else{h=[r.isArray(e[d])?e[d][0]:e[d].method,r.isArray(e[d])?e[d][1]:e[d].data]}if(c&&typeof c.result!=="undefined"&&(typeof c.result[d]!=="undefined"||typeof c.result_error[d]!=="undefined")){p[d]=new i({result:typeof c.result[d]!=="undefined"?c.result[d]:{},error:c.result_error[d]||undefined,total:c.result_total[d],time:c.result_time[d],next:c.result_next[d]},{method:h[0],data:h[1],callback:t,endpoint:a,queryParams:u,cors:f},n.status)}else if(l){p[d]=new i({result:{},error:l.ex,total:0},{method:h[0],data:h[1],callback:t,endpoint:a,queryParams:u,cors:f},n.status)}}}t.apply(window,[p])},sendCallback:o,endpoint:a,queryParams:u,cors:f,logTag:l})};n.xhr=function(){return new XMLHttpRequest};n.escape=function(e){return encodeURIComponent(e)};n.prepareData=function(e,t,i){var s="",o=[];if(r.isString(e)||e===null){i.call(document,e||"")}else{for(var u in e){if(!e.hasOwnProperty(u)){continue}var f=n.escape(u);if(t)f=t+"["+f+"]";if(typeof e[u]==="object"){if(r.isArray(e[u])&&e[u].length<=0){continue}o.push([f,e[u]])}else{if(s.length>0){s+="&"}if(typeof e[u]==="boolean"){s+=f+"="+(e[u]?1:0)}else{s+=f+"="+n.escape(e[u])}}}var l=o.length;if(l>0){var c=function(e){s+=(!!e?"&":"")+e;if(--l<=0){i.call(document,s)}};var p=l;for(var u=0;u<p;u++){if(r.isDomNode(o[u][1])){if(o[u][1].tagName.toUpperCase()==="INPUT"&&o[u][1].type==="file"){if(a.canUse()){a(o[u][1],function(e){return function(t){if(r.isArray(t)&&t.length>0){c(e+"[0]="+n.escape(t[0])+"&"+e+"[1]="+n.escape(t[1]))}else{c(e+"=")}}}(o[u][0]))}}else if(typeof o[u][1].value!=="undefined"){c(o[u][0]+"="+n.escape(o[u][1].value))}else{c("")}}else if(r.isDate(o[u][1])){c(o[u][0]+"="+n.escape(o[u][1].toJSON()))}else if(r.isArray(o[u][1])&&o[u][1].length<=0){c(o[u][0]+"=")}else{n.prepareData(o[u][1],o[u][0],c)}}}else{i.call(document,s)}}};n.isSuccess=function(e){return typeof e.status==="undefined"||e.status>=200&&e.status<300||e.status===304||e.status>=400&&e.status<500||e.status===1223||e.status===0};var i=function(e,t,n){this.answer=e;this.query=r.clone(t);this.status=n;if(typeof this.answer.next!=="undefined"){this.answer.next=parseInt(this.answer.next)}if(typeof this.answer.error!=="undefined"){this.answer.ex=new s(this.status,typeof this.answer.error==="string"?this.answer:this.answer.error)}};i.prototype.data=function(){return this.answer.result};i.prototype.time=function(){return this.answer.time};i.prototype.error=function(){return this.answer.ex};i.prototype.error_description=function(){return this.answer.error_description};i.prototype.more=function(){return!isNaN(this.answer.next)};i.prototype.total=function(){return parseInt(this.answer.total)};i.prototype.next=function(e){if(this.more()){this.query.start=this.answer.next;if(!!e&&r.isFunction(e)){this.query.callback=e}return n(this.query)}return false};var s=function(e,t){this.status=e;this.ex=t};s.prototype.getError=function(){return this.ex};s.prototype.getStatus=function(){return this.status};s.prototype.toString=function(){return this.ex.error+(!!this.ex.error_description?": "+this.ex.error_description:"")+" ("+this.status+")"};var o=function(e){var t=new Uint8Array(e);var r="";if(typeof t.forEach==="function"){t.forEach(function(e){r+=String.fromCharCode(e)})}else{var n=t.length;for(var i=0;i<n;i+=1){r+=String.fromCharCode(t[i])}}return btoa(r)};var a=function(e,t){if(a.canUse()){var r=e.files,n=0,i=e.multiple?[]:null;for(var s=0,u;u=r[s];s++){var f=new window.FileReader;f.BXFILENAME=r[s].name;f.onload=function(e){e=e||window.event;var r=[this.BXFILENAME,o(e.target.result)];if(i===null)i=r;else i.push(r);if(--n<=0){t(i)}};f.readAsArrayBuffer(u)}n=s;if(n<=0){t(i)}}};a.canUse=function(){return!!window.FileReader}})();
 



// file: /bitrix/js/pull/client/pull.client.js
(function(){if(!window.BX){window.BX={}}else if(window.BX.PullClient){return}else if(!window.BX.RestClient){return}var e=window.BX;var t=window.protobuf;var n=19;var i=60;var s=30*60;var o=24*60*60;var r=6e4;var c=10;var a="bx-pull-session";var u=20;var l={WebSocket:"webSocket",LongPolling:"longPolling"};var h={Online:"online",Offline:"offline",Connecting:"connect"};var f={Unknown:0,Client:1,Backend:2};var d={Server:"server",Client:"client",Online:"online",Status:"status",Revision:"revision"};var p={NORMAL_CLOSURE:1e3,SERVER_DIE:1001,CONFIG_REPLACED:3e3,CHANNEL_EXPIRED:3001,SERVER_RESTARTED:3002,CONFIG_EXPIRED:3003,MANUAL:3004};var g={CHANNEL_EXPIRE:"CHANNEL_EXPIRE",CONFIG_EXPIRE:"CONFIG_EXPIRE",SERVER_RESTART:"SERVER_RESTART"};var m={Shared:"shared",Personal:"personal"};var b=t.roots["push-server"]["Response"];var y=t.roots["push-server"]["ResponseBatch"];var v=t.roots["push-server"]["Request"];var S=t.roots["push-server"]["RequestBatch"];var k=t.roots["push-server"]["IncomingMessagesRequest"];var I=t.roots["push-server"]["IncomingMessage"];var E=t.roots["push-server"]["Receiver"];var C=function(t){t=t||{};if(t.restApplication){if(typeof t.configGetMethod==="undefined"){t.configGetMethod="pull.application.config.get"}if(typeof t.skipCheckRevision==="undefined"){t.skipCheckRevision=true}if(typeof t.restApplication==="string"){t.siteId=t.restApplication}t.serverEnabled=true}var n=this;this.context="master";this.guestMode=t.guestMode?t.guestMode:typeof e.message!=="undefined"&&e.message.pull_guest_mode?e.message.pull_guest_mode==="Y":false;this.guestUserId=t.guestUserId?t.guestUserId:typeof e.message!=="undefined"&&e.message.pull_guest_user_id?parseInt(e.message.pull_guest_user_id,10):0;if(this.guestMode&&this.guestUserId){this.userId=this.guestUserId}else{this.userId=t.userId?t.userId:typeof e.message!=="undefined"&&e.message.USER_ID?e.message.USER_ID:0}this.siteId=t.siteId?t.siteId:typeof e.message!=="undefined"&&e.message.SITE_ID?e.message.SITE_ID:"none";this.restClient=typeof t.restClient!=="undefined"?t.restClient:new e.RestClient(this.getRestClientOptions());this.enabled=typeof t.serverEnabled!=="undefined"?t.serverEnabled==="Y"||t.serverEnabled===true:typeof e.message!=="undefined"&&e.message.pull_server_enabled==="Y";this.unloading=false;this.starting=false;this.debug=false;this.connectionAttempt=0;this.connectionType="";this.reconnectTimeout=null;this.restoreWebSocketTimeout=null;this.configGetMethod=typeof t.configGetMethod!=="string"?"pull.config.get":t.configGetMethod;this.getPublicListMethod=typeof t.getPublicListMethod!=="string"?"pull.channel.public.list":t.getPublicListMethod;this.skipStorageInit=t.skipStorageInit===true;this.skipCheckRevision=t.skipCheckRevision===true;this._subscribers={};this.watchTagsQueue={};this.watchUpdateInterval=174e4;this.watchForceUpdateInterval=5e3;if(typeof t.configTimestamp!=="undefined"){this.configTimestamp=t.configTimestamp}else if(typeof e.message!=="undefined"&&e.message.pull_config_timestamp){this.configTimestamp=e.message.pull_config_timestamp}else{this.configTimestamp=0}this.session={mid:null,tag:null,time:null,history:{},lastMessageIds:[],messageCount:0};this._connectors={webSocket:null,longPolling:null};Object.defineProperty(this,"connector",{get:function(){return n._connectors[n.connectionType]}});this.isSecure=document.location.href.indexOf("https")===0;this.config=null;this.storage=null;if(this.userId&&!this.skipStorageInit){this.storage=new O({userId:this.userId,siteId:this.siteId})}this.sharedConfig=new w({onWebSocketBlockChanged:this.onWebSocketBlockChanged.bind(this),storage:this.storage});this.channelManager=new L({restClient:this.restClient,getPublicListMethod:this.getPublicListMethod});this.notificationPopup=null;this.checkInterval=null;this.offlineTimeout=null;this.isManualDisconnect=false;this.loggingEnabled=this.sharedConfig.isLoggingEnabled()};C.prototype.subscribe=function(e){if(!e){console.error(M.getDateForLog()+": Pull.subscribe: params for subscribe function is invalid. ");return function(){}}if(!M.isPlainObject(e)){return this.attachCommandHandler(e)}e=e||{};e.type=e.type||d.Server;e.command=e.command||null;if(e.type==d.Server||e.type==d.Client){if(typeof this._subscribers[e.type]==="undefined"){this._subscribers[e.type]={}}if(typeof this._subscribers[e.type][e.moduleId]==="undefined"){this._subscribers[e.type][e.moduleId]={callbacks:[],commands:{}}}if(e.command){if(typeof this._subscribers[e.type][e.moduleId]["commands"][e.command]==="undefined"){this._subscribers[e.type][e.moduleId]["commands"][e.command]=[]}this._subscribers[e.type][e.moduleId]["commands"][e.command].push(e.callback);return function(){this._subscribers[e.type][e.moduleId]["commands"][e.command]=this._subscribers[e.type][e.moduleId]["commands"][e.command].filter(function(t){return t!==e.callback})}.bind(this)}else{this._subscribers[e.type][e.moduleId]["callbacks"].push(e.callback);return function(){this._subscribers[e.type][e.moduleId]["callbacks"]=this._subscribers[e.type][e.moduleId]["callbacks"].filter(function(t){return t!==e.callback})}.bind(this)}}else{if(typeof this._subscribers[e.type]==="undefined"){this._subscribers[e.type]=[]}this._subscribers[e.type].push(e.callback);return function(){this._subscribers[e.type]=this._subscribers[e.type].filter(function(t){return t!==e.callback})}.bind(this)}};C.prototype.attachCommandHandler=function(e){if(typeof e.getModuleId!=="function"||typeof e.getModuleId()!=="string"){console.error(M.getDateForLog()+": Pull.attachCommandHandler: result of handler.getModuleId() is not a string.");return function(){}}var t=d.Server;if(typeof e.getSubscriptionType==="function"){t=e.getSubscriptionType()}this.subscribe({type:t,moduleId:e.getModuleId(),callback:function(t){var n=null;if(typeof e.getMap==="function"){var i=e.getMap();if(i&&typeof i==="object"){if(typeof i[t.command]==="function"){n=i[t.command].bind(e)}else if(typeof i[t.command]==="string"&&typeof e[i[t.command]]==="function"){n=e[i[t.command]].bind(e)}}}if(!n){var s="handle"+t.command.charAt(0).toUpperCase()+t.command.slice(1);if(typeof e[s]==="function"){n=e[s].bind(e)}}if(n){if(this.debug&&this.context!=="master"){console.warn(M.getDateForLog()+": Pull.attachCommandHandler: receive command",t)}n(t.params,t.extra,t.command)}}.bind(this)})};C.prototype.emit=function(e){e=e||{};if(e.type==d.Server||e.type==d.Client){if(typeof this._subscribers[e.type]==="undefined"){this._subscribers[e.type]={}}if(typeof this._subscribers[e.type][e.moduleId]==="undefined"){this._subscribers[e.type][e.moduleId]={callbacks:[],commands:{}}}if(this._subscribers[e.type][e.moduleId]["callbacks"].length>0){this._subscribers[e.type][e.moduleId]["callbacks"].forEach(function(t){t(e.data,{type:e.type,moduleId:e.moduleId})})}if(this._subscribers[e.type][e.moduleId]["commands"][e.data.command]&&this._subscribers[e.type][e.moduleId]["commands"][e.data.command].length>0){this._subscribers[e.type][e.moduleId]["commands"][e.data.command].forEach(function(t){t(e.data.params,e.data.extra,e.data.command,{type:e.type,moduleId:e.moduleId})})}return true}else{if(typeof this._subscribers[e.type]==="undefined"){this._subscribers[e.type]=[]}if(this._subscribers[e.type].length<=0){return true}this._subscribers[e.type].forEach(function(t){t(e.data,{type:e.type})});return true}};C.prototype.init=function(){this._connectors.webSocket=new _({parent:this,onOpen:this.onWebSocketOpen.bind(this),onMessage:this.parseResponse.bind(this),onDisconnect:this.onWebSocketDisconnect.bind(this),onError:this.onWebSocketError.bind(this)});this._connectors.longPolling=new R({parent:this,onOpen:this.onLongPollingOpen.bind(this),onMessage:this.parseResponse.bind(this),onDisconnect:this.onLongPollingDisconnect.bind(this),onError:this.onLongPollingError.bind(this)});this.connectionType=this.isWebSocketAllowed()?l.WebSocket:l.LongPolling;window.addEventListener("beforeunload",this.onBeforeUnload.bind(this));window.addEventListener("offline",this.onOffline.bind(this));window.addEventListener("online",this.onOnline.bind(this));if(e&&e.addCustomEvent){e.addCustomEvent("BXLinkOpened",this.connect.bind(this))}if(e&&e.desktop){e.addCustomEvent("onDesktopReload",function(){this.session.mid=null;this.session.tag=null;this.session.time=null}.bind(this));e.desktop.addCustomEvent("BXLoginSuccess",function(){this.restart(1e3,"Desktop login")}.bind(this))}};C.prototype.start=function(t){if(this.starting||this.isConnected()){return}if(!this.userId&&typeof e.message!=="undefined"&&e.message.USER_ID){this.userId=e.message.USER_ID;if(!this.storage){this.storage=new O({userId:this.userId,siteId:this.siteId})}}if(this.siteId==="none"&&typeof e.message!=="undefined"&&e.message.SITE_ID){this.siteId=e.message.SITE_ID}var n=new e.Promise;var i=false;if(M.isPlainObject(t)){if(typeof t.skipReconnectToLastSession!=="undefined"){i=!!t.skipReconnectToLastSession;delete t.skipReconnectToLastSession}this.config=t}if(!this.enabled){n.reject({ex:{error:"PULL_DISABLED",error_description:"Push & Pull server is disabled"}});return n}var s=this;var o=(new Date).getTime();var r;if(!i&&this.storage){r=this.storage.get(a)}if(M.isPlainObject(r)&&r.hasOwnProperty("ttl")&&r.ttl>=o){this.session.mid=r.mid}this.starting=true;this.loadConfig().catch(function(e){s.starting=false;s.sendPullStatus(h.Offline);s.stopCheckConfig();console.error(M.getDateForLog()+": Pull: could not read push-server config. ",e);n.reject(e)}).then(function(e){s.setConfig(e);s.init();s.connect();s.updateWatch();s.startCheckConfig();n.resolve(true)});return n};C.prototype.getRestClientOptions=function(){var e={};if(this.guestMode&&this.guestUserId!==0){e.queryParams={pull_guest_id:this.guestUserId}}return e};C.prototype.setLastMessageId=function(e){this.session.mid=e};C.prototype.setPublicIds=function(e){return this.channelManager.setPublicIds(e)};C.prototype.sendMessage=function(e,t,n,i,s){return this.sendMessageBatch([{users:e,moduleId:t,command:n,params:i,expiry:s}])};C.prototype.sendMessageBatch=function(e){if(!this.isPublishingEnabled()){console.error("Client publishing is not supported or is disabled");return false}var t={};for(var n=0;n<e.length;n++){for(var i=0;i<e[n].users.length;i++){t[e[n].users[i]]=true}}this.channelManager.getPublicIds(Object.keys(t)).then(function(t){return this.connector.send(this.encodeMessageBatch(e,t))}.bind(this))};C.prototype.encodeMessageBatch=function(e,t){var n=[];e.forEach(function(e){var i={module_id:e.moduleId,command:e.command,params:e.params};var s=I.create({receivers:this.createMessageReceivers(e.users,t),body:JSON.stringify(i),expiry:e.expiry||0});n.push(s)},this);var i=S.create({requests:[{incomingMessages:{messages:n}}]});return S.encode(i).finish()};C.prototype.createMessageReceivers=function(e,t){var n=[];for(var i=0;i<e.length;i++){var s=e[i];if(!t[s]||!t[s].publicId){throw new Error("Could not determine public id for user "+s)}n.push(E.create({id:this.encodeId(t[s].publicId),signature:this.encodeId(t[s].signature)}))}return n};C.prototype.restart=function(t,n){var i=this;this.disconnect(t,n);if(this.storage){this.storage.remove("bx-pull-config")}this.config=null;this.loadConfig().catch(function(t){console.error(M.getDateForLog()+": Pull: could not read push-server config",t);i.sendPullStatus(h.Offline);clearTimeout(i.reconnectTimeout);if(t.status==401||t.status==403){i.stopCheckConfig();if(e&&e.onCustomEvent){e.onCustomEvent(window,"onPullError",["AUTHORIZE_ERROR"])}}}).then(function(e){i.setConfig(e);i.connect();i.updateWatch();i.startCheckConfig()})};C.prototype.loadConfig=function(){var t=new e.Promise;if(!this.config){this.config={api:{},channels:{},publicChannels:{},server:{timeShift:0},clientId:null};var n;if(this.storage){n=this.storage.get("bx-pull-config")}if(this.isConfigActual(n)&&this.checkRevision(n.api.revision_web)){t.resolve(n);return t}else if(this.storage){this.storage.remove("bx-pull-config")}}else if(this.isConfigActual(this.config)&&this.checkRevision(this.config.api.revision_web)){t.resolve(this.config);return t}else{this.config={api:{},channels:{},publicChannels:{},server:{timeShift:0},clientId:null}}this.restClient.callBatch({serverTime:["server.time"],configGet:[this.configGetMethod,{CACHE:"N"}]},function(e){if(!e){t.reject(new Error("Network error while getting new config"));return false}var n=0;if(e.serverTime&&!e.serverTime.error()){n=Math.floor((M.getTimestamp()-new Date(e.serverTime.data()).getTime())/1e3)}if(e.configGet.error()){var i=e.configGet.error();if(i.getError().error=="AUTHORIZE_ERROR"||i.getError().error=="WRONG_AUTH_TYPE"){i.status=403}t.reject(i)}else if(e.configGet){var s=e.configGet.data();s.server.timeShift=n;t.resolve(s)}},false,false,"pull.config");return t};C.prototype.isConfigActual=function(e){if(!M.isPlainObject(e)){return false}if(e.server.config_timestamp<this.configTimestamp){return false}var t=new Date;var n=Object.keys(e.channels).length;if(n===0){return false}for(var i in e.channels){if(!e.channels.hasOwnProperty(i)){continue}var s=e.channels[i];var o=new Date(s.end);if(o<t){return false}}return true};C.prototype.startCheckConfig=function(){if(this.checkInterval){clearInterval(this.checkInterval)}this.checkInterval=setInterval(this.checkConfig.bind(this),r)};C.prototype.stopCheckConfig=function(){if(this.checkInterval){clearInterval(this.checkInterval)}this.checkInterval=null};C.prototype.checkConfig=function(){if(this.isConfigActual(this.config)){if(!this.checkRevision(this.config.api.revision_web)){return false}}else{this.logToConsole("Stale config detected. Restarting");this.restart(p.CONFIG_EXPIRED,"Config update required")}};C.prototype.setConfig=function(e){for(var t in e){if(e.hasOwnProperty(t)&&this.config.hasOwnProperty(t)){this.config[t]=e[t]}}if(e.publicChannels){this.setPublicIds(M.objectValues(e.publicChannels))}if(this.storage){this.storage.set("bx-pull-config",e)}};C.prototype.isWebSocketSupported=function(){return typeof window.WebSocket!=="undefined"};C.prototype.isWebSocketAllowed=function(){if(this.sharedConfig.isWebSocketBlocked()){return false}return this.isWebSocketEnabled()};C.prototype.isWebSocketEnabled=function(){if(!this.isWebSocketSupported()){return false}return this.config&&this.config.server&&this.config.server.websocket_enabled===true};C.prototype.isPublishingSupported=function(){return this.getServerVersion()>3};C.prototype.isPublishingEnabled=function(){if(!this.isPublishingSupported()){return false}return this.config&&this.config.server&&this.config.server.publish_enabled===true};C.prototype.isProtobufSupported=function(){return this.getServerVersion()>3&&!M.browser.IsIe()};C.prototype.isSharedMode=function(){return this.getServerMode()==m.Shared};C.prototype.disconnect=function(e,t){if(this.connector){this.isManualDisconnect=true;this.connector.disconnect(e,t)}};C.prototype.stop=function(e,t){this.disconnect(e,t);this.stopCheckConfig()};C.prototype.reconnect=function(e,t,n){this.disconnect(e,t);n=n||1;this.scheduleReconnect(n)};C.prototype.restoreWebSocketConnection=function(){if(this.connectionType==l.WebSocket){return true}this._connectors.webSocket.connect()};C.prototype.scheduleReconnect=function(e){if(!this.enabled)return false;if(!e){if(this.connectionAttempt>3&&this.connectionType===l.WebSocket){this.sharedConfig.setWebSocketBlocked(true);this.connectionType=l.LongPolling;this.connectionAttempt=1;e=1}else{e=this.getConnectionAttemptDelay(this.connectionAttempt)}}if(this.reconnectTimeout){clearTimeout(this.reconnectTimeout)}this.logToConsole("Pull: scheduling reconnection in "+e+" seconds; attempt # "+this.connectionAttempt);this.reconnectTimeout=setTimeout(this.connect.bind(this),e*1e3)};C.prototype.scheduleRestoreWebSocketConnection=function(){this.logToConsole("Pull: scheduling restoration of websocket connection in "+s+" seconds");var e=this;if(this.restoreWebSocketTimeout){return}this.restoreWebSocketTimeout=setTimeout(function(){e.restoreWebSocketTimeout=0;e.restoreWebSocketConnection()},s*1e3)};C.prototype.connect=function(){if(!this.enabled||this.connector.connected){return false}if(this.reconnectTimeout){clearTimeout(this.reconnectTimeout)}this.sendPullStatus(h.Connecting);this.connectionAttempt++;this.connector.connect()};C.prototype.parseResponse=function(e){var t=this.extractMessages(e);var n=[];if(t.length===0){this.session.mid=null;return}for(var i=0;i<t.length;i++){var s=t[i];if(s.mid&&this.session.lastMessageIds.includes(s.mid)){console.warn("Duplicate message "+s.mid+" skipped");continue}this.session.mid=s.mid||null;this.session.tag=s.tag||null;this.session.time=s.time||null;if(s.mid){this.session.lastMessageIds.push(s.mid)}n.push(s.text);if(!this.session.history[s.text.module_id]){this.session.history[s.text.module_id]={}}if(!this.session.history[s.text.module_id][s.text.command]){this.session.history[s.text.module_id][s.text.command]=0}this.session.history[s.text.module_id][s.text.command]++;this.session.messageCount++}if(this.session.lastMessageIds.length>c){this.session.lastMessageIds=this.session.lastMessageIds.slice(-c)}this.broadcastMessages(n)};C.prototype.extractMessages=function(e){if(e instanceof ArrayBuffer){return this.extractProtobufMessages(e)}else if(M.isNotEmptyString(e)){return this.extractPlainTextMessages(e)}};C.prototype.extractProtobufMessages=function(e){var t=[];try{var n=y.decode(new Uint8Array(e));for(var i=0;i<n.responses.length;i++){var s=n.responses[i];if(s.command!="outgoingMessages"){continue}var o=n.responses[i].outgoingMessages.messages;for(var r=0;r<o.length;r++){var c=o[r];var a;try{a=JSON.parse(c.body)}catch(e){console.error(M.getDateForLog()+": Pull: Could not parse message body",e);continue}if(!a.extra){a.extra={}}a.extra.sender={type:c.sender.type};if(c.sender.id instanceof Uint8Array){a.extra.sender.id=this.decodeId(c.sender.id)}var u={mid:this.decodeId(c.id),text:a};t.push(u)}}}catch(e){console.error(M.getDateForLog()+": Pull: Could not parse message",e)}return t};C.prototype.extractPlainTextMessages=function(e){var t=[];var n=e.match(/#!NGINXNMS!#(.*?)#!NGINXNME!#/gm);if(n===null){text="\n========= PULL ERROR ===========\n"+"Error type: parseResponse error parsing message\n"+"\n"+"Data string: "+e+"\n"+"================================\n\n";console.warn(text);return t}for(var i=0;i<n.length;i++){n[i]=n[i].substring(12,n[i].length-12);if(n[i].length<=0){continue}try{var s=JSON.parse(n[i])}catch(e){continue}t.push(s)}return t};C.prototype.decodeId=function(e){if(!(e instanceof Uint8Array)){throw new Error("encodedId should be an instance of Uint8Array")}var t="";for(var n=0;n<e.length;n++){var i=e[n].toString(16);if(i.length===1){t+="0"}t+=i}return t};C.prototype.encodeId=function(e){if(!e){return new Uint8Array}var t=[];for(var n=0;n<e.length;n+=2){t.push(parseInt(e.substr(n,2),16))}return new Uint8Array(t)};C.prototype.broadcastMessages=function(t){t.forEach(function(t){var n=t.module_id=t.module_id.toLowerCase();var i=t.command;if(!t.extra){t.extra={}}if(t.extra.server_time_unix){t.extra.server_time_ago=(M.getTimestamp()-t.extra.server_time_unix*1e3)/1e3-(this.config.server.timeShift?this.config.server.timeShift:0);t.extra.server_time_ago=t.extra.server_time_ago>0?t.extra.server_time_ago:0}this.logMessage(t);try{if(t.extra.sender&&t.extra.sender.type===f.Client){if(typeof e.onCustomEvent!=="undefined"){e.onCustomEvent(window,"onPullClientEvent-"+n,[i,t.params,t.extra],true);e.onCustomEvent(window,"onPullClientEvent",[n,i,t.params,t.extra],true)}this.emit({type:d.Client,moduleId:n,data:{command:i,params:M.clone(t.params),extra:M.clone(t.extra)}})}else if(n==="pull"){this.handleInternalPullEvent(i,t)}else if(n=="online"){if(t.extra.server_time_ago<240){if(typeof e.onCustomEvent!=="undefined"){e.onCustomEvent(window,"onPullOnlineEvent",[i,t.params,t.extra],true)}this.emit({type:d.Online,data:{command:i,params:M.clone(t.params),extra:M.clone(t.extra)}})}}else{if(typeof e.onCustomEvent!=="undefined"){e.onCustomEvent(window,"onPullEvent-"+n,[i,t.params,t.extra],true);e.onCustomEvent(window,"onPullEvent",[n,i,t.params,t.extra],true)}this.emit({type:d.Server,moduleId:n,data:{command:i,params:M.clone(t.params),extra:M.clone(t.extra)}})}}catch(n){if(typeof console=="object"){console.warn("\n========= PULL ERROR ===========\n"+"Error type: broadcastMessages execute error\n"+"Error event: ",n,"\n"+"Message: ",t,"\n"+"================================\n");if(typeof e.debug!=="undefined"){e.debug(n)}}}if(t.extra&&t.extra.revision_web){this.checkRevision(t.extra.revision_web)}},this)};C.prototype.logToConsole=function(e){if(this.loggingEnabled){console.log(M.getDateForLog()+": "+e)}};C.prototype.logMessage=function(e){if(!this.debug){return}if(e.extra.sender&&e.extra.sender.type===f.Client){console.info("onPullClientEvent-"+e.module_id,e.command,e.params,e.extra)}else if(e.moduleId=="online"){console.info("onPullOnlineEvent",e.command,e.params,e.extra)}else{console.info("onPullEvent",e.module_id,e.command,e.params,e.extra)}};C.prototype.onLongPollingOpen=function(){this.unloading=false;this.starting=false;this.connectionAttempt=0;this.isManualDisconnect=false;this.sendPullStatus(h.Online);if(this.offlineTimeout){clearTimeout(this.offlineTimeout);this.offlineTimeout=null}this.logToConsole("Pull: Long polling connection with push-server opened");if(this.isWebSocketEnabled()){this.scheduleRestoreWebSocketConnection()}};C.prototype.onWebSocketBlockChanged=function(e){var t=e.isWebSocketBlocked;if(t&&this.connectionType===l.WebSocket&&!this.isConnected()){clearTimeout(this.reconnectTimeout);this.connectionAttempt=0;this.connectionType=l.LongPolling;this.scheduleReconnect(1)}else if(!t&&this.connectionType===l.LongPolling){clearTimeout(this.reconnectTimeout);clearTimeout(this.restoreWebSocketTimeout);this.connectionAttempt=0;this.connectionType=l.WebSocket;this.scheduleReconnect(1)}};C.prototype.onWebSocketOpen=function(){this.unloading=false;this.starting=false;this.connectionAttempt=0;this.isManualDisconnect=false;this.sendPullStatus(h.Online);this.sharedConfig.setWebSocketBlocked(false);if(this.connectionType==l.LongPolling){this.connectionType=l.WebSocket;this._connectors.longPolling.disconnect()}if(this.offlineTimeout){clearTimeout(this.offlineTimeout);this.offlineTimeout=null}this.logToConsole("Pull: Websocket connection with push-server opened")};C.prototype.onWebSocketDisconnect=function(e){if(this.connectionType===l.WebSocket){if(e.code!=p.CONFIG_EXPIRED&&e.code!=p.CHANNEL_EXPIRED&&e.code!=p.CONFIG_REPLACED){this.sendPullStatus(h.Offline)}else{this.offlineTimeout=setTimeout(function(){this.sendPullStatus(h.Offline)}.bind(this),5e3)}}if(!e){e={}}this.logToConsole("Pull: Websocket connection with push-server closed. Code: "+e.code+", reason: "+e.reason);if(!this.isManualDisconnect){this.scheduleReconnect()}this.isManualDisconnect=false};C.prototype.onWebSocketError=function(e){this.starting=false;if(this.connectionType===l.WebSocket){this.sendPullStatus(h.Offline)}console.error(M.getDateForLog()+": Pull: WebSocket connection error",e);this.scheduleReconnect()};C.prototype.onLongPollingDisconnect=function(e){if(this.connectionType===l.LongPolling){if(e.code!=p.CONFIG_EXPIRED&&e.code!=p.CHANNEL_EXPIRED&&e.code!=p.CONFIG_REPLACED){this.sendPullStatus(h.Offline)}else{this.offlineTimeout=setTimeout(function(){this.sendPullStatus(h.Offline)}.bind(this),5500)}}if(!e){e={}}this.logToConsole("Pull: Long polling connection with push-server closed. Code: "+e.code+", reason: "+e.reason);if(!this.isManualDisconnect){this.scheduleReconnect()}this.isManualDisconnect=false};C.prototype.onLongPollingError=function(e){this.starting=false;if(this.connectionType===l.LongPolling){this.sendPullStatus(h.Offline)}console.error(M.getDateForLog()+": Pull: Long polling connection error",e);this.scheduleReconnect()};C.prototype.isConnected=function(){return this.connector?this.connector.connected:false};C.prototype.onBeforeUnload=function(){this.unloading=true;var e=M.clone(this.session);e.ttl=(new Date).getTime()+u*1e3;if(this.storage){this.storage.set(a,JSON.stringify(e),u)}this.scheduleReconnect(15)};C.prototype.onOffline=function(){this.disconnect("1000","offline")};C.prototype.onOnline=function(){this.connect()};C.prototype.handleInternalPullEvent=function(e,t){switch(e.toUpperCase()){case g.CHANNEL_EXPIRE:{if(t.params.action=="reconnect"){this.config.channels[t.params.channel.type]=t.params.new_channel;this.logToConsole("Pull: new config for "+t.params.channel.type+" channel set:\n",this.config.channels[t.params.channel.type]);this.reconnect(p.CONFIG_REPLACED,"config was replaced")}else{this.restart(p.CHANNEL_EXPIRED,"channel expired")}break}case g.CONFIG_EXPIRE:{this.restart(p.CONFIG_EXPIRED,"config expired");break}case g.SERVER_RESTART:{this.reconnect(p.SERVER_RESTARTED,"server was restarted",15);break}default:}};C.prototype.checkRevision=function(t){if(this.skipCheckRevision){return true}t=parseInt(t);if(t>0&&t!=n){this.enabled=false;if(typeof e.message!=="undefined"){this.showNotification(e.message("PULL_OLD_REVISION"))}this.disconnect(p.NORMAL_CLOSURE,"check_revision");if(typeof e.onCustomEvent!=="undefined"){e.onCustomEvent(window,"onPullRevisionUp",[t,n])}this.emit({type:d.Revision,data:{server:t,client:n}});this.logToConsole("Pull revision changed from "+n+" to "+t+". Reload required");return false}return true};C.prototype.showNotification=function(t){var n=this;if(this.notificationPopup||typeof e.PopupWindow==="undefined")return;this.notificationPopup=new e.PopupWindow("bx-notifier-popup-confirm",null,{zIndex:200,autoHide:false,closeByEsc:false,overlay:true,content:e.create("div",{props:{className:"bx-messenger-confirm"},html:t}),buttons:[new e.PopupWindowButton({text:e.message("JS_CORE_WINDOW_CLOSE"),className:"popup-window-button-decline",events:{click:function(e){n.notificationPopup.close()}}})],events:{onPopupClose:function(){this.destroy()},onPopupDestroy:function(){n.notificationPopup=null}}});this.notificationPopup.show()};C.prototype.getRevision=function(){return this.config&&this.config.api?this.config.api.revision_web:null};C.prototype.getServerVersion=function(){return this.config&&this.config.server?this.config.server.version:0};C.prototype.getServerMode=function(){return this.config&&this.config.server?this.config.server.mode:null};C.prototype.getConfig=function(){return this.config};C.prototype.getDebugInfo=function(){if(!console||!console.info||!JSON||!JSON.stringify)return false;var e;if(this.config&&this.config.channels&&this.config.channels.private){e="ChannelID: "+this.config.channels.private.id+"\n"+"ChannelDie: "+this.config.channels.private.end+"\n"+"ChannelDieShared: "+this.config.channels.shared.end}else{e="Config error: config is not loaded"}var t=JSON.stringify(this.watchTagsQueue);var n="\n========= PULL DEBUG ===========\n"+"UserId: "+this.userId+" "+(this.userId>0?"":"(guest)")+"\n"+(this.guestMode&&this.guestUserId!==0?"Guest userId: "+this.guestUserId+"\n":"")+"Browser online: "+(navigator.onLine?"Y":"N")+"\n"+"Connect: "+(this.isConnected()?"Y":"N")+"\n"+"Server type: "+(this.isSharedMode()?"cloud":"local")+"\n"+"WebSocket support: "+(this.isWebSocketSupported()?"Y":"N")+"\n"+"WebSocket connect: "+(this._connectors.webSocket&&this._connectors.webSocket.connected?"Y":"N")+"\n"+"WebSocket mode: "+(this._connectors.webSocket&&this._connectors.webSocket.socket?this._connectors.webSocket.socket.url.search("binaryMode=true")!=-1?"protobuf":"text":"-")+"\n"+"Try connect: "+(this.reconnectTimeout?"Y":"N")+"\n"+"Try number: "+this.connectionAttempt+"\n"+"\n"+"Path: "+(this.connector?this.connector.path:"-")+"\n"+e+"\n"+"\n"+"Last message: "+(this.session.mid>0?this.session.mid:"-")+"\n"+"Session history: "+JSON.stringify(this.session.history)+"\n"+"Watch tags: "+(t=="{}"?"-":t)+"\n"+"================================\n";return console.info(n)};C.prototype.enableLogging=function(e){if(e===undefined){e=true}e=e===true;this.sharedConfig.setLoggingEnabled(e);this.loggingEnabled=e};C.prototype.capturePullEvent=function(e){if(e===undefined){e=true}this.debug=e};C.prototype.getConnectionPath=function(e){var t;switch(e){case l.WebSocket:t=this.isSecure?this.config.server.websocket_secure:this.config.server.websocket;break;case l.LongPolling:t=this.isSecure?this.config.server.long_pooling_secure:this.config.server.long_polling;break;default:throw new Error("Unknown connection type "+e)}if(!M.isNotEmptyString(t)){return false}var i=[];["private","shared"].forEach(function(e){if(typeof this.config.channels[e]!=="undefined"){i.push(this.config.channels[e].id)}},this);if(i.length===0){return false}var s={CHANNEL_ID:i.join("/")};if(this.isProtobufSupported()){s.binaryMode="true"}if(this.isSharedMode()){if(!this.config.clientId){throw new Error("Push-server is in shared mode, but clientId is not set")}s.clientId=this.config.clientId}if(this.session.mid){s.mid=this.session.mid}if(this.session.tag){s.tag=this.session.tag}if(this.session.time){s.time=this.session.time}s.revision=n;return t+"?"+M.buildQueryString(s)};C.prototype.getPublicationPath=function(){var e=this.isSecure?this.config.server.publish_secure:this.config.server.publish;if(!e){return""}var t=[];for(var n in this.config.channels){if(!this.config.channels.hasOwnProperty(n)){continue}t.push(this.config.channels[n].id)}var i={CHANNEL_ID:t.join("/")};return e+"?"+M.buildQueryString(i)};C.prototype.getConnectionAttemptDelay=function(e){var t;if(e<1){t=.5}else if(e<3){t=15}else if(e<5){t=45}else if(e<10){t=600}else{t=3600}return t+t*Math.random()*.2};C.prototype.sendPullStatus=function(t){if(this.unloading){return}if(typeof e.onCustomEvent!=="undefined"){e.onCustomEvent(window,"onPullStatus",[t])}this.emit({type:d.Status,data:{status:t}})};C.prototype.extendWatch=function(e,t){if(!e||this.watchTagsQueue[e]){return false}this.watchTagsQueue[e]=true;if(t){this.updateWatch(t)}};C.prototype.updateWatch=function(e){clearTimeout(this.watchUpdateTimeout);this.watchUpdateTimeout=setTimeout(function(){var e=Object.keys(this.watchTagsQueue);if(e.length>0){this.restClient.callMethod("pull.watch.extend",{tags:e},function(e){if(e.error()){this.updateWatch();return false}var t=e.data();for(var n in t){if(t.hasOwnProperty(n)&&!t[n]){this.clearWatch(n)}}this.updateWatch()}.bind(this))}else{this.updateWatch()}}.bind(this),e?this.watchForceUpdateInterval:this.watchUpdateInterval)};C.prototype.clearWatch=function(e){delete this.watchTagsQueue[e]};C.prototype.setPrivateVar=function(){};C.prototype.returnPrivateVar=function(){};C.prototype.expireConfig=function(){};C.prototype.updateChannelID=function(){};C.prototype.tryConnect=function(){};C.prototype.tryConnectDelay=function(){};C.prototype.tryConnectSet=function(){};C.prototype.updateState=function(){};C.prototype.setUpdateStateStepCount=function(){};C.prototype.supportWebSocket=function(){return this.isWebSocketSupported()};C.prototype.isWebSoketConnected=function(){return this.isConnected()&&this.connectionType==l.WebSocket};C.prototype.getPullServerStatus=function(){return this.isConnected()};C.prototype.closeConfirm=function(){if(this.notificationPopup){this.notificationPopup.destroy()}};var w=function(e){e=e||{};this.storage=e.storage||new O;this.ttl=24*60*60;this.lsKeys={websocketBlocked:"bx-pull-websocket-blocked",loggingEnabled:"bx-pull-logging-enabled"};this.callbacks={onWebSocketBlockChanged:M.isFunction(e.onWebSocketBlockChanged)?e.onWebSocketBlockChanged:function(){}};if(this.storage){window.addEventListener("storage",this.onLocalStorageSet.bind(this))}};w.prototype.onLocalStorageSet=function(e){if(this.storage.compareKey(e.key,this.lsKeys.websocketBlocked)&&e.newValue!=e.oldValue){this.callbacks.onWebSocketBlockChanged({isWebSocketBlocked:this.isWebSocketBlocked()})}};w.prototype.isWebSocketBlocked=function(){if(!this.storage){return false}return this.storage.get(this.lsKeys.websocketBlocked,0)>M.getTimestamp()};w.prototype.setWebSocketBlocked=function(e){if(!this.storage){return false}this.storage.set(this.lsKeys.websocketBlocked,e?M.getTimestamp()+this.ttl:0)};w.prototype.isLoggingEnabled=function(){if(!this.storage){return false}return this.storage.get(this.lsKeys.loggingEnabled,0)>M.getTimestamp()};w.prototype.setLoggingEnabled=function(e){if(!this.storage){return false}this.storage.set(this.lsKeys.loggingEnabled,e?M.getTimestamp()+this.ttl:0)};var P=function(e,t){var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.superclass=t.prototype;if(t.prototype.constructor==Object.prototype.constructor){t.prototype.constructor=t}};var T=function(e){this.parent=e.parent;this.callbacks={onOpen:M.isFunction(e.onOpen)?e.onOpen:function(){},onDisconnect:M.isFunction(e.onDisconnect)?e.onDisconnect:function(){},onError:M.isFunction(e.onError)?e.onError:function(){},onMessage:M.isFunction(e.onMessage)?e.onMessage:function(){}};this._connected=false;this.connectionType="";this.disconnectCode="";this.disconnectReason="";Object.defineProperty(this,"connected",{get:function(){return this._connected},set:function(e){if(e==this._connected)return;this._connected=e;if(this._connected){this.callbacks.onOpen()}else{this.callbacks.onDisconnect({code:this.disconnectCode,reason:this.disconnectReason})}}});Object.defineProperty(this,"path",{get:function(){return this.parent.getConnectionPath(this.connectionType)}})};var _=function(e){_.superclass.constructor.apply(this,arguments);this.connectionType=l.WebSocket;this.socket=null;this.onSocketOpenHandler=this.onSocketOpen.bind(this);this.onSocketCloseHandler=this.onSocketClose.bind(this);this.onSocketErrorHandler=this.onSocketError.bind(this);this.onSocketMessageHandler=this.onSocketMessage.bind(this)};P(_,T);_.prototype.connect=function(){if(this.socket){if(this.socket.readyState===1){return true}else{this.socket.removeEventListener("open",this.onSocketOpenHandler);this.socket.removeEventListener("close",this.onSocketCloseHandler);this.socket.removeEventListener("error",this.onSocketErrorHandler);this.socket.removeEventListener("message",this.onSocketMessageHandler);this.socket.close();this.socket=null}}this.createSocket()};_.prototype.disconnect=function(e,t){if(this.socket!==null){this.socket.removeEventListener("open",this.onSocketOpenHandler);this.socket.removeEventListener("close",this.onSocketCloseHandler);this.socket.removeEventListener("error",this.onSocketErrorHandler);this.socket.removeEventListener("message",this.onSocketMessageHandler);this.socket.close(e,t)}this.socket=null;this.disconnectCode=e;this.disconnectReason=t;this.connected=false};_.prototype.createSocket=function(){if(this.socket){throw new Error("Socket already exists")}if(!this.path){throw new Error("Websocket connection path is not defined")}this.socket=new WebSocket(this.path);this.socket.binaryType="arraybuffer";this.socket.addEventListener("open",this.onSocketOpenHandler);this.socket.addEventListener("close",this.onSocketCloseHandler);this.socket.addEventListener("error",this.onSocketErrorHandler);this.socket.addEventListener("message",this.onSocketMessageHandler)};_.prototype.send=function(e){if(!this.socket||this.socket.readyState!==1){console.error(M.getDateForLog()+": Pull: WebSocket is not connected");return false}this.socket.send(e)};_.prototype.onSocketOpen=function(){this.connected=true};_.prototype.onSocketClose=function(e){this.socket=null;this.disconnectCode=e.code;this.disconnectReason=e.reason;this.connected=false};_.prototype.onSocketError=function(e){this.callbacks.onError(e)};_.prototype.onSocketMessage=function(e){this.callbacks.onMessage(e.data)};_.prototype.destroy=function(){if(this.socket){this.socket.close();this.socket=null}};var R=function(e){R.superclass.constructor.apply(this,arguments);this.active=false;this.connectionType=l.LongPolling;this.requestTimeout=null;this.failureTimeout=null;this.xhr=this.createXhr();this.requestAborted=false};P(R,T);R.prototype.createXhr=function(){var e=new XMLHttpRequest;if(this.parent.isProtobufSupported()){e.responseType="arraybuffer"}e.addEventListener("readystatechange",this.onXhrReadyStateChange.bind(this));return e};R.prototype.connect=function(){this.active=true;this.performRequest()};R.prototype.disconnect=function(e,t){this.active=false;if(this.failureTimeout){clearTimeout(this.failureTimeout);this.failureTimeout=null}if(this.requestTimeout){clearTimeout(this.requestTimeout);this.requestTimeout=null}if(this.xhr){this.requestAborted=true;this.xhr.abort()}this.disconnectCode=e;this.disconnectReason=t;this.connected=false};R.prototype.performRequest=function(){var e=this;if(!this.active)return;if(!this.path){throw new Error("Long polling connection path is not defined")}if(this.xhr.readyState!==0&&this.xhr.readyState!==4){return}clearTimeout(this.failureTimeout);clearTimeout(this.requestTimeout);this.failureTimeout=setTimeout(function(){e.connected=true},5e3);this.requestTimeout=setTimeout(this.onRequestTimeout.bind(this),i*1e3);this.xhr.open("GET",this.path);this.xhr.send()};R.prototype.onRequestTimeout=function(){this.requestAborted=true;this.xhr.abort();this.performRequest()};R.prototype.onXhrReadyStateChange=function(e){if(this.xhr.readyState===4){if(!this.requestAborted||this.xhr.status==200){this.onResponse(this.xhr.response)}this.requestAborted=false}};R.prototype.send=function(e){var t=this.parent.getPublicationPath();if(!t){console.error(M.getDateForLog()+": Pull: publication path is empty");return false}var n=new XMLHttpRequest;n.open("POST",t);n.send(e)};R.prototype.onResponse=function(e){if(this.failureTimeout){clearTimeout(this.failureTimeout);this.failureTimeout=0}if(this.requestTimeout){clearTimeout(this.requestTimeout);this.requestTimeout=0}if(this.xhr.status==200){this.connected=true;if(M.isNotEmptyString(e)||e instanceof ArrayBuffer){this.callbacks.onMessage(e)}else{this.parent.session.mid=null}this.performRequest()}else if(this.xhr.status==304){this.connected=true;if(this.xhr.getResponseHeader("Expires")==="Thu, 01 Jan 1973 11:11:01 GMT"){var t=this.xhr.getResponseHeader("Last-Message-Id");if(M.isNotEmptyString(t)){this.parent.setLastMessageId(t)}}this.performRequest()}else{this.callbacks.onError("Could not connect to the server");this.connected=false}};var L=function(t){this.publicIds={};this.restClient=typeof t.restClient!=="undefined"?t.restClient:e.rest;this.getPublicListMethod=t.getPublicListMethod};L.prototype.getPublicIds=function(t){var n=new e.Promise;var i={};var s=new Date;var o=[];for(var r=0;r<t.length;r++){var c=t[r];if(this.publicIds[c]&&this.publicIds[c]["end"]>s){i[c]=this.publicIds[c]}else{o.push(c)}}if(o.length===0){n.resolve(i);return n}this.restClient.callMethod(this.getPublicListMethod,{users:o}).then(function(e){if(e.error()){n.resolve({});return n}var t=e.data();this.setPublicIds(M.objectValues(t));o.forEach(function(e){i[e]=this.publicIds[e]},this);n.resolve(i)}.bind(this));return n};L.prototype.setPublicIds=function(e){for(var t=0;t<e.length;t++){var n=e[t];var i=n.user_id;this.publicIds[i]={userId:i,publicId:n.public_id,signature:n.signature,start:new Date(n.start),end:new Date(n.end)}}};var O=function(t){t=t||{};this.userId=t.userId?t.userId:typeof e.message!=="undefined"&&e.message.USER_ID?e.message.USER_ID:0;this.siteId=t.siteId?t.siteId:typeof e.message!=="undefined"&&e.message.SITE_ID?e.message.SITE_ID:"none"};O.prototype.set=function(e,t){if(typeof window.localStorage==="undefined"){return false}if(typeof t!="string"){if(t){t=JSON.stringify(t)}}return window.localStorage.setItem(this.getKey(e),t)};O.prototype.get=function(e,t){if(typeof window.localStorage==="undefined"){return t||null}var n=window.localStorage.getItem(this.getKey(e));if(n===null){return t||null}return JSON.parse(n)};O.prototype.remove=function(e){if(typeof window.localStorage==="undefined"){return false}return window.localStorage.removeItem(this.getKey(e))};O.prototype.getKey=function(e){return"bx-pull-"+this.userId+"-"+this.siteId+"-"+e};O.prototype.compareKey=function(e,t){return e===this.getKey(t)};var M={browser:{IsChrome:function(){return navigator.userAgent.toLowerCase().indexOf("chrome")!=-1},IsFirefox:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")!=-1},IsIe:function(){return navigator.userAgent.match(/(Trident\/|MSIE\/)/)!==null}},getTimestamp:function(){return(new Date).getTime()},errorsToString:function(e){if(!this.isArray(e)){return""}else{return e.reduce(function(e,t){if(e!=""){e+="; "}return e+t.code+": "+t.message},"")}},isString:function(e){return e===""?true:e?typeof e=="string"||e instanceof String:false},isArray:function(e){return e&&Object.prototype.toString.call(e)=="[object Array]"},isFunction:function(e){return e===null?false:typeof e=="function"||e instanceof Function},isDomNode:function(e){return e&&typeof e=="object"&&"nodeType"in e},isDate:function(e){return e&&Object.prototype.toString.call(e)=="[object Date]"},isPlainObject:function(e){if(!e||typeof e!=="object"||e.nodeType){return false}var t=Object.prototype.hasOwnProperty;try{if(e.constructor&&!t.call(e,"constructor")&&!t.call(e.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var n;for(n in e){}return typeof n==="undefined"||t.call(e,n)},isNotEmptyString:function(e){return this.isString(e)?e.length>0:false},buildQueryString:function(e){var t="";for(var n in e){if(!e.hasOwnProperty(n)){continue}var i=e[n];if(M.isArray(i)){i.forEach(function(e,i){t+=encodeURIComponent(n+"["+i+"]")+"="+encodeURIComponent(e)+"&"})}else{t+=encodeURIComponent(n)+"="+encodeURIComponent(i)+"&"}}if(t.length>0){t=t.substr(0,t.length-1)}return t},objectValues:function e(t){var n=[];for(var i in t){if(t.hasOwnProperty(i)&&t.propertyIsEnumerable(i)){n.push(t[i])}}return n},clone:function(e,t){var n,i,s;if(t!==false)t=true;if(e===null)return null;if(this.isDomNode(e)){n=e.cloneNode(t)}else if(typeof e=="object"){if(this.isArray(e)){n=[];for(i=0,s=e.length;i<s;i++){if(typeof e[i]=="object"&&t)n[i]=this.clone(e[i],t);else n[i]=e[i]}}else{n={};if(e.constructor){if(this.isDate(e))n=new Date(e);else n=new e.constructor}for(i in e){if(!e.hasOwnProperty(i)){continue}if(typeof e[i]=="object"&&t)n[i]=this.clone(e[i],t);else n[i]=e[i]}}}else{n=e}return n},getDateForLog:function(){var e=new Date;return e.getFullYear()+"-"+M.lpad(e.getMonth(),2,"0")+"-"+M.lpad(e.getDate(),2,"0")+" "+M.lpad(e.getHours(),2,"0")+":"+M.lpad(e.getMinutes(),2,"0")},lpad:function(e,t,n){e=e.toString();n=n||" ";if(e.length>t){return e}var i="";for(var s=0;s<t-e.length;s++){i+=n}return i+e}};if(typeof e.namespace!=="undefined"&&typeof e.PULL==="undefined"){e.PULL=new C}e.PullClient=C;e.PullClient.PullStatus=h;e.PullClient.SubscriptionType=d;e.PullClient.CloseReasons=p;e.PullClient.StorageManager=O})();
 



// file: /bitrix/js/pull/component/status/dist/status.bundle.js
(function(t,e,s){"use strict";e.Vue.component("bx-pull-component-status",{props:{canReconnect:{default:false}},data:function t(){return{status:s.PullClient.PullStatus.Online,showed:null}},created:function t(){var e=this;this.isMac=navigator.userAgent.toLowerCase().includes("macintosh");this.setStatusTimeout=null;this.hideTimeout=null;this.pullUnSubscribe=function(){};if(typeof this.$root.$bitrixPullClient!=="undefined"){if(this.$root.$bitrixPullClient){this.subscribe(this.$root.$bitrixPullClient)}else{this.$root.$on("onBitrixPullClientInited",function(){e.subscribe(e.$root.$bitrixPullClient)})}}else if(typeof BX.PULL!=="undefined"){this.subscribe(BX.PULL)}window.component=this},beforeDestroy:function t(){this.pullUnSubscribe()},methods:{subscribe:function t(e){var i=this;this.pullUnSubscribe=e.subscribe({type:s.PullClient.SubscriptionType.Status,callback:function t(e){return i.statusChange(e.status)}})},reconnect:function t(){if(this.canReconnect){this.$emit("reconnect")}else{location.reload()}},statusChange:function t(e){var i=this;clearTimeout(this.setStatusTimeout);if(this.status===e){return false}var n=[s.PullClient.PullStatus.Online,s.PullClient.PullStatus.Offline,s.PullClient.PullStatus.Connecting];if(n.indexOf(e)<0){return false}var l=500;if(e===s.PullClient.PullStatus.Connecting){l=5e3}else if(e===s.PullClient.PullStatus.Offline){l=2e3}this.setStatusTimeout=setTimeout(function(){i.status=e;i.showed=true},l);return true},isMobile:function t(){return navigator.userAgent.toLowerCase().includes("android")||navigator.userAgent.toLowerCase().includes("webos")||navigator.userAgent.toLowerCase().includes("iphone")||navigator.userAgent.toLowerCase().includes("ipad")||navigator.userAgent.toLowerCase().includes("ipod")||navigator.userAgent.toLowerCase().includes("blackberry")||navigator.userAgent.toLowerCase().includes("windows phone")}},watch:{status:function t(){var e=this;clearTimeout(this.hideTimeout);if(this.status===s.PullClient.PullStatus.Online){clearTimeout(this.hideTimeout);this.hideTimeout=setTimeout(function(){return e.showed=false},4e3)}}},computed:{connectionClass:function t(){var e="";if(this.showed===true){e="bx-pull-status-show"}else if(this.showed===false){e="bx-pull-status-hide"}if(this.status===s.PullClient.PullStatus.Online){e+=" bx-pull-status-online"}else if(this.status===s.PullClient.PullStatus.Offline){e+=" bx-pull-status-offline"}else if(this.status===s.PullClient.PullStatus.Connecting){e+=" bx-pull-status-connecting"}return e},connectionText:function t(){var e="";if(this.status===s.PullClient.PullStatus.Online){e=this.localize.BX_PULL_STATUS_ONLINE}else if(this.status===s.PullClient.PullStatus.Offline){e=this.localize.BX_PULL_STATUS_OFFLINE}else if(this.status===s.PullClient.PullStatus.Connecting){e=this.localize.BX_PULL_STATUS_CONNECTING}return e},button:function t(){var e="";var s="";if(this.canReconnect){s=this.localize.BX_PULL_STATUS_BUTTON_RECONNECT}else{e=this.isMac?"&#8984;+R":"Ctrl+R";s=this.localize.BX_PULL_STATUS_BUTTON_RELOAD}return{title:s,key:e}},localize:function t(){return e.Vue.getFilteredPhrases("BX_PULL_STATUS_",this.$root.$bitrixMessages)}},template:'\n\t\t<div v-if="!isMobile()" :class="[\'bx-pull-status\', connectionClass]">\n\t\t\t<div class="bx-pull-status-wrap">\n\t\t\t\t<span class="bx-pull-status-text">{{connectionText}}</span>\n\t\t\t\t<span class="bx-pull-status-button" @click="reconnect">\n\t\t\t\t\t<span class="bx-pull-status-button-title">{{button.title}}</span>\n\t\t\t\t\t<span class="bx-pull-status-button-key" v-html="button.key"></span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX,BX);
 



// file: /bitrix/js/main/polyfill/intersectionobserver/js/intersectionobserver.js
(function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype){if(!("isIntersecting"in t.IntersectionObserverEntry.prototype)){Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}})}return}var r=[];function n(t){this.time=t.time;this.target=t.target;this.rootBounds=t.rootBounds;this.boundingClientRect=t.boundingClientRect;this.intersectionRect=t.intersectionRect||f();this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect;var r=e.width*e.height;var n=this.intersectionRect;var i=n.width*n.height;if(r){this.intersectionRatio=i/r}else{this.intersectionRatio=this.isIntersecting?1:0}}function i(t,e){var r=e||{};if(typeof t!=="function"){throw new Error("callback must be a function")}if(r.root&&r.root.nodeType!==1){throw new Error("root must be an Element")}this._checkForIntersections=s(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=t;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(r.rootMargin);this.thresholds=this._initThresholds(r.threshold);this.root=r.root||null;this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}i.prototype.THROTTLE_TIMEOUT=100;i.prototype.POLL_INTERVAL=null;i.prototype.USE_MUTATION_OBSERVER=true;i.prototype.observe=function(t){var e=this._observationTargets.some(function(e){return e.element===t});if(e){return}if(!(t&&t.nodeType===1)){throw new Error("target must be an Element")}this._registerInstance();this._observationTargets.push({element:t,entry:null});this._monitorIntersections();this._checkForIntersections()};i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!==t});if(!this._observationTargets.length){this._unmonitorIntersections();this._unregisterInstance()}};i.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();this._unregisterInstance()};i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();this._queuedEntries=[];return t};i.prototype._initThresholds=function(t){var e=t||[0];if(!Array.isArray(e)){e=[e]}return e.sort().filter(function(t,e,r){if(typeof t!=="number"||isNaN(t)||t<0||t>1){throw new Error("threshold must be a number between 0 and 1 inclusively")}return t!==r[e-1]})};i.prototype._parseRootMargin=function(t){var e=t||"0px";var r=e.split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e){throw new Error("rootMargin must be specified in pixels or percent")}return{value:parseFloat(e[1]),unit:e[2]}});r[1]=r[1]||r[0];r[2]=r[2]||r[0];r[3]=r[3]||r[1];return r};i.prototype._monitorIntersections=function(){if(!this._monitoringIntersections){this._monitoringIntersections=true;if(this.POLL_INTERVAL){this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL)}else{h(t,"resize",this._checkForIntersections,true);h(e,"scroll",this._checkForIntersections,true);if(this.USE_MUTATION_OBSERVER&&"MutationObserver"in t){this._domObserver=new MutationObserver(this._checkForIntersections);this._domObserver.observe(e,{attributes:true,childList:true,characterData:true,subtree:true})}}}};i.prototype._unmonitorIntersections=function(){if(this._monitoringIntersections){this._monitoringIntersections=false;clearInterval(this._monitoringInterval);this._monitoringInterval=null;c(t,"resize",this._checkForIntersections,true);c(e,"scroll",this._checkForIntersections,true);if(this._domObserver){this._domObserver.disconnect();this._domObserver=null}}};i.prototype._checkForIntersections=function(){var t=this._rootIsInDom();var e=t?this._getRootRect():f();this._observationTargets.forEach(function(r){var i=r.element;var s=u(i);var h=this._rootContainsTarget(i);var c=r.entry;var a=t&&h&&this._computeTargetAndRootIntersection(i,e);var f=r.entry=new n({time:o(),target:i,boundingClientRect:s,rootBounds:e,intersectionRect:a});if(!c){this._queuedEntries.push(f)}else if(t&&h){if(this._hasCrossedThreshold(c,f)){this._queuedEntries.push(f)}}else{if(c&&c.isIntersecting){this._queuedEntries.push(f)}}},this);if(this._queuedEntries.length){this._callback(this.takeRecords(),this)}};i.prototype._computeTargetAndRootIntersection=function(r,n){if(t.getComputedStyle(r).display==="none"){return}var i=u(r);var o=p(r);var s=false;while(!s){var h=null;var c=o.nodeType===1?t.getComputedStyle(o):{};if(c.display=="none"){return}if(o===this.root||o===e){s=true;h=n}else{if(o!=e.body&&o!=e.documentElement&&c.overflow!="visible"){h=u(o)}}if(h){i=a(h,i);if(!i){break}}o=p(o)}return i};i.prototype._getRootRect=function(){var t;if(this.root){t=u(this.root)}else{var r=e.documentElement;var n=e.body;t={top:0,left:0,right:r.clientWidth||n.clientWidth,width:r.clientWidth||n.clientWidth,bottom:r.clientHeight||n.clientHeight,height:r.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)};i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,r){return e.unit==="px"?e.value:e.value*(r%2?t.width:t.height)/100});var r={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};r.width=r.right-r.left;r.height=r.bottom-r.top;return r};i.prototype._hasCrossedThreshold=function(t,e){var r=t&&t.isIntersecting?t.intersectionRatio||0:-1;var n=e.isIntersecting?e.intersectionRatio||0:-1;if(r===n){return}for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==r||o==n||o<r!==o<n){return true}}};i.prototype._rootIsInDom=function(){return!this.root||l(e,this.root)};i.prototype._rootContainsTarget=function(t){return l(this.root||e,t)};i.prototype._registerInstance=function(){if(r.indexOf(this)<0){r.push(this)}};i.prototype._unregisterInstance=function(){var t=r.indexOf(this);if(t!==-1){r.splice(t,1)}};function o(){return t.performance&&performance.now&&performance.now()}function s(t,e){var r=null;return function(){if(!r){r=setTimeout(function(){t();r=null},e)}}}function h(t,e,r,n){if(typeof t.addEventListener=="function"){t.addEventListener(e,r,n||false)}else if(typeof t.attachEvent==="function"){t.attachEvent("on"+e,r)}}function c(t,e,r,n){if(typeof t.removeEventListener==="function"){t.removeEventListener(e,r,n||false)}else if(typeof t.detatchEvent==="function"){t.detatchEvent("on"+e,r)}}function a(t,e){var r=Math.max(t.top,e.top);var n=Math.min(t.bottom,e.bottom);var i=Math.max(t.left,e.left);var o=Math.min(t.right,e.right);var s=o-i;var h=n-r;return s>=0&&h>=0&&{top:r,bottom:n,left:i,right:o,width:s,height:h}}function u(t){var e;try{e=t.getBoundingClientRect()}catch(t){}if(!e){return f()}if(!(e.width&&e.height)){e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}}return e}function f(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(t,e){var r=e;while(r){if(r===t){return true}r=p(r)}return false}function p(t){var e=t.parentNode;if(e&&e.nodeType==11&&e.host){return e.host}return e}t.IntersectionObserver=i;t.IntersectionObserverEntry=n})(window,document);



// file: /bitrix/js/ui/vue/directives/lazyload/dist/lazyload.bundle.js
(function(a,s){"use strict";var l="bx-lazyload-watch";var e="bx-lazyload-loading";var t="bx-lazyload-success";var o="bx-lazyload-error";var c="bx-lazyload-hidden";var r="data:image/svg+xml,%3Csvg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'%3E%3C/svg%3E";var i=null;var d=function a(s,r){var d=s.dataset.lazyloadSuccessClass?s.dataset.lazyloadSuccessClass.split(" "):[];delete s.dataset.lazyloadSuccessClass;d=[t].concat(babelHelpers.toConsumableArray(d));var n=s.dataset.lazyloadErrorClass?s.dataset.lazyloadErrorClass.split(" "):[];delete s.dataset.lazyloadErrorClass;n=[o].concat(babelHelpers.toConsumableArray(n));s.classList.add(e);var f=new Image;f.src=s.dataset.lazyloadSrc;if(!s.dataset.lazyloadHiddenSrc){s.dataset.lazyloadHiddenSrc=s.src}f.onload=function(){var a;if(s.classList.contains(c)){return false}if(s.dataset.lazyloadSrc){s.src=s.dataset.lazyloadSrc}s.classList.remove(e);(a=s.classList).add.apply(a,babelHelpers.toConsumableArray(d));if(typeof s.lazyloadCallback==="function"){s.lazyloadCallback({element:s,state:"success"});delete s.lazyloadCallback}};f.onerror=function(){var a;if(s.classList.contains(c)){return false}s.classList.remove(e);(a=s.classList).add.apply(a,babelHelpers.toConsumableArray(n));s.title="";s.alt="";if(typeof s.lazyloadCallback==="function"){s.lazyloadCallback({element:s,state:"error"});delete s.lazyloadCallback}};if(typeof s.dataset.lazyloadDontHide!=="undefined"){s.classList.remove(l);delete s.dataset.lazyloadDontHide;if(i){i.unobserve(s)}}};if(typeof window.IntersectionObserver!=="undefined"){i=new IntersectionObserver(function(a,s){a.forEach(function(a){var s=a.target;if(a.isIntersecting){if(s.classList.contains(c)){if(s.dataset.lazyloadSrc){s.src=s.dataset.lazyloadSrc}s.classList.remove(c)}else if(s.classList.contains(l)){return true}else{s.classList.add(l);d(s)}}else{if(s.classList.contains(c)||!s.classList.contains(l)){return true}if(s.dataset.lazyloadHiddenSrc){s.src=s.dataset.lazyloadHiddenSrc}s.classList.remove(e);s.classList.add(c)}})},{threshold:[0,1]})}s.Vue.directive("bx-lazyload",{bind:function a(s,l){if(babelHelpers.typeof(l.value)==="object"&&typeof l.value.callback==="function"){s.lazyloadCallback=l.value.callback}if(!s.src||s.src===location.href.replace(location.hash,"")){s.src=r}if(i){i.observe(s)}else{d(s)}},componentUpdated:function a(s){if(!s.classList.contains(t)&&!s.classList.contains(o)&&!s.classList.contains(l)&&!s.classList.contains(e)){s.classList.add(e)}else if((s.classList.contains(t)||s.classList.contains(o))&&s.dataset.lazyloadSrc&&s.dataset.lazyloadSrc!==s.src){if(!s.dataset.lazyloadSrc.startsWith("http")){var c=document.createElement("a");c.href=s.dataset.lazyloadSrc;if(c.href===s.src){return}}d(s)}},unbind:function a(s){if(i){i.unobserve(s)}}})})(this.window=this.window||{},BX);
 



// file: /bitrix/js/ui/dexie/dist/dexie.bitrix.bundle.js
(function(e){"use strict";var n=Object.keys;var t=Array.isArray;var r=typeof self!=="undefined"?self:typeof window!=="undefined"?window:global;function i(e,t){if(babelHelpers.typeof(t)!=="object")return e;n(t).forEach(function(n){e[n]=t[n]});return e}var o=Object.getPrototypeOf;var u={}.hasOwnProperty;function a(e,n){return u.call(e,n)}function s(e,t){if(typeof t==="function")t=t(o(e));if(babelHelpers.typeof(t)!=="object")return;n(t).forEach(function(n){f(e,n,t[n])})}var c=Object.defineProperty;function f(e,n,t,r){c(e,n,i(t&&a(t,"get")&&typeof t.get==="function"?{get:t.get,set:t.set,configurable:true}:{value:t,configurable:true,writable:true},r))}function l(e){return{from:function n(t){e.prototype=Object.create(t.prototype);f(e.prototype,"constructor",e);return{extend:s.bind(null,e.prototype)}}}}var h=Object.getOwnPropertyDescriptor;function d(e,n){var t=h(e,n),r;return t||(r=o(e))&&d(r,n)}var v=[].slice;function p(e,n,t){return v.call(e,n,t)}function y(e,n){return n(e)}function m(e){if(!e)throw new Error("Assertion Failed")}function g(e){if(r.setImmediate)setImmediate(e);else setTimeout(e,0)}function b(e,n){return e.reduce(function(e,t,r){var i=n(t,r);if(i)e[i[0]]=i[1];return e},{})}function w(e,n){return function(){try{e.apply(this,arguments)}catch(e){n(e)}}}function _(e,n,t){try{e.apply(null,t)}catch(e){n&&n(e)}}function k(e,n){if(a(e,n))return e[n];if(!n)return e;if(typeof n!=="string"){var t=[];for(var r=0,i=n.length;r<i;++r){var o=k(e,n[r]);t.push(o)}return t}var u=n.indexOf(".");if(u!==-1){var s=e[n.substr(0,u)];return s===undefined?undefined:k(s,n.substr(u+1))}return undefined}function x(e,n,t){if(!e||n===undefined)return;if("isFrozen"in Object&&Object.isFrozen(e))return;if(typeof n!=="string"&&"length"in n){m(typeof t!=="string"&&"length"in t);for(var r=0,i=n.length;r<i;++r){x(e,n[r],t[r])}}else{var o=n.indexOf(".");if(o!==-1){var u=n.substr(0,o);var a=n.substr(o+1);if(a===""){if(t===undefined)delete e[u];else e[u]=t}else{var s=e[u];if(!s)s=e[u]={};x(s,a,t)}}else{if(t===undefined)delete e[n];else e[n]=t}}}function P(e,n){if(typeof n==="string")x(e,n,undefined);else if("length"in n)[].map.call(n,function(n){x(e,n,undefined)})}function j(e){var n={};for(var t in e){if(a(e,t))n[t]=e[t]}return n}var E=[].concat;function S(e){return E.apply([],e)}var O="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(S([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(n){return n+e+"Array"})}))).filter(function(e){return r[e]}).map(function(e){return r[e]});function A(e){if(!e||babelHelpers.typeof(e)!=="object")return e;var n;if(t(e)){n=[];for(var r=0,i=e.length;r<i;++r){n.push(A(e[r]))}}else if(O.indexOf(e.constructor)>=0){n=e}else{n=e.constructor?Object.create(e.constructor.prototype):{};for(var o in e){if(a(e,o)){n[o]=A(e[o])}}}return n}function I(e,t,r,i){r=r||{};i=i||"";n(e).forEach(function(n){if(!a(t,n))r[i+n]=undefined;else{var o=e[n],u=t[n];if(babelHelpers.typeof(o)==="object"&&babelHelpers.typeof(u)==="object"&&o&&u&&""+o.constructor===""+u.constructor)I(o,u,r,i+n+".");else if(o!==u)r[i+n]=t[n]}});n(t).forEach(function(n){if(!a(e,n)){r[i+n]=t[n]}});return r}var D=typeof Symbol!=="undefined"&&Symbol.iterator;var C=D?function(e){var n;return e!=null&&(n=e[D])&&n.apply(e)}:function(){return null};var K={};function T(e){var n,r,i,o;if(arguments.length===1){if(t(e))return e.slice();if(this===K&&typeof e==="string")return[e];if(o=C(e)){r=[];while(i=o.next(),!i.done){r.push(i.value)}return r}if(e==null)return[e];n=e.length;if(typeof n==="number"){r=new Array(n);while(n--){r[n]=e[n]}return r}return[e]}n=arguments.length;r=new Array(n);while(n--){r[n]=arguments[n]}return r}var B=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F(e,n){B=e;M=n}var M=function e(){return true};var N=!new Error("").stack;function q(){if(N)try{throw new Error}catch(e){return e}return new Error}function R(e,n){var t=e.stack;if(!t)return"";n=n||0;if(t.indexOf(e.name)===0)n+=(e.name+e.message).split("\n").length;return t.split("\n").slice(n).filter(M).map(function(e){return"\n"+e}).join("")}function U(e,n){return function(){console.warn(e+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+R(q(),1));return n.apply(this,arguments)}}var H=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var V=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];var z=H.concat(V);var L={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function W(e,n){this._e=q();this.name=e;this.message=n}l(W).from(Error).extend({stack:{get:function e(){return this._stack||(this._stack=this.name+": "+this.message+R(this._e,2))}},toString:function e(){return this.name+": "+this.message}});function Q(e,n){return e+". Errors: "+n.map(function(e){return e.toString()}).filter(function(e,n,t){return t.indexOf(e)===n}).join("\n")}function G(e,n,t,r){this._e=q();this.failures=n;this.failedKeys=r;this.successCount=t}l(G).from(W);function J(e,n){this._e=q();this.name="BulkError";this.failures=n;this.message=Q(e,n)}l(J).from(W);var X=z.reduce(function(e,n){return e[n]=n+"Error",e},{});var Y=W;var $=z.reduce(function(e,n){var t=n+"Error";function r(e,r){this._e=q();this.name=t;if(!e){this.message=L[n]||t;this.inner=null}else if(typeof e==="string"){this.message=e;this.inner=r||null}else if(babelHelpers.typeof(e)==="object"){this.message=e.name+" "+e.message;this.inner=e}}l(r).from(Y);e[n]=r;return e},{});$.Syntax=SyntaxError;$.Type=TypeError;$.Range=RangeError;var Z=V.reduce(function(e,n){e[n+"Error"]=$[n];return e},{});function ee(e,n){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Z[e.name])return e;var t=new Z[e.name](n||e.message,e);if("stack"in e){f(t,"stack",{get:function e(){return this.inner.stack}})}return t}var ne=z.reduce(function(e,n){if(["Syntax","Type","Range"].indexOf(n)===-1)e[n+"Error"]=$[n];return e},{});ne.ModifyError=G;ne.DexieError=W;ne.BulkError=J;function te(){}function re(e){return e}function ie(e,n){if(e==null||e===re)return n;return function(t){return n(e(t))}}function oe(e,n){return function(){e.apply(this,arguments);n.apply(this,arguments)}}function ue(e,n){if(e===te)return n;return function(){var t=e.apply(this,arguments);if(t!==undefined)arguments[0]=t;var r=this.onsuccess,i=this.onerror;this.onsuccess=null;this.onerror=null;var o=n.apply(this,arguments);if(r)this.onsuccess=this.onsuccess?oe(r,this.onsuccess):r;if(i)this.onerror=this.onerror?oe(i,this.onerror):i;return o!==undefined?o:t}}function ae(e,n){if(e===te)return n;return function(){e.apply(this,arguments);var t=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null;n.apply(this,arguments);if(t)this.onsuccess=this.onsuccess?oe(t,this.onsuccess):t;if(r)this.onerror=this.onerror?oe(r,this.onerror):r}}function se(e,n){if(e===te)return n;return function(t){var r=e.apply(this,arguments);i(t,r);var o=this.onsuccess,u=this.onerror;this.onsuccess=null;this.onerror=null;var a=n.apply(this,arguments);if(o)this.onsuccess=this.onsuccess?oe(o,this.onsuccess):o;if(u)this.onerror=this.onerror?oe(u,this.onerror):u;return r===undefined?a===undefined?undefined:a:i(r,a)}}function ce(e,n){if(e===te)return n;return function(){if(n.apply(this,arguments)===false)return false;return e.apply(this,arguments)}}function fe(e,n){if(e===te)return n;return function(){var t=e.apply(this,arguments);if(t&&typeof t.then==="function"){var r=this,i=arguments.length,o=new Array(i);while(i--){o[i]=arguments[i]}return t.then(function(){return n.apply(r,o)})}return n.apply(this,arguments)}}var le={};var he=100;var de=20;var ve=7;var pe=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(n){var e=r.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}();var ye=pe[0];var me=pe[1];var ge=pe[2];var be=me&&me.then;var we=ye&&ye.constructor;var _e=pe[3];var ke=!!ge;var xe=false;var Pe=ge?function(){ge.then(Qe)}:r.setImmediate?setImmediate.bind(null,Qe):r.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Qe();e=null}).observe(e,{attributes:true});e.setAttribute("i","1")}:function(){setTimeout(Qe,0)};var je=function e(n,t){Te.push([n,t]);if(Se){Pe();Se=false}};var Ee=true;var Se=true;var Oe=[];var Ae=[];var Ie=null;var De=re;var Ce={id:"global",global:true,ref:0,unhandleds:[],onunhandled:kn,pgp:false,env:{},finalize:function e(){this.unhandleds.forEach(function(e){try{kn(e[0],e[1])}catch(e){}})}};var Ke=Ce;var Te=[];var Be=0;var Fe=[];function Me(e){if(babelHelpers.typeof(this)!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this.onuncatched=te;this._lib=false;var n=this._PSD=Ke;if(B){this._stackHolder=q();this._prev=null;this._numPrev=0}if(typeof e!=="function"){if(e!==le)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];if(this._state===false)Ue(this,this._value);return}this._state=null;this._value=null;++n.ref;Re(this,e)}var Ne={get:function e(){var n=Ke,t=an;function r(e,r){var i=this;var o=!n.global&&(n!==Ke||t!==an);if(o)ln();var u=new Me(function(t,u){Ve(i,new qe(bn(e,n,o),bn(r,n,o),t,u,n))});B&&We(u,this);return u}r.prototype=le;return r},set:function e(n){f(this,"then",n&&n.prototype===le?Ne:{get:function e(){return n},set:Ne.set})}};s(Me.prototype,{then:Ne,_then:function e(n,t){Ve(this,new qe(null,null,n,t,Ke))},catch:function e(n){if(arguments.length===1)return this.then(null,n);var t=arguments[0],r=arguments[1];return typeof t==="function"?this.then(null,function(e){return e instanceof t?r(e):en(e)}):this.then(null,function(e){return e&&e.name===t?r(e):en(e)})},finally:function e(n){return this.then(function(e){n();return e},function(e){n();return en(e)})},stack:{get:function e(){if(this._stack)return this._stack;try{xe=true;var n=Le(this,[],de);var t=n.join("\nFrom previous: ");if(this._state!==null)this._stack=t;return t}finally{xe=false}}},timeout:function e(n,t){var r=this;return n<Infinity?new Me(function(e,i){var o=setTimeout(function(){return i(new $.Timeout(t))},n);r.then(e,i).finally(clearTimeout.bind(null,o))}):this}});if(typeof Symbol!=="undefined"&&Symbol.toStringTag)f(Me.prototype,Symbol.toStringTag,"Promise");Ce.env=yn();function qe(e,n,t,r,i){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof n==="function"?n:null;this.resolve=t;this.reject=r;this.psd=i}s(Me,{all:function e(){var n=T.apply(null,arguments).map(hn);return new Me(function(e,t){if(n.length===0)e([]);var r=n.length;n.forEach(function(i,o){return Me.resolve(i).then(function(t){n[o]=t;if(!--r)e(n)},t)})})},resolve:function e(n){if(n instanceof Me)return n;if(n&&typeof n.then==="function")return new Me(function(e,t){n.then(e,t)});var t=new Me(le,true,n);We(t,Ie);return t},reject:en,race:function e(){var n=T.apply(null,arguments).map(hn);return new Me(function(e,t){n.map(function(n){return Me.resolve(n).then(e,t)})})},PSD:{get:function e(){return Ke},set:function e(n){return Ke=n}},newPSD:cn,usePSD:mn,scheduler:{get:function e(){return je},set:function e(n){je=n}},rejectionMapper:{get:function e(){return De},set:function e(n){De=n}},follow:function e(n,t){return new Me(function(e,r){return cn(function(e,t){var r=Ke;r.unhandleds=[];r.onunhandled=t;r.finalize=oe(function(){var n=this;Ye(function(){n.unhandleds.length===0?e():t(n.unhandleds[0])})},r.finalize);n()},t,e,r)})}});function Re(e,n){try{n(function(n){if(e._state!==null)return;if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var t=e._lib&&Ge();if(n&&typeof n.then==="function"){Re(e,function(e,t){n instanceof Me?n._then(e,t):n.then(e,t)})}else{e._state=true;e._value=n;He(e)}if(t)Je()},Ue.bind(null,e))}catch(n){Ue(e,n)}}function Ue(e,n){Ae.push(n);if(!e||e._state!==null)return;var t=e._lib&&Ge();n=De(n);e._state=false;e._value=n;B&&n!==null&&babelHelpers.typeof(n)==="object"&&!n._promise&&_(function(){var t=d(n,"stack");n._promise=e;f(n,"stack",{get:function r(){return xe?t&&(t.get?t.get.apply(n):t.value):e.stack}})});$e(e);He(e);if(t)Je()}function He(e){var n=e._listeners;e._listeners=[];for(var t=0,r=n.length;t<r;++t){Ve(e,n[t])}var i=e._PSD;--i.ref||i.finalize();if(Be===0){++Be;je(function(){if(--Be===0)Xe()},[])}}function Ve(e,n){if(e._state===null){e._listeners.push(n);return}var t=e._state?n.onFulfilled:n.onRejected;if(t===null){return(e._state?n.resolve:n.reject)(e._value)}++n.psd.ref;++Be;je(ze,[t,e,n])}function ze(e,n,t){try{Ie=n;var r,i=n._value;if(n._state){r=e(i)}else{if(Ae.length)Ae=[];r=e(i);if(Ae.indexOf(i)===-1)Ze(n)}t.resolve(r)}catch(e){t.reject(e)}finally{Ie=null;if(--Be===0)Xe();--t.psd.ref||t.psd.finalize()}}function Le(e,n,t){if(n.length===t)return n;var r="";if(e._state===false){var i=e._value,o,u;if(i!=null){o=i.name||"Error";u=i.message||i;r=R(i,0)}else{o=i;u=""}n.push(o+(u?": "+u:"")+r)}if(B){r=R(e._stackHolder,2);if(r&&n.indexOf(r)===-1)n.push(r);if(e._prev)Le(e._prev,n,t)}return n}function We(e,n){var t=n?n._numPrev+1:0;if(t<he){e._prev=n;e._numPrev=t}}function Qe(){Ge()&&Je()}function Ge(){var e=Ee;Ee=false;Se=false;return e}function Je(){var e,n,t;do{while(Te.length>0){e=Te;Te=[];t=e.length;for(n=0;n<t;++n){var r=e[n];r[0].apply(null,r[1])}}}while(Te.length>0);Ee=true;Se=true}function Xe(){var e=Oe;Oe=[];e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});var n=Fe.slice(0);var t=n.length;while(t){n[--t]()}}function Ye(e){function n(){e();Fe.splice(Fe.indexOf(n),1)}Fe.push(n);++Be;je(function(){if(--Be===0)Xe()},[])}function $e(e){if(!Oe.some(function(n){return n._value===e._value}))Oe.push(e)}function Ze(e){var n=Oe.length;while(n){if(Oe[--n]._value===e._value){Oe.splice(n,1);return}}}function en(e){return new Me(le,false,e)}function nn(e,n){var t=Ke;return function(){var r=Ge(),i=Ke;try{pn(t,true);return e.apply(this,arguments)}catch(e){n&&n(e)}finally{pn(i,false);if(r)Je()}}}var tn={awaits:0,echoes:0,id:0};var rn=0;var on=[];var un=0;var an=0;var sn=0;function cn(e,n,t,r){var o=Ke,u=Object.create(o);u.parent=o;u.ref=0;u.global=false;u.id=++sn;var a=Ce.env;u.env=ke?{Promise:Me,PromiseProp:{value:Me,configurable:true,writable:true},all:Me.all,race:Me.race,resolve:Me.resolve,reject:Me.reject,nthen:wn(a.nthen,u),gthen:wn(a.gthen,u)}:{};if(n)i(u,n);++o.ref;u.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=mn(u,e,t,r);if(u.ref===0)u.finalize();return s}function fn(){if(!tn.id)tn.id=++rn;++tn.awaits;tn.echoes+=ve;return tn.id}function ln(e){if(!tn.awaits||e&&e!==tn.id)return;if(--tn.awaits===0)tn.id=0;tn.echoes=tn.awaits*ve}function hn(e){if(tn.echoes&&e&&e.constructor===we){fn();return e.then(function(e){ln();return e},function(e){ln();return xn(e)})}return e}function dn(e){++an;if(!tn.echoes||--tn.echoes===0){tn.echoes=tn.id=0}on.push(Ke);pn(e,true)}function vn(){var e=on[on.length-1];on.pop();pn(e,false)}function pn(e,n){var t=Ke;if(n?tn.echoes&&(!un++||e!==Ke):un&&(!--un||e!==Ke)){gn(n?dn.bind(null,e):vn)}if(e===Ke)return;Ke=e;if(t===Ce)Ce.env=yn();if(ke){var i=Ce.env.Promise;var o=e.env;me.then=o.nthen;i.prototype.then=o.gthen;if(t.global||e.global){Object.defineProperty(r,"Promise",o.PromiseProp);i.all=o.all;i.race=o.race;i.resolve=o.resolve;i.reject=o.reject}}}function yn(){var e=r.Promise||Me;return ke?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:me.then,gthen:e.prototype.then}:{}}function mn(e,n,t,r,i){var o=Ke;try{pn(e,true);return n(t,r,i)}finally{pn(o,false)}}function gn(e){be.call(ye,e)}function bn(e,n,t){return typeof e!=="function"?e:function(){var r=Ke;if(t)fn();pn(n,true);try{return e.apply(this,arguments)}finally{pn(r,false)}}}function wn(e,n){return function(t,r){return e.call(this,bn(t,n,false),bn(r,n,false))}}var _n="unhandledrejection";function kn(e,n){var t;try{t=n.onuncatched(e)}catch(e){}if(t!==false)try{var o,u={promise:n,reason:e};if(r.document&&document.createEvent){o=document.createEvent("Event");o.initEvent(_n,true,true);i(o,u)}else if(r.CustomEvent){o=new CustomEvent(_n,{detail:u});i(o,u)}if(o&&r.dispatchEvent){dispatchEvent(o);if(!r.PromiseRejectionEvent&&r.onunhandledrejection)try{r.onunhandledrejection(o)}catch(e){}}if(!o.defaultPrevented){console.warn("Unhandled rejection: "+(e.stack||e))}}catch(e){}}var xn=Me.reject;function Pn(e){var r={};var i=function n(t,i){if(i){var o=arguments.length,u=new Array(o-1);while(--o){u[o-1]=arguments[o]}r[t].subscribe.apply(null,u);return e}else if(typeof t==="string"){return r[t]}};i.addEventType=a;for(var o=1,u=arguments.length;o<u;++o){a(arguments[o])}return i;function a(e,n,t){if(babelHelpers.typeof(e)==="object")return s(e);if(!n)n=ce;if(!t)t=te;var o={subscribers:[],fire:t,subscribe:function e(t){if(o.subscribers.indexOf(t)===-1){o.subscribers.push(t);o.fire=n(o.fire,t)}},unsubscribe:function e(r){o.subscribers=o.subscribers.filter(function(e){return e!==r});o.fire=o.subscribers.reduce(n,t)}};r[e]=i[e]=o;return o}function s(e){n(e).forEach(function(n){var r=e[n];if(t(r)){a(n,e[n][0],e[n][1])}else if(r==="asap"){var i=a(n,re,function e(){var n=arguments.length,t=new Array(n);while(n--){t[n]=arguments[n]}i.subscribers.forEach(function(e){g(function n(){e.apply(null,t)})})})}else throw new $.InvalidArgument("Invalid event config")})}}var jn="2.0.4";var En=String.fromCharCode(65535);var Sn=function(){try{IDBKeyRange.only([[]]);return[[]]}catch(e){return En}}();var On=-Infinity;var An="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";var In="String expected.";var Dn=[];var Cn=typeof navigator!=="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent);var Kn=Cn;var Tn=Cn;var Bn=function e(n){return!/(dexie\.js|dexie\.min\.js)/.test(n)};var Fn;F(B,Bn);function Mn(e,o){var u=Mn.dependencies;var c=i({addons:Mn.addons,autoOpen:true,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},o);var l=c.addons,h=c.autoOpen,d=c.indexedDB,v=c.IDBKeyRange;var g=this._dbSchema={};var P=[];var E=[];var O={};var D=null;var C=null;var F=false;var M=null;var N=false;var R="readonly",H="readwrite";var V=this;var z,L=new Me(function(e){z=e}),W,Q=new Me(function(e,n){W=n});var X=true;var Y=!!Jn(d),Z;function ee(){V.on("versionchange",function(e){if(e.newVersion>0)console.warn("Another connection wants to upgrade database '"+V.name+"'. Closing db now to resume the upgrade.");else console.warn("Another connection wants to delete database '"+V.name+"'. Closing db now to resume the delete request.");V.close()});V.on("blocked",function(e){if(!e.newVersion||e.newVersion<e.oldVersion)console.warn("Dexie.delete('"+V.name+"') was blocked");else console.warn("Upgrade '"+V.name+"' blocked by other connection holding version "+e.oldVersion/10)})}this.version=function(e){if(D||F)throw new $.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=P.filter(function(n){return n._cfg.version===e})[0];if(n)return n;n=new ne(e);P.push(n);P.sort(Se);X=false;return n};function ne(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null};this.stores({})}i(ne.prototype,{stores:function e(t){this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,t):t;var r={};P.forEach(function(e){i(r,e._cfg.storesSource)});var o=this._cfg.dbschema={};this._parseStoresSpec(r,o);g=V._dbSchema=o;Ae([O,V,xe.prototype]);Oe([O,V,xe.prototype,this._cfg.tables],n(o),o);E=n(o);return this},upgrade:function e(n){this._cfg.contentUpgrade=n;return this},_parseStoresSpec:function e(t,r){n(t).forEach(function(e){if(t[e]!==null){var n={};var i=De(t[e]);var o=i.shift();if(o.multi)throw new $.Schema("Primary key cannot be multi-valued");if(o.keyPath)x(n,o.keyPath,o.auto?0:o.keyPath);i.forEach(function(e){if(e.auto)throw new $.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new $.Schema("Index must have a name and cannot be an empty string");x(n,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")});r[e]=new Qn(e,o,i,n)}})}});function oe(e,t,r){var i=V._createTransaction(H,E,g);i.create(t);i._completion.catch(r);var o=i._reject.bind(i);cn(function(){Ke.trans=i;if(e===0){n(g).forEach(function(e){he(t,e,g[e].primKey,g[e].indexes)});Me.follow(function(){return V.on.populate.fire(i)}).catch(o)}else ce(e,i,t).catch(o)})}function ce(e,n,t){var r=[];var i=P.filter(function(n){return n._cfg.version===e})[0];if(!i)throw new $.Upgrade("Dexie specification of currently installed DB version is missing");g=V._dbSchema=i._cfg.dbschema;var o=false;var u=P.filter(function(n){return n._cfg.version>e});u.forEach(function(e){r.push(function(){var r=g;var i=e._cfg.dbschema;Ve(r,t);Ve(i,t);g=V._dbSchema=i;var u=le(r,i);u.add.forEach(function(e){he(t,e[0],e[1].primKey,e[1].indexes)});u.change.forEach(function(e){if(e.recreate){throw new $.Upgrade("Not yet support for changing primary key")}else{var n=t.objectStore(e.name);e.add.forEach(function(e){pe(n,e)});e.change.forEach(function(e){n.deleteIndex(e.name);pe(n,e)});e.del.forEach(function(e){n.deleteIndex(e)})}});if(e._cfg.contentUpgrade){o=true;return Me.follow(function(){e._cfg.contentUpgrade(n)})}});r.push(function(n){if(!o||!Kn){var t=e._cfg.dbschema;ve(t,n)}})});function a(){return r.length?Me.resolve(r.shift()(n.idbtrans)).then(a):Me.resolve()}return a().then(function(){de(g,t)})}function le(e,n){var t={del:[],add:[],change:[]};for(var r in e){if(!n[r])t.del.push(r)}for(r in n){var i=e[r],o=n[r];if(!i){t.add.push([r,o])}else{var u={name:r,def:o,recreate:false,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src){u.recreate=true;t.change.push(u)}else{var a=i.idxByName;var s=o.idxByName;for(var c in a){if(!s[c])u.del.push(c)}for(c in s){var f=a[c],l=s[c];if(!f)u.add.push(l);else if(f.src!==l.src)u.change.push(l)}if(u.del.length>0||u.add.length>0||u.change.length>0){t.change.push(u)}}}}return t}function he(e,n,t,r){var i=e.db.createObjectStore(n,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});r.forEach(function(e){pe(i,e)});return i}function de(e,t){n(e).forEach(function(n){if(!t.db.objectStoreNames.contains(n)){he(t,n,e[n].primKey,e[n].indexes)}})}function ve(e,n){for(var t=0;t<n.db.objectStoreNames.length;++t){var r=n.db.objectStoreNames[t];if(e[r]==null){n.db.deleteObjectStore(r)}}}function pe(e,n){e.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}this._allTables=O;this._createTransaction=function(e,n,t,r){return new xe(e,n,t,r)};function ye(e,n,t){if(!N&&!Ke.letThrough){if(!F){if(!h)return xn(new $.DatabaseClosed);V.open().catch(te)}return L.then(function(){return ye(e,n,t)})}else{var r=V._createTransaction(e,n,g);try{r.create()}catch(e){return xn(e)}return r._promise(e,function(e,n){return cn(function(){Ke.trans=r;return t(e,n,r)})}).then(function(e){return r._completion.then(function(){return e})})}}this._whenReady=function(e){return N||Ke.letThrough?e():new Me(function(e,n){if(!F){if(!h){n(new $.DatabaseClosed);return}V.open().catch(te)}L.then(e,n)}).then(e)};this.verno=0;this.open=function(){if(F||D)return L.then(function(){return C?xn(C):V});B&&(Q._stackHolder=q());F=true;C=null;N=false;var n=z,t=null;return Me.race([Q,new Me(function(n,r){if(!d)throw new $.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL "+"(not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=X?d.open(e):d.open(e,Math.round(V.verno*10));if(!i)throw new $.MissingAPI("IndexedDB API not available");i.onerror=Un(r);i.onblocked=nn(ze);i.onupgradeneeded=nn(function(n){t=i.transaction;if(X&&!V._allowEmptyDB){i.onerror=zn;t.abort();i.result.close();var o=d.deleteDatabase(e);o.onsuccess=o.onerror=nn(function(){r(new $.NoSuchDatabase("Database "+e+" doesnt exist"))})}else{t.onerror=Un(r);var u=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;oe(u/10,t,r,i)}},r);i.onsuccess=nn(function(){t=null;D=i.result;Dn.push(V);if(X)He();else if(D.objectStoreNames.length>0){try{Ve(g,D.transaction(Gn(D.objectStoreNames),R))}catch(e){}}D.onversionchange=nn(function(e){V._vcFired=true;V.on("versionchange").fire(e)});if(!Y&&e!=="__dbnames"){Fn.dbnames.put({name:e}).catch(te)}n()},r)})]).then(function(){M=[];return Me.resolve(Mn.vip(V.on.ready.fire)).then(function e(){if(M.length>0){var n=M.reduce(fe,te);M=[];return Me.resolve(Mn.vip(n)).then(e)}})}).finally(function(){M=null}).then(function(){F=false;return V}).catch(function(e){try{t&&t.abort()}catch(e){}F=false;V.close();C=e;return xn(C)}).finally(function(){N=true;n()})};this.close=function(){var e=Dn.indexOf(V);if(e>=0)Dn.splice(e,1);if(D){try{D.close()}catch(e){}D=null}h=false;C=new $.DatabaseClosed;if(F)W(C);L=new Me(function(e){z=e});Q=new Me(function(e,n){W=n})};this.delete=function(){var n=arguments.length>0;return new Me(function(t,r){if(n)throw new $.InvalidArgument("Arguments not allowed in db.delete()");if(F){L.then(i)}else{i()}function i(){V.close();var n=d.deleteDatabase(e);n.onsuccess=nn(function(){if(!Y){Fn.dbnames.delete(e).catch(te)}t()});n.onerror=Un(r);n.onblocked=ze}})};this.backendDB=function(){return D};this.isOpen=function(){return D!==null};this.hasBeenClosed=function(){return C&&C instanceof $.DatabaseClosed};this.hasFailed=function(){return C!==null};this.dynamicallyOpened=function(){return X};this.name=e;s(this,{tables:{get:function e(){return n(O).map(function(e){return O[e]})}}});this.on=Pn(this,"populate","blocked","versionchange",{ready:[fe,te]});this.on.ready.subscribe=y(this.on.ready.subscribe,function(e){return function(n,t){Mn.vip(function(){if(N){if(!C)Me.resolve().then(n);if(t)e(n)}else if(M){M.push(n);if(t)e(n)}else{e(n);if(!t)e(function e(){V.on.ready.unsubscribe(n);V.on.ready.unsubscribe(e)})}})}});this.transaction=function(){var e=me.apply(this,arguments);return this._transaction.apply(this,e)};function me(e,n,t){var r=arguments.length;if(r<2)throw new $.InvalidArgument("Too few arguments");var i=new Array(r-1);while(--r){i[r-1]=arguments[r]}t=i.pop();var o=S(i);return[e,o,t]}this._transaction=function(e,n,t){var r=Ke.trans;if(!r||r.db!==V||e.indexOf("!")!==-1)r=null;var i=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{var o=n.map(function(e){var n=e instanceof ge?e.name:e;if(typeof n!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return n});if(e=="r"||e==R)e=R;else if(e=="rw"||e==H)e=H;else throw new $.InvalidArgument("Invalid transaction mode: "+e);if(r){if(r.mode===R&&e===H){if(i){r=null}else throw new $.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")}if(r){o.forEach(function(e){if(r&&r.storeNames.indexOf(e)===-1){if(i){r=null}else throw new $.SubTransaction("Table "+e+" not included in parent transaction.")}})}if(i&&r&&!r.active){r=null}}}catch(e){return r?r._promise(null,function(n,t){t(e)}):xn(e)}return r?r._promise(e,u,"lock"):Ke.trans?mn(Ke.transless,function(){return V._whenReady(u)}):V._whenReady(u);function u(){return Me.resolve().then(function(){var n=Ke.transless||Ke;var i=V._createTransaction(e,o,g,r);var u={trans:i,transless:n};if(r){i.idbtrans=r.idbtrans}else{i.create()}if(t.constructor===_e){fn()}var a;var s=Me.follow(function(){a=t.call(i,i);if(a){if(a.constructor===we){var e=ln.bind(null,null);a.then(e,e)}else if(typeof a.next==="function"&&typeof a.throw==="function"){a=Ln(a)}}},u);return(a&&typeof a.then==="function"?Me.resolve(a).then(function(e){return i.active?e:xn(new $.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):s.then(function(){return a})).then(function(e){if(r)i._resolve();return i._completion.then(function(){return e})}).catch(function(e){i._reject(e);return xn(e)})})}};this.table=function(e){if(!a(O,e)){throw new $.InvalidTable("Table "+e+" does not exist")}return O[e]};function ge(e,n,t){this.name=e;this.schema=n;this._tx=t;this.hook=O[e]?O[e].hook:Pn(null,{creating:[ue,te],reading:[ie,re],updating:[se,te],deleting:[ae,te]})}function be(e,n,t){return(t?Vn:Un)(function(t){e.push(t);n&&n()})}function ke(e,n,t,r,i){return new Me(function(o,u){var a=t.length,s=a-1;if(a===0)return o();if(!r){for(var c=0;c<a;++c){var f=e.delete(t[c]);f.onerror=Un(u);if(c===s)f.onsuccess=nn(function(){return o()})}}else{var l,h=Vn(u),d=Rn(null);_(function(){for(var r=0;r<a;++r){l={onsuccess:null,onerror:null};var u=t[r];i.call(l,u[0],u[1],n);var c=e.delete(u[0]);c._hookCtx=l;c.onerror=h;if(r===s)c.onsuccess=Rn(o);else c.onsuccess=d}},function(e){l.onerror&&l.onerror(e);throw e})}})}s(ge.prototype,{_trans:function e(n,t,r){var i=this._tx||Ke.trans;return i&&i.db===V?i===Ke.trans?i._promise(n,t,r):cn(function(){return i._promise(n,t,r)},{trans:i,transless:Ke.transless||Ke}):ye(n,[this.name],t)},_idbstore:function e(n,t,r){var i=this.name;function o(e,n,r){if(r.storeNames.indexOf(i)===-1)throw new $.NotFound("Table"+i+" not part of transaction");return t(e,n,r.idbtrans.objectStore(i),r)}return this._trans(n,o,r)},get:function e(n,t){if(n&&n.constructor===Object)return this.where(n).first(t);var r=this;return this._idbstore(R,function(e,t,i){var o=i.get(n);o.onerror=Un(t);o.onsuccess=nn(function(){e(r.hook.reading.fire(o.result))},t)}).then(t)},where:function e(r){if(typeof r==="string")return new Pe(this,r);if(t(r))return new Pe(this,"["+r.join("+")+"]");var i=n(r);if(i.length===1)return this.where(i[0]).equals(r[i[0]]);var o=this.schema.indexes.concat(this.schema.primKey).filter(function(e){return e.compound&&i.every(function(n){return e.keyPath.indexOf(n)>=0})&&e.keyPath.every(function(e){return i.indexOf(e)>=0})})[0];if(o&&Sn!==En)return this.where(o.name).equals(o.keyPath.map(function(e){return r[e]}));if(!o)console.warn("The query "+JSON.stringify(r)+" on "+this.name+" would benefit of a "+("compound index ["+i.join("+")+"]"));var u=this.schema.idxByName;var a=i.reduce(function(e,n){return[e[0]||u[n],e[0]||!u[n]?Ue(e[1],function(e){return""+k(e,n)==""+r[n]}):e[1]]},[null,null]);var s=a[0];return s?this.where(s.name).equals(r[s.keyPath]).filter(a[1]):o?this.filter(a[1]):this.where(i).equals("")},count:function e(n){return this.toCollection().count(n)},offset:function e(n){return this.toCollection().offset(n)},limit:function e(n){return this.toCollection().limit(n)},reverse:function e(){return this.toCollection().reverse()},filter:function e(n){return this.toCollection().and(n)},each:function e(n){return this.toCollection().each(n)},toArray:function e(n){return this.toCollection().toArray(n)},orderBy:function e(n){return new je(new Pe(this,t(n)?"["+n.join("+")+"]":n))},toCollection:function e(){return new je(new Pe(this))},mapToClass:function e(n,t){this.schema.mappedClass=n;var r=Object.create(n.prototype);if(t){qn(r,t)}this.schema.instanceTemplate=r;var i=function e(t){if(!t)return t;var r=Object.create(n.prototype);for(var i in t){if(a(t,i))try{r[i]=t[i]}catch(e){}}return r};if(this.schema.readHook){this.hook.reading.unsubscribe(this.schema.readHook)}this.schema.readHook=i;this.hook("reading",i);return n},defineClass:function e(n){return this.mapToClass(Mn.defineClass(n),n)},bulkDelete:function e(n){if(this.hook.deleting.fire===te){return this._idbstore(H,function(e,t,r,i){e(ke(r,i,n,false,te))})}else{return this.where(":id").anyOf(n).delete().then(function(){})}},bulkPut:function e(n,t){var r=this;return this._idbstore(H,function(e,i,o){if(!o.keyPath&&!r.schema.primKey.auto&&!t)throw new $.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new $.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==n.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");if(n.length===0)return e();var u=function n(t){if(s.length===0)e(t);else i(new J(r.name+".bulkPut(): "+s.length+" of "+f+" operations failed",s))};var a,s=[],c,f=n.length,l=r;if(r.hook.creating.fire===te&&r.hook.updating.fire===te){c=be(s);for(var h=0,d=n.length;h<d;++h){a=t?o.put(n[h],t[h]):o.put(n[h]);a.onerror=c}a.onerror=be(s,u);a.onsuccess=Hn(u)}else{var v=t||o.keyPath&&n.map(function(e){return k(e,o.keyPath)});var p=v&&b(v,function(e,t){return e!=null&&[e,n[t]]});var y=!v?l.bulkAdd(n):l.where(":id").anyOf(v.filter(function(e){return e!=null})).modify(function(){this.value=p[this.primKey];p[this.primKey]=null}).catch(G,function(e){s=e.failures}).then(function(){var e=[],r=t&&[];for(var i=v.length-1;i>=0;--i){var o=v[i];if(o==null||p[o]){e.push(n[i]);t&&r.push(o);if(o!=null)p[o]=null}}e.reverse();t&&r.reverse();return l.bulkAdd(e,r)}).then(function(e){var n=v[v.length-1];return n!=null?n:e});y.then(u).catch(J,function(e){s=s.concat(e.failures);u()}).catch(i)}},"locked")},bulkAdd:function e(n,t){var r=this,i=this.hook.creating.fire;return this._idbstore(H,function(e,o,u,a){if(!u.keyPath&&!r.schema.primKey.auto&&!t)throw new $.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(u.keyPath&&t)throw new $.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==n.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");if(n.length===0)return e();function s(n){if(f.length===0)e(n);else o(new J(r.name+".bulkAdd(): "+f.length+" of "+d+" operations failed",f))}var c,f=[],l,h,d=n.length;if(i!==te){var v=u.keyPath,p;l=be(f,null,true);h=Rn(null);_(function(){for(var e=0,r=n.length;e<r;++e){p={onerror:null,onsuccess:null};var o=t&&t[e];var s=n[e],f=t?o:v?k(s,v):undefined,d=i.call(p,f,s,a);if(f==null&&d!=null){if(v){s=A(s);x(s,v,d)}else{o=d}}c=o!=null?u.add(s,o):u.add(s);c._hookCtx=p;if(e<r-1){c.onerror=l;if(p.onsuccess)c.onsuccess=h}}},function(e){p.onerror&&p.onerror(e);throw e});c.onerror=be(f,s,true);c.onsuccess=Rn(s)}else{l=be(f);for(var y=0,m=n.length;y<m;++y){c=t?u.add(n[y],t[y]):u.add(n[y]);c.onerror=l}c.onerror=be(f,s);c.onsuccess=Hn(s)}})},add:function e(n,t){var r=this.hook.creating.fire;return this._idbstore(H,function(e,i,o,u){var a={onsuccess:null,onerror:null};if(r!==te){var s=t!=null?t:o.keyPath?k(n,o.keyPath):undefined;var c=r.call(a,s,n,u);if(s==null&&c!=null){if(o.keyPath)x(n,o.keyPath,c);else t=c}}try{var f=t!=null?o.add(n,t):o.add(n);f._hookCtx=a;f.onerror=Vn(i);f.onsuccess=Rn(function(t){var r=o.keyPath;if(r)x(n,r,t);e(t)})}catch(e){if(a.onerror)a.onerror(e);throw e}})},put:function e(n,t){var r=this;var i=this.hook.creating.fire,o=this.hook.updating.fire;if(i!==te||o!==te){var u=this.schema.primKey.keyPath;var a=t!==undefined?t:u&&k(n,u);if(a==null)return this.add(n);n=A(n);return this._trans(H,function(){return r.where(":id").equals(a).modify(function(){this.value=n}).then(function(e){return e===0?r.add(n,t):a})},"locked")}else{return this._idbstore(H,function(e,r,i){var o=t!==undefined?i.put(n,t):i.put(n);o.onerror=Un(r);o.onsuccess=nn(function(t){var r=i.keyPath;if(r)x(n,r,t.target.result);e(o.result)})})}},delete:function e(n){if(this.hook.deleting.subscribers.length){return this.where(":id").equals(n).delete()}else{return this._idbstore(H,function(e,t,r){var i=r.delete(n);i.onerror=Un(t);i.onsuccess=nn(function(){e(i.result)})})}},clear:function e(){if(this.hook.deleting.subscribers.length){return this.toCollection().delete()}else{return this._idbstore(H,function(e,n,t){var r=t.clear();r.onerror=Un(n);r.onsuccess=nn(function(){e(r.result)})})}},update:function e(r,i){if(babelHelpers.typeof(i)!=="object"||t(i))throw new $.InvalidArgument("Modifications must be an object.");if(babelHelpers.typeof(r)==="object"&&!t(r)){n(i).forEach(function(e){x(r,e,i[e])});var o=k(r,this.schema.primKey.keyPath);if(o===undefined)return xn(new $.InvalidArgument("Given object does not contain its primary key"));return this.where(":id").equals(o).modify(i)}else{return this.where(":id").equals(r).modify(i)}}});function xe(e,n,t,r){var i=this;this.db=V;this.mode=e;this.storeNames=n;this.idbtrans=null;this.on=Pn(this,"complete","error","abort");this.parent=r||null;this.active=true;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new Me(function(e,n){i._resolve=e;i._reject=n});this._completion.then(function(){i.active=false;i.on.complete.fire()},function(e){var n=i.active;i.active=false;i.on.error.fire(e);i.parent?i.parent._reject(e):n&&i.idbtrans&&i.idbtrans.abort();return xn(e)})}s(xe.prototype,{_lock:function e(){m(!Ke.global);++this._reculock;if(this._reculock===1&&!Ke.global)Ke.lockOwnerFor=this;return this},_unlock:function e(){m(!Ke.global);if(--this._reculock===0){if(!Ke.global)Ke.lockOwnerFor=null;while(this._blockedFuncs.length>0&&!this._locked()){var n=this._blockedFuncs.shift();try{mn(n[1],n[0])}catch(e){}}}return this},_locked:function e(){return this._reculock&&Ke.lockOwnerFor!==this},create:function e(n){var t=this;if(!this.mode)return this;m(!this.idbtrans);if(!n&&!D){switch(C&&C.name){case"DatabaseClosedError":throw new $.DatabaseClosed(C);case"MissingAPIError":throw new $.MissingAPI(C.message,C);default:throw new $.OpenFailed(C)}}if(!this.active)throw new $.TransactionInactive;m(this._completion._state===null);n=this.idbtrans=n||D.transaction(Gn(this.storeNames),this.mode);n.onerror=nn(function(e){zn(e);t._reject(n.error)});n.onabort=nn(function(e){zn(e);t.active&&t._reject(new $.Abort(n.error));t.active=false;t.on("abort").fire(e)});n.oncomplete=nn(function(){t.active=false;t._resolve()});return this},_promise:function e(n,t,r){var i=this;if(n===H&&this.mode!==H)return xn(new $.ReadOnly("Transaction is readonly"));if(!this.active)return xn(new $.TransactionInactive);if(this._locked()){return new Me(function(e,o){i._blockedFuncs.push([function(){i._promise(n,t,r).then(e,o)},Ke])})}else if(r){return cn(function(){var e=new Me(function(e,n){i._lock();var r=t(e,n,i);if(r&&r.then)r.then(e,n)});e.finally(function(){return i._unlock()});e._lib=true;return e})}else{var o=new Me(function(e,n){var r=t(e,n,i);if(r&&r.then)r.then(e,n)});o._lib=true;return o}},_root:function e(){return this.parent?this.parent._root():this},waitFor:function e(n){var t=this._root();n=Me.resolve(n);if(t._waitingFor){t._waitingFor=t._waitingFor.then(function(){return n})}else{t._waitingFor=n;t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);(function e(){++t._spinCount;while(t._waitingQueue.length){t._waitingQueue.shift()()}if(t._waitingFor)r.get(-Infinity).onsuccess=e})()}var i=t._waitingFor;return new Me(function(e,r){n.then(function(n){return t._waitingQueue.push(nn(e.bind(null,n)))},function(e){return t._waitingQueue.push(nn(r.bind(null,e)))}).finally(function(){if(t._waitingFor===i){t._waitingFor=null}})})},abort:function e(){this.active&&this._reject(new $.Abort);this.active=false},tables:{get:U("Transaction.tables",function(){return O})},table:function e(n){var e=V.table(n);return new ge(n,e.schema,this)}});function Pe(e,n,t){this._ctx={table:e,index:n===":id"?null:n,or:t}}s(Pe.prototype,function(){function e(e,n,t){var r=e instanceof Pe?new je(e):e;r._ctx.error=t?new t(n):new TypeError(n);return r}function n(e){return new je(e,function(){return v.only("")}).limit(0)}function t(e){return e==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function r(e){return e==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function i(e,n,t,r,i,o){var u=Math.min(e.length,r.length);var a=-1;for(var s=0;s<u;++s){var c=n[s];if(c!==r[s]){if(i(e[s],t[s])<0)return e.substr(0,s)+t[s]+t.substr(s+1);if(i(e[s],r[s])<0)return e.substr(0,s)+r[s]+t.substr(s+1);if(a>=0)return e.substr(0,a)+n[a]+t.substr(a+1);return null}if(i(e[s],c)<0)a=s}if(u<r.length&&o==="next")return e+t.substr(e.length);if(u<e.length&&o==="prev")return e.substr(0,t.length);return a<0?null:e.substr(0,a)+r[a]+t.substr(a+1)}function o(n,o,u,a){var s,c,f,l,h,d,p,y=u.length;if(!u.every(function(e){return typeof e==="string"})){return e(n,In)}function m(e){s=t(e);c=r(e);f=e==="next"?qe:Re;var n=u.map(function(e){return{lower:c(e),upper:s(e)}}).sort(function(e,n){return f(e.lower,n.lower)});l=n.map(function(e){return e.upper});h=n.map(function(e){return e.lower});d=e;p=e==="next"?"":a}m("next");var g=new je(n,function(){return v.bound(l[0],h[y-1]+a)});g._ondirectionchange=function(e){m(e)};var b=0;g._addAlgorithm(function(e,n,t){var r=e.key;if(typeof r!=="string")return false;var u=c(r);if(o(u,h,b)){return true}else{var a=null;for(var s=b;s<y;++s){var v=i(r,u,l[s],h[s],f,d);if(v===null&&a===null)b=s+1;else if(a===null||f(a,v)>0){a=v}}if(a!==null){n(function(){e.continue(a+p)})}else{n(t)}return false}});return g}return{between:function t(r,i,o,u){o=o!==false;u=u===true;try{if(Ce(r,i)>0||Ce(r,i)===0&&(o||u)&&!(o&&u))return n(this);return new je(this,function(){return v.bound(r,i,!o,!u)})}catch(n){return e(this,An)}},equals:function e(n){return new je(this,function(){return v.only(n)})},above:function e(n){return new je(this,function(){return v.lowerBound(n,true)})},aboveOrEqual:function e(n){return new je(this,function(){return v.lowerBound(n)})},below:function e(n){return new je(this,function(){return v.upperBound(n,true)})},belowOrEqual:function e(n){return new je(this,function(){return v.upperBound(n)})},startsWith:function n(t){if(typeof t!=="string")return e(this,In);return this.between(t,t+En,true,true)},startsWithIgnoreCase:function e(n){if(n==="")return this.startsWith(n);return o(this,function(e,n){return e.indexOf(n[0])===0},[n],En)},equalsIgnoreCase:function e(n){return o(this,function(e,n){return e===n[0]},[n],"")},anyOfIgnoreCase:function e(){var t=T.apply(K,arguments);if(t.length===0)return n(this);return o(this,function(e,n){return n.indexOf(e)!==-1},t,"")},startsWithAnyOfIgnoreCase:function e(){var t=T.apply(K,arguments);if(t.length===0)return n(this);return o(this,function(e,n){return n.some(function(n){return e.indexOf(n)===0})},t,En)},anyOf:function t(){var r=T.apply(K,arguments);var i=Fe;try{r.sort(i)}catch(n){return e(this,An)}if(r.length===0)return n(this);var o=new je(this,function(){return v.bound(r[0],r[r.length-1])});o._ondirectionchange=function(e){i=e==="next"?Fe:Ne;r.sort(i)};var u=0;o._addAlgorithm(function(e,n,t){var o=e.key;while(i(o,r[u])>0){++u;if(u===r.length){n(t);return false}}if(i(o,r[u])===0){return true}else{n(function(){e.continue(r[u])});return false}});return o},notEqual:function e(n){return this.inAnyRange([[On,n],[n,Sn]],{includeLowers:false,includeUppers:false})},noneOf:function n(){var t=T.apply(K,arguments);if(t.length===0)return new je(this);try{t.sort(Fe)}catch(n){return e(this,An)}var r=t.reduce(function(e,n){return e?e.concat([[e[e.length-1][1],n]]):[[On,n]]},null);r.push([t[t.length-1],Sn]);return this.inAnyRange(r,{includeLowers:false,includeUppers:false})},inAnyRange:function t(r,i){if(r.length===0)return n(this);if(!r.every(function(e){return e[0]!==undefined&&e[1]!==undefined&&Fe(e[0],e[1])<=0})){return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",$.InvalidArgument)}var o=!i||i.includeLowers!==false;var u=i&&i.includeUppers===true;function a(e,n){for(var t=0,r=e.length;t<r;++t){var i=e[t];if(Ce(n[0],i[1])<0&&Ce(n[1],i[0])>0){i[0]=Te(i[0],n[0]);i[1]=Be(i[1],n[1]);break}}if(t===r)e.push(n);return e}var s=Fe;function c(e,n){return s(e[0],n[0])}var f;try{f=r.reduce(a,[]);f.sort(c)}catch(n){return e(this,An)}var l=0;var h=u?function(e){return Fe(e,f[l][1])>0}:function(e){return Fe(e,f[l][1])>=0};var d=o?function(e){return Ne(e,f[l][0])>0}:function(e){return Ne(e,f[l][0])>=0};function p(e){return!h(e)&&!d(e)}var y=h;var m=new je(this,function(){return v.bound(f[0][0],f[f.length-1][1],!o,!u)});m._ondirectionchange=function(e){if(e==="next"){y=h;s=Fe}else{y=d;s=Ne}f.sort(c)};m._addAlgorithm(function(e,n,t){var r=e.key;while(y(r)){++l;if(l===f.length){n(t);return false}}if(p(r)){return true}else if(Ce(r,f[l][1])===0||Ce(r,f[l][0])===0){return false}else{n(function(){if(s===Fe)e.continue(f[l][0]);else e.continue(f[l][1])});return false}});return m},startsWithAnyOf:function t(){var r=T.apply(K,arguments);if(!r.every(function(e){return typeof e==="string"})){return e(this,"startsWithAnyOf() only works with strings")}if(r.length===0)return n(this);return this.inAnyRange(r.map(function(e){return[e,e+En]}))}}});function je(e,n){var t=null,r=null;if(n)try{t=n()}catch(e){r=e}var i=e._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:t,keysOnly:false,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:true,isMatch:null,offset:0,limit:Infinity,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function Ee(e,n){return!(e.filter||e.algorithm||e.or)&&(n?e.justLimit:!e.replayFilter)}s(je.prototype,function(){function e(e,n){e.filter=Ue(e.filter,n)}function t(e,n,t){var r=e.replayFilter;e.replayFilter=r?function(){return Ue(r(),n())}:n;e.justLimit=t&&!r}function r(e,n){e.isMatch=Ue(e.isMatch,n)}function o(e,n){if(e.isPrimKey)return n;var t=e.table.schema.idxByName[e.index];if(!t)throw new $.Schema("KeyPath "+e.index+" on object store "+n.name+" is not indexed");return n.index(t.name)}function u(e,n){var t=o(e,n);return e.keysOnly&&"openKeyCursor"in t?t.openKeyCursor(e.range||null,e.dir+e.unique):t.openCursor(e.range||null,e.dir+e.unique)}function s(e,n,t,r,i){var o=e.replayFilter?Ue(e.filter,e.replayFilter()):e.filter;if(!e.or){Ie(u(e,i),Ue(e.algorithm,o),n,t,r,!e.keysOnly&&e.valueMapper)}else(function(){var s={};var c=0;function f(){if(++c===2)t()}function l(e,t,i){if(!o||o(t,i,f,r)){var u=t.primaryKey;var c=""+u;if(c==="[object ArrayBuffer]")c=""+new Uint8Array(u);if(!a(s,c)){s[c]=true;n(e,t,i)}}}e.or._iterate(l,f,r,i);Ie(u(e,i),e.algorithm,l,f,r,!e.keysOnly&&e.valueMapper)})()}return{_read:function e(n,t){var r=this._ctx;return r.error?r.table._trans(null,xn.bind(null,r.error)):r.table._idbstore(R,n).then(t)},_write:function e(n){var t=this._ctx;return t.error?t.table._trans(null,xn.bind(null,t.error)):t.table._idbstore(H,n,"locked")},_addAlgorithm:function e(n){var t=this._ctx;t.algorithm=Ue(t.algorithm,n)},_iterate:function e(n,t,r,i){return s(this._ctx,n,t,r,i)},clone:function e(n){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);if(n)i(r,n);t._ctx=r;return t},raw:function e(){this._ctx.valueMapper=null;return this},each:function e(n){var t=this._ctx;return this._read(function(e,r,i){s(t,n,e,r,i)})},count:function e(n){var t=this._ctx;if(Ee(t,true)){return this._read(function(e,n,r){var i=o(t,r);var u=t.range?i.count(t.range):i.count();u.onerror=Un(n);u.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}},n)}else{var e=0;return this._read(function(n,r,i){s(t,function(){++e;return false},function(){n(e)},r,i)},n)}},sortBy:function e(n,t){var r=n.split(".").reverse(),i=r[0],o=r.length-1;function u(e,n){if(n)return u(e[r[n]],n-1);return e[i]}var a=this._ctx.dir==="next"?1:-1;function s(e,n){var t=u(e,o),r=u(n,o);return t<r?-a:t>r?a:0}return this.toArray(function(e){return e.sort(s)}).then(t)},toArray:function e(n){var t=this._ctx;return this._read(function(e,n,r){if(Z&&t.dir==="next"&&Ee(t,true)&&t.limit>0){var i=t.table.hook.reading.fire;var u=o(t,r);var a=t.limit<Infinity?u.getAll(t.range,t.limit):u.getAll(t.range);a.onerror=Un(n);a.onsuccess=i===re?Hn(e):Hn(function(t){try{e(t.map(i))}catch(e){n(e)}})}else{var c=[];s(t,function(e){c.push(e)},function n(){e(c)},n,r)}},n)},offset:function e(n){var r=this._ctx;if(n<=0)return this;r.offset+=n;if(Ee(r)){t(r,function(){var e=n;return function(n,t){if(e===0)return true;if(e===1){--e;return false}t(function(){n.advance(e);e=0});return false}})}else{t(r,function(){var e=n;return function(){return--e<0}})}return this},limit:function e(n){this._ctx.limit=Math.min(this._ctx.limit,n);t(this._ctx,function(){var e=n;return function(n,t,r){if(--e<=0)t(r);return e>=0}},true);return this},until:function n(t,r){e(this._ctx,function(e,n,i){if(t(e.value)){n(i);return r}else{return true}});return this},first:function e(n){return this.limit(1).toArray(function(e){return e[0]}).then(n)},last:function e(n){return this.reverse().first(n)},filter:function n(t){e(this._ctx,function(e){return t(e.value)});r(this._ctx,t);return this},and:function e(n){return this.filter(n)},or:function e(n){return new Pe(this._ctx.table,n,this)},reverse:function e(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";if(this._ondirectionchange)this._ondirectionchange(this._ctx.dir);return this},desc:function e(){return this.reverse()},eachKey:function e(n){var t=this._ctx;t.keysOnly=!t.isMatch;return this.each(function(e,t){n(t.key,t)})},eachUniqueKey:function e(n){this._ctx.unique="unique";return this.eachKey(n)},eachPrimaryKey:function e(n){var t=this._ctx;t.keysOnly=!t.isMatch;return this.each(function(e,t){n(t.primaryKey,t)})},keys:function e(n){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,n){r.push(n.key)}).then(function(){return r}).then(n)},primaryKeys:function e(n){var t=this._ctx;if(Z&&t.dir==="next"&&Ee(t,true)&&t.limit>0){return this._read(function(e,n,r){var i=o(t,r);var u=t.limit<Infinity?i.getAllKeys(t.range,t.limit):i.getAllKeys(t.range);u.onerror=Un(n);u.onsuccess=Hn(e)}).then(n)}t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,n){r.push(n.primaryKey)}).then(function(){return r}).then(n)},uniqueKeys:function e(n){this._ctx.unique="unique";return this.keys(n)},firstKey:function e(n){return this.limit(1).keys(function(e){return e[0]}).then(n)},lastKey:function e(n){return this.reverse().firstKey(n)},distinct:function n(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var i={};e(this._ctx,function(e){var n=e.primaryKey.toString();var t=a(i,n);i[n]=true;return!t});return this},modify:function e(t){var r=this,o=this._ctx,u=o.table.hook,s=u.updating.fire,c=u.deleting.fire;return this._write(function(e,o,u,f){var l;if(typeof t==="function"){if(s===te&&c===te){l=t}else{l=function e(r){var i=A(r);if(t.call(this,r,this)===false)return false;if(!a(this,"value")){c.call(this,this.primKey,r,f)}else{var o=I(i,this.value);var u=s.call(this,o,this.primKey,i,f);if(u){r=this.value;n(u).forEach(function(e){x(r,e,u[e])})}}}}}else if(s===te){var h=n(t);var d=h.length;l=function e(n){var r=false;for(var i=0;i<d;++i){var o=h[i],u=t[o];if(k(n,o)!==u){x(n,o,u);r=true}}return r}}else{var v=t;t=j(v);l=function e(r){var o=false;var u=s.call(this,t,this.primKey,A(r),f);if(u)i(t,u);n(t).forEach(function(e){var n=t[e];if(k(r,e)!==n){x(r,e,n);o=true}});if(u)t=j(v);return o}}var p=0;var y=0;var m=false;var g=[];var b=[];var w=null;function P(e,n){w=n.primaryKey;var t={primKey:n.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){g.push(e);b.push(t.primKey);S();return true}if(l.call(t,e,t)!==false){var i=!a(t,"value");++p;_(function(){var e=i?n.delete():n.update(t.value);e._hookCtx=t;e.onerror=Vn(r);e.onsuccess=Rn(function(){++y;S()})},r)}else if(t.onsuccess){t.onsuccess(t.value)}}function E(e){if(e){g.push(e);b.push(w)}return o(new G("Error modifying one or more objects",g,y,b))}function S(){if(m&&y+g.length===p){if(g.length>0)E();else e(y)}}r.clone().raw()._iterate(P,function(){m=true;S()},E,u)})},delete:function e(){var n=this;var t=this._ctx,r=t.range,i=t.table.hook.deleting.fire,o=i!==te;if(!o&&Ee(t)&&(t.isPrimKey&&!Tn||!r)){return this._write(function(e,n,t){var i=Un(n),o=r?t.count(r):t.count();o.onerror=i;o.onsuccess=function(){var u=o.result;_(function(){var n=r?t.delete(r):t.clear();n.onerror=i;n.onsuccess=function(){return e(u)}},function(e){return n(e)})}})}var u=o?2e3:1e4;return this._write(function(e,r,a,s){var c=0;var f=n.clone({keysOnly:!t.isMatch&&!o}).distinct().limit(u).raw();var l=[];var h=function e(){return f.each(o?function(e,n){l.push([n.primaryKey,n.value])}:function(e,n){l.push(n.primaryKey)}).then(function(){o?l.sort(function(e,n){return Fe(e[0],n[0])}):l.sort(Fe);return ke(a,s,l,o,i)}).then(function(){var n=l.length;c+=n;l=[];return n<u?c:e()})};e(h())})}}});function Se(e,n){return e._cfg.version-n._cfg.version}function Oe(e,n,t){n.forEach(function(n){var r=t[n];e.forEach(function(e){if(!(n in e)){if(e===xe.prototype||e instanceof xe){f(e,n,{get:function e(){return this.table(n)}})}else{e[n]=new ge(n,r)}}})})}function Ae(e){e.forEach(function(e){for(var n in e){if(e[n]instanceof ge)delete e[n]}})}function Ie(e,n,t,r,i,o){var u=o?function(e,n,r){return t(o(e),n,r)}:t;var a=nn(u,i);if(!e.onerror)e.onerror=Un(i);if(n){e.onsuccess=w(function t(){var o=e.result;if(o){var u=function e(){o.continue()};if(n(o,function(e){u=e},r,i))a(o.value,o,function(e){u=e});u()}else{r()}},i)}else{e.onsuccess=w(function n(){var t=e.result;if(t){var i=function e(){t.continue()};a(t.value,t,function(e){i=e});i()}else{r()}},i)}}function De(e){var n=[];e.split(",").forEach(function(e){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,"");var i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;n.push(new Wn(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),t(i),/\./.test(e)))});return n}function Ce(e,n){return d.cmp(e,n)}function Te(e,n){return Ce(e,n)<0?e:n}function Be(e,n){return Ce(e,n)>0?e:n}function Fe(e,n){return d.cmp(e,n)}function Ne(e,n){return d.cmp(n,e)}function qe(e,n){return e<n?-1:e===n?0:1}function Re(e,n){return e>n?-1:e===n?0:1}function Ue(e,n){return e?n?function(){return e.apply(this,arguments)&&n.apply(this,arguments)}:e:n}function He(){V.verno=D.version/10;V._dbSchema=g={};E=p(D.objectStoreNames,0);if(E.length===0)return;var e=D.transaction(Gn(E),"readonly");E.forEach(function(n){var t=e.objectStore(n),r=t.keyPath,i=r&&typeof r==="string"&&r.indexOf(".")!==-1;var o=new Wn(r,r||"",false,false,!!t.autoIncrement,r&&typeof r!=="string",i);var u=[];for(var a=0;a<t.indexNames.length;++a){var s=t.index(t.indexNames[a]);r=s.keyPath;i=r&&typeof r==="string"&&r.indexOf(".")!==-1;var c=new Wn(s.name,r,!!s.unique,!!s.multiEntry,false,r&&typeof r!=="string",i);u.push(c)}g[n]=new Qn(n,o,u,{})});Oe([O],n(g),g)}function Ve(e,n){var t=n.db.objectStoreNames;for(var i=0;i<t.length;++i){var o=t[i];var u=n.objectStore(o);Z="getAll"in u;for(var a=0;a<u.indexNames.length;++a){var s=u.indexNames[a];var c=u.index(s).keyPath;var f=typeof c==="string"?c:"["+p(c).join("+")+"]";if(e[o]){var l=e[o].idxByName[f];if(l)l.name=s}}}if(/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604){Z=false}}function ze(e){V.on("blocked").fire(e);Dn.filter(function(e){return e.name===V.name&&e!==V&&!e._vcFired}).map(function(n){return n.on("versionchange").fire(e)})}i(this,{Collection:je,Table:ge,Transaction:xe,Version:ne,WhereClause:Pe});ee();l.forEach(function(e){e(V)})}function Nn(e){if(typeof e==="function"){return new e}else if(t(e)){return[Nn(e[0])]}else if(e&&babelHelpers.typeof(e)==="object"){var n={};qn(n,e);return n}else{return e}}function qn(e,t){n(t).forEach(function(n){var r=Nn(t[n]);e[n]=r});return e}function Rn(e){return nn(function(n){var t=n.target,r=t._hookCtx,i=r.value||t.result,o=r&&r.onsuccess;o&&o(i);e&&e(i)},e)}function Un(e){return nn(function(n){zn(n);e(n.target.error);return false})}function Hn(e){return nn(function(n){e(n.target.result)})}function Vn(e){return nn(function(n){var t=n.target,r=t.error,i=t._hookCtx,o=i&&i.onerror;o&&o(r);zn(n);e(r);return false})}function zn(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault()}function Ln(e){var n=function n(t){return e.next(t)},r=function n(t){return e.throw(t)},i=u(n),o=u(r);function u(e){return function(n){var r=e(n),u=r.value;return r.done?u:!u||typeof u.then!=="function"?t(u)?Me.all(u).then(i,o):i(u):u.then(i,o)}}return u(n)()}function Wn(e,n,t,r,i,o,u){this.name=e;this.keyPath=n;this.unique=t;this.multi=r;this.auto=i;this.compound=o;this.dotted=u;var a=typeof n==="string"?n:n&&"["+[].join.call(n,"+")+"]";this.src=(t?"&":"")+(r?"*":"")+(i?"++":"")+a}function Qn(e,n,t,r){this.name=e;this.primKey=n||new Wn;this.indexes=t||[new Wn];this.instanceTemplate=r;this.mappedClass=null;this.idxByName=b(t,function(e){return[e.name,e]})}function Gn(e){return e.length===1?e[0]:e}function Jn(e){var n=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return n&&n.bind(e)}s(Mn,ne);s(Mn,{delete:function e(n){var t=new Mn(n),r=t.delete();r.onblocked=function(e){t.on("blocked",e);return this};return r},exists:function e(n){return new Mn(n).open().then(function(e){e.close();return true}).catch(Mn.NoSuchDatabaseError,function(){return false})},getDatabaseNames:function e(n){var e=Jn(Mn.dependencies.indexedDB);return e?new Me(function(n,t){var r=e();r.onsuccess=function(e){n(p(e.target.result,0))};r.onerror=Un(t)}).then(n):Fn.dbnames.toCollection().primaryKeys(n)},defineClass:function e(){function n(e){if(e)i(this,e)}return n},applyStructure:qn,ignoreTransaction:function e(n){return Ke.trans?mn(Ke.transless,n):n()},vip:function e(n){return cn(function(){Ke.letThrough=true;return n()})},async:function e(n){return function(){try{var e=Ln(n.apply(this,arguments));if(!e||typeof e.then!=="function")return Me.resolve(e);return e}catch(e){return xn(e)}}},spawn:function e(n,t,r){try{var i=Ln(n.apply(r,t||[]));if(!i||typeof i.then!=="function")return Me.resolve(i);return i}catch(e){return xn(e)}},currentTransaction:{get:function e(){return Ke.trans||null}},waitFor:function e(n,t){var r=Me.resolve(typeof n==="function"?Mn.ignoreTransaction(n):n).timeout(t||6e4);return Ke.trans?Ke.trans.waitFor(r):r},Promise:Me,debug:{get:function e(){return B},set:function e(n){F(n,n==="dexie"?function(){return true}:Bn)}},derive:l,extend:i,props:s,override:y,Events:Pn,getByKeyPath:k,setByKeyPath:x,delByKeyPath:P,shallowClone:j,deepClone:A,getObjectDiff:I,asap:g,maxKey:Sn,minKey:On,addons:[],connections:Dn,MultiModifyError:$.Modify,errnames:X,IndexSpec:Wn,TableSchema:Qn,dependencies:function(){try{return{indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:jn,version:jn.split(".").map(function(e){return parseInt(e)}).reduce(function(e,n,t){return e+n/Math.pow(10,t*2)}),default:Mn,Dexie:Mn});Me.rejectionMapper=ee;Fn=new Mn("__dbnames");Fn.version(1).stores({dbnames:"name"});(function(){var e="Dexie.DatabaseNames";try{if((typeof localStorage==="undefined"?"undefined":babelHelpers.typeof(localStorage))!==undefined&&r.document!==undefined){JSON.parse(localStorage.getItem(e)||"[]").forEach(function(e){return Fn.dbnames.put({name:e}).catch(te)});localStorage.removeItem(e)}}catch(e){}})();var Xn=function e(n){babelHelpers.classCallCheck(this,e);return new Mn(n)};Xn.delete=Mn.delete;Xn.exists=Mn.exists;Xn.getDatabaseNames=Mn.getDatabaseNames;Xn.defineClass=Mn.defineClass;Xn.applyStructure=Mn.applyStructure;Xn.ignoreTransaction=Mn.ignoreTransaction;Xn.vip=Mn.vip;Xn.async=Mn.async;Xn.spawn=Mn.spawn;Xn.currentTransaction=Mn.currentTransaction;Xn.waitFor=Mn.waitFor;Xn.Promise=Mn.Promise;Xn.debug=Mn.debug;Xn.derive=Mn.derive;Xn.extend=Mn.extend;Xn.props=Mn.props;Xn.override=Mn.override;Xn.Events=Mn.Events;Xn.getByKeyPath=Mn.getByKeyPath;Xn.setByKeyPath=Mn.setByKeyPath;Xn.delByKeyPath=Mn.delByKeyPath;Xn.shallowClone=Mn.shallowClone;Xn.deepClone=Mn.deepClone;Xn.getObjectDiff=Mn.getObjectDiff;Xn.asap=Mn.asap;Xn.maxKey=Mn.maxKey;Xn.minKey=Mn.minKey;Xn.addons=Mn.addons;Xn.connections=Mn.connections;Xn.MultiModifyError=Mn.MultiModifyError;Xn.errnames=Mn.errnames;Xn.IndexSpec=Mn.IndexSpec;Xn.TableSchema=Mn.TableSchema;Xn.dependencies=Mn.dependencies;Xn.semVer=Mn.semVer;Xn.version=Mn.version;Xn.default=Mn.default;Xn.Dexie=Mn.Dexie;e.Dexie=Xn})(this.BX=this.BX||{});
 



// file: /bitrix/js/ui/vue/components/smiles/dist/smiles.bundle.js
(function(s,o,l,m,b){"use strict";var y=function(){function s(o){babelHelpers.classCallCheck(this,s);if(typeof o!=="undefined"){this.restClient=o}else{this.restClient=new BX.RestClient}this.db=new b.Dexie("bx-ui-smiles");this.db.version(1).stores({sets:"id, parentId, name, type, image",smiles:"id, setId, name, image, typing, width, height, originalWidth, originalHeight, definition"})}babelHelpers.createClass(s,[{key:"loadFromCache",value:function s(){var o=this;var l=new BX.Promise;var m=[];var b=[];this.db.transaction("r",this.db.sets,this.db.smiles,function(){o.db.sets.each(function(s){return o.db.smiles.where("setId").equals(s.id).first().then(function(o){m.push(babelHelpers.objectSpread({},s,{image:o.image}))}).catch(function(s){return l.reject(s)})}).then(function(){return o.db.smiles.where("setId").equals(m[0].id).each(function(s){b.push(s)})}).then(function(){var s={sets:m,smiles:b};l.resolve(s)}).catch(function(s){return l.reject(s)})});return l}},{key:"loadFromServer",value:function s(){var o=this;var l=new BX.Promise;this.restClient.callMethod("smile.get").then(function(s){var m=[];var b=[];var y=s.data();var t={};y.smiles=y.smiles.map(function(s){if(!t[s.setId]){t[s.setId]=s.image}var o=s.width;if(s.definition=="HD"){o=o*2}else if(s.definition=="UHD"){o=o*4}var l=s.height;if(s.definition=="HD"){l=l*2}else if(s.definition=="UHD"){l=l*4}return babelHelpers.objectSpread({},s,{originalWidth:o,originalHeight:l})});y.sets.forEach(function(s){m.push(babelHelpers.objectSpread({},s,{image:t[s.id]}))});y.smiles.forEach(function(s){if(s.setId==m[0].id){b.push(s)}});var e={sets:m,smiles:b};l.resolve(e);o.db.smiles.clear().then(function(){return o.db.sets.clear().then(function(){o.db.sets.bulkAdd(m);o.db.smiles.bulkAdd(y.smiles)}).catch(function(s){return l.reject(s)})}).catch(function(s){return l.reject(s)})}).catch(function(s){return l.reject(s)});return l}},{key:"changeSet",value:function s(o){var l=new BX.Promise;this.db.smiles.where("setId").equals(o).toArray(function(s){l.resolve(s)}).catch(function(s){return l.reject(s)});return l}}]);return s}();var t=[{id:1,code:"PEOPLE",showForWindows:true,emoji:[{symbol:"\ud83d\ude00"},{symbol:"\ud83d\ude03"},{symbol:"\ud83d\ude04"},{symbol:"\ud83d\ude01"},{symbol:"\ud83d\ude06"},{symbol:"\ud83d\ude05"},{symbol:"\ud83d\ude02"},{symbol:"\ud83e\udd23"},{symbol:"\ud83d\ude0a"},{symbol:"\ud83d\ude07"},{symbol:"\ud83d\ude42"},{symbol:"\ud83d\ude43"},{symbol:"\ud83d\ude09"},{symbol:"\ud83d\ude0c"},{symbol:"\ud83d\ude0d"},{symbol:"\ud83e\udd70"},{symbol:"\ud83d\ude18"},{symbol:"\ud83d\ude17"},{symbol:"\ud83d\ude19"},{symbol:"\ud83d\ude1a"},{symbol:"\ud83d\ude0b"},{symbol:"\ud83d\ude1b"},{symbol:"\ud83d\ude1d"},{symbol:"\ud83d\ude1c"},{symbol:"\ud83e\udd2a"},{symbol:"\ud83e\udd28"},{symbol:"\ud83e\uddd0"},{symbol:"\ud83e\udd13"},{symbol:"\ud83d\ude0e"},{symbol:"\ud83e\udd29"},{symbol:"\ud83e\udd73"},{symbol:"\ud83d\ude0f"},{symbol:"\ud83d\ude12"},{symbol:"\ud83d\ude1e"},{symbol:"\ud83d\ude14"},{symbol:"\ud83d\ude1f"},{symbol:"\ud83d\ude15"},{symbol:"\u2639"},{symbol:"\ud83d\ude41"},{symbol:"\ud83d\ude23"},{symbol:"\ud83d\ude2b"},{symbol:"\ud83d\ude29"},{symbol:"\ud83e\udd7a"},{symbol:"\ud83d\ude22"},{symbol:"\ud83d\ude2d"},{symbol:"\ud83d\ude24"},{symbol:"\ud83d\ude20"},{symbol:"\ud83d\ude21"},{symbol:"\ud83e\udd2c"},{symbol:"\ud83e\udd2f"},{symbol:"\ud83d\ude33"},{symbol:"\ud83e\udd75"},{symbol:"\ud83e\udd76"},{symbol:"\ud83d\ude31"},{symbol:"\ud83d\ude28"},{symbol:"\ud83d\ude30"},{symbol:"\ud83d\ude25"},{symbol:"\ud83d\ude13"},{symbol:"\ud83e\udd17"},{symbol:"\ud83e\udd14"},{symbol:"\ud83e\udd2d"},{symbol:"\ud83e\udd2b"},{symbol:"\ud83e\udd25"},{symbol:"\ud83d\ude36"},{symbol:"\ud83d\ude10"},{symbol:"\ud83d\ude11"},{symbol:"\ud83d\ude2c"},{symbol:"\ud83d\ude44"},{symbol:"\ud83d\ude2f"},{symbol:"\ud83d\ude26"},{symbol:"\ud83d\ude27"},{symbol:"\ud83d\ude2e"},{symbol:"\ud83d\ude32"},{symbol:"\ud83d\ude34"},{symbol:"\ud83e\udd24"},{symbol:"\ud83d\ude2a"},{symbol:"\ud83d\ude35"},{symbol:"\ud83e\udd10"},{symbol:"\ud83e\udd74"},{symbol:"\ud83e\udd22"},{symbol:"\ud83e\udd2e"},{symbol:"\ud83e\udd27"},{symbol:"\ud83d\ude37"},{symbol:"\ud83e\udd12"},{symbol:"\ud83e\udd15"},{symbol:"\ud83e\udd11"},{symbol:"\ud83e\udd20"},{symbol:"\ud83d\ude08"},{symbol:"\ud83d\udc7f"},{symbol:"\ud83d\udc79"},{symbol:"\ud83d\udc7a"},{symbol:"\ud83e\udd21"},{symbol:"\ud83d\udca9"},{symbol:"\ud83d\udc7b"},{symbol:"\u2620"},{symbol:"\ud83d\udc80"},{symbol:"\ud83d\udc7d"},{symbol:"\ud83d\udc7e"},{symbol:"\ud83e\udd16"},{symbol:"\ud83c\udf83"},{symbol:"\ud83d\ude3a"},{symbol:"\ud83d\ude38"},{symbol:"\ud83d\ude39"},{symbol:"\ud83d\ude3b"},{symbol:"\ud83d\ude3c"},{symbol:"\ud83d\ude3d"},{symbol:"\ud83d\ude40"},{symbol:"\ud83d\ude3f"},{symbol:"\ud83d\ude3e"},{symbol:"\ud83e\udd32"},{symbol:"\ud83d\udc50"},{symbol:"\ud83d\ude4c"},{symbol:"\ud83d\udc4f"},{symbol:"\ud83e\udd1d"},{symbol:"\ud83d\udc4d"},{symbol:"\ud83d\udc4e"},{symbol:"\ud83d\udc4a"},{symbol:"\u270a"},{symbol:"\ud83e\udd1b"},{symbol:"\ud83e\udd1c"},{symbol:"\ud83e\udd1e"},{symbol:"\u270c"},{symbol:"\ud83e\udd1f"},{symbol:"\ud83e\udd18"},{symbol:"\ud83d\udc4c"},{symbol:"\ud83d\udc48"},{symbol:"\ud83d\udc49"},{symbol:"\ud83d\udc46"},{symbol:"\ud83d\udc47"},{symbol:"\ud83e\udd1a"},{symbol:"\ud83d\udd90"},{symbol:"\ud83d\udd96"},{symbol:"\ud83d\udc4b"},{symbol:"\ud83e\udd19"},{symbol:"\ud83d\udcaa"},{symbol:"\ud83d\udd95"},{symbol:"\u270d"},{symbol:"\ud83d\ude4f"},{symbol:"\ud83e\uddb6"},{symbol:"\ud83e\uddb5"},{symbol:"\ud83d\udc84"},{symbol:"\ud83d\udc8b"},{symbol:"\ud83d\udc44"},{symbol:"\ud83e\uddb7"},{symbol:"\ud83d\udc45"},{symbol:"\ud83d\udc43"},{symbol:"\ud83d\udc63"},{symbol:"\ud83d\udc41"},{symbol:"\ud83d\udc40"},{symbol:"\ud83e\udde0"},{symbol:"\ud83d\udde3"},{symbol:"\ud83d\udc64"},{symbol:"\ud83d\udc65"},{symbol:"\ud83d\udc76"},{symbol:"\ud83d\udc67"},{symbol:"\ud83e\uddd2"},{symbol:"\ud83d\udc66"},{symbol:"\ud83d\udc69"},{symbol:"\ud83e\uddd1"},{symbol:"\ud83d\udc68"},{symbol:"\ud83d\udc71"},{symbol:"\ud83e\uddd4"},{symbol:"\ud83d\udc75"},{symbol:"\ud83e\uddd3"},{symbol:"\ud83d\udc74"},{symbol:"\ud83d\udc72"},{symbol:"\ud83d\udc73"},{symbol:"\ud83e\uddd5"},{symbol:"\ud83d\udc6e"},{symbol:"\ud83d\udc77"},{symbol:"\ud83d\udc82"},{symbol:"\ud83d\udd75"},{symbol:"\u2695"},{symbol:"\ud83c\udf3e"},{symbol:"\ud83c\udf73"},{symbol:"\ud83c\udf93"},{symbol:"\ud83c\udfa4"},{symbol:"\ud83c\udfeb"},{symbol:"\ud83c\udfed"},{symbol:"\ud83d\udcbb"},{symbol:"\ud83d\udcbc"},{symbol:"\ud83d\udc69"},{symbol:"\u2764"},{symbol:"\ud83d\udd27"},{symbol:"\ud83d\udd2c"},{symbol:"\ud83c\udfa8"},{symbol:"\ud83d\ude92"},{symbol:"\ud83d\ude80"},{symbol:"\ud83d\udc70"},{symbol:"\ud83e\udd35"},{symbol:"\ud83d\udc78"},{symbol:"\ud83e\udd34"},{symbol:"\ud83e\uddb8"},{symbol:"\ud83e\uddb9"},{symbol:"\ud83e\udd36"},{symbol:"\ud83c\udf85"},{symbol:"\ud83e\uddd9"},{symbol:"\ud83e\udddd"},{symbol:"\ud83e\udddb"},{symbol:"\ud83e\udddf"},{symbol:"\ud83e\uddde"},{symbol:"\ud83e\udddc"},{symbol:"\ud83e\uddda"},{symbol:"\ud83d\udc7c"},{symbol:"\ud83e\udd30"},{symbol:"\ud83e\udd31"},{symbol:"\ud83d\ude47"},{symbol:"\ud83d\udc81"},{symbol:"\ud83d\ude45"},{symbol:"\ud83d\ude46"},{symbol:"\ud83d\ude4b"},{symbol:"\ud83e\udd26"},{symbol:"\ud83e\udd37"},{symbol:"\ud83d\ude4e"},{symbol:"\ud83d\ude4d"},{symbol:"\ud83d\udc87"},{symbol:"\ud83d\udc86"},{symbol:"\ud83e\uddd6"},{symbol:"\ud83d\udc85"},{symbol:"\ud83e\udd33"},{symbol:"\ud83d\udc83"},{symbol:"\ud83d\udd7a"},{symbol:"\ud83d\udc6f"},{symbol:"\ud83d\udd74"},{symbol:"\ud83d\udeb6"},{symbol:"\ud83c\udfc3"},{symbol:"\ud83d\udc6b"},{symbol:"\ud83d\udc6d"},{symbol:"\ud83d\udc6c"},{symbol:"\ud83d\udc91"},{symbol:"\ud83d\udc8f"},{symbol:"\ud83d\udc6a"},{symbol:"\ud83e\uddf6"},{symbol:"\ud83e\uddf5"},{symbol:"\ud83e\udde5"},{symbol:"\ud83e\udd7c"},{symbol:"\ud83d\udc5a"},{symbol:"\ud83d\udc55"},{symbol:"\ud83d\udc56"},{symbol:"\ud83d\udc54"},{symbol:"\ud83d\udc57"},{symbol:"\ud83d\udc59"},{symbol:"\ud83d\udc58"},{symbol:"\ud83e\udd7f"},{symbol:"\ud83d\udc60"},{symbol:"\ud83d\udc61"},{symbol:"\ud83d\udc62"},{symbol:"\ud83d\udc5e"},{symbol:"\ud83d\udc5f"},{symbol:"\ud83e\udd7e"},{symbol:"\ud83e\udde6"},{symbol:"\ud83e\udde4"},{symbol:"\ud83e\udde3"},{symbol:"\ud83c\udfa9"},{symbol:"\ud83e\udde2"},{symbol:"\ud83d\udc52"},{symbol:"\ud83c\udf93"},{symbol:"\u26d1"},{symbol:"\ud83d\udc51"},{symbol:"\ud83d\udc8d"},{symbol:"\ud83d\udc5d"},{symbol:"\ud83d\udc5b"},{symbol:"\ud83d\udc5c"},{symbol:"\ud83d\udcbc"},{symbol:"\ud83c\udf92"},{symbol:"\ud83e\uddf3"},{symbol:"\ud83d\udc53"},{symbol:"\ud83d\udd76"},{symbol:"\ud83e\udd7d"},{symbol:"\ud83c\udf02"}]},{id:2,code:"ANIMALS",showForWindows:true,emoji:[{symbol:"\ud83d\udc36"},{symbol:"\ud83d\udc31"},{symbol:"\ud83d\udc2d"},{symbol:"\ud83d\udc39"},{symbol:"\ud83d\udc30"},{symbol:"\ud83e\udd8a"},{symbol:"\ud83d\udc3b"},{symbol:"\ud83d\udc3c"},{symbol:"\ud83d\udc28"},{symbol:"\ud83d\udc2f"},{symbol:"\ud83e\udd81"},{symbol:"\ud83d\udc2e"},{symbol:"\ud83d\udc37"},{symbol:"\ud83d\udc3d"},{symbol:"\ud83d\udc38"},{symbol:"\ud83d\udc35"},{symbol:"\ud83d\ude48"},{symbol:"\ud83d\ude49"},{symbol:"\ud83d\ude4a"},{symbol:"\ud83d\udc12"},{symbol:"\ud83d\udc14"},{symbol:"\ud83d\udc27"},{symbol:"\ud83d\udc26"},{symbol:"\ud83d\udc24"},{symbol:"\ud83d\udc23"},{symbol:"\ud83d\udc25"},{symbol:"\ud83e\udd86"},{symbol:"\ud83e\udd85"},{symbol:"\ud83e\udd89"},{symbol:"\ud83e\udd87"},{symbol:"\ud83d\udc3a"},{symbol:"\ud83d\udc17"},{symbol:"\ud83d\udc34"},{symbol:"\ud83e\udd84"},{symbol:"\ud83d\udc1d"},{symbol:"\ud83d\udc1b"},{symbol:"\ud83e\udd8b"},{symbol:"\ud83d\udc0c"},{symbol:"\ud83d\udc1e"},{symbol:"\ud83d\udc1c"},{symbol:"\ud83e\udd9f"},{symbol:"\ud83e\udd97"},{symbol:"\ud83d\udd77"},{symbol:"\ud83d\udd78"},{symbol:"\ud83e\udd82"},{symbol:"\ud83d\udc22"},{symbol:"\ud83d\udc0d"},{symbol:"\ud83e\udd8e"},{symbol:"\ud83e\udd96"},{symbol:"\ud83e\udd95"},{symbol:"\ud83d\udc19"},{symbol:"\ud83e\udd91"},{symbol:"\ud83e\udd90"},{symbol:"\ud83e\udd9e"},{symbol:"\ud83e\udd80"},{symbol:"\ud83d\udc21"},{symbol:"\ud83d\udc20"},{symbol:"\ud83d\udc1f"},{symbol:"\ud83d\udc2c"},{symbol:"\ud83d\udc33"},{symbol:"\ud83d\udc0b"},{symbol:"\ud83e\udd88"},{symbol:"\ud83d\udc0a"},{symbol:"\ud83d\udc05"},{symbol:"\ud83d\udc06"},{symbol:"\ud83e\udd93"},{symbol:"\ud83e\udd8d"},{symbol:"\ud83d\udc18"},{symbol:"\ud83e\udd9b"},{symbol:"\ud83e\udd8f"},{symbol:"\ud83d\udc2a"},{symbol:"\ud83d\udc2b"},{symbol:"\ud83e\udd92"},{symbol:"\ud83e\udd98"},{symbol:"\ud83d\udc03"},{symbol:"\ud83d\udc02"},{symbol:"\ud83d\udc04"},{symbol:"\ud83d\udc0e"},{symbol:"\ud83d\udc16"},{symbol:"\ud83d\udc0f"},{symbol:"\ud83d\udc11"},{symbol:"\ud83e\udd99"},{symbol:"\ud83d\udc10"},{symbol:"\ud83e\udd8c"},{symbol:"\ud83d\udc15"},{symbol:"\ud83d\udc29"},{symbol:"\ud83d\udc08"},{symbol:"\ud83d\udc13"},{symbol:"\ud83e\udd83"},{symbol:"\ud83e\udd9a"},{symbol:"\ud83e\udd9c"},{symbol:"\ud83e\udda2"},{symbol:"\ud83d\udd4a"},{symbol:"\ud83d\udc07"},{symbol:"\ud83e\udd9d"},{symbol:"\ud83e\udda1"},{symbol:"\ud83d\udc01"},{symbol:"\ud83d\udc00"},{symbol:"\ud83d\udc3f"},{symbol:"\ud83e\udd94"},{symbol:"\ud83d\udc3e"},{symbol:"\ud83d\udc09"},{symbol:"\ud83d\udc32"},{symbol:"\ud83c\udf35"},{symbol:"\ud83c\udf84"},{symbol:"\ud83c\udf32"},{symbol:"\ud83c\udf33"},{symbol:"\ud83c\udf34"},{symbol:"\ud83c\udf31"},{symbol:"\ud83c\udf3f"},{symbol:"\u2618"},{symbol:"\ud83c\udf40"},{symbol:"\ud83c\udf8d"},{symbol:"\ud83c\udf8b"},{symbol:"\ud83c\udf43"},{symbol:"\ud83c\udf42"},{symbol:"\ud83c\udf41"},{symbol:"\ud83c\udf44"},{symbol:"\ud83d\udc1a"},{symbol:"\ud83c\udf3e"},{symbol:"\ud83d\udc90"},{symbol:"\ud83c\udf37"},{symbol:"\ud83c\udf39"},{symbol:"\ud83e\udd40"},{symbol:"\ud83c\udf3a"},{symbol:"\ud83c\udf38"},{symbol:"\ud83c\udf3c"},{symbol:"\ud83c\udf3b"},{symbol:"\ud83c\udf1e"},{symbol:"\ud83c\udf1d"},{symbol:"\ud83c\udf1b"},{symbol:"\ud83c\udf1c"},{symbol:"\ud83c\udf1a"},{symbol:"\ud83c\udf15"},{symbol:"\ud83c\udf16"},{symbol:"\ud83c\udf17"},{symbol:"\ud83c\udf18"},{symbol:"\ud83c\udf11"},{symbol:"\ud83c\udf12"},{symbol:"\ud83c\udf13"},{symbol:"\ud83c\udf14"},{symbol:"\ud83c\udf19"},{symbol:"\ud83c\udf0e"},{symbol:"\ud83c\udf0d"},{symbol:"\ud83c\udf0f"},{symbol:"\ud83d\udcab"},{symbol:"\u2b50"},{symbol:"\ud83c\udf1f"},{symbol:"\u2728"},{symbol:"\u26a1"},{symbol:"\u2604"},{symbol:"\ud83d\udca5"},{symbol:"\ud83d\udd25"},{symbol:"\ud83c\udf2a"},{symbol:"\ud83c\udf08"},{symbol:"\u2600"},{symbol:"\ud83c\udf24"},{symbol:"\ud83c\udf25"},{symbol:"\ud83c\udf26"},{symbol:"\ud83c\udf27"},{symbol:"\ud83c\udf29"},{symbol:"\ud83c\udf28"},{symbol:"\u2744"},{symbol:"\u2603"},{symbol:"\u26c4"},{symbol:"\ud83c\udf2c"},{symbol:"\ud83d\udca8"},{symbol:"\ud83d\udca7"},{symbol:"\ud83d\udca6"},{symbol:"\u2614"},{symbol:"\u2602"},{symbol:"\ud83c\udf0a"},{symbol:"\ud83c\udf2b"}]},{id:3,code:"FOOD",showForWindows:true,emoji:[{symbol:"\ud83c\udf4f"},{symbol:"\ud83c\udf4e"},{symbol:"\ud83c\udf50"},{symbol:"\ud83c\udf4a"},{symbol:"\ud83c\udf4b"},{symbol:"\ud83c\udf4c"},{symbol:"\ud83c\udf49"},{symbol:"\ud83c\udf47"},{symbol:"\ud83c\udf53"},{symbol:"\ud83c\udf48"},{symbol:"\ud83c\udf52"},{symbol:"\ud83c\udf51"},{symbol:"\ud83e\udd6d"},{symbol:"\ud83c\udf4d"},{symbol:"\ud83e\udd65"},{symbol:"\ud83e\udd5d"},{symbol:"\ud83c\udf45"},{symbol:"\ud83c\udf46"},{symbol:"\ud83e\udd51"},{symbol:"\ud83e\udd66"},{symbol:"\ud83e\udd6c"},{symbol:"\ud83e\udd52"},{symbol:"\ud83c\udf36"},{symbol:"\ud83c\udf3d"},{symbol:"\ud83e\udd55"},{symbol:"\ud83e\udd54"},{symbol:"\ud83c\udf60"},{symbol:"\ud83e\udd50"},{symbol:"\ud83e\udd6f"},{symbol:"\ud83c\udf5e"},{symbol:"\ud83e\udd56"},{symbol:"\ud83e\udd68"},{symbol:"\ud83e\uddc0"},{symbol:"\ud83e\udd5a"},{symbol:"\ud83c\udf73"},{symbol:"\ud83e\udd5e"},{symbol:"\ud83e\udd53"},{symbol:"\ud83e\udd69"},{symbol:"\ud83c\udf57"},{symbol:"\ud83c\udf56"},{symbol:"\ud83e\uddb4"},{symbol:"\ud83c\udf2d"},{symbol:"\ud83c\udf54"},{symbol:"\ud83c\udf5f"},{symbol:"\ud83c\udf55"},{symbol:"\ud83e\udd6a"},{symbol:"\ud83e\udd59"},{symbol:"\ud83c\udf2e"},{symbol:"\ud83c\udf2f"},{symbol:"\ud83e\udd57"},{symbol:"\ud83e\udd58"},{symbol:"\ud83e\udd6b"},{symbol:"\ud83c\udf5d"},{symbol:"\ud83c\udf5c"},{symbol:"\ud83c\udf72"},{symbol:"\ud83c\udf5b"},{symbol:"\ud83c\udf63"},{symbol:"\ud83c\udf71"},{symbol:"\ud83e\udd5f"},{symbol:"\ud83c\udf64"},{symbol:"\ud83c\udf59"},{symbol:"\ud83c\udf5a"},{symbol:"\ud83c\udf58"},{symbol:"\ud83c\udf65"},{symbol:"\ud83e\udd60"},{symbol:"\ud83e\udd6e"},{symbol:"\ud83c\udf62"},{symbol:"\ud83c\udf61"},{symbol:"\ud83c\udf67"},{symbol:"\ud83c\udf68"},{symbol:"\ud83c\udf66"},{symbol:"\ud83e\udd67"},{symbol:"\ud83e\uddc1"},{symbol:"\ud83c\udf70"},{symbol:"\ud83c\udf82"},{symbol:"\ud83c\udf6e"},{symbol:"\ud83c\udf6d"},{symbol:"\ud83c\udf6c"},{symbol:"\ud83c\udf6b"},{symbol:"\ud83c\udf7f"},{symbol:"\ud83c\udf69"},{symbol:"\ud83c\udf6a"},{symbol:"\ud83c\udf30"},{symbol:"\ud83e\udd5c"},{symbol:"\ud83c\udf6f"},{symbol:"\ud83e\udd5b"},{symbol:"\ud83c\udf7c"},{symbol:"\u2615"},{symbol:"\ud83c\udf75"},{symbol:"\ud83e\udd64"},{symbol:"\ud83c\udf76"},{symbol:"\ud83c\udf7a"},{symbol:"\ud83c\udf7b"},{symbol:"\ud83e\udd42"},{symbol:"\ud83c\udf77"},{symbol:"\ud83e\udd43"},{symbol:"\ud83c\udf78"},{symbol:"\ud83c\udf79"},{symbol:"\ud83c\udf7e"},{symbol:"\ud83e\udd44"},{symbol:"\ud83c\udf74"},{symbol:"\ud83c\udf7d"},{symbol:"\ud83e\udd63"},{symbol:"\ud83e\udd61"},{symbol:"\ud83e\udd62"},{symbol:"\ud83e\uddc2"}]},{id:4,code:"HOBBY",showForWindows:true,emoji:[{symbol:"\u26bd"},{symbol:"\ud83c\udfc0"},{symbol:"\ud83c\udfc8"},{symbol:"\u26be"},{symbol:"\ud83e\udd4e"},{symbol:"\ud83c\udfbe"},{symbol:"\ud83c\udfd0"},{symbol:"\ud83c\udfc9"},{symbol:"\ud83e\udd4f"},{symbol:"\ud83c\udfb1"},{symbol:"\ud83c\udfd3"},{symbol:"\ud83c\udff8"},{symbol:"\ud83c\udfd2"},{symbol:"\ud83c\udfd1"},{symbol:"\ud83e\udd4d"},{symbol:"\ud83c\udfcf"},{symbol:"\ud83e\udd45"},{symbol:"\u26f3"},{symbol:"\ud83c\udff9"},{symbol:"\ud83c\udfa3"},{symbol:"\ud83e\udd4a"},{symbol:"\ud83e\udd4b"},{symbol:"\ud83c\udfbd"},{symbol:"\ud83d\udef9"},{symbol:"\ud83d\udef7"},{symbol:"\u26f8"},{symbol:"\ud83e\udd4c"},{symbol:"\ud83c\udfbf"},{symbol:"\u26f7"},{symbol:"\ud83c\udfc2"},{symbol:"\ud83c\udfcb"},{symbol:"\ud83e\udd3c"},{symbol:"\ud83e\udd38"},{symbol:"\u26f9"},{symbol:"\ud83e\udd3a"},{symbol:"\ud83e\udd3e"},{symbol:"\ud83c\udfcc"},{symbol:"\ud83c\udfc7"},{symbol:"\ud83e\uddd8"},{symbol:"\ud83c\udfc4"},{symbol:"\ud83c\udfca"},{symbol:"\ud83e\udd3d"},{symbol:"\ud83d\udea3"},{symbol:"\ud83e\uddd7"},{symbol:"\ud83d\udeb5"},{symbol:"\ud83d\udeb4"},{symbol:"\ud83c\udfc6"},{symbol:"\ud83e\udd47"},{symbol:"\ud83e\udd48"},{symbol:"\ud83e\udd49"},{symbol:"\ud83c\udfc5"},{symbol:"\ud83c\udf96"},{symbol:"\ud83c\udff5"},{symbol:"\ud83c\udf97"},{symbol:"\ud83c\udfab"},{symbol:"\ud83c\udf9f"},{symbol:"\ud83c\udfaa"},{symbol:"\ud83e\udd39"},{symbol:"\ud83c\udfad"},{symbol:"\ud83c\udfa8"},{symbol:"\ud83c\udfac"},{symbol:"\ud83c\udfa4"},{symbol:"\ud83c\udfa7"},{symbol:"\ud83c\udfbc"},{symbol:"\ud83c\udfb9"},{symbol:"\ud83e\udd41"},{symbol:"\ud83c\udfb7"},{symbol:"\ud83c\udfba"},{symbol:"\ud83c\udfb8"},{symbol:"\ud83c\udfbb"},{symbol:"\ud83c\udfb2"},{symbol:"\u265f"},{symbol:"\ud83c\udfaf"},{symbol:"\ud83c\udfb3"},{symbol:"\ud83c\udfae"},{symbol:"\ud83c\udfb0"},{symbol:"\ud83e\udde9"}]},{id:5,code:"TRAVEL",showForWindows:true,emoji:[{symbol:"\ud83d\ude97"},{symbol:"\ud83d\ude95"},{symbol:"\ud83d\ude99"},{symbol:"\ud83d\ude8c"},{symbol:"\ud83d\ude8e"},{symbol:"\ud83c\udfce"},{symbol:"\ud83d\ude93"},{symbol:"\ud83d\ude91"},{symbol:"\ud83d\ude92"},{symbol:"\ud83d\ude90"},{symbol:"\ud83d\ude9a"},{symbol:"\ud83d\ude9b"},{symbol:"\ud83d\ude9c"},{symbol:"\ud83d\udef4"},{symbol:"\ud83d\udeb2"},{symbol:"\ud83d\udef5"},{symbol:"\ud83c\udfcd"},{symbol:"\ud83d\udea8"},{symbol:"\ud83d\ude94"},{symbol:"\ud83d\ude8d"},{symbol:"\ud83d\ude98"},{symbol:"\ud83d\ude96"},{symbol:"\ud83d\udea1"},{symbol:"\ud83d\udea0"},{symbol:"\ud83d\ude9f"},{symbol:"\ud83d\ude83"},{symbol:"\ud83d\ude8b"},{symbol:"\ud83d\ude9e"},{symbol:"\ud83d\ude9d"},{symbol:"\ud83d\ude84"},{symbol:"\ud83d\ude85"},{symbol:"\ud83d\ude88"},{symbol:"\ud83d\ude82"},{symbol:"\ud83d\ude86"},{symbol:"\ud83d\ude87"},{symbol:"\ud83d\ude8a"},{symbol:"\ud83d\ude89"},{symbol:"\u2708"},{symbol:"\ud83d\udeeb"},{symbol:"\ud83d\udeec"},{symbol:"\ud83d\udee9"},{symbol:"\ud83d\udcba"},{symbol:"\ud83d\udef0"},{symbol:"\ud83d\ude80"},{symbol:"\ud83d\udef8"},{symbol:"\ud83d\ude81"},{symbol:"\ud83d\udef6"},{symbol:"\u26f5"},{symbol:"\ud83d\udea4"},{symbol:"\ud83d\udee5"},{symbol:"\ud83d\udef3"},{symbol:"\u26f4"},{symbol:"\ud83d\udea2"},{symbol:"\u2693"},{symbol:"\u26fd"},{symbol:"\ud83d\udea7"},{symbol:"\ud83d\udea6"},{symbol:"\ud83d\udea5"},{symbol:"\ud83d\ude8f"},{symbol:"\ud83d\uddfa"},{symbol:"\ud83d\uddff"},{symbol:"\ud83d\uddfd"},{symbol:"\ud83d\uddfc"},{symbol:"\ud83c\udff0"},{symbol:"\ud83c\udfef"},{symbol:"\ud83c\udfdf"},{symbol:"\ud83c\udfa1"},{symbol:"\ud83c\udfa2"},{symbol:"\ud83c\udfa0"},{symbol:"\u26f2"},{symbol:"\u26f1"},{symbol:"\ud83c\udfd6"},{symbol:"\ud83c\udfdd"},{symbol:"\ud83c\udfdc"},{symbol:"\ud83c\udf0b"},{symbol:"\u26f0"},{symbol:"\ud83c\udfd4"},{symbol:"\ud83d\uddfb"},{symbol:"\ud83c\udfd5"},{symbol:"\u26fa"},{symbol:"\ud83c\udfe0"},{symbol:"\ud83c\udfe1"},{symbol:"\ud83c\udfd8"},{symbol:"\ud83c\udfda"},{symbol:"\ud83c\udfd7"},{symbol:"\ud83c\udfed"},{symbol:"\ud83c\udfe2"},{symbol:"\ud83c\udfec"},{symbol:"\ud83c\udfe3"},{symbol:"\ud83c\udfe4"},{symbol:"\ud83c\udfe5"},{symbol:"\ud83c\udfe6"},{symbol:"\ud83c\udfe8"},{symbol:"\ud83c\udfea"},{symbol:"\ud83c\udfeb"},{symbol:"\ud83c\udfe9"},{symbol:"\ud83d\udc92"},{symbol:"\ud83c\udfdb"},{symbol:"\u26ea"},{symbol:"\ud83d\udd4c"},{symbol:"\ud83d\udd4d"},{symbol:"\ud83d\udd4b"},{symbol:"\u26e9"},{symbol:"\ud83d\udee4"},{symbol:"\ud83d\udee3"},{symbol:"\ud83d\uddfe"},{symbol:"\ud83c\udf91"},{symbol:"\ud83c\udfde"},{symbol:"\ud83c\udf05"},{symbol:"\ud83c\udf04"},{symbol:"\ud83c\udf20"},{symbol:"\ud83c\udf87"},{symbol:"\ud83c\udf86"},{symbol:"\ud83c\udf07"},{symbol:"\ud83c\udf06"},{symbol:"\ud83c\udfd9"},{symbol:"\ud83c\udf03"},{symbol:"\ud83c\udf0c"},{symbol:"\ud83c\udf09"},{symbol:"\ud83c\udf01"}]},{id:6,code:"OBJECTS",showForWindows:true,emoji:[{symbol:"\u231a"},{symbol:"\ud83d\udcf1"},{symbol:"\ud83d\udcf2"},{symbol:"\ud83d\udcbb"},{symbol:"\u2328"},{symbol:"\ud83d\udda5"},{symbol:"\ud83d\udda8"},{symbol:"\ud83d\uddb1"},{symbol:"\ud83d\uddb2"},{symbol:"\ud83d\udd79"},{symbol:"\ud83d\udddc"},{symbol:"\ud83d\udcbd"},{symbol:"\ud83d\udcbe"},{symbol:"\ud83d\udcbf"},{symbol:"\ud83d\udcc0"},{symbol:"\ud83d\udcfc"},{symbol:"\ud83d\udcf7"},{symbol:"\ud83d\udcf8"},{symbol:"\ud83d\udcf9"},{symbol:"\ud83c\udfa5"},{symbol:"\ud83d\udcfd"},{symbol:"\ud83c\udf9e"},{symbol:"\ud83d\udcde"},{symbol:"\u260e"},{symbol:"\ud83d\udcdf"},{symbol:"\ud83d\udce0"},{symbol:"\ud83d\udcfa"},{symbol:"\ud83d\udcfb"},{symbol:"\ud83c\udf99"},{symbol:"\ud83c\udf9a"},{symbol:"\ud83c\udf9b"},{symbol:"\ud83e\udded"},{symbol:"\u23f1"},{symbol:"\u23f2"},{symbol:"\u23f0"},{symbol:"\ud83d\udd70"},{symbol:"\u231b"},{symbol:"\u23f3"},{symbol:"\ud83d\udce1"},{symbol:"\ud83d\udd0b"},{symbol:"\ud83d\udd0c"},{symbol:"\ud83d\udca1"},{symbol:"\ud83d\udd26"},{symbol:"\ud83d\udd6f"},{symbol:"\ud83e\uddef"},{symbol:"\ud83d\udee2"},{symbol:"\ud83d\udcb8"},{symbol:"\ud83d\udcb5"},{symbol:"\ud83d\udcb4"},{symbol:"\ud83d\udcb6"},{symbol:"\ud83d\udcb7"},{symbol:"\ud83d\udcb0"},{symbol:"\ud83d\udcb3"},{symbol:"\ud83d\udc8e"},{symbol:"\u2696"},{symbol:"\ud83e\uddf0"},{symbol:"\ud83d\udd27"},{symbol:"\ud83d\udd28"},{symbol:"\u2692"},{symbol:"\ud83d\udee0"},{symbol:"\u26cf"},{symbol:"\ud83d\udd29"},{symbol:"\u2699"},{symbol:"\ud83e\uddf1"},{symbol:"\u26d3"},{symbol:"\ud83e\uddf2"},{symbol:"\ud83d\udd2b"},{symbol:"\ud83d\udca3"},{symbol:"\ud83e\udde8"},{symbol:"\ud83d\udd2a"},{symbol:"\ud83d\udde1"},{symbol:"\u2694"},{symbol:"\ud83d\udee1"},{symbol:"\ud83d\udeac"},{symbol:"\u26b0"},{symbol:"\u26b1"},{symbol:"\ud83c\udffa"},{symbol:"\ud83d\udd2e"},{symbol:"\ud83d\udcff"},{symbol:"\ud83e\uddff"},{symbol:"\ud83d\udc88"},{symbol:"\u2697"},{symbol:"\ud83d\udd2d"},{symbol:"\ud83d\udd2c"},{symbol:"\ud83d\udd73"},{symbol:"\ud83d\udc8a"},{symbol:"\ud83d\udc89"},{symbol:"\ud83e\uddec"},{symbol:"\ud83e\udda0"},{symbol:"\ud83e\uddeb"},{symbol:"\ud83e\uddea"},{symbol:"\ud83c\udf21"},{symbol:"\ud83e\uddf9"},{symbol:"\ud83e\uddfa"},{symbol:"\ud83e\uddfb"},{symbol:"\ud83d\udebd"},{symbol:"\ud83d\udeb0"},{symbol:"\ud83d\udebf"},{symbol:"\ud83d\udec1"},{symbol:"\ud83d\udec0"},{symbol:"\ud83e\uddfc"},{symbol:"\ud83e\uddfd"},{symbol:"\ud83e\uddf4"},{symbol:"\ud83d\udece"},{symbol:"\ud83d\udd11"},{symbol:"\ud83d\udddd"},{symbol:"\ud83d\udeaa"},{symbol:"\ud83d\udecb"},{symbol:"\ud83d\udecf"},{symbol:"\ud83d\udecc"},{symbol:"\ud83e\uddf8"},{symbol:"\ud83d\uddbc"},{symbol:"\ud83d\udecd"},{symbol:"\ud83d\uded2"},{symbol:"\ud83c\udf81"},{symbol:"\ud83c\udf88"},{symbol:"\ud83c\udf8f"},{symbol:"\ud83c\udf80"},{symbol:"\ud83c\udf8a"},{symbol:"\ud83c\udf89"},{symbol:"\ud83c\udf8e"},{symbol:"\ud83c\udfee"},{symbol:"\ud83c\udf90"},{symbol:"\ud83e\udde7"},{symbol:"\u2709"},{symbol:"\ud83d\udce9"},{symbol:"\ud83d\udce8"},{symbol:"\ud83d\udce7"},{symbol:"\ud83d\udc8c"},{symbol:"\ud83d\udce5"},{symbol:"\ud83d\udce4"},{symbol:"\ud83d\udce6"},{symbol:"\ud83c\udff7"},{symbol:"\ud83d\udcea"},{symbol:"\ud83d\udceb"},{symbol:"\ud83d\udcec"},{symbol:"\ud83d\udced"},{symbol:"\ud83d\udcee"},{symbol:"\ud83d\udcef"},{symbol:"\ud83d\udcdc"},{symbol:"\ud83d\udcc3"},{symbol:"\ud83d\udcc4"},{symbol:"\ud83d\udcd1"},{symbol:"\ud83e\uddfe"},{symbol:"\ud83d\udcca"},{symbol:"\ud83d\udcc8"},{symbol:"\ud83d\udcc9"},{symbol:"\ud83d\uddd2"},{symbol:"\ud83d\uddd3"},{symbol:"\ud83d\udcc6"},{symbol:"\ud83d\udcc5"},{symbol:"\ud83d\uddd1"},{symbol:"\ud83d\udcc7"},{symbol:"\ud83d\uddc3"},{symbol:"\ud83d\uddf3"},{symbol:"\ud83d\uddc4"},{symbol:"\ud83d\udccb"},{symbol:"\ud83d\udcc1"},{symbol:"\ud83d\udcc2"},{symbol:"\ud83d\uddc2"},{symbol:"\ud83d\uddde"},{symbol:"\ud83d\udcf0"},{symbol:"\ud83d\udcd3"},{symbol:"\ud83d\udcd4"},{symbol:"\ud83d\udcd2"},{symbol:"\ud83d\udcd5"},{symbol:"\ud83d\udcd7"},{symbol:"\ud83d\udcd8"},{symbol:"\ud83d\udcd9"},{symbol:"\ud83d\udcda"},{symbol:"\ud83d\udcd6"},{symbol:"\ud83d\udd16"},{symbol:"\ud83e\uddf7"},{symbol:"\ud83d\udd17"},{symbol:"\ud83d\udcce"},{symbol:"\ud83d\udd87"},{symbol:"\ud83d\udcd0"},{symbol:"\ud83d\udccf"},{symbol:"\ud83d\udccc"},{symbol:"\ud83d\udccd"},{symbol:"\u2702"},{symbol:"\ud83d\udd8a"},{symbol:"\ud83d\udd8b"},{symbol:"\u2712"},{symbol:"\ud83d\udd8c"},{symbol:"\ud83d\udd8d"},{symbol:"\ud83d\udcdd"},{symbol:"\u270f"},{symbol:"\ud83d\udd0d"},{symbol:"\ud83d\udd0e"},{symbol:"\ud83d\udd0f"},{symbol:"\ud83d\udd10"},{symbol:"\ud83d\udd12"},{symbol:"\ud83d\udd13"}]},{id:7,code:"SYMBOLS",showForWindows:true,emoji:[{symbol:"\u2764"},{symbol:"\ud83e\udde1"},{symbol:"\ud83d\udc9b"},{symbol:"\ud83d\udc9a"},{symbol:"\ud83d\udc99"},{symbol:"\ud83d\udc9c"},{symbol:"\ud83d\udda4"},{symbol:"\ud83d\udc94"},{symbol:"\u2763"},{symbol:"\ud83d\udc95"},{symbol:"\ud83d\udc9e"},{symbol:"\ud83d\udc93"},{symbol:"\ud83d\udc97"},{symbol:"\ud83d\udc96"},{symbol:"\ud83d\udc98"},{symbol:"\ud83d\udc9d"},{symbol:"\ud83d\udc9f"},{symbol:"\u262e"},{symbol:"\u271d"},{symbol:"\u262a"},{symbol:"\ud83d\udd49"},{symbol:"\u2638"},{symbol:"\u2721"},{symbol:"\ud83d\udd2f"},{symbol:"\ud83d\udd4e"},{symbol:"\u262f"},{symbol:"\u2626"},{symbol:"\ud83d\uded0"},{symbol:"\u26ce"},{symbol:"\u2648"},{symbol:"\u2649"},{symbol:"\u264a"},{symbol:"\u264b"},{symbol:"\u264c"},{symbol:"\u264d"},{symbol:"\u264e"},{symbol:"\u264f"},{symbol:"\u2650"},{symbol:"\u2651"},{symbol:"\u2652"},{symbol:"\u2653"},{symbol:"\ud83c\udd94"},{symbol:"\u269b"},{symbol:"\ud83c\ude51"},{symbol:"\u2622"},{symbol:"\u2623"},{symbol:"\ud83d\udcf4"},{symbol:"\ud83d\udcf3"},{symbol:"\ud83c\ude36"},{symbol:"\ud83c\ude1a"},{symbol:"\ud83c\ude38"},{symbol:"\ud83c\ude3a"},{symbol:"\ud83c\ude37"},{symbol:"\u2734"},{symbol:"\ud83c\udd9a"},{symbol:"\ud83d\udcae"},{symbol:"\ud83c\ude50"},{symbol:"\u3299"},{symbol:"\u3297"},{symbol:"\ud83c\ude34"},{symbol:"\ud83c\ude35"},{symbol:"\ud83c\ude39"},{symbol:"\ud83c\ude32"},{symbol:"\ud83c\udd70"},{symbol:"\ud83c\udd71"},{symbol:"\ud83c\udd8e"},{symbol:"\ud83c\udd91"},{symbol:"\ud83c\udd7e"},{symbol:"\ud83c\udd98"},{symbol:"\u274c"},{symbol:"\u2b55"},{symbol:"\ud83d\uded1"},{symbol:"\u26d4"},{symbol:"\ud83d\udcdb"},{symbol:"\ud83d\udeab"},{symbol:"\ud83d\udcaf"},{symbol:"\ud83d\udca2"},{symbol:"\u2668"},{symbol:"\ud83d\udeb7"},{symbol:"\ud83d\udeaf"},{symbol:"\ud83d\udeb3"},{symbol:"\ud83d\udeb1"},{symbol:"\ud83d\udd1e"},{symbol:"\ud83d\udcf5"},{symbol:"\ud83d\udead"},{symbol:"\u2757"},{symbol:"\u2755"},{symbol:"\u2753"},{symbol:"\u2754"},{symbol:"\u203c"},{symbol:"\u2049"},{symbol:"\ud83d\udd05"},{symbol:"\ud83d\udd06"},{symbol:"\u303d"},{symbol:"\u26a0"},{symbol:"\ud83d\udeb8"},{symbol:"\ud83d\udd31"},{symbol:"\u269c"},{symbol:"\ud83d\udd30"},{symbol:"\u267b"},{symbol:"\u2705"},{symbol:"\ud83c\ude2f"},{symbol:"\ud83d\udcb9"},{symbol:"\u2747"},{symbol:"\u2733"},{symbol:"\u274e"},{symbol:"\ud83c\udf10"},{symbol:"\ud83d\udca0"},{symbol:"\u24c2"},{symbol:"\ud83c\udf00"},{symbol:"\ud83d\udca4"},{symbol:"\ud83c\udfe7"},{symbol:"\ud83d\udebe"},{symbol:"\u267f"},{symbol:"\ud83c\udd7f"},{symbol:"\ud83c\ude33"},{symbol:"\ud83c\ude02"},{symbol:"\ud83d\udec2"},{symbol:"\ud83d\udec3"},{symbol:"\ud83d\udec4"},{symbol:"\ud83d\udec5"},{symbol:"\ud83d\udeb9"},{symbol:"\ud83d\udeba"},{symbol:"\ud83d\udebc"},{symbol:"\ud83d\udebb"},{symbol:"\ud83d\udeae"},{symbol:"\ud83c\udfa6"},{symbol:"\ud83d\udcf6"},{symbol:"\ud83c\ude01"},{symbol:"\ud83d\udd23"},{symbol:"\u2139"},{symbol:"\ud83d\udd24"},{symbol:"\ud83d\udd21"},{symbol:"\ud83d\udd20"},{symbol:"\ud83c\udd96"},{symbol:"\ud83c\udd97"},{symbol:"\ud83c\udd99"},{symbol:"\ud83c\udd92"},{symbol:"\ud83c\udd95"},{symbol:"\ud83c\udd93"},{symbol:"0"},{symbol:"1"},{symbol:"2"},{symbol:"3"},{symbol:"4"},{symbol:"5"},{symbol:"6"},{symbol:"7"},{symbol:"8"},{symbol:"9"},{symbol:"\ud83d\udd1f"},{symbol:"\ud83d\udd22"},{symbol:"#"},{symbol:"*"},{symbol:"\u23cf"},{symbol:"\u25b6"},{symbol:"\u23f8"},{symbol:"\u23ef"},{symbol:"\u23f9"},{symbol:"\u23fa"},{symbol:"\u23ed"},{symbol:"\u23ee"},{symbol:"\u23e9"},{symbol:"\u23ea"},{symbol:"\u23eb"},{symbol:"\u23ec"},{symbol:"\u25c0"},{symbol:"\ud83d\udd3c"},{symbol:"\ud83d\udd3d"},{symbol:"\u27a1"},{symbol:"\u2b05"},{symbol:"\u2b06"},{symbol:"\u2b07"},{symbol:"\u2197"},{symbol:"\u2198"},{symbol:"\u2199"},{symbol:"\u2196"},{symbol:"\u2195"},{symbol:"\u2194"},{symbol:"\u21aa"},{symbol:"\u21a9"},{symbol:"\u2934"},{symbol:"\u2935"},{symbol:"\ud83d\udd00"},{symbol:"\ud83d\udd01"},{symbol:"\ud83d\udd02"},{symbol:"\ud83d\udd04"},{symbol:"\ud83d\udd03"},{symbol:"\ud83c\udfb5"},{symbol:"\ud83c\udfb6"},{symbol:"\u2795"},{symbol:"\u2796"},{symbol:"\u2797"},{symbol:"\u2716"},{symbol:"\u267e"},{symbol:"\ud83d\udcb2"},{symbol:"\ud83d\udcb1"},{symbol:"\u2122"},{symbol:"\xa9"},{symbol:"\xae"},{symbol:"\ud83d\udc41"},{symbol:"\ud83d\udde8"},{symbol:"\ud83d\udd1a"},{symbol:"\ud83d\udd19"},{symbol:"\ud83d\udd1b"},{symbol:"\ud83d\udd1d"},{symbol:"\ud83d\udd1c"},{symbol:"\u3030"},{symbol:"\u27b0"},{symbol:"\u27bf"},{symbol:"\u2714"},{symbol:"\u2611"},{symbol:"\ud83d\udd18"},{symbol:"\u26aa"},{symbol:"\u26ab"},{symbol:"\ud83d\udd34"},{symbol:"\ud83d\udd35"},{symbol:"\ud83d\udd3a"},{symbol:"\ud83d\udd3b"},{symbol:"\ud83d\udd38"},{symbol:"\ud83d\udd39"},{symbol:"\ud83d\udd36"},{symbol:"\ud83d\udd37"},{symbol:"\ud83d\udd33"},{symbol:"\ud83d\udd32"},{symbol:"\u25aa"},{symbol:"\u25ab"},{symbol:"\u25fe"},{symbol:"\u25fd"},{symbol:"\u25fc"},{symbol:"\u25fb"},{symbol:"\u2b1b"},{symbol:"\u2b1c"},{symbol:"\ud83d\udd08"},{symbol:"\ud83d\udd07"},{symbol:"\ud83d\udd09"},{symbol:"\ud83d\udd0a"},{symbol:"\ud83d\udd14"},{symbol:"\ud83d\udd15"},{symbol:"\ud83d\udce3"},{symbol:"\ud83d\udce2"},{symbol:"\ud83d\udcac"},{symbol:"\ud83d\udcad"},{symbol:"\ud83d\uddef"},{symbol:"\u2660"},{symbol:"\u2663"},{symbol:"\u2665"},{symbol:"\u2666"},{symbol:"\ud83c\udccf"},{symbol:"\ud83c\udfb4"},{symbol:"\ud83c\udc04"},{symbol:"\ud83d\udd50"},{symbol:"\ud83d\udd51"},{symbol:"\ud83d\udd52"},{symbol:"\ud83d\udd53"},{symbol:"\ud83d\udd54"},{symbol:"\ud83d\udd55"},{symbol:"\ud83d\udd56"},{symbol:"\ud83d\udd57"},{symbol:"\ud83d\udd58"},{symbol:"\ud83d\udd59"},{symbol:"\ud83d\udd5a"},{symbol:"\ud83d\udd5b"},{symbol:"\ud83d\udd5c"},{symbol:"\ud83d\udd5d"},{symbol:"\ud83d\udd5e"},{symbol:"\ud83d\udd5f"},{symbol:"\ud83d\udd60"},{symbol:"\ud83d\udd61"},{symbol:"\ud83d\udd62"},{symbol:"\ud83d\udd63"},{symbol:"\ud83d\udd64"},{symbol:"\ud83d\udd65"},{symbol:"\ud83d\udd66"},{symbol:"\ud83d\udd67"}]},{id:8,code:"FLAGS",showForWindows:false,emoji:[{symbol:"\ud83c\udff3"},{symbol:"\ud83c\udff4"},{symbol:"\ud83c\udfc1"},{symbol:"\ud83d\udea9"},{symbol:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08"},{symbol:"\ud83c\uddfa\ud83c\uddf3"},{symbol:"\ud83c\udde6\ud83c\uddeb"},{symbol:"\ud83c\udde6\ud83c\uddfd"},{symbol:"\ud83c\udde6\ud83c\uddf1"},{symbol:"\ud83c\udde9\ud83c\uddff"},{symbol:"\ud83c\udde6\ud83c\uddf8"},{symbol:"\ud83c\udde6\ud83c\udde9"},{symbol:"\ud83c\udde6\ud83c\uddf4"},{symbol:"\ud83c\udde6\ud83c\uddee"},{symbol:"\ud83c\udde6\ud83c\uddf6"},{symbol:"\ud83c\udde6\ud83c\uddec"},{symbol:"\ud83c\udde6\ud83c\uddf7"},{symbol:"\ud83c\udde6\ud83c\uddf2"},{symbol:"\ud83c\udde6\ud83c\uddfc"},{symbol:"\ud83c\udde6\ud83c\uddfa"},{symbol:"\ud83c\udde6\ud83c\uddf9"},{symbol:"\ud83c\udde6\ud83c\uddff"},{symbol:"\ud83c\udde7\ud83c\uddf8"},{symbol:"\ud83c\udde7\ud83c\udded"},{symbol:"\ud83c\udde7\ud83c\udde9"},{symbol:"\ud83c\udde7\ud83c\uddfe"},{symbol:"\ud83c\udde7\ud83c\uddea"},{symbol:"\ud83c\udde7\ud83c\uddff"},{symbol:"\ud83c\udde7\ud83c\uddef"},{symbol:"\ud83c\udde7\ud83c\uddf2"},{symbol:"\ud83c\udde7\ud83c\uddf9"},{symbol:"\ud83c\udde7\ud83c\uddf4"},{symbol:"\ud83c\udde7\ud83c\udde6"},{symbol:"\ud83c\udde7\ud83c\uddfc"},{symbol:"\ud83c\udde7\ud83c\uddf7"},{symbol:"\ud83c\uddee\ud83c\uddf4"},{symbol:"\ud83c\uddfb\ud83c\uddec"},{symbol:"\ud83c\udde7\ud83c\uddf3"},{symbol:"\ud83c\udde7\ud83c\uddec"},{symbol:"\ud83c\udde7\ud83c\uddeb"},{symbol:"\ud83c\udde7\ud83c\uddee"},{symbol:"\ud83c\uddf0\ud83c\udded"},{symbol:"\ud83c\udde8\ud83c\uddf2"},{symbol:"\ud83c\udde8\ud83c\udde6"},{symbol:"\ud83c\uddee\ud83c\udde8"},{symbol:"\ud83c\udde8\ud83c\uddfb"},{symbol:"\ud83c\udde7\ud83c\uddf6"},{symbol:"\ud83c\uddf0\ud83c\uddfe"},{symbol:"\ud83c\udde8\ud83c\uddeb"},{symbol:"\ud83c\uddf9\ud83c\udde9"},{symbol:"\ud83c\udde8\ud83c\uddf1"},{symbol:"\ud83c\udde8\ud83c\uddf3"},{symbol:"\ud83c\udde8\ud83c\uddfd"},{symbol:"\ud83c\udde8\ud83c\uddf4"},{symbol:"\ud83c\uddf0\ud83c\uddf2"},{symbol:"\ud83c\udde8\ud83c\uddec"},{symbol:"\ud83c\udde8\ud83c\udde9"},{symbol:"\ud83c\udde8\ud83c\uddf0"},{symbol:"\ud83c\udde8\ud83c\uddf7"},{symbol:"\ud83c\udde8\ud83c\uddee"},{symbol:"\ud83c\udded\ud83c\uddf7"},{symbol:"\ud83c\udde8\ud83c\uddfa"},{symbol:"\ud83c\udde8\ud83c\uddfc"},{symbol:"\ud83c\udde8\ud83c\uddfe"},{symbol:"\ud83c\udde8\ud83c\uddff"},{symbol:"\ud83c\udde9\ud83c\uddf0"},{symbol:"\ud83c\udde9\ud83c\uddef"},{symbol:"\ud83c\udde9\ud83c\uddf2"},{symbol:"\ud83c\udde9\ud83c\uddf4"},{symbol:"\ud83c\uddea\ud83c\udde8"},{symbol:"\ud83c\uddea\ud83c\uddec"},{symbol:"\ud83c\uddf8\ud83c\uddfb"},{symbol:"\ud83c\uddec\ud83c\uddf6"},{symbol:"\ud83c\uddea\ud83c\uddf7"},{symbol:"\ud83c\uddea\ud83c\uddf9"},{symbol:"\ud83c\uddea\ud83c\uddfa"},{symbol:"\ud83c\uddeb\ud83c\uddf0"},{symbol:"\ud83c\uddeb\ud83c\uddf4"},{symbol:"\ud83c\uddeb\ud83c\uddef"},{symbol:"\ud83c\uddeb\ud83c\uddee"},{symbol:"\ud83c\uddeb\ud83c\uddf7"},{symbol:"\ud83c\uddec\ud83c\uddeb"},{symbol:"\ud83c\uddf5\ud83c\uddeb"},{symbol:"\ud83c\uddec\ud83c\udde6"},{symbol:"\ud83c\uddec\ud83c\uddf2"},{symbol:"\ud83c\uddec\ud83c\uddea"},{symbol:"\ud83c\udde9\ud83c\uddea"},{symbol:"\ud83c\uddec\ud83c\udded"},{symbol:"\ud83c\uddec\ud83c\uddee"},{symbol:"\ud83c\uddec\ud83c\uddf7"},{symbol:"\ud83c\uddec\ud83c\uddf1"},{symbol:"\ud83c\uddec\ud83c\udde9"},{symbol:"\ud83c\uddec\ud83c\uddf5"},{symbol:"\ud83c\uddec\ud83c\uddfa"},{symbol:"\ud83c\uddec\ud83c\uddf9"},{symbol:"\ud83c\uddec\ud83c\uddf3"},{symbol:"\ud83c\uddec\ud83c\uddfc"},{symbol:"\ud83c\uddec\ud83c\uddfe"},{symbol:"\ud83c\udded\ud83c\uddf9"},{symbol:"\ud83c\udded\ud83c\uddf3"},{symbol:"\ud83c\udded\ud83c\uddf0"},{symbol:"\ud83c\udded\ud83c\uddfa"},{symbol:"\ud83c\uddee\ud83c\uddf8"},{symbol:"\ud83c\uddee\ud83c\uddf3"},{symbol:"\ud83c\uddee\ud83c\udde9"},{symbol:"\ud83c\uddee\ud83c\uddf7"},{symbol:"\ud83c\uddee\ud83c\uddf6"},{symbol:"\ud83c\uddee\ud83c\uddea"},{symbol:"\ud83c\uddee\ud83c\uddf2"},{symbol:"\ud83c\uddee\ud83c\uddf1"},{symbol:"\ud83c\uddee\ud83c\uddf9"},{symbol:"\ud83c\uddef\ud83c\uddf2"},{symbol:"\ud83c\uddef\ud83c\uddf5"},{symbol:"\ud83c\uddef\ud83c\uddea"},{symbol:"\ud83c\uddef\ud83c\uddf4"},{symbol:"\ud83c\uddf0\ud83c\uddff"},{symbol:"\ud83c\uddf0\ud83c\uddea"},{symbol:"\ud83c\uddf0\ud83c\uddee"},{symbol:"\ud83c\uddfd\ud83c\uddf0"},{symbol:"\ud83c\uddf0\ud83c\uddfc"},{symbol:"\ud83c\uddf0\ud83c\uddec"},{symbol:"\ud83c\uddf1\ud83c\udde6"},{symbol:"\ud83c\uddf1\ud83c\uddfb"},{symbol:"\ud83c\uddf1\ud83c\udde7"},{symbol:"\ud83c\uddf1\ud83c\uddf8"},{symbol:"\ud83c\uddf1\ud83c\uddf7"},{symbol:"\ud83c\uddf1\ud83c\uddfe"},{symbol:"\ud83c\uddf1\ud83c\uddee"},{symbol:"\ud83c\uddf1\ud83c\uddf9"},{symbol:"\ud83c\uddf1\ud83c\uddfa"},{symbol:"\ud83c\uddf2\ud83c\uddf4"},{symbol:"\ud83c\uddf2\ud83c\uddf0"},{symbol:"\ud83c\uddf2\ud83c\uddec"},{symbol:"\ud83c\uddf2\ud83c\uddfc"},{symbol:"\ud83c\uddf2\ud83c\uddfe"},{symbol:"\ud83c\uddf2\ud83c\uddfb"},{symbol:"\ud83c\uddf2\ud83c\uddf1"},{symbol:"\ud83c\uddf2\ud83c\uddf9"},{symbol:"\ud83c\uddf2\ud83c\udded"},{symbol:"\ud83c\uddf2\ud83c\uddf7"},{symbol:"\ud83c\uddf2\ud83c\uddfa"},{symbol:"\ud83c\uddfe\ud83c\uddf9"},{symbol:"\ud83c\uddf2\ud83c\uddfd"},{symbol:"\ud83c\uddeb\ud83c\uddf2"},{symbol:"\ud83c\uddf2\ud83c\udde9"},{symbol:"\ud83c\uddf2\ud83c\udde8"},{symbol:"\ud83c\uddf2\ud83c\uddf3"},{symbol:"\ud83c\uddf2\ud83c\uddea"},{symbol:"\ud83c\uddf2\ud83c\uddf8"},{symbol:"\ud83c\uddf2\ud83c\udde6"},{symbol:"\ud83c\uddf2\ud83c\uddff"},{symbol:"\ud83c\uddf3\ud83c\udde6"},{symbol:"\ud83c\uddf3\ud83c\uddf7"},{symbol:"\ud83c\uddf3\ud83c\uddf5"},{symbol:"\ud83c\uddf3\ud83c\uddf1"},{symbol:"\ud83c\uddf3\ud83c\udde8"},{symbol:"\ud83c\uddf3\ud83c\uddff"},{symbol:"\ud83c\uddf3\ud83c\uddee"},{symbol:"\ud83c\uddf3\ud83c\uddea"},{symbol:"\ud83c\uddf3\ud83c\uddec"},{symbol:"\ud83c\uddf3\ud83c\uddfa"},{symbol:"\ud83c\uddf3\ud83c\uddeb"},{symbol:"\ud83c\uddf0\ud83c\uddf5"},{symbol:"\ud83c\uddf2\ud83c\uddf5"},{symbol:"\ud83c\uddf3\ud83c\uddf4"},{symbol:"\ud83c\uddf4\ud83c\uddf2"},{symbol:"\ud83c\uddf5\ud83c\uddf0"},{symbol:"\ud83c\uddf5\ud83c\uddfc"},{symbol:"\ud83c\uddf5\ud83c\uddf8"},{symbol:"\ud83c\uddf5\ud83c\udde6"},{symbol:"\ud83c\uddf5\ud83c\uddec"},{symbol:"\ud83c\uddf5\ud83c\uddfe"},{symbol:"\ud83c\uddf5\ud83c\uddea"},{symbol:"\ud83c\uddf5\ud83c\udded"},{symbol:"\ud83c\uddf5\ud83c\uddf3"},{symbol:"\ud83c\uddf5\ud83c\uddf1"},{symbol:"\ud83c\uddf5\ud83c\uddf9"},{symbol:"\ud83c\uddf5\ud83c\uddf7"},{symbol:"\ud83c\uddf6\ud83c\udde6"},{symbol:"\ud83c\uddf7\ud83c\uddf4"},{symbol:"\ud83c\uddf7\ud83c\uddfa"},{symbol:"\ud83c\uddf7\ud83c\uddfc"},{symbol:"\ud83c\uddfc\ud83c\uddf8"},{symbol:"\ud83c\uddf8\ud83c\uddf2"},{symbol:"\ud83c\uddf8\ud83c\uddf9"},{symbol:"\ud83c\uddf8\ud83c\udde6"},{symbol:"\ud83c\uddf8\ud83c\uddf3"},{symbol:"\ud83c\uddf7\ud83c\uddf8"},{symbol:"\ud83c\uddf8\ud83c\udde8"},{symbol:"\ud83c\uddf8\ud83c\uddf1"},{symbol:"\ud83c\uddf8\ud83c\uddec"},{symbol:"\ud83c\uddf8\ud83c\uddfd"},{symbol:"\ud83c\uddf8\ud83c\uddf0"},{symbol:"\ud83c\uddf8\ud83c\uddee"},{symbol:"\ud83c\uddec\ud83c\uddf8"},{symbol:"\ud83c\uddf8\ud83c\udde7"},{symbol:"\ud83c\uddf8\ud83c\uddf4"},{symbol:"\ud83c\uddff\ud83c\udde6"},{symbol:"\ud83c\uddf0\ud83c\uddf7"},{symbol:"\ud83c\uddea\ud83c\uddf8"},{symbol:"\ud83c\uddf1\ud83c\uddf0"},{symbol:"\ud83c\uddf8\ud83c\udded"},{symbol:"\ud83c\uddf0\ud83c\uddf3"},{symbol:"\ud83c\uddf1\ud83c\udde8"},{symbol:"\ud83c\uddf5\ud83c\uddf2"},{symbol:"\ud83c\uddfb\ud83c\udde8"},{symbol:"\ud83c\uddf8\ud83c\udde9"},{symbol:"\ud83c\uddf8\ud83c\uddf7"},{symbol:"\ud83c\uddf8\ud83c\uddff"},{symbol:"\ud83c\uddf8\ud83c\uddea"},{symbol:"\ud83c\udde8\ud83c\udded"},{symbol:"\ud83c\uddf8\ud83c\uddfe"},{symbol:"\ud83c\uddf9\ud83c\uddfc"},{symbol:"\ud83c\uddf9\ud83c\uddef"},{symbol:"\ud83c\uddf9\ud83c\uddff"},{symbol:"\ud83c\uddf9\ud83c\udded"},{symbol:"\ud83c\uddf9\ud83c\uddf1"},{symbol:"\ud83c\uddf9\ud83c\uddec"},{symbol:"\ud83c\uddf9\ud83c\uddf0"},{symbol:"\ud83c\uddf9\ud83c\uddf4"},{symbol:"\ud83c\uddf9\ud83c\uddf3"},{symbol:"\ud83c\uddf9\ud83c\uddf7"},{symbol:"\ud83c\uddf9\ud83c\uddf2"},{symbol:"\ud83c\uddf9\ud83c\udde8"},{symbol:"\ud83c\uddf9\ud83c\uddfb"},{symbol:"\ud83c\uddfb\ud83c\uddee"},{symbol:"\ud83c\uddfa\ud83c\uddec"},{symbol:"\ud83c\uddfa\ud83c\udde6"},{symbol:"\ud83c\udde6\ud83c\uddea"},{symbol:"\ud83c\uddec\ud83c\udde7"},{symbol:"\ud83c\uddfa\ud83c\uddf8"},{symbol:"\ud83c\uddfa\ud83c\uddfe"},{symbol:"\ud83c\uddfa\ud83c\uddff"},{symbol:"\ud83c\uddfb\ud83c\uddfa"},{symbol:"\ud83c\uddfb\ud83c\udde6"},{symbol:"\ud83c\uddfb\ud83c\uddea"},{symbol:"\ud83c\uddfb\ud83c\uddf3"},{symbol:"\ud83c\uddfc\ud83c\uddeb"},{symbol:"\ud83c\uddea\ud83c\udded"},{symbol:"\ud83c\uddfe\ud83c\uddea"},{symbol:"\ud83c\uddff\ud83c\uddf2"},{symbol:"\ud83c\uddff\ud83c\uddfc"}]}];l.Vue.component("bx-smiles",{data:function s(){return{smiles:[],sets:[],emoji:[],mode:"smile",emojiIcon:"\ud83d\ude0d"}},created:function s(){var o=this;this.setSelected=0;this.serverLoad=false;var l=this.$root.$bitrixRestClient||m.rest;this.smilesController=new y(l);this.smilesController.loadFromCache().then(function(s){if(o.serverLoad)return true;o.smiles=s.smiles;o.sets=s.sets.map(function(s,l){s.selected=o.setSelected===l;return s})});this.smilesController.loadFromServer().then(function(s){o.smiles=s.smiles;o.sets=s.sets.map(function(s,l){s.selected=o.setSelected===l;return s})});this.emoji=t},methods:{selectSet:function s(o){var l=this;this.mode="smile";this.$emit("selectSet",{setId:o});this.smilesController.changeSet(o).then(function(s){l.smiles=s;l.sets.map(function(s){s.selected=s.id===o;if(s.selected){l.setSelected=o}return s});l.$refs.elements.scrollTop=0})},selectSmile:function s(o){this.$emit("selectSmile",{text:" "+o+" "})},switchToEmoji:function s(){this.mode="emoji";this.sets.map(function(s){s.selected=false})},showCategory:function s(o){if(this.isWindows()){return o.showForWindows}else{return true}},isMac:function s(){return navigator.userAgent.toLowerCase().includes("macintosh")},isLinux:function s(){return navigator.userAgent.toLowerCase().includes("linux")},isWindows:function s(){return navigator.userAgent.toLowerCase().includes("windows")||!this.isMac()&&!this.isLinux()}},computed:{localize:function s(){return l.Vue.getFilteredPhrases(["UI_VUE_SMILES_EMOJI_CATEGORY_","UTF_MODE"],this.$root.$bitrixMessages)},showEmoji:function s(){return this.localize.UTF_MODE==="Y"},isEmojiMode:function s(){return this.mode==="emoji"},isSmileMode:function s(){return this.mode==="smile"},emojiIconStyle:function s(){var o="bx-ui-smiles-set-emoji";if(this.isMac()){return o+="-mac"}else if(this.isLinux()){return o+="-linux"}else if(this.isWindows()){return o+="-win"}else{return o}}},template:'\n\t\t<div class="bx-ui-smiles-box">\n\t\t\t<div class="bx-ui-smiles-elements-wrap" ref="elements">\n\t\t\t\t<template v-if="!smiles.length">\n\t\t\t\t\t<svg class="bx-ui-smiles-loading-circular" viewBox="25 25 50 50">\n\t\t\t\t\t\t<circle class="bx-ui-smiles-loading-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>\n\t\t\t\t\t\t<circle class="bx-ui-smiles-loading-inner-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</template>\n\t\t\t\t<template v-else-if="isSmileMode">\n\t\t\t\t\t<template v-for="smile in smiles">\n\t\t\t\t\t\t<div class="bx-ui-smiles-smile">\n\t\t\t\t\t\t\t<img v-bx-lazyload :key="smile.id"\n\t\t\t\t\t\t\t\tclass="bx-ui-smiles-smile-icon"\n\t\t\t\t\t\t\t\t:data-lazyload-src="smile.image"\n\t\t\t\t\t\t\t\tdata-lazyload-error-class="bx-ui-smiles-smile-icon-error"\n\t\t\t\t\t\t\t\t:title="smile.name"\n\t\t\t\t\t\t\t\t:style="{height: (smile.originalHeight*0.5)+\'px\', width: (smile.originalWidth*0.5)+\'px\'}"\n\t\t\t\t\t\t\t\t@click="selectSmile(smile.typing)"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t\t<template v-else-if="isEmojiMode">\n\t\t\t\t\t<div v-for="category in emoji" class="bx-ui-smiles-emoji-wrap">\n\t\t\t\t\t\t<template v-if="showCategory(category)">\n\t\t\t\t\t\t\t<div class="bx-ui-smiles-category">\n\t\t\t\t\t\t\t\t{{ localize[\'UI_VUE_SMILES_EMOJI_CATEGORY_\' + category.code] }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<template v-for="element in category.emoji">\n\t\t\t\t\t\t\t\t<div class="bx-ui-smiles-smile" style="font-size: 28px;">\n\t\t\t\t\t\t\t\t\t<div class="bx-ui-smiles-smile-icon" @click="selectSmile(element.symbol)">\n\t\t\t\t\t\t\t\t\t\t{{ element.symbol }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t\t<template v-if="sets.length > 1 || emoji && showEmoji">\n\t\t\t\t<div class="bx-ui-smiles-sets">\n\t\t\t\t\t<template v-for="set in sets">\n\t\t\t\t\t\t<div :class="[\'bx-ui-smiles-set\', {\'bx-ui-smiles-set-selected\': set.selected}]">\n\t\t\t\t\t\t\t<img v-bx-lazyload\n\t\t\t\t\t\t\t\t:key="set.id"\n\t\t\t\t\t\t\t\tclass="bx-ui-smiles-set-icon"\n\t\t\t\t\t\t\t\t:data-lazyload-src="set.image"\n\t\t\t\t\t\t\t\tdata-lazyload-error-class="bx-ui-smiles-set-icon-error"\n\t\t\t\t\t\t\t\t:title="set.name"\n\t\t\t\t\t\t\t\t@click="selectSet(set.id)"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div v-if="emoji && showEmoji" :class="[\'bx-ui-smiles-set\', {\'bx-ui-smiles-set-selected\': isEmojiMode}]">\n\t\t\t\t\t\t<div :class="[\'bx-ui-smiles-set-icon\', emojiIconStyle]" @click="switchToEmoji">\n\t\t\t\t\t\t \t{{ emojiIcon }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t'})})(this.window=this.window||{},window,BX,BX,BX);
 



// file: /bitrix/js/main/md5/dist/md5.bundle.js
(function(exports){"use strict";var md5=function(){var ERROR="input is invalid type";var WINDOW=(typeof window==="undefined"?"undefined":babelHelpers.typeof(window))==="object";var root=WINDOW?window:{};if(root.JS_MD5_NO_WINDOW){WINDOW=false}var WEB_WORKER=!WINDOW&&(typeof self==="undefined"?"undefined":babelHelpers.typeof(self))==="object";var NODE_JS=!root.JS_MD5_NO_NODE_JS&&(typeof process==="undefined"?"undefined":babelHelpers.typeof(process))==="object"&&process.versions&&process.versions.node;if(NODE_JS){root=global}else if(WEB_WORKER){root=self}var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&(typeof module==="undefined"?"undefined":babelHelpers.typeof(module))==="object"&&module.exports;var AMD=typeof define==="function"&&define.amd;var ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer!=="undefined";var HEX_CHARS="0123456789abcdef".split("");var EXTRA=[128,32768,8388608,-2147483648];var SHIFT=[0,8,16,24];var OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"];var BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");var blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer);blocks=new Uint32Array(buffer)}if(root.JS_MD5_NO_NODE_JS||!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)){ArrayBuffer.isView=function(e){return babelHelpers.typeof(e)==="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer}}var createOutputMethod=function e(t){return function(e){return new Md5(true).update(e)[t]()}};var createMethod=function e(){var t=createOutputMethod("hex");if(NODE_JS){t=nodeWrap(t)}t.create=function(){return new Md5};t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var s=OUTPUT_TYPES[r];t[s]=createOutputMethod(s)}return t};var nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')");var Buffer=eval("require('buffer').Buffer");var nodeMethod=function e(t){if(typeof t==="string"){return crypto.createHash("md5").update(t,"utf8").digest("hex")}else{if(t===null||t===undefined){throw ERROR}else if(t.constructor===ArrayBuffer){t=new Uint8Array(t)}}if(Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer){return crypto.createHash("md5").update(new Buffer(t)).digest("hex")}else{return method(t)}};return nodeMethod};function Md5(e){if(e){blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0;this.blocks=blocks;this.buffer8=buffer8}else{if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t);this.blocks=new Uint32Array(t)}else{this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=false;this.first=true}Md5.prototype.update=function(e){if(this.finalized){return}var t,r=babelHelpers.typeof(e);if(r!=="string"){if(r==="object"){if(e===null){throw ERROR}else if(ARRAY_BUFFER&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!ARRAY_BUFFER||!ArrayBuffer.isView(e)){throw ERROR}}}else{throw ERROR}t=true}var s,i=0,f,o=e.length,h=this.blocks;var a=this.buffer8;while(i<o){if(this.hashed){this.hashed=false;h[0]=h[16];h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0}if(t){if(ARRAY_BUFFER){for(f=this.start;i<o&&f<64;++i){a[f++]=e[i]}}else{for(f=this.start;i<o&&f<64;++i){h[f>>2]|=e[i]<<SHIFT[f++&3]}}}else{if(ARRAY_BUFFER){for(f=this.start;i<o&&f<64;++i){s=e.charCodeAt(i);if(s<128){a[f++]=s}else if(s<2048){a[f++]=192|s>>6;a[f++]=128|s&63}else if(s<55296||s>=57344){a[f++]=224|s>>12;a[f++]=128|s>>6&63;a[f++]=128|s&63}else{s=65536+((s&1023)<<10|e.charCodeAt(++i)&1023);a[f++]=240|s>>18;a[f++]=128|s>>12&63;a[f++]=128|s>>6&63;a[f++]=128|s&63}}}else{for(f=this.start;i<o&&f<64;++i){s=e.charCodeAt(i);if(s<128){h[f>>2]|=s<<SHIFT[f++&3]}else if(s<2048){h[f>>2]|=(192|s>>6)<<SHIFT[f++&3];h[f>>2]|=(128|s&63)<<SHIFT[f++&3]}else if(s<55296||s>=57344){h[f>>2]|=(224|s>>12)<<SHIFT[f++&3];h[f>>2]|=(128|s>>6&63)<<SHIFT[f++&3];h[f>>2]|=(128|s&63)<<SHIFT[f++&3]}else{s=65536+((s&1023)<<10|e.charCodeAt(++i)&1023);h[f>>2]|=(240|s>>18)<<SHIFT[f++&3];h[f>>2]|=(128|s>>12&63)<<SHIFT[f++&3];h[f>>2]|=(128|s>>6&63)<<SHIFT[f++&3];h[f>>2]|=(128|s&63)<<SHIFT[f++&3]}}}}this.lastByteIndex=f;this.bytes+=f-this.start;if(f>=64){this.start=f-64;this.hash();this.hashed=true}else{this.start=f}}if(this.bytes>4294967295){this.hBytes+=this.bytes/4294967296<<0;this.bytes=this.bytes%4294967296}return this};Md5.prototype.finalize=function(){if(this.finalized){return}this.finalized=true;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[t&3];if(t>=56){if(!this.hashed){this.hash()}e[0]=e[16];e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0}e[14]=this.bytes<<3;e[15]=this.hBytes<<3|this.bytes>>>29;this.hash()};Md5.prototype.hash=function(){var e,t,r,s,i,f,o=this.blocks;if(this.first){e=o[0]-680876937;e=(e<<7|e>>>25)-271733879<<0;s=(-1732584194^e&2004318071)+o[1]-117830708;s=(s<<12|s>>>20)+e<<0;r=(-271733879^s&(e^-271733879))+o[2]-1126478375;r=(r<<17|r>>>15)+s<<0;t=(e^r&(s^e))+o[3]-1316259209;t=(t<<22|t>>>10)+r<<0}else{e=this.h0;t=this.h1;r=this.h2;s=this.h3;e+=(s^t&(r^s))+o[0]-680876936;e=(e<<7|e>>>25)+t<<0;s+=(r^e&(t^r))+o[1]-389564586;s=(s<<12|s>>>20)+e<<0;r+=(t^s&(e^t))+o[2]+606105819;r=(r<<17|r>>>15)+s<<0;t+=(e^r&(s^e))+o[3]-1044525330;t=(t<<22|t>>>10)+r<<0}e+=(s^t&(r^s))+o[4]-176418897;e=(e<<7|e>>>25)+t<<0;s+=(r^e&(t^r))+o[5]+1200080426;s=(s<<12|s>>>20)+e<<0;r+=(t^s&(e^t))+o[6]-1473231341;r=(r<<17|r>>>15)+s<<0;t+=(e^r&(s^e))+o[7]-45705983;t=(t<<22|t>>>10)+r<<0;e+=(s^t&(r^s))+o[8]+1770035416;e=(e<<7|e>>>25)+t<<0;s+=(r^e&(t^r))+o[9]-1958414417;s=(s<<12|s>>>20)+e<<0;r+=(t^s&(e^t))+o[10]-42063;r=(r<<17|r>>>15)+s<<0;t+=(e^r&(s^e))+o[11]-1990404162;t=(t<<22|t>>>10)+r<<0;e+=(s^t&(r^s))+o[12]+1804603682;e=(e<<7|e>>>25)+t<<0;s+=(r^e&(t^r))+o[13]-40341101;s=(s<<12|s>>>20)+e<<0;r+=(t^s&(e^t))+o[14]-1502002290;r=(r<<17|r>>>15)+s<<0;t+=(e^r&(s^e))+o[15]+1236535329;t=(t<<22|t>>>10)+r<<0;e+=(r^s&(t^r))+o[1]-165796510;e=(e<<5|e>>>27)+t<<0;s+=(t^r&(e^t))+o[6]-1069501632;s=(s<<9|s>>>23)+e<<0;r+=(e^t&(s^e))+o[11]+643717713;r=(r<<14|r>>>18)+s<<0;t+=(s^e&(r^s))+o[0]-373897302;t=(t<<20|t>>>12)+r<<0;e+=(r^s&(t^r))+o[5]-701558691;e=(e<<5|e>>>27)+t<<0;s+=(t^r&(e^t))+o[10]+38016083;s=(s<<9|s>>>23)+e<<0;r+=(e^t&(s^e))+o[15]-660478335;r=(r<<14|r>>>18)+s<<0;t+=(s^e&(r^s))+o[4]-405537848;t=(t<<20|t>>>12)+r<<0;e+=(r^s&(t^r))+o[9]+568446438;e=(e<<5|e>>>27)+t<<0;s+=(t^r&(e^t))+o[14]-1019803690;s=(s<<9|s>>>23)+e<<0;r+=(e^t&(s^e))+o[3]-187363961;r=(r<<14|r>>>18)+s<<0;t+=(s^e&(r^s))+o[8]+1163531501;t=(t<<20|t>>>12)+r<<0;e+=(r^s&(t^r))+o[13]-1444681467;e=(e<<5|e>>>27)+t<<0;s+=(t^r&(e^t))+o[2]-51403784;s=(s<<9|s>>>23)+e<<0;r+=(e^t&(s^e))+o[7]+1735328473;r=(r<<14|r>>>18)+s<<0;t+=(s^e&(r^s))+o[12]-1926607734;t=(t<<20|t>>>12)+r<<0;i=t^r;e+=(i^s)+o[5]-378558;e=(e<<4|e>>>28)+t<<0;s+=(i^e)+o[8]-2022574463;s=(s<<11|s>>>21)+e<<0;f=s^e;r+=(f^t)+o[11]+1839030562;r=(r<<16|r>>>16)+s<<0;t+=(f^r)+o[14]-35309556;t=(t<<23|t>>>9)+r<<0;i=t^r;e+=(i^s)+o[1]-1530992060;e=(e<<4|e>>>28)+t<<0;s+=(i^e)+o[4]+1272893353;s=(s<<11|s>>>21)+e<<0;f=s^e;r+=(f^t)+o[7]-155497632;r=(r<<16|r>>>16)+s<<0;t+=(f^r)+o[10]-1094730640;t=(t<<23|t>>>9)+r<<0;i=t^r;e+=(i^s)+o[13]+681279174;e=(e<<4|e>>>28)+t<<0;s+=(i^e)+o[0]-358537222;s=(s<<11|s>>>21)+e<<0;f=s^e;r+=(f^t)+o[3]-722521979;r=(r<<16|r>>>16)+s<<0;t+=(f^r)+o[6]+76029189;t=(t<<23|t>>>9)+r<<0;i=t^r;e+=(i^s)+o[9]-640364487;e=(e<<4|e>>>28)+t<<0;s+=(i^e)+o[12]-421815835;s=(s<<11|s>>>21)+e<<0;f=s^e;r+=(f^t)+o[15]+530742520;r=(r<<16|r>>>16)+s<<0;t+=(f^r)+o[2]-995338651;t=(t<<23|t>>>9)+r<<0;e+=(r^(t|~s))+o[0]-198630844;e=(e<<6|e>>>26)+t<<0;s+=(t^(e|~r))+o[7]+1126891415;s=(s<<10|s>>>22)+e<<0;r+=(e^(s|~t))+o[14]-1416354905;r=(r<<15|r>>>17)+s<<0;t+=(s^(r|~e))+o[5]-57434055;t=(t<<21|t>>>11)+r<<0;e+=(r^(t|~s))+o[12]+1700485571;e=(e<<6|e>>>26)+t<<0;s+=(t^(e|~r))+o[3]-1894986606;s=(s<<10|s>>>22)+e<<0;r+=(e^(s|~t))+o[10]-1051523;r=(r<<15|r>>>17)+s<<0;t+=(s^(r|~e))+o[1]-2054922799;t=(t<<21|t>>>11)+r<<0;e+=(r^(t|~s))+o[8]+1873313359;e=(e<<6|e>>>26)+t<<0;s+=(t^(e|~r))+o[15]-30611744;s=(s<<10|s>>>22)+e<<0;r+=(e^(s|~t))+o[6]-1560198380;r=(r<<15|r>>>17)+s<<0;t+=(s^(r|~e))+o[13]+1309151649;t=(t<<21|t>>>11)+r<<0;e+=(r^(t|~s))+o[4]-145523070;e=(e<<6|e>>>26)+t<<0;s+=(t^(e|~r))+o[11]-1120210379;s=(s<<10|s>>>22)+e<<0;r+=(e^(s|~t))+o[2]+718787259;r=(r<<15|r>>>17)+s<<0;t+=(s^(r|~e))+o[9]-343485551;t=(t<<21|t>>>11)+r<<0;if(this.first){this.h0=e+1732584193<<0;this.h1=t-271733879<<0;this.h2=r-1732584194<<0;this.h3=s+271733878<<0;this.first=false}else{this.h0=this.h0+e<<0;this.h1=this.h1+t<<0;this.h2=this.h2+r<<0;this.h3=this.h3+s<<0}};Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,s=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]};Md5.prototype.toString=Md5.prototype.hex;Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,s=this.h3;return[e&255,e>>8&255,e>>16&255,e>>24&255,t&255,t>>8&255,t>>16&255,t>>24&255,r&255,r>>8&255,r>>16&255,r>>24&255,s&255,s>>8&255,s>>16&255,s>>24&255]};Md5.prototype.array=Md5.prototype.digest;Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16);var t=new Uint32Array(e);t[0]=this.h0;t[1]=this.h1;t[2]=this.h2;t[3]=this.h3;return e};Md5.prototype.buffer=Md5.prototype.arrayBuffer;Md5.prototype.base64=function(){var e,t,r,s="",i=this.array();for(var f=0;f<15;){e=i[f++];t=i[f++];r=i[f++];s+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[(e<<4|t>>>4)&63]+BASE64_ENCODE_CHAR[(t<<2|r>>>6)&63]+BASE64_ENCODE_CHAR[r&63]}e=i[f];s+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==";return s};return createMethod()}();exports.md5=md5})(this.BX=this.BX||{});
 



// file: /bitrix/js/ui/vue/vuex/dist/vuex.bitrix.bundle.js
(function(e,t,r,n,i){"use strict";var a;if(typeof e!=="undefined"&&"VuexVendor"in e){var o="3.5.1";if(e.VuexVendor.version!=o){console.warn("BX.Vuex already loaded. Loaded: "+e.VuexVendor.version+", Skipped: "+o)}a=e.VuexVendor}else{function s(e){var t=Number(e.version.split(".")[0]);if(t>=2){e.mixin({beforeCreate:n})}else{var r=e.prototype._init;e.prototype._init=function(e){if(e===void 0)e={};e.init=e.init?[n].concat(e.init):n;r.call(this,e)}}function n(){var e=this.$options;if(e.store){this.$store=typeof e.store==="function"?e.store():e.store}else if(e.parent&&e.parent.$store){this.$store=e.parent.$store}}}var u=typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};var c=u.__VUE_DEVTOOLS_GLOBAL_HOOK__;function l(e){if(!c){return}e._devtoolHook=c;c.emit("vuex:init",e);c.on("vuex:travel-to-state",function(t){e.replaceState(t)});e.subscribe(function(e,t){c.emit("vuex:mutation",e,t)},{prepend:true});e.subscribeAction(function(e,t){c.emit("vuex:action",e,t)},{prepend:true})}function f(e,t){return e.filter(t)[0]}function d(e,t){if(t===void 0)t=[];if(e===null||babelHelpers.typeof(e)!=="object"){return e}var r=f(t,function(t){return t.original===e});if(r){return r.copy}var n=Array.isArray(e)?[]:{};t.push({original:e,copy:n});Object.keys(e).forEach(function(r){n[r]=d(e[r],t)});return n}function h(e,t){Object.keys(e).forEach(function(r){return t(e[r],r)})}function p(e){return e!==null&&babelHelpers.typeof(e)==="object"}function v(e){return e&&typeof e.then==="function"}function m(e,t){if(!e){throw new Error("[vuex] "+t)}}function g(e,t){return function(){return e(t)}}var y=function e(t,r){this.runtime=r;this._children=Object.create(null);this._rawModule=t;var n=t.state;this.state=(typeof n==="function"?n():n)||{}};var b={namespaced:{configurable:true}};b.namespaced.get=function(){return!!this._rawModule.namespaced};y.prototype.addChild=function e(t,r){this._children[t]=r};y.prototype.removeChild=function e(t){delete this._children[t]};y.prototype.getChild=function e(t){return this._children[t]};y.prototype.hasChild=function e(t){return t in this._children};y.prototype.update=function e(t){this._rawModule.namespaced=t.namespaced;if(t.actions){this._rawModule.actions=t.actions}if(t.mutations){this._rawModule.mutations=t.mutations}if(t.getters){this._rawModule.getters=t.getters}};y.prototype.forEachChild=function e(t){h(this._children,t)};y.prototype.forEachGetter=function e(t){if(this._rawModule.getters){h(this._rawModule.getters,t)}};y.prototype.forEachAction=function e(t){if(this._rawModule.actions){h(this._rawModule.actions,t)}};y.prototype.forEachMutation=function e(t){if(this._rawModule.mutations){h(this._rawModule.mutations,t)}};Object.defineProperties(y.prototype,b);var w=function e(t){this.register([],t,false)};w.prototype.get=function e(t){return t.reduce(function(e,t){return e.getChild(t)},this.root)};w.prototype.getNamespace=function e(t){var r=this.root;return t.reduce(function(e,t){r=r.getChild(t);return e+(r.namespaced?t+"/":"")},"")};w.prototype.update=function e(t){S([],this.root,t)};w.prototype.register=function e(t,r,n){var i=this;if(n===void 0)n=true;{C(t,r)}var a=new y(r,n);if(t.length===0){this.root=a}else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],a)}if(r.modules){h(r.modules,function(e,r){i.register(t.concat(r),e,n)})}};w.prototype.unregister=function e(t){var r=this.get(t.slice(0,-1));var n=t[t.length-1];var i=r.getChild(n);if(!i){{console.warn("[vuex] trying to unregister module '"+n+"', which is "+"not registered")}return}if(!i.runtime){return}r.removeChild(n)};w.prototype.isRegistered=function e(t){var r=this.get(t.slice(0,-1));var n=t[t.length-1];return r.hasChild(n)};function S(e,t,r){{C(e,r)}t.update(r);if(r.modules){for(var n in r.modules){if(!t.getChild(n)){{console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, "+"manual reload is needed")}return}S(e.concat(n),t.getChild(n),r.modules[n])}}}var _={assert:function e(t){return typeof t==="function"},expected:"function"};var x={assert:function e(t){return typeof t==="function"||babelHelpers.typeof(t)==="object"&&typeof t.handler==="function"},expected:'function or object with "handler" function'};var k={getters:_,mutations:_,actions:x};function C(e,t){Object.keys(k).forEach(function(r){if(!t[r]){return}var n=k[r];h(t[r],function(t,i){m(n.assert(t),V(e,r,i,t,n.expected))})})}function V(e,t,r,n,i){var a=t+" should be "+i+' but "'+t+"."+r+'"';if(e.length>0){a+=' in module "'+e.join(".")+'"'}a+=" is "+JSON.stringify(n)+".";return a}var A=function e(r){var n=this;if(r===void 0)r={};{m(t.VueVendor,"must call Vue.use(Vuex) before creating a store instance.");m(typeof Promise!=="undefined","vuex requires a Promise polyfill in this browser.");m(this instanceof e,"store must be called with the new operator.")}var i=r.plugins;if(i===void 0)i=[];var a=r.strict;if(a===void 0)a=false;this._committing=false;this._actions=Object.create(null);this._actionSubscribers=[];this._mutations=Object.create(null);this._wrappedGetters=Object.create(null);this._modules=new w(r);this._modulesNamespaceMap=Object.create(null);this._subscribers=[];this._watcherVM=new t.VueVendor;this._makeLocalGettersCache=Object.create(null);var o=this;var s=this;var u=s.dispatch;var c=s.commit;this.dispatch=function e(t,r){return u.call(o,t,r)};this.commit=function e(t,r,n){return c.call(o,t,r,n)};this.strict=a;var f=this._modules.root.state;E(this,f,[],this._modules.root);I(this,f);i.forEach(function(e){return e(n)});var d=r.devtools!==undefined?r.devtools:t.VueVendor.config.devtools;if(d){l(this)}};var O={state:{configurable:true}};O.state.get=function(){return this._vm._data.$$state};O.state.set=function(e){{m(false,"use store.replaceState() to explicit replace store state.")}};A.prototype.commit=function e(t,r,n){var i=this;var a=$(t,r,n);var o=a.type;var s=a.payload;var u=a.options;var c={type:o,payload:s};var l=this._mutations[o];if(!l){{console.error("[vuex] unknown mutation type: "+o)}return}this._withCommit(function(){l.forEach(function e(t){t(s)})});this._subscribers.slice().forEach(function(e){return e(c,i.state)});if(u&&u.silent){console.warn("[vuex] mutation type: "+o+". Silent option has been removed. "+"Use the filter functionality in the vue-devtools")}};A.prototype.dispatch=function e(t,r){var n=this;var i=$(t,r);var a=i.type;var o=i.payload;var s={type:a,payload:o};var u=this._actions[a];if(!u){{console.error("[vuex] unknown action type: "+a)}return}try{this._actionSubscribers.slice().filter(function(e){return e.before}).forEach(function(e){return e.before(s,n.state)})}catch(e){{console.warn("[vuex] error in before action subscribers: ");console.error(e)}}var c=u.length>1?Promise.all(u.map(function(e){return e(o)})):u[0](o);return new Promise(function(e,t){c.then(function(t){try{n._actionSubscribers.filter(function(e){return e.after}).forEach(function(e){return e.after(s,n.state)})}catch(e){{console.warn("[vuex] error in after action subscribers: ");console.error(e)}}e(t)},function(e){try{n._actionSubscribers.filter(function(e){return e.error}).forEach(function(t){return t.error(s,n.state,e)})}catch(e){{console.warn("[vuex] error in error action subscribers: ");console.error(e)}}t(e)})})};A.prototype.subscribe=function e(t,r){return M(t,this._subscribers,r)};A.prototype.subscribeAction=function e(t,r){var n=typeof t==="function"?{before:t}:t;return M(n,this._actionSubscribers,r)};A.prototype.watch=function e(t,r,n){var i=this;{m(typeof t==="function","store.watch only accepts a function.")}return this._watcherVM.$watch(function(){return t(i.state,i.getters)},r,n)};A.prototype.replaceState=function e(t){var r=this;this._withCommit(function(){r._vm._data.$$state=t})};A.prototype.registerModule=function e(t,r,n){if(n===void 0)n={};if(typeof t==="string"){t=[t]}{m(Array.isArray(t),"module path must be a string or an Array.");m(t.length>0,"cannot register the root module by using registerModule.")}this._modules.register(t,r);E(this,this.state,t,this._modules.get(t),n.preserveState);I(this,this.state)};A.prototype.unregisterModule=function e(r){var n=this;if(typeof r==="string"){r=[r]}{m(Array.isArray(r),"module path must be a string or an Array.")}this._modules.unregister(r);this._withCommit(function(){var e=G(n.state,r.slice(0,-1));t.VueVendor.delete(e,r[r.length-1])});j(this)};A.prototype.hasModule=function e(t){if(typeof t==="string"){t=[t]}{m(Array.isArray(t),"module path must be a string or an Array.")}return this._modules.isRegistered(t)};A.prototype.hotUpdate=function e(t){this._modules.update(t);j(this,true)};A.prototype._withCommit=function e(t){var r=this._committing;this._committing=true;t();this._committing=r};Object.defineProperties(A.prototype,O);function M(e,t,r){if(t.indexOf(e)<0){r&&r.prepend?t.unshift(e):t.push(e)}return function(){var r=t.indexOf(e);if(r>-1){t.splice(r,1)}}}function j(e,t){e._actions=Object.create(null);e._mutations=Object.create(null);e._wrappedGetters=Object.create(null);e._modulesNamespaceMap=Object.create(null);var r=e.state;E(e,r,[],e._modules.root,true);I(e,r,t)}function I(e,r,n){var i=e._vm;e.getters={};e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters;var o={};h(a,function(t,r){o[r]=g(t,e);Object.defineProperty(e.getters,r,{get:function t(){return e._vm[r]},enumerable:true})});var s=t.VueVendor.config.silent;t.VueVendor.config.silent=true;e._vm=new t.VueVendor({data:{$$state:r},computed:o});t.VueVendor.config.silent=s;if(e.strict){T(e)}if(i){if(n){e._withCommit(function(){i._data.$$state=null})}t.VueVendor.nextTick(function(){return i.$destroy()})}}function E(e,r,n,i,a){var o=!n.length;var s=e._modules.getNamespace(n);if(i.namespaced){if(e._modulesNamespaceMap[s]&&true){console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+n.join("/"))}e._modulesNamespaceMap[s]=i}if(!o&&!a){var u=G(r,n.slice(0,-1));var c=n[n.length-1];e._withCommit(function(){{if(c in u){console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+n.join(".")+'"')}}t.VueVendor.set(u,c,i.state)})}var l=i.context=N(e,s,n);i.forEachMutation(function(t,r){var n=s+r;P(e,n,t,l)});i.forEachAction(function(t,r){var n=t.root?r:s+r;var i=t.handler||t;D(e,n,i,l)});i.forEachGetter(function(t,r){var n=s+r;B(e,n,t,l)});i.forEachChild(function(t,i){E(e,r,n.concat(i),t,a)})}function N(e,t,r){var n=t==="";var i={dispatch:n?e.dispatch:function(r,n,i){var a=$(r,n,i);var o=a.payload;var s=a.options;var u=a.type;if(!s||!s.root){u=t+u;if(!e._actions[u]){console.error("[vuex] unknown local action type: "+a.type+", global type: "+u);return}}return e.dispatch(u,o)},commit:n?e.commit:function(r,n,i){var a=$(r,n,i);var o=a.payload;var s=a.options;var u=a.type;if(!s||!s.root){u=t+u;if(!e._mutations[u]){console.error("[vuex] unknown local mutation type: "+a.type+", global type: "+u);return}}e.commit(u,o,s)}};Object.defineProperties(i,{getters:{get:n?function(){return e.getters}:function(){return H(e,t)}},state:{get:function t(){return G(e.state,r)}}});return i}function H(e,t){if(!e._makeLocalGettersCache[t]){var r={};var n=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,n)!==t){return}var a=i.slice(n);Object.defineProperty(r,a,{get:function t(){return e.getters[i]},enumerable:true})});e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}function P(e,t,r,n){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function t(i){r.call(e,n.state,i)})}function D(e,t,r,n){var i=e._actions[t]||(e._actions[t]=[]);i.push(function t(i){var a=r.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},i);if(!v(a)){a=Promise.resolve(a)}if(e._devtoolHook){return a.catch(function(t){e._devtoolHook.emit("vuex:error",t);throw t})}else{return a}})}function B(e,t,r,n){if(e._wrappedGetters[t]){{console.error("[vuex] duplicate getter key: "+t)}return}e._wrappedGetters[t]=function e(t){return r(n.state,n.getters,t.state,t.getters)}}function T(e){e._vm.$watch(function(){return this._data.$$state},function(){{m(e._committing,"do not mutate vuex store state outside mutation handlers.")}},{deep:true,sync:true})}function G(e,t){return t.reduce(function(e,t){return e[t]},e)}function $(e,t,r){if(p(e)&&e.type){r=t;t=e;e=e.type}{m(typeof e==="string","expects string as the type, but found "+babelHelpers.typeof(e)+".")}return{type:e,payload:t,options:r}}function L(e){s(t.VueVendor)}var X=z(function(e,t){var r={};if(!q(t)){console.error("[vuex] mapState: mapper parameter must be either an Array or an Object")}W(t).forEach(function(t){var n=t.key;var i=t.val;r[n]=function t(){var r=this.$store.state;var n=this.$store.getters;if(e){var a=K(this.$store,"mapState",e);if(!a){return}r=a.context.state;n=a.context.getters}return typeof i==="function"?i.call(this,r,n):r[i]};r[n].vuex=true});return r});var J=z(function(e,t){var r={};if(!q(t)){console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object")}W(t).forEach(function(t){var n=t.key;var i=t.val;r[n]=function t(){var r=[],n=arguments.length;while(n--){r[n]=arguments[n]}var a=this.$store.commit;if(e){var o=K(this.$store,"mapMutations",e);if(!o){return}a=o.context.commit}return typeof i==="function"?i.apply(this,[a].concat(r)):a.apply(this.$store,[i].concat(r))}});return r});var R=z(function(e,t){var r={};if(!q(t)){console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object")}W(t).forEach(function(t){var n=t.key;var i=t.val;i=e+i;r[n]=function t(){if(e&&!K(this.$store,"mapGetters",e)){return}if(!(i in this.$store.getters)){console.error("[vuex] unknown getter: "+i);return}return this.$store.getters[i]};r[n].vuex=true});return r});var F=z(function(e,t){var r={};if(!q(t)){console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object")}W(t).forEach(function(t){var n=t.key;var i=t.val;r[n]=function t(){var r=[],n=arguments.length;while(n--){r[n]=arguments[n]}var a=this.$store.dispatch;if(e){var o=K(this.$store,"mapActions",e);if(!o){return}a=o.context.dispatch}return typeof i==="function"?i.apply(this,[a].concat(r)):a.apply(this.$store,[i].concat(r))}});return r});var U=function e(t){return{mapState:X.bind(null,t),mapGetters:R.bind(null,t),mapMutations:J.bind(null,t),mapActions:F.bind(null,t)}};function W(e){if(!q(e)){return[]}return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function q(e){return Array.isArray(e)||p(e)}function z(e){return function(t,r){if(typeof t!=="string"){r=t;t=""}else if(t.charAt(t.length-1)!=="/"){t+="/"}return e(t,r)}}function K(e,t,r){var n=e._modulesNamespaceMap[r];if(!n){console.error("[vuex] module namespace not found in "+t+"(): "+r)}return n}function Q(e){if(e===void 0)e={};var t=e.collapsed;if(t===void 0)t=true;var r=e.filter;if(r===void 0)r=function e(t,r,n){return true};var n=e.transformer;if(n===void 0)n=function e(t){return t};var i=e.mutationTransformer;if(i===void 0)i=function e(t){return t};var a=e.actionFilter;if(a===void 0)a=function e(t,r){return true};var o=e.actionTransformer;if(o===void 0)o=function e(t){return t};var s=e.logMutations;if(s===void 0)s=true;var u=e.logActions;if(u===void 0)u=true;var c=e.logger;if(c===void 0)c=console;return function(e){var l=d(e.state);if(typeof c==="undefined"){return}if(s){e.subscribe(function(e,a){var o=d(a);if(r(e,l,o)){var s=ee();var u=i(e);var f="mutation "+e.type+s;Y(c,f,t);c.log("%c prev state","color: #9E9E9E; font-weight: bold",n(l));c.log("%c mutation","color: #03A9F4; font-weight: bold",u);c.log("%c next state","color: #4CAF50; font-weight: bold",n(o));Z(c)}l=o})}if(u){e.subscribeAction(function(e,r){if(a(e,r)){var n=ee();var i=o(e);var s="action "+e.type+n;Y(c,s,t);c.log("%c action","color: #03A9F4; font-weight: bold",i);Z(c)}})}}}function Y(e,t,r){var n=r?e.groupCollapsed:e.group;try{n.call(e,t)}catch(r){e.log(t)}}function Z(e){try{e.groupEnd()}catch(t){e.log("\ufffd\ufffd log end \ufffd\ufffd")}}function ee(){var e=new Date;return" @ "+re(e.getHours(),2)+":"+re(e.getMinutes(),2)+":"+re(e.getSeconds(),2)+"."+re(e.getMilliseconds(),3)}function te(e,t){return new Array(t+1).join(e)}function re(e,t){return te("0",t-e.toString().length)+e}var ne={Store:A,install:L,version:"3.5.1",mapState:X,mapMutations:J,mapGetters:R,mapActions:F,createNamespacedHelpers:U,createLogger:Q};t.VueVendor.use(ne);a=ne}var ie=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);this.siteId=t.siteId||"default";this.userId=t.userId||0;this.storage=t.storage||"default";this.name=t.name||"";this.code=(window.md5||n.md5)(this.siteId+"/"+this.userId+"/"+this.storage+"/"+this.name);this.db=new r.Dexie("bx-vuex-model");this.db.version(1).stores({data:"code, value"})}babelHelpers.createClass(e,[{key:"get",value:function e(){var t=this;return new Promise(function(e,r){t.db.data.where("code").equals(t.code).first().then(function(t){e(t?t.value:null)},function(e){r(e)})})}},{key:"set",value:function e(t){var r=this;return new Promise(function(e,n){r.db.data.put({code:r.code,value:t}).then(function(t){e(true)},function(e){n(e)})})}},{key:"clear",value:function e(){var t=this;return new Promise(function(e,r){t.db.data.delete(t.code).then(function(t){e(true)},function(e){r(e)})})}}]);return e}();var ae=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);this.siteId=t.siteId||"default";this.userId=t.userId||0;this.storage=t.storage||"default";this.name=t.name||"";this.enabled=false;if(typeof window.localStorage!=="undefined"){try{window.localStorage.setItem("__bx_test_ls_feature__","ok");if(window.localStorage.getItem("__bx_test_ls_feature__")==="ok"){window.localStorage.removeItem("__bx_test_ls_feature__");this.enabled=true}}catch(e){}}this.code="bx-vuex-"+(window.md5||n.md5)(this.siteId+"/"+this.userId+"/"+this.storage+"/"+this.name)}babelHelpers.createClass(e,[{key:"get",value:function e(){var t=this;return new Promise(function(e,r){if(!t.enabled){e(null);return true}var n=window.localStorage.getItem(t.code);if(typeof n!=="string"){e(null);return true}try{e(t.prepareValueAfterGet(JSON.parse(n)))}catch(e){r(e)}})}},{key:"set",value:function e(t){var r=this;return new Promise(function(e,n){if(r.enabled){window.localStorage.setItem(r.code,JSON.stringify(r.prepareValueBeforeSet(t)))}e(true)})}},{key:"clear",value:function e(){var t=this;return new Promise(function(e,r){if(t.enabled){window.localStorage.removeItem(t.code)}e(true)})}},{key:"prepareValueAfterGet",value:function e(t){var r=this;if(t instanceof Array){t=t.map(function(e){return r.prepareValueAfterGet(e)})}else if(t instanceof Date);else if(t&&babelHelpers.typeof(t)==="object"){for(var n in t){if(t.hasOwnProperty(n)){t[n]=this.prepareValueAfterGet(t[n])}}}else if(typeof t==="string"){if(t.startsWith("#DT#")){t=new Date(t.substring(4))}}return t}},{key:"prepareValueBeforeSet",value:function e(t){var r=this;if(t instanceof Array){t=t.map(function(e){return r.prepareValueBeforeSet(e)})}else if(t instanceof Date){t="#DT#"+t.toISOString()}else if(t&&babelHelpers.typeof(t)==="object"){for(var n in t){if(t.hasOwnProperty(n)){t[n]=this.prepareValueBeforeSet(t[n])}}}return t}}]);return e}();var oe=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);this.siteId=t.siteId||"default";this.userId=t.userId||0;this.storage=t.storage||"default";this.name=t.name||"";this.code=(window.md5||n.md5)(this.siteId+"/"+this.userId+"/"+this.storage+"/"+this.name);if(!this.isJnContext()&&typeof ApplicationStorage==="undefined"){console.error('ApplicationStorage is not defined, load "webcomponent/storage" extension.')}}babelHelpers.createClass(e,[{key:"get",value:function e(){var t=this;return new Promise(function(e,r){if(t.isJnContext()){var n=Application.sharedStorage.get(t.code);e(n?n:null)}else if(typeof ApplicationStorage!=="undefined"){ApplicationStorage.get(t.code,null).then(function(r){return e(t.prepareValueAfterGet(JSON.parse(r)))})}else{e(null)}})}},{key:"set",value:function e(t){var r=this;return new Promise(function(e,n){if(r.isJnContext()){Application.sharedStorage().set(r.code,JSON.stringify(r.prepareValueBeforeSet(t)));e()}else if(typeof ApplicationStorage!=="undefined"){ApplicationStorage.set(r.code,JSON.stringify(r.prepareValueBeforeSet(t))).then(function(t){return e()})}else{e()}})}},{key:"clear",value:function e(){return this.set(null)}},{key:"isJnContext",value:function e(){return typeof env!=="undefined"}},{key:"prepareValueAfterGet",value:function e(t){var r=this;if(t instanceof Array){t=t.map(function(e){return r.prepareValueAfterGet(e)})}else if(t instanceof Date);else if(t&&babelHelpers.typeof(t)==="object"){for(var n in t){if(t.hasOwnProperty(n)){t[n]=this.prepareValueAfterGet(t[n])}}}else if(typeof t==="string"){if(t.startsWith("#DT#")){t=new Date(t.substring(4))}}return t}},{key:"prepareValueBeforeSet",value:function e(t){var r=this;if(t instanceof Array){t=t.map(function(e){return r.prepareValueBeforeSet(e)})}else if(t instanceof Date){t="#DT#"+t.toISOString()}else if(t&&babelHelpers.typeof(t)==="object"){for(var n in t){if(t.hasOwnProperty(n)){t[n]=this.prepareValueBeforeSet(t[n])}}}return t}}]);return e}();var se=function(){babelHelpers.createClass(e,[{key:"getName",value:function e(){return""}},{key:"getState",value:function e(){return{}}},{key:"getElementState",value:function e(){return{}}},{key:"getStateSaveException",value:function e(){return undefined}},{key:"getGetters",value:function e(){return{}}},{key:"getActions",value:function e(){return{}}},{key:"getMutations",value:function e(){return{}}},{key:"validate",value:function e(t){return{}}},{key:"setVariables",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!(babelHelpers.typeof(t)==="object"&&t)){this.logger("error","VuexBuilderModel.setVars: passed variables is not a Object",store);return this}this.variables=t;return this}},{key:"getVariable",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;if(!t){return r}var n=t.toString().split(".");if(n.length===1){return this.variables[n[0]]}var i;var a=Object.assign({},this.variables);for(var o=0;o<n.length;o++){if(typeof a[n[o]]!=="undefined"){a=i=a[n[o]]}else{i=r;break}}return i}},{key:"getNamespace",value:function e(){return this.namespace?this.namespace:this.getName()}},{key:"setNamespace",value:function e(t){this.namespace=t.toString();this.databaseConfig.name=this.namespace;return this}},{key:"useDatabase",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.databaseConfig.active=!!t;var n=this.db===null;if(r.type){this.databaseConfig.type=r.type.toString();n=true}if(r.storage){this.databaseConfig.storage=r.storage.toString()}if(r.siteId){this.databaseConfig.siteId=r.siteId.toString()}if(r.userId){this.databaseConfig.userId=r.userId}if(typeof r.timeout==="number"){this.databaseConfig.timeout=r.timeout}if(n){if(this.databaseConfig.type===ce.DatabaseType.indexedDb){this.db=new ie(this.databaseConfig)}else if(this.databaseConfig.type===ce.DatabaseType.localStorage){this.db=new ae(this.databaseConfig)}else if(this.databaseConfig.type===ce.DatabaseType.jnSharedStorage){this.db=new oe(this.databaseConfig)}else{this.db=null}}return this}},{key:"useNamespace",value:function e(t){this.withNamespace=!!t;return this}},{key:"getStore",value:function e(){var t=this;return new Promise(function(e,r){var n="";if(t.withNamespace){n=t.namespace?t.namespace:t.getName();if(!n&&t.withNamespace){t.logger("error","VuexModel.getStore: current model can not be run in Vuex modules mode",t.getState());r()}}if(t.db){t._getStoreFromDatabase().then(function(r){return e(t._createStore(r,n))})}else{e(t._createStore(t.getState(),n))}})}},{key:"getSaveTimeout",value:function e(){return 150}},{key:"getLoadedState",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return t}},{key:"saveState",value:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!this.isSaveAvailable()){return true}this.lastSaveState=r;if(this.saveStateTimeout){this.logger("log","VuexModel.saveState: wait save...",this.getName());return true}this.logger("log","VuexModel.saveState: start saving",this.getName());var n=this.getSaveTimeout();if(typeof this.databaseConfig.timeout==="number"){n=this.databaseConfig.timeout}this.saveStateTimeout=setTimeout(function(){t.logger("log","VuexModel.saveState: saved!",t.getName());var e=t.lastSaveState;if(typeof e==="function"){e=e();if(babelHelpers.typeof(e)!=="object"||!e){return false}}t.db.set(t.cloneState(e,t.getStateSaveException()));t.lastState=null;t.saveStateTimeout=null},n);return true}},{key:"clearState",value:function e(){if(this.store){var t="vuexBuilderModelClearState";t=this.withNamespace?this.getNamespace()+"/"+t:t;this.store.commit(t);return true}return this.saveState(this.getState())}},{key:"clearDatabase",value:function e(){if(!this.isSaveAvailable()){return true}this.db.clear();return true}},{key:"isSaveAvailable",value:function e(){return this.db&&this.databaseConfig.active}},{key:"isSaveNeeded",value:function e(t){if(!this.isSaveAvailable()){return false}var r=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!r){return true}for(var n in t){if(!t.hasOwnProperty(n)){continue}if(typeof r[n]==="undefined"){return true}else if(babelHelpers.typeof(r[n])==="object"&&r[n]){var i=e(t[n],r[n]);if(i){return true}}}return false};return r(t,this.getStateSaveException())}}],[{key:"create",value:function e(){return new this}}]);function e(){babelHelpers.classCallCheck(this,e);this.databaseConfig={type:ce.DatabaseType.indexedDb,active:null,storage:"default",name:this.getName(),siteId:"default",userId:0,timeout:null};this.db=null;this.store=null;this.namespace=null;this.variables={};this.withNamespace=false}babelHelpers.createClass(e,[{key:"setStore",value:function e(t){if(!(t instanceof i.VuexVendor.Store)){this.logger("error","VuexBuilderModel.setStore: passed store is not a Vuex.Store",t);return this}this.store=t;return this}},{key:"_getStoreFromDatabase",value:function e(){var t=this;clearTimeout(this.cacheTimeout);return new Promise(function(e){t.cacheTimeout=setTimeout(function(){t.logger("warn","VuexModel.getStoreFromDatabase: Cache loading timeout",t.getName());e(t.getState())},1e3);t.db.get().then(function(r){clearTimeout(t.cacheTimeout);r=t.getLoadedState(r?r:{});var n=t.getState();if(r){n=t._mergeState(n,r)}e(n)},function(r){clearTimeout(t.cacheTimeout);e(t.getState())})})}},{key:"_mergeState",value:function e(t,r){for(var n in t){if(!t.hasOwnProperty(n)){continue}if(typeof r[n]==="undefined"){r[n]=t[n]}else if(!(r[n]instanceof Array)&&babelHelpers.typeof(r[n])==="object"&&r[n]&&babelHelpers.typeof(t[n])==="object"&&t[n]){r[n]=Object.assign({},t[n],r[n])}}return r}},{key:"_createStore",value:function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i={state:t,getters:this.getGetters(),actions:this.getActions(),mutations:this.getMutations()};i.mutations.vuexBuilderModelClearState=function(e){e=Object.assign(e,r.getState());r.saveState(e)};if(n){i.namespaced=true;i=babelHelpers.defineProperty({},n,i)}return i}},{key:"cloneState",value:function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;var i;if(t instanceof Array){i=[].concat(t.map(function(e){return r.cloneState(e)}))}else if(t instanceof Date){i=new Date(t.toISOString())}else if(babelHelpers.typeof(t)==="object"&&t){i={};for(var a in t){if(!t.hasOwnProperty(a)){continue}if(typeof n==="undefined"||typeof n[a]==="undefined"){i[a]=this.cloneState(t[a])}else if(babelHelpers.typeof(n[a])==="object"&&n[a]){i[a]=this.cloneState(t[a],n[a])}}}else{i=t}return i}},{key:"logger",value:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}if(t==="error"){var a;(a=console).error.apply(a,n);return undefined}else if(typeof BX.VueDevTools==="undefined"){return undefined}if(t==="log"){var o;(o=console).log.apply(o,n)}else if(t==="info"){var s;(s=console).info.apply(s,n)}else if(t==="warn"){var u;(u=console).warn.apply(u,n)}}}],[{key:"convertToArray",value:function e(t){var r=[];for(var n in t){if(t.hasOwnProperty(n)){r.push(t[n])}}return r}}]);return e}();var ue=Object.freeze({indexedDb:"indexedDb",localStorage:"localStorage",jnSharedStorage:"jnSharedStorage"});var ce=function(){babelHelpers.createClass(t,null,[{key:"create",value:function e(){return new this}}]);function t(){babelHelpers.classCallCheck(this,t);this.models=[];this.databaseConfig={name:null,type:null,siteId:null,userId:null,timeout:null};this.withNamespace=true}babelHelpers.createClass(t,[{key:"addModel",value:function e(t){if(!(t instanceof se)){console.error("BX.VuexBuilder.addModel: passed model is not a BX.VuexBuilderModel",t,name);return this}this.models.push(t);return this}},{key:"useNamespace",value:function e(t){this.withNamespace=!!t;return this}},{key:"setDatabaseConfig",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!(babelHelpers.typeof(t)==="object"&&t)){return this}this.databaseConfig.active=true;this.databaseConfig.storage=t.name;this.databaseConfig.type=t.type||this.databaseConfig.type;this.databaseConfig.siteId=t.siteId||this.databaseConfig.siteId;this.databaseConfig.userId=t.userId||this.databaseConfig.userId;this.databaseConfig.timeout=typeof t.timeout!=="undefined"?t.timeout:this.databaseConfig.timeout;return this}},{key:"clearModelState",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var r=[];this.models.forEach(function(e){r.push(e.clearState())});return new Promise(function(e,n){Promise.all(r).then(function(r){e(true);if(typeof t==="function"){t(true)}},function(e){console.error("BX.VuexBuilder.clearModelState: storage was not clear due to runtime errors.",e?e:"");if(typeof t!=="function"){n("ERROR_WHILE_CLEARING")}})})}},{key:"clearDatabase",value:function e(){this.models.forEach(function(e){return e.clearDatabase()});return new Promise(function(e,t){return e(true)})}},{key:"build",value:function t(){var r=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var i=this.models.length>1;if(!this.withNamespace&&i){return new Promise(function(e,t){console.error('BX.VuexBuilder.create: you can not use the "no namespace" mode with multiple databases.');if(typeof n!=="function"){t("MULTIPLE_MODULES_WITHOUT_NAMESPACE")}})}var a=[];this.models.forEach(function(e){if(r.databaseConfig.active&&e.databaseConfig.active!==false){e.useDatabase(true,r.databaseConfig)}if(r.withNamespace){e.useNamespace(true)}a.push(e.getStore())});return new Promise(function(t,i){Promise.all(a).then(function(i){var a={};i.forEach(function(e){Object.assign(a,e)});var o=e.Vuex.store(r.withNamespace?{modules:a}:a);r.models.forEach(function(e){return e.setStore(o)});t({store:o,models:r.models,builder:r});if(typeof n==="function"){n({store:o,models:r.models,builder:r})}},function(e){console.error("BX.VuexBuilder.create: storage was not created due to runtime errors.",e?e:"");if(typeof n!=="function"){i("ERROR_IN_MODEL")}})})}}]);return t}();ce.DatabaseType=ue;var le=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"store",value:function e(t){return new a.Store(t)}},{key:"mapState",value:function e(){return a.mapState.apply(a,arguments)}},{key:"mapGetters",value:function e(){return a.mapGetters.apply(a,arguments)}},{key:"mapActions",value:function e(){return a.mapActions.apply(a,arguments)}},{key:"mapMutations",value:function e(){return a.mapMutations.apply(a,arguments)}},{key:"createNamespacedHelpers",value:function e(){return a.createNamespacedHelpers.apply(a,arguments)}},{key:"version",value:function e(){return a.version}}]);return e}();if(typeof e!=="undefined"&&"Vuex"in e){e.Vuex=e.Vuex;e.VuexVendor=e.VuexVendor}else{e.Vuex=le;e.VuexVendor=a}e.VuexBuilder=ce;e.VuexBuilderModel=se})(this.BX=this.BX||{},BX,BX,BX,BX);
 



// file: /bitrix/js/ui/progressbarjs/progressbar.js
(function(t){if(typeof window.BX==="undefined"){window.BX={}}window.BX.ProgressBarJs=t()})(function(){var t,e,r;return function(){function t(e,r,n){function i(a,u){if(!r[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return i(r||t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}return t}()({1:[function(e,r,n){!function(e,i){"object"==typeof n&&"object"==typeof r?r.exports=i():"function"==typeof t&&t.amd?t("shifty",[],i):"object"==typeof n?n.shifty=i():e.shifty=i()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=3)}([function(t,e,r){"use strict";(function(t){r.d(e,"e",function(){return d}),r.d(e,"c",function(){return y}),r.d(e,"b",function(){return _}),r.d(e,"a",function(){return w}),r.d(e,"d",function(){return m});var n=r(1);function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){u(t,e,r[e])})}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s="undefined"!=typeof window?window:t,f=s.requestAnimationFrame||s.webkitRequestAnimationFrame||s.oRequestAnimationFrame||s.msRequestAnimationFrame||s.mozCancelRequestAnimationFrame&&s.mozRequestAnimationFrame||setTimeout,c=function(){},h=null,l=null,p=a({},n),d=function(t,e,r,n,i,o,a){var u=t<o?0:(t-o)/i;for(var s in e){var f=a[s],c=f.call?f:p[f],h=r[s];e[s]=h+(n[s]-h)*c(u)}return e},v=function(t,e){var r=t._attachment,n=t._currentState,i=t._delay,o=t._easing,a=t._originalState,u=t._duration,s=t._step,f=t._targetState,c=t._timestamp,h=c+i+u,l=e>h?h:e,p=u-(h-l);l>=h?(s(f,r,p),t.stop(!0)):(t._applyFilter("beforeTween"),l<c+i?(l=1,u=1,c=1):c+=i,d(l,n,a,f,u,c,o),t._applyFilter("afterTween"),s(n,r,p))},y=function(){for(var t=w.now(),e=h;e;){var r=e._next;v(e,t),e=r}},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"linear",r={},n=o(e);if("string"===n||"function"===n)for(var i in t)r[i]=e;else for(var a in t)r[a]=e[a]||"linear";return r},g=function(t){if(t===h)(h=t._next)?h._previous=null:l=null;else if(t===l)(l=t._previous)?l._next=null:h=null;else{var e=t._previous,r=t._next;e._next=r,r._previous=e}t._previous=t._next=null},w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._currentState=e,this._configured=!1,this._filters=[],this._timestamp=null,this._next=null,this._previous=null,r&&this.setConfig(r)}var e,r,n;return e=t,(r=[{key:"_applyFilter",value:function(t){var e=!0,r=!1,n=void 0;try{for(var i,o=this._filters[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value[t];a&&a(this)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}}},{key:"tween",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=this._attachment,n=this._configured;return!e&&n||this.setConfig(e),this._pausedAtTime=null,this._timestamp=t.now(),this._start(this.get(),r),this.resume()}},{key:"setConfig",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.attachment,i=r.delay,o=void 0===i?0:i,u=r.duration,s=void 0===u?500:u,f=r.easing,h=r.from,l=r.promise,p=void 0===l?Promise:l,d=r.start,v=void 0===d?c:d,y=r.step,g=void 0===y?c:y,w=r.to;this._configured=!0,this._attachment=n,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=o,this._start=v,this._step=g,this._duration=s,this._currentState=a({},h||this.get()),this._originalState=this.get(),this._targetState=a({},w||this.get());var m=this._currentState;this._targetState=a({},m,this._targetState),this._easing=_(m,f);var b=t.filters;for(var S in this._filters.length=0,b)b[S].doesApply(this)&&this._filters.push(b[S]);return this._applyFilter("tweenCreated"),this._promise=new p(function(t,r){e._resolve=t,e._reject=r}),this._promise.catch(c),this}},{key:"get",value:function(){return a({},this._currentState)}},{key:"set",value:function(t){this._currentState=t}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=t.now(),this._isPlaying=!1,g(this),this}},{key:"resume",value:function(){if(null===this._timestamp)return this.tween();if(this._isPlaying)return this._promise;var e=t.now();return this._pausedAtTime&&(this._timestamp+=e-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===h?(h=this,l=this,function t(){h&&(f.call(s,t,1e3/60),y())}()):(this._previous=l,l._next=this,l=this),this._promise}},{key:"seek",value:function(e){e=Math.max(e,0);var r=t.now();return this._timestamp+e===0?this:(this._timestamp=r-e,this._isPlaying||v(this,r),this)}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._attachment,r=this._currentState,n=this._easing,i=this._originalState,o=this._targetState;if(this._isPlaying)return this._isPlaying=!1,g(this),t?(this._applyFilter("beforeTween"),d(1,r,i,o,1,0,n),this._applyFilter("afterTween"),this._applyFilter("afterTweenEnd"),this._resolve(r,e)):this._reject(r,e),this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"setScheduleFunction",value:function(e){t.setScheduleFunction(e)}},{key:"dispose",value:function(){for(var t in this)delete this[t]}}])&&i(e.prototype,r),n&&i(e,n),t}();function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new w,r=e.tween(t);return r.tweenable=e,r}w.setScheduleFunction=function(t){return f=t},w.formulas=p,w.filters={},w.now=Date.now||function(){return+new Date}}).call(this,r(2))},function(t,e,r){"use strict";r.r(e),r.d(e,"linear",function(){return n}),r.d(e,"easeInQuad",function(){return i}),r.d(e,"easeOutQuad",function(){return o}),r.d(e,"easeInOutQuad",function(){return a}),r.d(e,"easeInCubic",function(){return u}),r.d(e,"easeOutCubic",function(){return s}),r.d(e,"easeInOutCubic",function(){return f}),r.d(e,"easeInQuart",function(){return c}),r.d(e,"easeOutQuart",function(){return h}),r.d(e,"easeInOutQuart",function(){return l}),r.d(e,"easeInQuint",function(){return p}),r.d(e,"easeOutQuint",function(){return d}),r.d(e,"easeInOutQuint",function(){return v}),r.d(e,"easeInSine",function(){return y}),r.d(e,"easeOutSine",function(){return _}),r.d(e,"easeInOutSine",function(){return g}),r.d(e,"easeInExpo",function(){return w}),r.d(e,"easeOutExpo",function(){return m}),r.d(e,"easeInOutExpo",function(){return b}),r.d(e,"easeInCirc",function(){return S}),r.d(e,"easeOutCirc",function(){return O}),r.d(e,"easeInOutCirc",function(){return x}),r.d(e,"easeOutBounce",function(){return k}),r.d(e,"easeInBack",function(){return P}),r.d(e,"easeOutBack",function(){return T}),r.d(e,"easeInOutBack",function(){return C}),r.d(e,"elastic",function(){return M}),r.d(e,"swingFromTo",function(){return E}),r.d(e,"swingFrom",function(){return A}),r.d(e,"swingTo",function(){return j}),r.d(e,"bounce",function(){return F}),r.d(e,"bouncePast",function(){return W}),r.d(e,"easeFromTo",function(){return I}),r.d(e,"easeFrom",function(){return q}),r.d(e,"easeTo",function(){return L});var n=function(t){return t},i=function(t){return Math.pow(t,2)},o=function(t){return-(Math.pow(t-1,2)-1)},a=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},u=function(t){return Math.pow(t,3)},s=function(t){return Math.pow(t-1,3)+1},f=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},c=function(t){return Math.pow(t,4)},h=function(t){return-(Math.pow(t-1,4)-1)},l=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},p=function(t){return Math.pow(t,5)},d=function(t){return Math.pow(t-1,5)+1},v=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},y=function(t){return 1-Math.cos(t*(Math.PI/2))},_=function(t){return Math.sin(t*(Math.PI/2))},g=function(t){return-.5*(Math.cos(Math.PI*t)-1)},w=function(t){return 0===t?0:Math.pow(2,10*(t-1))},m=function(t){return 1===t?1:1-Math.pow(2,-10*t)},b=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},S=function(t){return-(Math.sqrt(1-t*t)-1)},O=function(t){return Math.sqrt(1-Math.pow(t-1,2))},x=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},k=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},P=function(t){var e=1.70158;return t*t*((e+1)*t-e)},T=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},C=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},M=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},E=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},A=function(t){var e=1.70158;return t*t*((e+1)*t-e)},j=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},F=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},W=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},I=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},q=function(t){return Math.pow(t,4)},L=function(t){return Math.pow(t,.25)}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"doesApply",function(){return C}),r.d(n,"tweenCreated",function(){return M}),r.d(n,"beforeTween",function(){return E}),r.d(n,"afterTween",function(){return A});var i,o,a=r(0),u=/(\d|-|\.)/,s=/([^\-0-9.]+)/g,f=/[0-9.-]+/g,c=(i=f.source,o=/,\s*/.source,new RegExp("rgb\\(".concat(i).concat(o).concat(i).concat(o).concat(i,"\\)"),"g")),h=/^.*\(/,l=/#([0-9]|[a-f]){3,6}/gi,p=function(t,e){return t.map(function(t,r){return"_".concat(e,"_").concat(r)})};function d(t){return parseInt(t,16)}var v=function(t){return"rgb(".concat((e=t,3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[d(e.substr(0,2)),d(e.substr(2,2)),d(e.substr(4,2))]).join(","),")");var e},y=function(t,e,r){var n=e.match(t),i=e.replace(t,"VAL");return n&&n.forEach(function(t){return i=i.replace("VAL",r(t))}),i},_=function(t){for(var e in t){var r=t[e];"string"==typeof r&&r.match(l)&&(t[e]=y(l,r,v))}},g=function(t){var e=t.match(f).map(Math.floor),r=t.match(h)[0];return"".concat(r).concat(e.join(","),")")},w=function(t){return t.match(f)},m=function(t){var e,r,n={};for(var i in t){var o=t[i];"string"==typeof o&&(n[i]={formatString:(e=o,r=void 0,r=e.match(s),r?(1===r.length||e.charAt(0).match(u))&&r.unshift(""):r=["",""],r.join("VAL")),chunkNames:p(w(o),i)})}return n},b=function(t,e){var r=function(r){w(t[r]).forEach(function(n,i){return t[e[r].chunkNames[i]]=+n}),delete t[r]};for(var n in e)r(n)},S=function(t,e){var r={};return e.forEach(function(e){r[e]=t[e],delete t[e]}),r},O=function(t,e){return e.map(function(e){return t[e]})},x=function(t,e){return e.forEach(function(e){return t=t.replace("VAL",+e.toFixed(4))}),t},k=function(t,e){for(var r in e){var n=e[r],i=n.chunkNames,o=n.formatString,a=x(o,O(S(t,i),i));t[r]=y(c,a,g)}},P=function(t,e){var r=function(r){var n=e[r].chunkNames,i=t[r];if("string"==typeof i){var o=i.split(" "),a=o[o.length-1];n.forEach(function(e,r){return t[e]=o[r]||a})}else n.forEach(function(e){return t[e]=i});delete t[r]};for(var n in e)r(n)},T=function(t,e){for(var r in e){var n=e[r].chunkNames,i=t[n[0]];t[r]="string"==typeof i?n.map(function(e){var r=t[e];return delete t[e],r}).join(" "):i}},C=function(t){var e=t._currentState;return Object.keys(e).some(function(t){return"string"==typeof e[t]})};function M(t){var e=t._currentState;[e,t._originalState,t._targetState].forEach(_),t._tokenData=m(e)}function E(t){var e=t._currentState,r=t._originalState,n=t._targetState,i=t._easing,o=t._tokenData;P(i,o),[e,r,n].forEach(function(t){return b(t,o)})}function A(t){var e=t._currentState,r=t._originalState,n=t._targetState,i=t._easing,o=t._tokenData;[e,r,n].forEach(function(t){return k(t,o)}),T(i,o)}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F=new a.a,W=a.a.filters,I=function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){j(t,e,r[e])})}return t}({},t),u=Object(a.b)(t,n);for(var s in F._filters.length=0,F.set({}),F._currentState=o,F._originalState=t,F._targetState=e,F._easing=u,W)W[s].doesApply(F)&&F._filters.push(W[s]);F._applyFilter("tweenCreated"),F._applyFilter("beforeTween");var f=Object(a.e)(r,o,t,e,1,i,u);return F._applyFilter("afterTween"),f};function q(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function D(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");var r=e.get(t);return r.get?r.get.call(t):r.value}var B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),R.set(this,{writable:!0,value:[]});for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(this.add.bind(this))}var e,r,n;return e=t,(r=[{key:"add",value:function(t){return D(this,R).push(t),t}},{key:"remove",value:function(t){var e=D(this,R).indexOf(t);return~e&&D(this,R).splice(e,1),t}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return D(this,R).some(function(t){return t.isPlaying()})}},{key:"play",value:function(){return D(this,R).forEach(function(t){return t.tween()}),this}},{key:"pause",value:function(){return D(this,R).forEach(function(t){return t.pause()}),this}},{key:"resume",value:function(){return D(this,R).forEach(function(t){return t.resume()}),this}},{key:"stop",value:function(t){return D(this,R).forEach(function(e){return e.stop(t)}),this}},{key:"tweenables",get:function(){return q(D(this,R))}},{key:"promises",get:function(){return D(this,R).map(function(t){return t._promise})}}])&&L(e.prototype,r),n&&L(e,n),t}(),R=new WeakMap;function N(t,e,r,n,i,o){var a=0,u=0,s=0,f=0,c=0,h=0,l=function(t){return((a*t+u)*t+s)*t},p=function(t){return t>=0?t:0-t};return a=1-(s=3*e)-(u=3*(n-e)-s),f=1-(h=3*r)-(c=3*(i-r)-h),function(t,e){return r=function(t,e){var r,n,i,o,f,c,h;for(i=t,c=0;c<8;c++){if(o=l(i)-t,p(o)<e)return i;if(p(f=(3*a*(h=i)+2*u)*h+s)<1e-6)break;i-=o/f}if((i=t)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(o=l(i),p(o-t)<e)return i;t>o?r=i:n=i,i=.5*(n-r)+r}return i}(t,e),((f*r+c)*r+h)*r;var r}(t,function(t){return 1/(200*t)}(o))}var z=function(t,e,r,n,i){var o=function(t,e,r,n){return function(i){return N(i,t,e,r,n,1)}}(e,r,n,i);return o.displayName=t,o.x1=e,o.y1=r,o.x2=n,o.y2=i,a.a.formulas[t]=o},V=function(t){return delete a.a.formulas[t]};r.d(e,"processTweens",function(){return a.c}),r.d(e,"Tweenable",function(){return a.a}),r.d(e,"tween",function(){return a.d}),r.d(e,"interpolate",function(){return I}),r.d(e,"Scene",function(){return B}),r.d(e,"setBezierFunction",function(){return z}),r.d(e,"unsetBezierFunction",function(){return V}),a.a.filters.token=n}])})},{}],2:[function(t,e,r){var n=t("./shape");var i=t("./utils");var o=function t(e,r){this._pathTemplate="M 50,50 m 0,-{radius}"+" a {radius},{radius} 0 1 1 0,{2radius}"+" a {radius},{radius} 0 1 1 0,-{2radius}";this.containerAspectRatio=1;n.apply(this,arguments)};o.prototype=new n;o.prototype.constructor=o;o.prototype._pathString=function t(e){var r=e.strokeWidth;if(e.trailWidth&&e.trailWidth>e.strokeWidth){r=e.trailWidth}var n=50-r/2;return i.render(this._pathTemplate,{radius:n,"2radius":n*2})};o.prototype._trailString=function t(e){return this._pathString(e)};e.exports=o},{"./shape":7,"./utils":9}],3:[function(t,e,r){var n=t("./shape");var i=t("./utils");var o=function t(e,r){this._pathTemplate="M 0,{center} L 100,{center}";n.apply(this,arguments)};o.prototype=new n;o.prototype.constructor=o;o.prototype._initializeSvg=function t(e,r){e.setAttribute("viewBox","0 0 100 "+r.strokeWidth);e.setAttribute("preserveAspectRatio","none")};o.prototype._pathString=function t(e){return i.render(this._pathTemplate,{center:e.strokeWidth/2})};o.prototype._trailString=function t(e){return this._pathString(e)};e.exports=o},{"./shape":7,"./utils":9}],4:[function(t,e,r){e.exports={Line:t("./line"),Circle:t("./circle"),SemiCircle:t("./semicircle"),Square:t("./square"),Path:t("./path"),Shape:t("./shape"),utils:t("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(t,e,r){var n=t("shifty");var i=t("./utils");var o=n.Tweenable;var a={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"};var u=function t(e,r){if(!(this instanceof t)){throw new Error("Constructor was called without new keyword")}r=i.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},r);var n;if(i.isString(e)){n=document.querySelector(e)}else{n=e}this.path=n;this._opts=r;this._tweenable=null;var o=this.path.getTotalLength();this.path.style.strokeDasharray=o+" "+o;this.set(0)};u.prototype.value=function t(){var e=this._getComputedDashOffset();var r=this.path.getTotalLength();var n=1-e/r;return parseFloat(n.toFixed(6),10)};u.prototype.set=function t(e){this.stop();this.path.style.strokeDashoffset=this._progressToOffset(e);var r=this._opts.step;if(i.isFunction(r)){var n=this._easing(this._opts.easing);var o=this._calculateTo(e,n);var a=this._opts.shape||this;r(o,a,this._opts.attachment)}};u.prototype.stop=function t(){this._stopTween();this.path.style.strokeDashoffset=this._getComputedDashOffset()};u.prototype.animate=function t(e,r,n){r=r||{};if(i.isFunction(r)){n=r;r={}}var a=i.extend({},r);var u=i.extend({},this._opts);r=i.extend(u,r);var s=this._easing(r.easing);var f=this._resolveFromAndTo(e,s,a);this.stop();this.path.getBoundingClientRect();var c=this._getComputedDashOffset();var h=this._progressToOffset(e);var l=this;this._tweenable=new o;this._tweenable.tween({from:i.extend({offset:c},f.from),to:i.extend({offset:h},f.to),duration:r.duration,delay:r.delay,easing:s,step:function(t){l.path.style.strokeDashoffset=t.offset;var e=r.shape||l;r.step(t,e,r.attachment)}}).then(function(t){if(i.isFunction(n)){n()}}).catch(function(t){})};u.prototype._getComputedDashOffset=function t(){var e=window.getComputedStyle(this.path,null);var r=e.getPropertyValue("stroke-dashoffset");return r?parseFloat(r,10):0};u.prototype._progressToOffset=function t(e){var r=this.path.getTotalLength();return r-e*r};u.prototype._resolveFromAndTo=function t(e,r,n){if(n.from&&n.to){return{from:n.from,to:n.to}}return{from:this._calculateFrom(r),to:this._calculateTo(e,r)}};u.prototype._calculateFrom=function t(e){return n.interpolate(this._opts.from,this._opts.to,this.value(),e)};u.prototype._calculateTo=function t(e,r){return n.interpolate(this._opts.from,this._opts.to,e,r)};u.prototype._stopTween=function t(){if(this._tweenable!==null){this._tweenable.stop();this._tweenable=null}};u.prototype._easing=function t(e){if(a.hasOwnProperty(e)){return a[e]}return e};e.exports=u},{"./utils":9,shifty:1}],6:[function(t,e,r){var n=t("./shape");var i=t("./circle");var o=t("./utils");var a=function t(e,r){this._pathTemplate="M 50,50 m -{radius},0"+" a {radius},{radius} 0 1 1 {2radius},0";this.containerAspectRatio=2;n.apply(this,arguments)};a.prototype=new n;a.prototype.constructor=a;a.prototype._initializeSvg=function t(e,r){e.setAttribute("viewBox","0 0 100 50")};a.prototype._initializeTextContainer=function t(e,r,n){if(e.text.style){n.style.top="auto";n.style.bottom="0";if(e.text.alignToBottom){o.setStyle(n,"transform","translate(-50%, 0)")}else{o.setStyle(n,"transform","translate(-50%, 50%)")}}};a.prototype._pathString=i.prototype._pathString;a.prototype._trailString=i.prototype._trailString;e.exports=a},{"./circle":2,"./shape":7,"./utils":9}],7:[function(t,e,r){var n=t("./path");var i=t("./utils");var o="Object is destroyed";var a=function t(e,r){if(!(this instanceof t)){throw new Error("Constructor was called without new keyword")}if(arguments.length===0){return}this._opts=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:true,value:"translate(-50%, -50%)"}},autoStyleContainer:true,alignToBottom:true,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:false},r,true);if(i.isObject(r)&&r.svgStyle!==undefined){this._opts.svgStyle=r.svgStyle}if(i.isObject(r)&&i.isObject(r.text)&&r.text.style!==undefined){this._opts.text.style=r.text.style}var o=this._createSvgView(this._opts);var a;if(i.isString(e)){a=document.querySelector(e)}else{a=e}if(!a){throw new Error("Container does not exist: "+e)}this._container=a;this._container.appendChild(o.svg);if(this._opts.warnings){this._warnContainerAspectRatio(this._container)}if(this._opts.svgStyle){i.setStyles(o.svg,this._opts.svgStyle)}this.svg=o.svg;this.path=o.path;this.trail=o.trail;this.text=null;var u=i.extend({attachment:undefined,shape:this},this._opts);this._progressPath=new n(o.path,u);if(i.isObject(this._opts.text)&&this._opts.text.value!==null){this.setText(this._opts.text.value)}};a.prototype.animate=function t(e,r,n){if(this._progressPath===null){throw new Error(o)}this._progressPath.animate(e,r,n)};a.prototype.stop=function t(){if(this._progressPath===null){throw new Error(o)}if(this._progressPath===undefined){return}this._progressPath.stop()};a.prototype.pause=function t(){if(this._progressPath===null){throw new Error(o)}if(this._progressPath===undefined){return}if(!this._progressPath._tweenable){return}this._progressPath._tweenable.pause()};a.prototype.resume=function t(){if(this._progressPath===null){throw new Error(o)}if(this._progressPath===undefined){return}if(!this._progressPath._tweenable){return}this._progressPath._tweenable.resume()};a.prototype.destroy=function t(){if(this._progressPath===null){throw new Error(o)}this.stop();this.svg.parentNode.removeChild(this.svg);this.svg=null;this.path=null;this.trail=null;this._progressPath=null;if(this.text!==null){this.text.parentNode.removeChild(this.text);this.text=null}};a.prototype.set=function t(e){if(this._progressPath===null){throw new Error(o)}this._progressPath.set(e)};a.prototype.value=function t(){if(this._progressPath===null){throw new Error(o)}if(this._progressPath===undefined){return 0}return this._progressPath.value()};a.prototype.setText=function t(e){if(this._progressPath===null){throw new Error(o)}if(this.text===null){this.text=this._createTextContainer(this._opts,this._container);this._container.appendChild(this.text)}if(i.isObject(e)){i.removeChildren(this.text);this.text.appendChild(e)}else{this.text.innerHTML=e}};a.prototype._createSvgView=function t(e){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(r,e);var n=null;if(e.trailColor||e.trailWidth){n=this._createTrail(e);r.appendChild(n)}var i=this._createPath(e);r.appendChild(i);return{svg:r,path:i,trail:n}};a.prototype._initializeSvg=function t(e,r){e.setAttribute("viewBox","0 0 100 100")};a.prototype._createPath=function t(e){var r=this._pathString(e);return this._createPathElement(r,e)};a.prototype._createTrail=function t(e){var r=this._trailString(e);var n=i.extend({},e);if(!n.trailColor){n.trailColor="#eee"}if(!n.trailWidth){n.trailWidth=n.strokeWidth}n.color=n.trailColor;n.strokeWidth=n.trailWidth;n.fill=null;return this._createPathElement(r,n)};a.prototype._createPathElement=function t(e,r){var n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d",e);n.setAttribute("stroke",r.color);n.setAttribute("stroke-width",r.strokeWidth);if(r.fill){n.setAttribute("fill",r.fill)}else{n.setAttribute("fill-opacity","0")}return n};a.prototype._createTextContainer=function t(e,r){var n=document.createElement("div");n.className=e.text.className;var o=e.text.style;if(o){if(e.text.autoStyleContainer){r.style.position="relative"}i.setStyles(n,o);if(!o.color){n.style.color=e.color}}this._initializeTextContainer(e,r,n);return n};a.prototype._initializeTextContainer=function(t,e,r){};a.prototype._pathString=function t(e){throw new Error("Override this function for each progress bar")};a.prototype._trailString=function t(e){throw new Error("Override this function for each progress bar")};a.prototype._warnContainerAspectRatio=function t(e){if(!this.containerAspectRatio){return}var r=window.getComputedStyle(e,null);var n=parseFloat(r.getPropertyValue("width"),10);var o=parseFloat(r.getPropertyValue("height"),10);if(!i.floatEquals(this.containerAspectRatio,n/o)){console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",r.getPropertyValue("width")+"(width)","/",r.getPropertyValue("height")+"(height)","=",n/o);console.warn("Aspect ratio of should be",this.containerAspectRatio)}};e.exports=a},{"./path":5,"./utils":9}],8:[function(t,e,r){var n=t("./shape");var i=t("./utils");var o=function t(e,r){this._pathTemplate="M 0,{halfOfStrokeWidth}"+" L {width},{halfOfStrokeWidth}"+" L {width},{width}"+" L {halfOfStrokeWidth},{width}"+" L {halfOfStrokeWidth},{strokeWidth}";this._trailTemplate="M {startMargin},{halfOfStrokeWidth}"+" L {width},{halfOfStrokeWidth}"+" L {width},{width}"+" L {halfOfStrokeWidth},{width}"+" L {halfOfStrokeWidth},{halfOfStrokeWidth}";n.apply(this,arguments)};o.prototype=new n;o.prototype.constructor=o;o.prototype._pathString=function t(e){var r=100-e.strokeWidth/2;return i.render(this._pathTemplate,{width:r,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})};o.prototype._trailString=function t(e){var r=100-e.strokeWidth/2;return i.render(this._trailTemplate,{width:r,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})};e.exports=o},{"./shape":7,"./utils":9}],9:[function(t,e,r){var n="Webkit Moz O ms".split(" ");var i=.001;function o(t,e,r){t=t||{};e=e||{};r=r||false;for(var n in e){if(e.hasOwnProperty(n)){var i=t[n];var a=e[n];if(r&&p(i)&&p(a)){t[n]=o(i,a,r)}else{t[n]=a}}}return t}function a(t,e){var r=t;for(var n in e){if(e.hasOwnProperty(n)){var i=e[n];var o="\\{"+n+"\\}";var a=new RegExp(o,"g");r=r.replace(a,i)}}return r}function u(t,e,r){var i=t.style;for(var o=0;o<n.length;++o){var a=n[o];i[a+f(e)]=r}i[e]=r}function s(t,e){d(e,function(e,r){if(e===null||e===undefined){return}if(p(e)&&e.prefix===true){u(t,r,e.value)}else{t.style[r]=e}})}function f(t){return t.charAt(0).toUpperCase()+t.slice(1)}function c(t){return typeof t==="string"||t instanceof String}function h(t){return typeof t==="function"}function l(t){return Object.prototype.toString.call(t)==="[object Array]"}function p(t){if(l(t)){return false}var e=typeof t;return e==="object"&&!!t}function d(t,e){for(var r in t){if(t.hasOwnProperty(r)){var n=t[r];e(n,r)}}}function v(t,e){return Math.abs(t-e)<i}function y(t){while(t.firstChild){t.removeChild(t.firstChild)}}e.exports={extend:o,render:a,setStyle:u,setStyles:s,capitalize:f,isString:c,isFunction:h,isObject:p,forEachObject:d,floatEquals:v,removeChildren:y}},{}]},{},[4])(4)});
 



// file: /bitrix/js/ui/progressbarjs/uploader/dist/uploader.bundle.js
this.BX=this.BX||{};(function(e){"use strict";var s=function(){function e(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);this.container=s.container;if(this.container&&typeof s.blurElement==="undefined"){s.blurElement=this.container.firstElementChild}this.blurElement=s.blurElement;this.direction=e.direction[s.direction]?s.direction:e.direction.vertical;s.sizes=s.sizes&&babelHelpers.typeof(s.sizes)==="object"?s.sizes:{};this.sizes={circle:s.sizes.circle?s.sizes.circle:54,progress:s.sizes.progress?s.sizes.progress:4,margin:s.sizes.margin?s.sizes.margin:0};s.labels=s.labels&&babelHelpers.typeof(s.labels)==="object"?s.labels:{};this.labels={loading:s.labels.loading?s.labels.loading:"",completed:s.labels.completed?s.labels.completed:"",canceled:s.labels.canceled?s.labels.canceled:"",cancelTitle:s.labels.cancelTitle?s.labels.cancelTitle:"",megabyte:s.labels.megabyte?s.labels.megabyte:"MB"};this.cancelCallback=typeof s.cancelCallback==="function"?s.cancelCallback:null;this.destroyCallback=typeof s.destroyCallback==="function"?s.destroyCallback:null;this.icon=e.icon[s.icon]?s.icon:!this.cancelCallback?e.icon.cloud:e.icon.cancel;this.inited=!!this.container;this.destroing=false}babelHelpers.createClass(e,[{key:"start",value:function s(){var i=this;if(!this.inited){return false}clearTimeout(this.timeoutSetIcon);clearTimeout(this.timeout);this.active=true;this.canceled=false;this.cancelCallbackDisabled=false;this.wrapper=document.createElement("div");this.wrapper.classList.add("ui-file-progressbar-loader-wrapper");this.wrapper.innerHTML='\n\t\t\t<div class="ui-file-progressbar-loader">\n\t\t\t\t<div class="ui-file-progressbar-icon"></div>\n\t\t\t\t<div class="ui-file-progressbar-progress ui-file-progressbar-rotating"></div>\n\t\t\t</div>\n\t\t\t<div class="ui-file-progressbar-label">'.concat(this.labels.loading,"</div>\n\t\t");this.processLoader=this.wrapper.getElementsByClassName("ui-file-progressbar-loader")[0];this.processLoaderIcon=this.wrapper.getElementsByClassName("ui-file-progressbar-icon")[0];this.processStatus=this.wrapper.getElementsByClassName("ui-file-progressbar-progress")[0];this.proccesLabel=this.wrapper.getElementsByClassName("ui-file-progressbar-label")[0];if(this.direction===e.direction.horizontal){this.wrapper.classList.add("ui-file-progressbar-loader-horizontal")}this.container.classList.add("ui-file-progressbar-container-relative");this.container.insertBefore(this.wrapper,this.container.firstChild);if(this.blurElement){this.blurElement.classList.add("ui-file-progressbar-item-blurred")}var t="width: ".concat(this.sizes.circle,"px; height: ").concat(this.sizes.circle,"px;");if(this.sizes.margin){t=t+"margin: ".concat(this.sizes.margin,"px;");this.proccesLabel.style="margin: ".concat(this.sizes.margin,"px;")}this.processLoader.style=t;if(this.cancelCallback){this.processLoader.addEventListener("click",function(e){if(i.cancelCallbackDisabled){return false}i.setProgress(0);if(i.labels.canceled){i.setProgressTitle(i.labels.canceled)}i.canceled=e;i.active=false;clearTimeout(i.timeout);i.timeout=setTimeout(function(){return i.destroy()},1e3);return true});if(this.labels.cancelTitle){this.processLoader.title=this.labels.cancelTitle}}if(!this.labels.loading){this.setProgressTitleVisibility(false)}this.setIcon(this.icon,true);this.bar=new BX.ProgressBarJs.Circle(this.processStatus,{easing:"linear",strokeWidth:this.sizes.progress,color:"#ffffff",from:{color:"#ffffff"},to:{color:"#ffffff"},step:function s(t,r){if(r.value()==1){clearTimeout(i.timeout);i.timeout=setTimeout(function(){if(i.labels.completed){i.setProgressTitle(i.labels.completed)}i.setIcon(e.icon.done);clearTimeout(i.timeout);i.timeout=setTimeout(function(){return i.destroy()},1e3)},200)}}})}},{key:"setCancelDisable",value:function e(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.cancelCallbackDisabled=!!s;if(this.labels.cancelTitle){this.processLoader.title=this.cancelCallbackDisabled?"":this.labels.cancelTitle}}},{key:"setIcon",value:function s(i){var t=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.processLoaderIcon.style.transform="scale(0)";clearTimeout(this.timeoutSetIcon);this.timeoutSetIcon=setTimeout(function(){t.processLoaderIcon.classList.remove("ui-file-progressbar-cancel","ui-file-progressbar-done","ui-file-progressbar-cloud","ui-file-progressbar-error");if(i===e.icon.done){t.processLoaderIcon.classList.add("ui-file-progressbar-done");t.processLoaderIcon.style.transform="scale(1)"}else if(i===e.icon.cancel){t.processLoaderIcon.classList.add("ui-file-progressbar-cancel");t.processLoaderIcon.style.transform="scale(1)"}else if(i===e.icon.error){t.processLoaderIcon.classList.add("ui-file-progressbar-error");t.processLoaderIcon.style.transform="scale(1)"}else{t.processLoaderIcon.classList.add("ui-file-progressbar-cloud");t.processLoaderIcon.style.transform="scale(1)"}},r?0:200);return true}},{key:"setProgress",value:function e(s){if(!this.active||this.canceled){return false}this.bar.animate(s/100,{duration:500})}},{key:"setProgressTitle",value:function e(s){if(!this.proccesLabel){return false}this.proccesLabel.innerHTML=s}},{key:"setProgressTitleVisibility",value:function s(i){if(!this.proccesLabel){return}if(i){if(this.direction===e.direction.horizontal){this.wrapper.classList.add("ui-file-progressbar-loader-horizontal")}this.proccesLabel.style.display="block"}else{if(this.direction===e.direction.horizontal){this.wrapper.classList.remove("ui-file-progressbar-loader-horizontal")}this.proccesLabel.style.display="none"}}},{key:"setByteSent",value:function e(s,i){if(this.canceled){return false}this.setProgressTitle((s/1024/1024).toFixed(2)+" "+this.labels.megabyte+" "+" / "+(i/1024/1024).toFixed(2)+" "+this.labels.megabyte)}},{key:"destroy",value:function e(){var s=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;clearTimeout(this.timeoutSetIcon);clearTimeout(this.timeout);if(this.destroing){return true}this.active=false;this.destroing=true;this.processLoader.style.transform="scale(0)";if(this.proccesLabel){this.proccesLabel.style.transform="scale(0)"}if(this.bar){this.bar.destroy()}if(this.blurElement){this.blurElement.classList.remove("ui-file-progressbar-item-blurred")}if(this.canceled&&!this.cancelCallbackDisabled){if(this.cancelCallback){this.cancelCallback(this.canceled)}this.canceled=false}if(i){this.timeout=setTimeout(function(){return s.destroyFinally()},400)}else{this.destroyFinally()}}},{key:"destroyFinally",value:function e(){if(this.container){this.container.classList.remove("ui-file-progressbar-container-relative");this.container.removeChild(this.wrapper)}if(this.destroyCallback){this.destroyCallback()}}}]);return e}();s.direction={horizontal:"horizontal",vertical:"vertical"};s.icon={cloud:"cloud",cancel:"cancel",error:"error",done:"done"};e.Uploader=s})(this.BX.ProgressBarJs=this.BX.ProgressBarJs||{});
 



// file: /bitrix/js/im/const/dist/registry.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};(function(e){"use strict";var t=Object.freeze({groupTitle:"groupTitle",message:"message",recentTitle:"recentTitle",recentLinesTitle:"recentLinesTitle",readedTitle:"readedTitle",default:"default",vacationTitle:"vacationTitle"});var i=Object.freeze({mobile:"mobile",desktop:"desktop"});var a=Object.freeze({horizontal:"horizontal",portrait:"portrait"});var s=Object.freeze({none:"none",add:"delete",update:"update",delete:"delete",set:"set",setAfter:"after",setBefore:"before"});var r=Object.freeze({dialogues:50,messages:20});var l=Object.freeze({imMessageAdd:"im.message.add",imMessageUpdate:"im.message.update",imMessageDelete:"im.message.delete",imMessageLike:"im.message.like",imMessageCommand:"im.message.command",imMessageShare:"im.message.share",imChatGet:"im.chat.get",imChatLeave:"im.chat.leave",imChatMute:"im.chat.mute",imChatParentJoin:"im.chat.parent.join",imDialogGet:"im.dialog.get",imDialogMessagesGet:"im.dialog.messages.get",imDialogRead:"im.dialog.read",imDialogUnread:"im.dialog.unread",imDialogWriting:"im.dialog.writing",imUserGet:"im.user.get",imUserListGet:"im.user.list.get",imDiskFolderGet:"im.disk.folder.get",imDiskFileUpload:"disk.folder.uploadfile",imDiskFileCommit:"im.disk.file.commit",mobileBrowserConstGet:"mobile.browser.const.get",imRecentGet:"im.recent.get",imRecentList:"im.recent.list",imCallGetCallLimits:"im.call.getCallLimits"});var o=Object.freeze({imChatGet:"im.chat.get",imMessageAdd:"im.message.add",imDialogRead:"im.dialog.read",imDialogMessagesGet:"im.dialog.messages.get",imDialogMessagesGetInit:"im.dialog.messages.get.init",imDialogMessagesGetUnread:"im.dialog.messages.get.unread",imDiskFolderGet:"im.disk.folder.get",imDiskFileUpload:"disk.folder.uploadfile",imDiskFileCommit:"im.disk.file.commit",imUserGet:"im.user.get",imUserListGet:"im.user.list.get",mobileBrowserConstGet:"mobile.browser.const.get",imRecentGet:"im.recent.get",imRecentList:"im.recent.list",imCallGetCallLimits:"im.call.getCallLimits"});var m=Object.freeze({dialog:{scrollToBottom:"EventType.dialog.scrollToBottom",requestHistoryResult:"EventType.dialog.requestHistoryResult",requestUnreadResult:"EventType.dialog.requestUnreadResult",sendReadMessages:"EventType.dialog.sendReadMessages"},textarea:{insertText:"EventType.textarea.insertText",focus:"EventType.textarea.focus",blur:"EventType.textarea.blur"}});var n=Object.freeze({private:"private",chat:"chat",open:"open",call:"call",crm:"crm"});var d=Object.freeze({lead:"lead",company:"company",contact:"contact",deal:"deal",none:"none"});var g=Object.freeze({listBody:"bx-im-dialog-list",listItem:"bx-im-dialog-list-item-reference",listItemName:"bx-im-dialog-list-item-name-reference",listItemBody:"bx-im-dialog-list-item-content-reference",listUnreadLoader:"bx-im-dialog-list-unread-loader-reference"});var c=Object.freeze({upload:"upload",wait:"wait",done:"done",error:"error"});var p=Object.freeze({image:"image",video:"video",audio:"audio",file:"file"});var f=Object.freeze({self:"self",opponent:"opponent",system:"system"});var u=Object.freeze({userLimitForHd:5});var v=Object.freeze({preparation:"preparation",call:"call"});var b=Object.freeze({noSignalFromCamera:"noSignalFromCamera"});var C=Object.freeze({userLimitReached:"userLimitReached",detectIntranetUser:"detectIntranetUser",bitrix24only:"bitrix24only",kickedFromCall:"kickedFromCall",unsupportedBrowser:"unsupportedBrowser",missingMicrophone:"missingMicrophone",unsafeConnection:"unsafeConnection",wrongAlias:"wrongAlias",notStarted:"notStarted",finished:"finished",userLeftCall:"userLeftCall"});var h=Object.freeze({view:"view",edit:"edit",create:"create"});e.DateFormat=t;e.DeviceType=i;e.DeviceOrientation=a;e.MutationType=s;e.StorageLimit=r;e.RestMethod=l;e.RestMethodHandler=o;e.EventType=m;e.DialogType=n;e.DialogCrmType=d;e.DialogReferenceClassName=g;e.FileStatus=c;e.FileType=p;e.MessageType=f;e.CallStateType=v;e.CallLimit=u;e.CallErrorCode=b;e.CallApplicationErrorCode=C;e.ConferenceFieldState=h})(this.BX.Messenger.Const=this.BX.Messenger.Const||{});
 



// file: /bitrix/js/main/date/main.date.js
(function(e){if(!e.BX){e.BX={}}if(!e.BX.Main){e.BX.Main={}}else if(e.BX.Main.Date){return}var t=e.BX;t.Main.Date={AM_PM_MODE:{UPPER:1,LOWER:2,NONE:false},format:function(e,t,_,n){var a=this;var D=r.isDate(t)?new Date(t.getTime()):r.isNumber(t)?new Date(t*1e3):new Date;var i=r.isDate(_)?new Date(_.getTime()):r.isNumber(_)?new Date(_*1e3):new Date;var s=!!n;if(r.isArray(e))return g(e,D,i,s);else if(!r.isNotEmptyString(e))return"";var o=(e.match(/{{([^{}]*)}}/g)||[]).map(function(e){return(e.match(/[^{}]+/)||[""])[0]});if(o.length>0){o.forEach(function(t,r){e=e.replace("{{"+t+"}}","{{"+r+"}}")})}var M=/\\?(sago|iago|isago|Hago|dago|mago|Yago|sdiff|idiff|Hdiff|ddiff|mdiff|Ydiff|sshort|ishort|Hshort|dshort|mhort|Yshort|yesterday|today|tommorow|tomorrow|[a-z])/gi;var u={d:function(){return r.strPadLeft(c(D).toString(),2,"0")},D:function(){return a._getMessage("DOW_"+H(D))},j:function(){return c(D)},l:function(){return a._getMessage("DAY_OF_WEEK_"+H(D))},N:function(){return H(D)||7},S:function(){if(c(D)%10==1&&c(D)!=11)return"st";else if(c(D)%10==2&&c(D)!=12)return"nd";else if(c(D)%10==3&&c(D)!=13)return"rd";else return"th"},w:function(){return H(D)},z:function(){var e=new Date(F(D),0,1);var t=new Date(F(D),T(D),c(D));return Math.ceil((t-e)/(24*3600*1e3))},W:function(){var e=new Date(D.getTime());var t=(H(D)+6)%7;R(e,c(e)-t+3);var _=e.getTime();S(e,0,1);if(H(e)!=4)S(e,0,1+(4-H(e)+7)%7);var n=1+Math.ceil((_-e)/(7*24*3600*1e3));return r.strPadLeft(n.toString(),2,"0")},F:function(){return a._getMessage("MONTH_"+(T(D)+1)+"_S")},f:function(){return a._getMessage("MONTH_"+(T(D)+1))},m:function(){return r.strPadLeft((T(D)+1).toString(),2,"0")},M:function(){return a._getMessage("MON_"+(T(D)+1))},n:function(){return T(D)+1},t:function(){var e=s?new Date(Date.UTC(F(D),T(D)+1,0)):new Date(F(D),T(D)+1,0);return c(e)},L:function(){var e=F(D);return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=new Date(D.getTime());R(e,c(e)-(H(D)+6)%7+3);return F(e)},Y:function(){return F(D)},y:function(){return F(D).toString().slice(2)},a:function(){return E(D)>11?"pm":"am"},A:function(){return E(D)>11?"PM":"AM"},B:function(){var e=(D.getUTCHours()+1)%24+D.getUTCMinutes()/60+D.getUTCSeconds()/3600;return r.strPadLeft(Math.floor(e*1e3/24).toString(),3,"0")},g:function(){return E(D)%12||12},G:function(){return E(D)},h:function(){return r.strPadLeft((E(D)%12||12).toString(),2,"0")},H:function(){return r.strPadLeft(E(D).toString(),2,"0")},i:function(){return r.strPadLeft(l(D).toString(),2,"0")},s:function(){return r.strPadLeft(A(D).toString(),2,"0")},u:function(){return r.strPadLeft((m(D)*1e3).toString(),6,"0")},e:function(){if(s)return"UTC";return""},I:function(){if(s)return 0;var e=new Date(F(D),0,1);var t=Date.UTC(F(D),0,1);var r=new Date(F(D),6,0);var _=Date.UTC(F(D),6,0);return 0+(e-t!==r-_)},O:function(){if(s)return"+0000";var e=D.getTimezoneOffset();var t=Math.abs(e);return(e>0?"-":"+")+r.strPadLeft((Math.floor(t/60)*100+t%60).toString(),4,"0")},P:function(){if(s)return"+00:00";var e=this.O();return e.substr(0,3)+":"+e.substr(3)},Z:function(){if(s)return 0;return-D.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(M,h)},r:function(){return"D, d M Y H:i:s O".replace(M,h)},U:function(){return Math.floor(D.getTime()/1e3)},sago:function(){return d(N((i-D)/1e3),{0:"FD_SECOND_AGO_0",1:"FD_SECOND_AGO_1","10_20":"FD_SECOND_AGO_10_20",MOD_1:"FD_SECOND_AGO_MOD_1",MOD_2_4:"FD_SECOND_AGO_MOD_2_4",MOD_OTHER:"FD_SECOND_AGO_MOD_OTHER"})},sdiff:function(){return d(N((i-D)/1e3),{0:"FD_SECOND_DIFF_0",1:"FD_SECOND_DIFF_1","10_20":"FD_SECOND_DIFF_10_20",MOD_1:"FD_SECOND_DIFF_MOD_1",MOD_2_4:"FD_SECOND_DIFF_MOD_2_4",MOD_OTHER:"FD_SECOND_DIFF_MOD_OTHER"})},sshort:function(){return a._getMessage("FD_SECOND_SHORT").replace(/#VALUE#/g,N((i-D)/1e3))},iago:function(){return d(N((i-D)/60/1e3),{0:"FD_MINUTE_AGO_0",1:"FD_MINUTE_AGO_1","10_20":"FD_MINUTE_AGO_10_20",MOD_1:"FD_MINUTE_AGO_MOD_1",MOD_2_4:"FD_MINUTE_AGO_MOD_2_4",MOD_OTHER:"FD_MINUTE_AGO_MOD_OTHER"})},idiff:function(){return d(N((i-D)/60/1e3),{0:"FD_MINUTE_DIFF_0",1:"FD_MINUTE_DIFF_1","10_20":"FD_MINUTE_DIFF_10_20",MOD_1:"FD_MINUTE_DIFF_MOD_1",MOD_2_4:"FD_MINUTE_DIFF_MOD_2_4",MOD_OTHER:"FD_MINUTE_DIFF_MOD_OTHER"})},isago:function(){var e=N((i-D)/60/1e3);var t=d(e,{0:"FD_MINUTE_0",1:"FD_MINUTE_1","10_20":"FD_MINUTE_10_20",MOD_1:"FD_MINUTE_MOD_1",MOD_2_4:"FD_MINUTE_MOD_2_4",MOD_OTHER:"FD_MINUTE_MOD_OTHER"});t+=" ";var r=N((i-D)/1e3)-e*60;t+=d(r,{0:"FD_SECOND_AGO_0",1:"FD_SECOND_AGO_1","10_20":"FD_SECOND_AGO_10_20",MOD_1:"FD_SECOND_AGO_MOD_1",MOD_2_4:"FD_SECOND_AGO_MOD_2_4",MOD_OTHER:"FD_SECOND_AGO_MOD_OTHER"});return t},ishort:function(){return a._getMessage("FD_MINUTE_SHORT").replace(/#VALUE#/g,N((i-D)/60/1e3))},Hago:function(){return d(N((i-D)/60/60/1e3),{0:"FD_HOUR_AGO_0",1:"FD_HOUR_AGO_1","10_20":"FD_HOUR_AGO_10_20",MOD_1:"FD_HOUR_AGO_MOD_1",MOD_2_4:"FD_HOUR_AGO_MOD_2_4",MOD_OTHER:"FD_HOUR_AGO_MOD_OTHER"})},Hdiff:function(){return d(N((i-D)/60/60/1e3),{0:"FD_HOUR_DIFF_0",1:"FD_HOUR_DIFF_1","10_20":"FD_HOUR_DIFF_10_20",MOD_1:"FD_HOUR_DIFF_MOD_1",MOD_2_4:"FD_HOUR_DIFF_MOD_2_4",MOD_OTHER:"FD_HOUR_DIFF_MOD_OTHER"})},Hshort:function(){return a._getMessage("FD_HOUR_SHORT").replace(/#VALUE#/g,N((i-D)/60/60/1e3))},yesterday:function(){return a._getMessage("FD_YESTERDAY")},today:function(){return a._getMessage("FD_TODAY")},tommorow:function(){return a._getMessage("FD_TOMORROW")},tomorrow:function(){return a._getMessage("FD_TOMORROW")},dago:function(){return d(N((i-D)/60/60/24/1e3),{0:"FD_DAY_AGO_0",1:"FD_DAY_AGO_1","10_20":"FD_DAY_AGO_10_20",MOD_1:"FD_DAY_AGO_MOD_1",MOD_2_4:"FD_DAY_AGO_MOD_2_4",MOD_OTHER:"FD_DAY_AGO_MOD_OTHER"})},ddiff:function(){return d(N((i-D)/60/60/24/1e3),{0:"FD_DAY_DIFF_0",1:"FD_DAY_DIFF_1","10_20":"FD_DAY_DIFF_10_20",MOD_1:"FD_DAY_DIFF_MOD_1",MOD_2_4:"FD_DAY_DIFF_MOD_2_4",MOD_OTHER:"FD_DAY_DIFF_MOD_OTHER"})},dshort:function(){return a._getMessage("FD_DAY_SHORT").replace(/#VALUE#/g,N((i-D)/60/60/24/1e3))},mago:function(){return d(N((i-D)/60/60/24/31/1e3),{0:"FD_MONTH_AGO_0",1:"FD_MONTH_AGO_1","10_20":"FD_MONTH_AGO_10_20",MOD_1:"FD_MONTH_AGO_MOD_1",MOD_2_4:"FD_MONTH_AGO_MOD_2_4",MOD_OTHER:"FD_MONTH_AGO_MOD_OTHER"})},mdiff:function(){return d(N((i-D)/60/60/24/31/1e3),{0:"FD_MONTH_DIFF_0",1:"FD_MONTH_DIFF_1","10_20":"FD_MONTH_DIFF_10_20",MOD_1:"FD_MONTH_DIFF_MOD_1",MOD_2_4:"FD_MONTH_DIFF_MOD_2_4",MOD_OTHER:"FD_MONTH_DIFF_MOD_OTHER"})},mshort:function(){return a._getMessage("FD_MONTH_SHORT").replace(/#VALUE#/g,N((i-D)/60/60/24/31/1e3))},Yago:function(){return d(N((i-D)/60/60/24/365/1e3),{0:"FD_YEARS_AGO_0",1:"FD_YEARS_AGO_1","10_20":"FD_YEARS_AGO_10_20",MOD_1:"FD_YEARS_AGO_MOD_1",MOD_2_4:"FD_YEARS_AGO_MOD_2_4",MOD_OTHER:"FD_YEARS_AGO_MOD_OTHER"})},Ydiff:function(){return d(N((i-D)/60/60/24/365/1e3),{0:"FD_YEARS_DIFF_0",1:"FD_YEARS_DIFF_1","10_20":"FD_YEARS_DIFF_10_20",MOD_1:"FD_YEARS_DIFF_MOD_1",MOD_2_4:"FD_YEARS_DIFF_MOD_2_4",MOD_OTHER:"FD_YEARS_DIFF_MOD_OTHER"})},Yshort:function(){return d(N((i-D)/60/60/24/365/1e3),{0:"FD_YEARS_SHORT_0",1:"FD_YEARS_SHORT_1","10_20":"FD_YEARS_SHORT_10_20",MOD_1:"FD_YEARS_SHORT_MOD_1",MOD_2_4:"FD_YEARS_SHORT_MOD_2_4",MOD_OTHER:"FD_YEARS_SHORT_MOD_OTHER"})},x:function(){var e=a.isAmPmMode(true);var t=e===a.AM_PM_MODE.LOWER?"g:i a":e===a.AM_PM_MODE.UPPER?"g:i A":"H:i";return a.format([["tomorrow","tomorrow, "+t],["-",a.convertBitrixFormat(a._getMessage("FORMAT_DATETIME")).replace(/:s/g,"")],["s","sago"],["i","iago"],["today","today, "+t],["yesterday","yesterday, "+t],["",a.convertBitrixFormat(a._getMessage("FORMAT_DATETIME")).replace(/:s/g,"")]],D,i,s)},X:function(){var e=a.isAmPmMode(true);var t=e===a.AM_PM_MODE.LOWER?"g:i a":e===a.AM_PM_MODE.UPPER?"g:i A":"H:i";var r=a.format([["tomorrow","tomorrow"],["-",a.convertBitrixFormat(a._getMessage("FORMAT_DATE"))],["today","today"],["yesterday","yesterday"],["",a.convertBitrixFormat(a._getMessage("FORMAT_DATE"))]],D,i,s);var _=a.format([["tomorrow",t],["today",t],["yesterday",t],["",""]],D,i,s);if(_.length>0)return a._getMessage("FD_DAY_AT_TIME").replace(/#DAY#/g,r).replace(/#TIME#/g,_);else return r},Q:function(){var e=N((i-D)/60/60/24/1e3);if(e==0)return a._getMessage("FD_DAY_DIFF_1").replace(/#VALUE#/g,1);else return a.format([["d","ddiff"],["m","mdiff"],["","Ydiff"]],D,i)}};var f=false;if(e[0]&&e[0]=="^"){f=true;e=e.substr(1)}var O=e.replace(M,h);if(f){O=O.replace(/\s*00:00:00\s*/g,"").replace(/(\d\d:\d\d)(:00)/g,"$1").replace(/(\s*00:00\s*)(?!:)/g,"")}if(o.length>0){o.forEach(function(e,t){O=O.replace("{{"+t+"}}",e)})}return O;function g(e,t,r,_){var n=N((r-t)/1e3);for(var D=0;D<e.length;D++){var i=e[D][0];var s=e[D][1];var o=null;if(i=="s"){if(n<60)return a.format(s,t,r,_)}else if((o=/^s(\d+)\>?(\d+)?/.exec(i))!=null){if(o[1]&&o[2]){if(n<o[1]&&n>o[2]){return a.format(s,t,r,_)}}else if(n<o[1]){return a.format(s,t,r,_)}}else if(i=="i"){if(n<60*60)return a.format(s,t,r,_)}else if((o=/^i(\d+)\>?(\d+)?/.exec(i))!=null){if(o[1]&&o[2]){if(n<o[1]*60&&n>o[2]*60){return a.format(s,t,r,_)}}else if(n<o[1]*60){return a.format(s,t,r,_)}}else if(i=="H"){if(n<24*60*60)return a.format(s,t,r,_)}else if((o=/^H(\d+)\>?(\d+)?/.exec(i))!=null){if(o[1]&&o[2]){if(n<o[1]*60*60&&n>o[2]*60*60){return a.format(s,t,r,_)}}else if(n<o[1]*60*60){return a.format(s,t,r,_)}}else if(i=="d"){if(n<31*24*60*60)return a.format(s,t,r,_)}else if((o=/^d(\d+)\>?(\d+)?/.exec(i))!=null){if(o[1]&&o[2]){if(n<o[1]*24*60*60&&n>o[2]*24*60*60){return a.format(s,t,r,_)}}else if(n<o[1]*24*60*60){return a.format(s,t,r,_)}}else if(i=="m"){if(n<365*24*60*60)return a.format(s,t,r,_)}else if((o=/^m(\d+)\>?(\d+)?/.exec(i))!=null){if(o[1]&&o[2]){if(n<o[1]*31*24*60*60&&n>o[2]*31*24*60*60){return a.format(s,t,r,_)}}else if(n<o[1]*31*24*60*60){return a.format(s,t,r,_)}}else if(i=="now"){if(t.getTime()==r.getTime()){return a.format(s,t,r,_)}}else if(i=="today"){var M=F(r),u=T(r),f=c(r);var O=_?new Date(Date.UTC(M,u,f,0,0,0,0)):new Date(M,u,f,0,0,0,0);var g=_?new Date(Date.UTC(M,u,f+1,0,0,0,0)):new Date(M,u,f+1,0,0,0,0);if(t>=O&&t<g)return a.format(s,t,r,_)}else if(i=="todayFuture"){var M=F(r),u=T(r),f=c(r);var O=r.getTime();var g=_?new Date(Date.UTC(M,u,f+1,0,0,0,0)):new Date(M,u,f+1,0,0,0,0);if(t>=O&&t<g)return a.format(s,t,r,_)}else if(i=="yesterday"){M=F(r);u=T(r);f=c(r);var E=_?new Date(Date.UTC(M,u,f-1,0,0,0,0)):new Date(M,u,f-1,0,0,0,0);var l=_?new Date(Date.UTC(M,u,f,0,0,0,0)):new Date(M,u,f,0,0,0,0);if(t>=E&&t<l)return a.format(s,t,r,_)}else if(i=="tommorow"||i=="tomorrow"){M=F(r);u=T(r);f=c(r);var A=_?new Date(Date.UTC(M,u,f+1,0,0,0,0)):new Date(M,u,f+1,0,0,0,0);var m=_?new Date(Date.UTC(M,u,f+2,0,0,0,0)):new Date(M,u,f+2,0,0,0,0);if(t>=A&&t<m)return a.format(s,t,r,_)}else if(i=="-"){if(n<0)return a.format(s,t,r,_)}}return e.length>0?a.format(e[e.length-1][1],t,r,_):""}function F(e){return s?e.getUTCFullYear():e.getFullYear()}function c(e){return s?e.getUTCDate():e.getDate()}function T(e){return s?e.getUTCMonth():e.getMonth()}function E(e){return s?e.getUTCHours():e.getHours()}function l(e){return s?e.getUTCMinutes():e.getMinutes()}function A(e){return s?e.getUTCSeconds():e.getSeconds()}function m(e){return s?e.getUTCMilliseconds():e.getMilliseconds()}function H(e){return s?e.getUTCDay():e.getDay()}function R(e,t){return s?e.setUTCDate(t):e.setDate(t)}function S(e,t,r){return s?e.setUTCMonth(t,r):e.setMonth(t,r)}function d(e,t){var r=e<100?Math.abs(e):Math.abs(e%100);var _=r%10;var n="";if(r==0)n=a._getMessage(t["0"]);else if(r==1)n=a._getMessage(t["1"]);else if(r>=10&&r<=20)n=a._getMessage(t["10_20"]);else if(_==1)n=a._getMessage(t["MOD_1"]);else if(2<=_&&_<=4)n=a._getMessage(t["MOD_2_4"]);else n=a._getMessage(t["MOD_OTHER"]);return n.replace(/#VALUE#/g,e)}function h(e,t){if(u[e])return u[e]();else return t}function N(e){return e>=0?Math.floor(e):Math.ceil(e)}},convertBitrixFormat:function(e){if(!r.isNotEmptyString(e))return"";return e.replace("YYYY","Y").replace("MMMM","F").replace("MM","m").replace("M","M").replace("DD","d").replace("G","g").replace(/GG/i,"G").replace("H","h").replace(/HH/i,"H").replace("MI","i").replace("SS","s").replace("TT","A").replace("T","a")},convertToUTC:function(e){if(!r.isDate(e))return null;return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},getNewDate:function(e){return new Date(this.getBrowserTimestamp(e))},getBrowserTimestamp:function(e){e=parseInt(e,10);var t=new Date(e*1e3).getTimezoneOffset()*60;return(parseInt(e,10)+parseInt(this._getMessage("SERVER_TZ_OFFSET"))+t)*1e3},getServerTimestamp:function(e){e=parseInt(e,10);var t=new Date(e).getTimezoneOffset()*60;return Math.round(e/1e3-(parseInt(this._getMessage("SERVER_TZ_OFFSET"),10)+parseInt(t,10)))},formatLastActivityDate:function(e,t,r){var _=this.isAmPmMode(true);var n=_===this.AM_PM_MODE.LOWER?"g:i a":_===this.AM_PM_MODE.UPPER?"g:i A":"H:i";var a=[["tomorrow","#01#"+n],["now","#02#"],["todayFuture","#03#"+n],["yesterday","#04#"+n],["-",this.convertBitrixFormat(this._getMessage("FORMAT_DATETIME")).replace(/:s/g,"")],["s60","sago"],["i60","iago"],["H5","Hago"],["H24","#03#"+n],["d31","dago"],["m12>1","mago"],["m12>0","dago"],["","#05#"]];var D=this.format(a,e,t,r);var i=null;if((i=/^#(\d+)#(.*)/.exec(D))!=null){switch(i[1]){case"01":D=this._getMessage("FD_LAST_SEEN_TOMORROW").replace("#TIME#",i[2]);break;case"02":D=this._getMessage("FD_LAST_SEEN_NOW");break;case"03":D=this._getMessage("FD_LAST_SEEN_TODAY").replace("#TIME#",i[2]);break;case"04":D=this._getMessage("FD_LAST_SEEN_YESTERDAY").replace("#TIME#",i[2]);break;case"05":D=this._getMessage("FD_LAST_SEEN_MORE_YEAR");break;default:D=i[2];break}}return D},isAmPmMode:function(e){if(e===true){return this._getMessage("AMPM_MODE")}return this._getMessage("AMPM_MODE")!==false},_getMessage:function(e){return t.message(e)},parse:function(e,t,_,n){if(r.isNotEmptyString(e)){if(!_)_=this._getMessage("FORMAT_DATE");if(!n)n=this._getMessage("FORMAT_DATETIME");var a="";for(o=1;o<=12;o++){a=a+"|"+this._getMessage("MON_"+o)}var D=new RegExp("([0-9]+|[a-z]+"+a+")","ig"),i=e.match(D),s=_.match(/(DD|MI|MMMM|MM|M|YYYY)/gi),o,M,u=[],f=[],O={};if(!i){return null}if(i.length>s.length){s=n.match(/(DD|MI|MMMM|MM|M|YYYY|HH|H|SS|TT|T|GG|G)/gi)}for(o=0,M=i.length;o<M;o++){if(i[o].trim()!==""){u[u.length]=i[o]}}for(o=0,M=s.length;o<M;o++){if(s[o].trim()!==""){f[f.length]=s[o]}}var g=r.array_search("MMMM",f);if(g>0){u[g]=this.getMonthIndex(u[g]);f[g]="MM"}else{g=r.array_search("M",f);if(g>0){u[g]=this.getMonthIndex(u[g]);f[g]="MM"}}for(o=0,M=f.length;o<M;o++){var F=f[o].toUpperCase();O[F]=F==="T"||F==="TT"?u[o]:parseInt(u[o],10)}if(O["DD"]>0&&O["MM"]>0&&O["YYYY"]>0){var c=new Date;if(t){c.setUTCDate(1);c.setUTCFullYear(O["YYYY"]);c.setUTCMonth(O["MM"]-1);c.setUTCDate(O["DD"]);c.setUTCHours(0,0,0,0)}else{c.setDate(1);c.setFullYear(O["YYYY"]);c.setMonth(O["MM"]-1);c.setDate(O["DD"]);c.setHours(0,0,0,0)}if((!isNaN(O["HH"])||!isNaN(O["GG"])||!isNaN(O["H"])||!isNaN(O["G"]))&&!isNaN(O["MI"])){if(!isNaN(O["H"])||!isNaN(O["G"])){var T=(O["T"]||O["TT"]||"am").toUpperCase()==="PM",E=parseInt(O["H"]||O["G"]||0,10);if(T){O["HH"]=E+(E===12?0:12)}else{O["HH"]=E<12?E:0}}else{O["HH"]=parseInt(O["HH"]||O["GG"]||0,10)}if(isNaN(O["SS"]))O["SS"]=0;if(t){c.setUTCHours(O["HH"],O["MI"],O["SS"])}else{c.setHours(O["HH"],O["MI"],O["SS"])}}return c}}return null},getMonthIndex:function(e){var t,r=e.toUpperCase(),_=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],n=["january","february","march","april","may","june","july","august","september","october","november","december"];for(t=1;t<=12;t++){if(r===this._getMessage("MON_"+t).toUpperCase()||r===this._getMessage("MONTH_"+t).toUpperCase()||r===_[t-1].toUpperCase()||r===n[t-1].toUpperCase()){return t}}return e}};var r={isDate:function(e){return e&&Object.prototype.toString.call(e)=="[object Date]"},isNumber:function(e){return e===0?true:e?typeof e=="number"||e instanceof Number:false},isArray:function(e){return e&&Object.prototype.toString.call(e)=="[object Array]"},isString:function(e){return e===""?true:e?typeof e=="string"||e instanceof String:false},isNotEmptyString:function(e){return this.isString(e)?e.length>0:false},strPadLeft:function(e,t,r){var _=e.length,n=r.length;if(_>=t)return e;for(;_<t;_+=n)e=r+e;return e},array_search:function(e,t){for(var r=0;r<t.length;r++){if(t[r]==e)return r}return-1}}})(window);
 



// file: /bitrix/js/im/lib/utils/dist/utils.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};(function(e,t){"use strict";var i={browser:{isSafari:function e(){if(this.isChrome()){return false}if(!navigator.userAgent.toLowerCase().includes("safari")){return false}return!this.isSafariBased()},isSafariBased:function e(){if(!navigator.userAgent.toLowerCase().includes("applewebkit")){return false}return navigator.userAgent.toLowerCase().includes("yabrowser")||navigator.userAgent.toLowerCase().includes("yaapp_ios_browser")||navigator.userAgent.toLowerCase().includes("crios")},isChrome:function e(){return navigator.userAgent.toLowerCase().includes("chrome")},isFirefox:function e(){return navigator.userAgent.toLowerCase().includes("firefox")},isIe:function e(){return navigator.userAgent.match(/(Trident\/|MSIE\/)/)!==null},findParent:function e(t,i){var n=i instanceof HTMLElement;if(!i||typeof i!=="string"&&!n){return null}for(;t&&t!==document;t=t.parentNode){if(typeof i==="string"){if(t.classList.contains(i)){return t}}else if(n){if(t===i){return t}}}return null}},platform:{isMac:function e(){return navigator.userAgent.toLowerCase().includes("macintosh")},isLinux:function e(){return navigator.userAgent.toLowerCase().includes("linux")},isWindows:function e(){return navigator.userAgent.toLowerCase().includes("windows")||!this.isMac()&&!this.isLinux()},isBitrixMobile:function e(){return navigator.userAgent.toLowerCase().includes("bitrixmobile")},isBitrixDesktop:function e(){return navigator.userAgent.toLowerCase().includes("bitrixdesktop")},getDesktopVersion:function e(){if(typeof this.getDesktopVersionStatic!=="undefined"){return this.getDesktopVersionStatic}if(typeof BXDesktopSystem==="undefined"){return 0}var t=BXDesktopSystem.GetProperty("versionParts");this.getDesktopVersionStatic=t[3];return this.getDesktopVersionStatic},isMobile:function e(){return this.isAndroid()||this.isIos()||this.isBitrixMobile()},isIos:function e(){return navigator.userAgent.toLowerCase().includes("iphone")||navigator.userAgent.toLowerCase().includes("ipad")},getIosVersion:function e(){if(!this.isIos()){return null}var t=navigator.userAgent.toLowerCase().match(/(iphone|ipad)(.+)(OS\s([0-9]+)([_.]([0-9]+))?)/i);if(!t||!t[4]){return null}return parseFloat(t[4]+"."+(t[6]?t[6]:0))},isAndroid:function e(){return navigator.userAgent.toLowerCase().includes("android")},openNewPage:function e(t){if(!t){return false}if(this.isBitrixMobile()){if(typeof BX.MobileTools!=="undefined"){var i=BX.MobileTools.resolveOpenFunction(t);if(i){i();return true}}app.openNewPage(t)}else{window.open(t,"_blank")}return true}},device:{isDesktop:function e(){return!this.isMobile()},isMobile:function e(){if(typeof this.isMobileStatic!=="undefined"){return this.isMobileStatic}this.isMobileStatic=navigator.userAgent.toLowerCase().includes("android")||navigator.userAgent.toLowerCase().includes("webos")||navigator.userAgent.toLowerCase().includes("iphone")||navigator.userAgent.toLowerCase().includes("ipad")||navigator.userAgent.toLowerCase().includes("ipod")||navigator.userAgent.toLowerCase().includes("blackberry")||navigator.userAgent.toLowerCase().includes("windows phone");return this.isMobileStatic},orientationHorizontal:"horizontal",orientationPortrait:"portrait",getOrientation:function e(){if(!this.isMobile()){return this.orientationHorizontal}return Math.abs(window.orientation)===0?this.orientationPortrait:this.orientationHorizontal}},types:{isString:function e(t){return t===""?true:t?typeof t=="string"||t instanceof String:false},isArray:function e(t){return t&&Object.prototype.toString.call(t)=="[object Array]"},isFunction:function e(t){return t===null?false:typeof t=="function"||t instanceof Function},isDomNode:function e(t){return t&&babelHelpers.typeof(t)=="object"&&"nodeType"in t},isDate:function e(t){return t&&Object.prototype.toString.call(t)=="[object Date]"},isPlainObject:function e(t){if(!t||babelHelpers.typeof(t)!=="object"||t.nodeType){return false}var i=Object.prototype.hasOwnProperty;try{if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var n;return typeof n==="undefined"||i.call(t,n)}},dialog:{getChatIdByDialogId:function e(t){if(!this.isChatId(t)){return 0}return parseInt(t.toString().substr(4))},isChatId:function e(t){return t.toString().startsWith("chat")},isEmptyDialogId:function e(t){if(!t){return true}if(typeof t==="string"){if(t==="chat0"||t==="0"){return true}}return false}},text:{quote:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(typeof t!=="string"){return t.toString()}if(!r){r=BX.message}t=t.replace(/\[USER=([0-9]{1,})](.*?)\[\/USER]/gi,function(e,t,i){return i});t=t.replace(/\[CHAT=(imol\|)?([0-9]{1,})](.*?)[\/CHAT]/gi,function(e,t,i,n){return n});t=t.replace(/\[SEND(?:=(.+?))?](.+?)?\[\/SEND]/gi,function(e,t,i){return i?i:t});t=t.replace(/\[PUT(?:=(.+?))?](.+?)?\[\/PUT]/gi,function(e,t,i){return i?i:t});t=t.replace(/\[CALL(?:=(.+?))?](.+?)?\[\/CALL]/gi,function(e,t,i){return i?i:t});t=t.replace(/\[ATTACH=([0-9]{1,})]/gi,function(e,t,i){return t===1e4?"":"["+r["IM_UTILS_TEXT_ATTACH"]+"] "});t=t.replace(/\[RATING=([1-5]{1})]/gi,function(e,t){return"["+r.IM_F_RATING+"] "});t=t.replace(/&nbsp;/gi," ");t=t.replace(/\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D([\s\S]*?)\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D/gim,"["+r["IM_UTILS_TEXT_QUOTE"]+"]");t=t.replace(/^(>>(.*)\n)/gi,"["+r["IM_UTILS_TEXT_QUOTE"]+"]\n");if(i&&i.FILE_ID&&i.FILE_ID.length>0){var a=[];i.FILE_ID.forEach(function(e){if(n[e].type==="image"){a.push(r["IM_UTILS_TEXT_IMAGE"])}else if(n[e].type==="audio"){a.push(r["IM_UTILS_TEXT_AUDIO"])}else if(n[e].type==="video"){a.push(r["IM_UTILS_TEXT_VIDEO"])}else{a.push(n[e].name)}});if(a.length<=0){a.push(r["IM_UTILS_TEXT_FILE"])}t=a.join("\n")+t}else if(i&&i.ATTACH&&i.ATTACH.length>0){t="["+r["IM_UTILS_TEXT_ATTACH"]+"]\n"+t}if(t.length<=0){t=r["IM_UTILS_TEXT_DELETED"]}return t.trim()},purify:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(typeof t!=="string"){return t.toString()}if(!r){r=BX.message}t=t.trim();if(t.startsWith("/me")){t=t.substr(4)}else if(t.startsWith("/loud")){t=t.substr(6)}t=t.replace(/<br><br \/>/gi,"<br />");t=t.replace(/<br \/><br>/gi,"<br />");t=t.replace(/\[[buis]](.*?)\[\/[buis]]/gi,"$1");t=t.replace(/\[CODE]\n?([\0-\uFFFF]*?)\[\/CODE]/gi,"$1");t=t.replace(/\[url](.*?)\[\/url]/gi,"$1");t=t.replace(/\[RATING=([1-5]{1})]/gi,function(){return"["+r["IM_UTILS_TEXT_RATING"]+"] "});t=t.replace(/\[ATTACH=([0-9]{1,})]/gi,function(){return"["+r["IM_UTILS_TEXT_ATTACH"]+"] "});t=t.replace(/\[USER=([0-9]{1,})](.*?)\[\/USER]/gi,"$2");t=t.replace(/\[CHAT=([0-9]{1,})](.*?)\[\/CHAT]/gi,"$2");t=t.replace(/\[SEND=([0-9]{1,})](.*?)\[\/SEND]/gi,"$2");t=t.replace(/\[PUT=([0-9]{1,})](.*?)\[\/PUT]/gi,"$2");t=t.replace(/\[CALL=([0-9]{1,})](.*?)\[\/CALL]/gi,"$2");t=t.replace(/\[PCH=([0-9]{1,})](.*?)\[\/PCH]/gi,"$2");t=t.replace(/<img.*?data-code="([^"]*)".*?>/gi,"$1");t=t.replace(/<span.*?title="([^"]*)".*?>.*?<\/span>/gi,"($1)");t=t.replace(/<img.*?title="([^"]*)".*?>/gi,"($1)");t=t.replace(/\[ATTACH=([0-9]{1,})]/gi,function(e,t,i){return t===1e4?"":"["+r["IM_UTILS_TEXT_ATTACH"]+"] "});t=t.replace(/<s>([^"]*)<\/s>/gi," ");t=t.replace(/\[s]([^"]*)\[\/s]/gi," ");t=t.replace(/\[icon=([^\]]*)]/gi,function(e){var t=e.match(/title=(.*[^\s\]])/i);if(t&&t[1]){t=t[1];if(t.indexOf("width=")>-1){t=t.substr(0,t.indexOf("width="))}if(t.indexOf("height=")>-1){t=t.substr(0,t.indexOf("height="))}if(t.indexOf("size=")>-1){t=t.substr(0,t.indexOf("size="))}if(t){t="("+t.trim()+")"}}else{t="("+r["IM_UTILS_TEXT_ICON"]+")"}return t});t=t.replace(/\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D([\s\S]*?)\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D\x2D/gim,"["+r["IM_UTILS_TEXT_QUOTE"]+"] ");t=t.replace(/^(>>(.*)\n)/gi,"["+r["IM_UTILS_TEXT_QUOTE"]+"] ");t=t.replace(/<\/?[^>]+>/gi,"");if(i&&i.FILE_ID&&i.FILE_ID.length>0){var a=[];i.FILE_ID.forEach(function(e){if(n[e].type==="image"){a.push(r["IM_UTILS_TEXT_IMAGE"])}else if(n[e].type==="audio"){a.push(r["IM_UTILS_TEXT_AUDIO"])}else if(n[e].type==="video"){a.push(r["IM_UTILS_TEXT_VIDEO"])}else{a.push(n[e].name)}});if(a.length<=0){a.push(r["IM_UTILS_TEXT_FILE"])}t=a.join(" ")+t}else if(i&&i.ATTACH&&i.ATTACH.length>0){t="["+r["IM_UTILS_TEXT_ATTACH"]+"] "+t}if(t.length<=0){t=r["IM_UTILS_TEXT_DELETED"]}return t.replace("\n"," ").trim()},htmlspecialchars:function e(t){if(typeof t!=="string"){return t}return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},htmlspecialcharsback:function e(t){if(typeof t!=="string"){return t}return t.replace(/\&quot;/g,'"').replace(/&#39;/g,"'").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&amp;/g,"&").replace(/\&nbsp;/g," ")},getLocalizeForNumber:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"en";var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(!r){r=BX.message}var a=1;i=parseInt(i);if(i<0){i=i*-1}if(n){switch(n){case"de":case"en":a=i!==1?1:0;break;case"ru":case"ua":a=i%10===1&&i%100!==11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2;break}}return r[t+"_PLURAL_"+a]}},date:{getFormatType:function e(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:t.DateFormat.default;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!n){n=BX.message}var r=[];if(i===t.DateFormat.groupTitle){r=[["tommorow","tommorow"],["today","today"],["yesterday","yesterday"],["",n["IM_UTILS_FORMAT_DATE"]]]}else if(i===t.DateFormat.message){r=[["",n["IM_UTILS_FORMAT_TIME"]]]}else if(i===t.DateFormat.recentTitle){r=[["tommorow","today"],["today","today"],["yesterday","yesterday"],["",n["IM_UTILS_FORMAT_DATE_RECENT"]]]}else if(i===t.DateFormat.recentLinesTitle){r=[["tommorow","tommorow"],["today","today"],["yesterday","yesterday"],["",n["IM_UTILS_FORMAT_DATE_RECENT"]]]}else if(i===t.DateFormat.readedTitle){r=[["tommorow","tommorow, "+n["IM_UTILS_FORMAT_TIME"]],["today","today, "+n["IM_UTILS_FORMAT_TIME"]],["yesterday","yesterday, "+n["IM_UTILS_FORMAT_TIME"]],["",n["IM_UTILS_FORMAT_READED"]]]}else if(i===t.DateFormat.vacationTitle){r=[["",n["IM_UTILS_FORMAT_DATE_SHORT"]]]}else{r=[["tommorow","tommorow, "+n["IM_UTILS_FORMAT_TIME"]],["today","today, "+n["IM_UTILS_FORMAT_TIME"]],["yesterday","yesterday, "+n["IM_UTILS_FORMAT_TIME"]],["",n["IM_UTILS_FORMAT_DATE_TIME"]]]}return r},getDateFunction:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(this.dateFormatFunction){return this.dateFormatFunction}this.dateFormatFunction=Object.create(BX.Main.Date);if(t){this.dateFormatFunction._getMessage=function(e){return t[e]}}return this.dateFormatFunction},format:function e(i){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!e){e=this.getFormatType(t.DateFormat.default,n)}return this.getDateFunction(n).format(e,i)},cast:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Date;var n=i;if(t instanceof Date){n=t}else if(typeof t==="string"){n=new Date(t)}else if(typeof t==="number"){n=new Date(t*1e3)}if(n instanceof Date&&Number.isNaN(n.getTime())){n=i}return n}},object:{countKeys:function e(t){var i=0;for(var n in t){if(t.hasOwnProperty(n)){i++}}return i}},user:{getLastDateText:function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!n){return""}var a=i.date.getDateFunction(r);if(!r){r=BX.message||{}}var s="";var o={};if(n.bot||n.network){s=""}else if(n.absent&&!this.isMobileActive(n,r)){o=this.getOnlineStatus(n,r);s=r["IM_STATUS_VACATION_TITLE"].replace("#DATE#",a.format(i.date.getFormatType(t.DateFormat.vacationTitle,r),n.absent.getTime()/1e3));if(o.isOnline&&n.idle){s=r["IM_STATUS_AWAY_TITLE"].replace("#TIME#",this.getIdleText(n,r))+". "+s}else if(o.isOnline&&!o.lastSeenText){s=o.statusText+". "+s}else if(o.lastSeenText){if(!i.platform.isMobile()){s=s+". "+r["IM_LAST_SEEN_"+(n.gender==="F"?"F":"M")].replace("#POSITION#",s).replace("#LAST_SEEN#",o.lastSeenText)}}}else if(n.lastActivityDate){o=this.getOnlineStatus(n,r);if(o.isOnline&&n.idle&&!this.isMobileActive(n,r)){s=r["IM_STATUS_AWAY_TITLE"].replace("#TIME#",this.getIdleText(n,r))}else if(o.isOnline&&!o.lastSeenText){if(i.platform.isMobile()&&this.isMobileActive(n,r)){s=r["IM_STATUS_MOBILE"]}else{s=o.statusText}}else if(o.lastSeenText){if(i.platform.isMobile()){s=r["IM_LAST_SEEN_SHORT_"+(n.gender==="F"?"F":"M")].replace("#LAST_SEEN#",o.lastSeenText)}else{s=r["IM_LAST_SEEN_"+(n.gender==="F"?"F":"M")].replace("#POSITION#",s).replace("#LAST_SEEN#",o.lastSeenText)}}}return s},getIdleText:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!t){return""}if(!t.idle){return""}return i.date.getDateFunction(n).format([["s60","sdiff"],["i60","idiff"],["H24","Hdiff"],["","ddiff"]],t.idle)},getOnlineStatus:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var r={isOnline:false,status:"offline",statusText:n?n.IM_STATUS_OFFLINE:"offline",lastSeen:t.lastActivityDate,lastSeenText:""};if(!t.lastActivityDate||t.lastActivityDate.getTime()===0){return r}var a=new Date;r.isOnline=a.getTime()-t.lastActivityDate.getTime()<=this.getOnlineLimit(n)*1e3;r.status=r.isOnline?t.status:"offline";r.statusText=n&&n["IM_STATUS_"+r.status.toUpperCase()]?n["IM_STATUS_"+r.status.toUpperCase()]:r.status;if(n&&t.lastActivityDate.getTime()>0&&a.getTime()-t.lastActivityDate.getTime()>300*1e3){r.lastSeenText=i.date.getDateFunction(n).formatLastActivityDate(t.lastActivityDate)}return r},isMobileActive:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!t){return false}if(!i){i=BX.message||{}}return t.mobileLastDate&&new Date-t.mobileLastDate<this.getOnlineLimit(i)*1e3&&t.lastActivityDate-t.mobileLastDate<300*1e3},getOnlineLimit:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!t){t=BX.message||{}}return t.LIMIT_ONLINE?parseInt(t.LIMIT_ONLINE):15*60}},isDarkColor:function e(t){if(!t||!t.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)){return false}if(t.length===4){t=t.replace(/#([A-Fa-f0-9])/gi,"$1$1")}else{t=t.replace(/#([A-Fa-f0-9])/gi,"$1")}t=t.toLowerCase();var i=["#17a3ea","#00aeef","#00c4fb","#47d1e2","#75d900","#ffab00","#ff5752","#468ee5","#1eae43"];if(i.includes("#"+t)){return true}var n=parseInt(t,16);var r=n>>16&255;var a=n>>8&255;var s=n&255;var o=(r*299+a*587+s*114)/1e3;return o<128},hashCode:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=0;if(babelHelpers.typeof(t)==="object"&&t){t=JSON.stringify(t)}else if(typeof t!=="string"){t=t.toString()}if(typeof t!=="string"){return i}for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);i=(i<<5)-i+r;i=i&i}return i},versionCompare:function e(t,i){var n=/^([\d+\.]+)$/;if(!n.test(t)||!n.test(i)){return NaN}t=t.toString().split(".");i=i.toString().split(".");if(t.length<i.length){while(t.length<i.length){t.push(0)}}else if(i.length<t.length){while(i.length<t.length){i.push(0)}}for(var r=0;r<t.length;r++){if(t[r]>i[r]){return 1}else if(t[r]<i[r]){return-1}}return 0},throttle:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this;var r=null;var a=null;var s=function e(){t.apply(n,a);r=null};return function(){if(!r){a=arguments;r=setTimeout(s,i)}}},debounce:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this;var r=null;var a=null;var s=function e(){t.apply(n,a)};return function(){a=arguments;clearTimeout(r);r=setTimeout(s,i)}},getLogTrackingParams:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=[];var n=t.name,r=n===void 0?"tracking":n,a=t.data,s=a===void 0?[]:a,o=t.dialog,l=o===void 0?null:o,u=t.message,f=u===void 0?null:u,D=t.files,c=D===void 0?null:D;r=encodeURIComponent(r);if(s&&!(s instanceof Array)&&babelHelpers.typeof(s)==="object"){var x=[];for(var g in s){if(s.hasOwnProperty(g)){x.push(encodeURIComponent(g)+"="+encodeURIComponent(s[g]))}}s=x}else if(!s instanceof Array){s=[]}if(l){i.push("timType="+l.type);if(l.type==="lines"){i.push("timLinesType="+l.entityId.split("|")[0])}}if(c){var T="file";if(c instanceof Array&&c[0]){T=c[0].type}else{T=c.type}i.push("timMessageType="+T)}else if(f){i.push("timMessageType=text")}if(this.platform.isBitrixMobile()){i.push("timDevice=bitrixMobile")}else if(this.platform.isBitrixDesktop()){i.push("timDevice=bitrixDesktop")}else if(this.platform.isIos()||this.platform.isAndroid()){i.push("timDevice=mobile")}else{i.push("timDevice=web")}return r+(s.length?"&"+s.join("&"):"")+(i.length?"&"+i.join("&"):"")}};e.Utils=i})(this.BX.Messenger.Lib=this.BX.Messenger.Lib||{},BX.Messenger.Const);
 



// file: /bitrix/js/im/model/dist/registry.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};(function(e,t,i,n,a){"use strict";var r=function(e){babelHelpers.inherits(t,e);function t(){babelHelpers.classCallCheck(this,t);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}babelHelpers.createClass(t,[{key:"getName",value:function e(){return"application"}},{key:"getState",value:function e(){return{common:{host:this.getVariable("common.host",location.protocol+"//"+location.host),siteId:this.getVariable("common.siteId","default"),userId:this.getVariable("common.userId",0),languageId:this.getVariable("common.languageId","en")},dialog:{dialogId:this.getVariable("dialog.dialogId","0"),chatId:this.getVariable("dialog.chatId",0),diskFolderId:this.getVariable("dialog.diskFolderId",0),messageLimit:this.getVariable("dialog.messageLimit",20),enableReadMessages:this.getVariable("dialog.enableReadMessages",true),messageExtraCount:0},disk:{enabled:false,maxFileSize:5242880},call:{serverEnabled:false,maxParticipants:24},mobile:{keyboardShow:false},device:{type:this.getVariable("device.type",i.DeviceType.desktop),orientation:this.getVariable("device.orientation",i.DeviceOrientation.portrait)},options:{quoteEnable:this.getVariable("options.quoteEnable",true),quoteFromRight:this.getVariable("options.quoteFromRight",true),autoplayVideo:this.getVariable("options.autoplayVideo",true),darkBackground:this.getVariable("options.darkBackground",false),showSmiles:false},error:{active:false,code:"",description:""}}}},{key:"getStateSaveException",value:function e(){return Object.assign({common:this.getVariable("saveException.common",null),dialog:this.getVariable("saveException.dialog",null),mobile:this.getVariable("saveException.mobile",null),device:this.getVariable("saveException.device",null),error:this.getVariable("saveException.error",null)})}},{key:"getActions",value:function e(){var t=this;return{set:function e(i,n){i.commit("set",t.validate(n))},showSmiles:function e(t,i){t.commit("showSmiles")},hideSmiles:function e(t,i){t.commit("hideSmiles")}}}},{key:"getMutations",value:function e(){var t=this;return{set:function e(i,n){var a=false;for(var r in n){if(!n.hasOwnProperty(r)){continue}for(var o in n[r]){if(!n[r].hasOwnProperty(o)){continue}i[r][o]=n[r][o];a=true}}if(a&&t.isSaveNeeded(n)){t.saveState(i)}},increaseDialogExtraCount:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=i.count,a=n===void 0?1:n;t.dialog.messageExtraCount+=a},decreaseDialogExtraCount:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=i.count,a=n===void 0?1:n;var r=t.dialog.messageExtraCount-a;if(r<=0){r=0}t.dialog.messageExtraCount=r},clearDialogExtraCount:function e(t){t.dialog.messageExtraCount=0},showSmiles:function e(t){t.options.showSmiles=true},hideSmiles:function e(t){t.options.showSmiles=false}}}},{key:"validate",value:function e(t){var n={};if(babelHelpers.typeof(t.common)==="object"&&t.common){n.common={};if(typeof t.common.userId==="number"){n.common.userId=t.common.userId}if(typeof t.common.languageId==="string"){n.common.languageId=t.common.languageId}}if(babelHelpers.typeof(t.dialog)==="object"&&t.dialog){n.dialog={};if(typeof t.dialog.dialogId==="number"){n.dialog.dialogId=t.dialog.dialogId.toString();n.dialog.chatId=0}else if(typeof t.dialog.dialogId==="string"){n.dialog.dialogId=t.dialog.dialogId;if(typeof t.dialog.chatId!=="number"){var a=t.dialog.dialogId;if(a.startsWith("chat")){a=t.dialog.dialogId.substr(4)}a=parseInt(a);n.dialog.chatId=!isNaN(a)?a:0;t.dialog.chatId=n.dialog.chatId}}if(typeof t.dialog.chatId==="number"){n.dialog.chatId=t.dialog.chatId}if(typeof t.dialog.diskFolderId==="number"){n.dialog.diskFolderId=t.dialog.diskFolderId}if(typeof t.dialog.messageLimit==="number"){n.dialog.messageLimit=t.dialog.messageLimit}if(typeof t.dialog.messageExtraCount==="number"){n.dialog.messageExtraCount=t.dialog.messageExtraCount}if(typeof t.dialog.enableReadMessages==="boolean"){n.dialog.enableReadMessages=t.dialog.enableReadMessages}}if(babelHelpers.typeof(t.disk)==="object"&&t.disk){n.disk={};if(typeof t.disk.enabled==="boolean"){n.disk.enabled=t.disk.enabled}if(typeof t.disk.maxFileSize==="number"){n.disk.maxFileSize=t.disk.maxFileSize}}if(babelHelpers.typeof(t.call)==="object"&&t.call){n.call={};if(typeof t.call.serverEnabled==="boolean"){n.call.serverEnabled=t.call.serverEnabled}if(typeof t.call.maxParticipants==="number"){n.call.maxParticipants=t.call.maxParticipants}}if(babelHelpers.typeof(t.mobile)==="object"&&t.mobile){n.mobile={};if(typeof t.mobile.keyboardShow==="boolean"){n.mobile.keyboardShow=t.mobile.keyboardShow}}if(babelHelpers.typeof(t.device)==="object"&&t.device){n.device={};if(typeof t.device.type==="string"&&typeof i.DeviceType[t.device.type]!=="undefined"){n.device.type=t.device.type}if(typeof t.device.orientation==="string"&&typeof i.DeviceOrientation[t.device.orientation]!=="undefined"){n.device.orientation=t.device.orientation}}if(babelHelpers.typeof(t.error)==="object"&&t.error){if(typeof t.error.active==="boolean"){n.error={active:t.error.active,code:t.error.code.toString()||"",description:t.error.description.toString()||""}}}return n}}]);return t}(a.VuexBuilderModel);var o=function(e){babelHelpers.inherits(t,e);function t(){babelHelpers.classCallCheck(this,t);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}babelHelpers.createClass(t,[{key:"getName",value:function e(){return"callApplication"}},{key:"getState",value:function e(){return{common:{inited:false,passChecked:true,showChat:false,userCount:0,userInCallCount:0,state:i.CallStateType.preparation,showSmiles:false,error:"",conferenceTitle:"",alias:"",conferenceStarted:null,conferenceStartDate:null,joinWithVideo:null,userReadyToJoin:false},user:{id:-1,hash:""}}}},{key:"getMutations",value:function e(){var t=this;return{common:function e(t,i){if(typeof i.inited==="boolean"){t.common.inited=i.inited}if(typeof i.passChecked==="boolean"){t.common.passChecked=i.passChecked}if(typeof i.showChat==="boolean"){t.common.showChat=i.showChat}if(typeof i.userCount==="number"||typeof i.userCount==="string"){t.common.userCount=parseInt(i.userCount)}if(typeof i.userInCallCount==="number"||typeof i.userInCallCount==="string"){t.common.userInCallCount=parseInt(i.userInCallCount)}if(typeof i.componentError==="string"){t.common.componentError=i.componentError}},user:function e(i,n){if(typeof n.id==="number"){i.user.id=n.id}if(typeof n.hash==="string"&&n.hash!==i.user.hash){i.user.hash=n.hash}if(t.isSaveNeeded({user:n})){t.saveState(i)}},startCall:function e(t,n){t.common.state=i.CallStateType.call},endCall:function e(t,n){t.common.state=i.CallStateType.preparation},returnToPreparation:function e(t,n){t.common.state=i.CallStateType.preparation},toggleSmiles:function e(t,i){t.common.showSmiles=!t.common.showSmiles},setError:function e(t,i){if(typeof i.errorCode==="string"){t.common.error=i.errorCode}},setConferenceTitle:function e(t,i){if(typeof i.conferenceTitle==="string"){t.common.conferenceTitle=i.conferenceTitle}},setAlias:function e(t,i){if(typeof i.alias==="string"){t.common.alias=i.alias}},setJoinType:function e(t,i){if(typeof i.joinWithVideo==="boolean"){t.common.joinWithVideo=i.joinWithVideo}},setConferenceStatus:function e(t,i){if(typeof i.conferenceStarted==="boolean"){t.common.conferenceStarted=i.conferenceStarted}},setConferenceStartDate:function e(t,i){if(i.conferenceStartDate instanceof Date){t.common.conferenceStartDate=i.conferenceStartDate}},setUserReadyToJoin:function e(t,i){t.common.userReadyToJoin=true}}}},{key:"getStateSaveException",value:function e(){return{common:{inited:null,state:null,showSmiles:null,userCount:null,userInCallCount:null,error:null,conferenceTitle:null,alias:null,conferenceStarted:null,conferenceStartDate:null,joinWithVideo:null,userReadyToJoin:null}}}}]);return t}(a.VuexBuilderModel);function s(e,t){var i;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(i=l(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var n=0;var a=function e(){};return{s:a,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,o=false,s;return{s:function t(){i=e[Symbol.iterator]()},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!r&&i.return!=null)i.return()}finally{if(o)throw s}}}}function l(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,n=new Array(t);i<t;i++){n[i]=e[i]}return n}var d={empty:"empty",equal:"equal",none:"none",found:"found",foundReverse:"foundReverse"};var u=function(e){babelHelpers.inherits(a,e);function a(){babelHelpers.classCallCheck(this,a);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).apply(this,arguments))}babelHelpers.createClass(a,[{key:"getName",value:function e(){return"messages"}},{key:"getState",value:function e(){return{created:0,collection:{},mutationType:{},saveMessageList:{},saveFileList:{},saveUserList:{},host:this.getVariable("host",location.protocol+"//"+location.host)}}},{key:"getElementState",value:function e(){return{templateId:0,templateType:"message",id:0,chatId:0,authorId:0,date:new Date,text:"",textConverted:"",params:{TYPE:"default",COMPONENT_ID:"bx-im-view-message"},push:false,unread:false,sending:false,error:false,retry:false,blink:false}}},{key:"getGetters",value:function e(){var t=this;return{getMutationType:function e(t){return function(e){if(!t.mutationType[e]){return{initialType:i.MutationType.none,appliedType:i.MutationType.none}}return t.mutationType[e]}},getLastId:function e(t){return function(e){if(!t.collection[e]||t.collection[e].length<=0){return null}var i=0;for(var n=0;n<t.collection[e].length;n++){var a=t.collection[e][n];if(a.push||a.sending||a.id.toString().startsWith("temporary")){continue}if(i<a.id){i=a.id}}return i?i:null}},getMessage:function e(t){return function(e,i){if(!t.collection[e]||t.collection[e].length<=0){return null}for(var n=t.collection[e].length-1;n>=0;n--){if(t.collection[e][n].id===i){return t.collection[e][n]}}return null}},get:function e(t){return function(e){if(!t.collection[e]||t.collection[e].length<=0){return[]}return t.collection[e]}},getBlank:function e(i){return function(e){return t.getElementState()}},getSaveFileList:function e(t){return function(e){return t.saveFileList}},getSaveUserList:function e(t){return function(e){return t.saveUserList}}}}},{key:"getActions",value:function e(){var n=this;return{add:function e(t,i){var a=n.validate(Object.assign({},i));a.params=Object.assign({},n.getElementState().params,a.params);a.id="temporary"+(new Date).getTime()+t.state.created;a.templateId=a.id;a.unread=false;t.commit("add",Object.assign({},n.getElementState(),a));if(i.sending!==false){t.dispatch("actionStart",{id:a.id,chatId:a.chatId})}return a.id},actionStart:function e(i,n){if(/^\d+$/.test(n.id)){n.id=parseInt(n.id)}n.chatId=parseInt(n.chatId);t.Vue.nextTick(function(){i.commit("update",{id:n.id,chatId:n.chatId,fields:{sending:true}})})},actionError:function e(i,n){if(/^\d+$/.test(n.id)){n.id=parseInt(n.id)}n.chatId=parseInt(n.chatId);t.Vue.nextTick(function(){i.commit("update",{id:n.id,chatId:n.chatId,fields:{sending:false,error:true,retry:n.retry!==false}})})},actionFinish:function e(i,n){if(/^\d+$/.test(n.id)){n.id=parseInt(n.id)}n.chatId=parseInt(n.chatId);t.Vue.nextTick(function(){i.commit("update",{id:n.id,chatId:n.chatId,fields:{sending:false,error:false,retry:false}})})},set:function e(t,a){if(a instanceof Array){a=a.map(function(e){return n.prepareMessage(e,{host:t.state.host})})}else{var r=n.prepareMessage(a,{host:t.state.host});(a=[]).push(r)}t.commit("set",{insertType:i.MutationType.set,data:a})},setAfter:function e(t,a){if(a instanceof Array){a=a.map(function(e){return n.prepareMessage(e)})}else{var r=n.prepareMessage(a);(a=[]).push(r)}t.commit("set",{insertType:i.MutationType.setAfter,data:a})},setBefore:function e(t,a){if(a instanceof Array){a=a.map(function(e){return n.prepareMessage(e)})}else{var r=n.prepareMessage(a);(a=[]).push(r)}t.commit("set",{insertType:i.MutationType.setBefore,data:a})},update:function e(t,i){if(/^\d+$/.test(i.id)){i.id=parseInt(i.id)}if(/^\d+$/.test(i.chatId)){i.chatId=parseInt(i.chatId)}t.commit("initCollection",{chatId:i.chatId});var a=t.state.collection[i.chatId].findIndex(function(e){return e.id===i.id});if(a<0){return false}var r=n.validate(Object.assign({},i.fields));if(r.params){r.params=Object.assign({},n.getElementState().params,t.state.collection[i.chatId][a].params,r.params)}t.commit("update",{id:i.id,chatId:i.chatId,index:a,fields:r});if(i.fields.blink){setTimeout(function(){t.commit("update",{id:i.id,chatId:i.chatId,fields:{blink:false}})},1e3)}return true},delete:function e(t,i){if(!(i.id instanceof Array)){i.id=[i.id]}i.id=i.id.map(function(e){if(/^\d+$/.test(e)){e=parseInt(e)}return e});t.commit("delete",{chatId:i.chatId,elements:i.id});return true},clear:function e(t,i){i.chatId=parseInt(i.chatId);t.commit("clear",{chatId:i.chatId});return true},applyMutationType:function e(t,i){i.chatId=parseInt(i.chatId);t.commit("applyMutationType",{chatId:i.chatId});return true},readMessages:function e(t,i){i.readId=parseInt(i.readId)||0;i.chatId=parseInt(i.chatId);if(typeof t.state.collection[i.chatId]==="undefined"){return{count:0}}var n=0;for(var a=t.state.collection[i.chatId].length-1;a>=0;a--){var r=t.state.collection[i.chatId][a];if(!r.unread)continue;if(i.readId===0||r.id<=i.readId){n++}}t.commit("readMessages",{chatId:i.chatId,readId:i.readId});return{count:n}},unreadMessages:function e(t,i){i.unreadId=parseInt(i.unreadId)||0;i.chatId=parseInt(i.chatId);if(typeof t.state.collection[i.chatId]==="undefined"||!i.unreadId){return{count:0}}var n=0;for(var a=t.state.collection[i.chatId].length-1;a>=0;a--){var r=t.state.collection[i.chatId][a];if(r.unread)continue;if(r.id>=i.unreadId){n++}}t.commit("unreadMessages",{chatId:i.chatId,unreadId:i.unreadId});return{count:n}}}}},{key:"getMutations",value:function e(){var n=this;return{initCollection:function e(t,i){return n.initCollection(t,i)},add:function e(t,a){n.initCollection(t,{chatId:a.chatId});n.setMutationType(t,{chatId:a.chatId,initialType:i.MutationType.add});t.collection[a.chatId].push(a);t.saveMessageList[a.chatId].push(a.id);t.created+=1;n.saveState(t,a.chatId)},set:function e(t,a){var r=[];var o=[];var l={};l.initialType=a.insertType;if(a.insertType===i.MutationType.set){(function(){a.insertType=i.MutationType.setAfter;var e={};a.data.forEach(function(t){if(!e[t.chatId]){e[t.chatId]=[]}e[t.chatId].push(t.id)});var r=function r(o){if(!e.hasOwnProperty(o))return"continue";n.initCollection(t,{chatId:o});if(t.saveMessageList[o].length>e[o].length||e[o].length<i.StorageLimit.messages){t.collection[o]=t.collection[o].filter(function(t){return e[o].includes(t.id)});t.saveMessageList[o]=t.saveMessageList[o].filter(function(t){return e[o].includes(t)})}var s=n.manageCacheBeforeSet(babelHelpers.toConsumableArray(t.saveMessageList[o].reverse()),e[o]);if(s.type===d.none){if(s.foundElements.length>0){t.collection[o]=t.collection[o].filter(function(e){return!s.foundElements.includes(e.id)});t.saveMessageList[o]=t.saveMessageList[o].filter(function(e){return!s.foundElements.includes(e)})}n.removeIntersectionCacheElements=t.collection[o].map(function(e){return e.id});clearTimeout(n.removeIntersectionCacheTimeout);n.removeIntersectionCacheTimeout=setTimeout(function(){t.collection[o]=t.collection[o].filter(function(e){return!n.removeIntersectionCacheElements.includes(e.id)});t.saveMessageList[o]=t.saveMessageList[o].filter(function(e){return!n.removeIntersectionCacheElements.includes(e)});n.removeIntersectionCacheElements=[]},1e3)}else{if(s.type===d.foundReverse){a.insertType=i.MutationType.setBefore;a.data=a.data.reverse()}}if(s.foundElements.length>0){if(s.type===d.found&&s.noneElements[0]){l.scrollStickToTop=false;l.scrollMessageId=s.foundElements[s.foundElements.length-1]}else{l.scrollStickToTop=false;l.scrollMessageId=0}}else if(s.type===d.none){l.scrollStickToTop=false;l.scrollMessageId=a.data[0].id}};for(var o in e){var s=r(o);if(s==="continue")continue}})()}l.appliedType=a.insertType;var c=s(a.data),u;try{var f=function e(){var s=u.value;n.initCollection(t,{chatId:s.chatId});var l=t.collection[s.chatId].findIndex(function(e){return e.id===s.id});if(l>-1){delete s.templateId;t.collection[s.chatId][l]=Object.assign(t.collection[s.chatId][l],s)}else if(a.insertType===i.MutationType.setBefore){t.collection[s.chatId].unshift(s)}else if(a.insertType===i.MutationType.setAfter){t.collection[s.chatId].push(s)}r.push(s.chatId);if(n.store.getters["dialogues/canSaveChat"]&&n.store.getters["dialogues/canSaveChat"](s.chatId)){o.push(s.chatId)}};for(c.s();!(u=c.n()).done;){f()}}catch(e){c.e(e)}finally{c.f()}r=babelHelpers.toConsumableArray(new Set(r));o=babelHelpers.toConsumableArray(new Set(o));if(l.initialType===i.MutationType.set){r.forEach(function(e){var i=0;var n=false;for(var a=0;a<t.collection[e].length;a++){var r=t.collection[e][a];if(r.id<i){n=true;break}i=r.id}if(n){t.collection[e].sort(function(e,t){return e.id-t.id})}})}r.forEach(function(e){n.setMutationType(t,babelHelpers.objectSpread({chatId:e},l))});if(l.initialType!==i.MutationType.setBefore){o.forEach(function(e){n.saveState(t,e)})}},update:function e(t,i){n.initCollection(t,{chatId:i.chatId});var a=-1;if(typeof i.index!=="undefined"&&t.collection[i.chatId][i.index]){a=i.index}else{a=t.collection[i.chatId].findIndex(function(e){return e.id===i.id})}if(a>=0){var r=t.saveMessageList[i.chatId].includes(t.collection[i.chatId][a].id)||i.fields.id&&!i.fields.id.toString().startsWith("temporary")&&t.collection[i.chatId][a].id.toString().startsWith("temporary");delete i.fields.templateId;t.collection[i.chatId][a]=Object.assign(t.collection[i.chatId][a],i.fields);if(r){n.saveState(t,i.chatId)}}},delete:function e(t,a){n.initCollection(t,{chatId:a.chatId});n.setMutationType(t,{chatId:a.chatId,initialType:i.MutationType.delete});t.collection[a.chatId]=t.collection[a.chatId].filter(function(e){return!a.elements.includes(e.id)});if(t.saveMessageList[a.chatId].length>0){var r=s(a.elements),o;try{for(r.s();!(o=r.n()).done;){var l=o.value;if(t.saveMessageList[a.chatId].includes(l)){n.saveState(t,a.chatId);break}}}catch(e){r.e(e)}finally{r.f()}}},clear:function e(t,i){n.initCollection(t,{chatId:i.chatId});n.setMutationType(t,{chatId:i.chatId,initialType:"clear"});t.collection[i.chatId]=[];t.saveMessageList[i.chatId]=[]},applyMutationType:function e(n,a){if(typeof n.mutationType[a.chatId]==="undefined"){t.Vue.set(n.mutationType,a.chatId,{applied:false,initialType:i.MutationType.none,appliedType:i.MutationType.none,scrollStickToTop:0,scrollMessageId:0})}n.mutationType[a.chatId].applied=true},readMessages:function e(t,i){n.initCollection(t,{chatId:i.chatId});var a=false;for(var r=t.collection[i.chatId].length-1;r>=0;r--){var o=t.collection[i.chatId][r];if(!o.unread)continue;if(i.readId===0||o.id<=i.readId){t.collection[i.chatId][r]=Object.assign(t.collection[i.chatId][r],{unread:false});a=true}}if(a){n.saveState(t,i.chatId)}},unreadMessages:function e(t,i){n.initCollection(t,{chatId:i.chatId});var a=false;for(var r=t.collection[i.chatId].length-1;r>=0;r--){var o=t.collection[i.chatId][r];if(o.unread)continue;if(o.id>=i.unreadId){t.collection[i.chatId][r]=Object.assign(t.collection[i.chatId][r],{unread:true});a=true}}if(a){n.saveState(t,i.chatId);n.updateSubordinateStates()}}}}},{key:"initCollection",value:function e(n,a){if(typeof a.chatId==="undefined"){return false}if(typeof a.chatId==="undefined"||typeof n.collection[a.chatId]!=="undefined"){return true}t.Vue.set(n.collection,a.chatId,a.messages?[].concat(a.messages):[]);t.Vue.set(n.mutationType,a.chatId,{applied:false,initialType:i.MutationType.none,appliedType:i.MutationType.none,scrollStickToTop:0,scrollMessageId:0});t.Vue.set(n.saveMessageList,a.chatId,[]);t.Vue.set(n.saveFileList,a.chatId,[]);t.Vue.set(n.saveUserList,a.chatId,[]);return true}},{key:"setMutationType",value:function e(n,a){var r={applied:false,initialType:i.MutationType.none,appliedType:i.MutationType.none,scrollStickToTop:false,scrollMessageId:0};if(a.initialType&&!a.appliedType){a.appliedType=a.initialType}if(typeof n.mutationType[a.chatId]==="undefined"){t.Vue.set(n.mutationType,a.chatId,r)}n.mutationType[a.chatId]=babelHelpers.objectSpread({},r,a);return true}},{key:"prepareMessage",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.validate(Object.assign({},t),i);n.params=Object.assign({},this.getElementState().params,n.params);n.templateId=n.id;return Object.assign({},this.getElementState(),n)}},{key:"manageCacheBeforeSet",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a={type:d.empty,foundElements:[],noneElements:[]};if(!t||t.length<=0){return a}var r=s(i),o;try{for(r.s();!(o=r.n()).done;){var l=o.value;if(t.includes(l)){if(a.type===d.empty){a.type=d.found}a.foundElements.push(l)}else{if(a.type===d.empty){a.type=d.none}a.noneElements.push(l)}}}catch(e){r.e(e)}finally{r.f()}if(a.type===d.found&&t.length===i.length&&a.foundElements.length===i.length){a.type=d.equal}else if(a.type===d.none&&!n&&a.foundElements.length>0){var c=this.manageCacheBeforeSet(t.reverse(),i.reverse(),true);if(c.type===d.found){c.type=d.foundReverse;return c}}return a}},{key:"updateSaveLists",value:function e(t,n){if(!this.isSaveAvailable()){return true}if(!n||!this.store.getters["dialogues/canSaveChat"]||!this.store.getters["dialogues/canSaveChat"](n)){return false}this.initCollection(t,{chatId:n});var a=0;var r=[];var o=[];var s=[];var l=this.store.getters["dialogues/getByChatId"](n);if(l&&l.type==="private"){s.push(parseInt(l.dialogId))}for(var c=t.collection[n].length-1;c>=0;c--){if(t.collection[n][c].id.toString().startsWith("temporary")){continue}if(a>=i.StorageLimit.messages&&!t.collection[n][c].unread){break}r.unshift(t.collection[n][c].id);a++}r=r.slice(0,i.StorageLimit.messages);t.collection[n].filter(function(e){return r.includes(e.id)}).forEach(function(e){if(e.authorId>0){s.push(e.authorId)}if(e.params.FILE_ID instanceof Array){o=e.params.FILE_ID.concat(o)}});t.saveMessageList[n]=r;t.saveFileList[n]=babelHelpers.toConsumableArray(new Set(o));t.saveUserList[n]=babelHelpers.toConsumableArray(new Set(s));return true}},{key:"getSaveTimeout",value:function e(){return 150}},{key:"saveState",value:function e(t,i){if(!this.updateSaveLists(t,i)){return false}babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"saveState",this).call(this,function(){var e={collection:{},saveMessageList:{},saveUserList:{},saveFileList:{}};var i=function i(n){if(!t.saveMessageList.hasOwnProperty(n)){return"continue"}if(!t.collection[n]){return"continue"}if(!e.collection[n]){e.collection[n]=[]}t.collection[n].filter(function(e){return t.saveMessageList[n].includes(e.id)}).forEach(function(t){return e.collection[n].push(t)});e.saveMessageList[n]=t.saveMessageList[n];e.saveFileList[n]=t.saveFileList[n];e.saveUserList[n]=t.saveUserList[n]};for(var n in t.saveMessageList){var a=i(n);if(a==="continue")continue}return e})}},{key:"updateSubordinateStates",value:function e(){this.store.dispatch("users/saveState");this.store.dispatch("files/saveState")}},{key:"validate",value:function e(t,i){var a={};if(typeof t.id==="number"){a.id=t.id}else if(typeof t.id==="string"){if(t.id.startsWith("temporary")){a.id=t.id}else{a.id=parseInt(t.id)}}if(typeof t.templateId==="number"){a.templateId=t.templateId}else if(typeof t.templateId==="string"){if(t.templateId.startsWith("temporary")){a.templateId=t.templateId}else{a.templateId=parseInt(t.templateId)}}if(typeof t.chat_id!=="undefined"){t.chatId=t.chat_id}if(typeof t.chatId==="number"||typeof t.chatId==="string"){a.chatId=parseInt(t.chatId)}if(typeof t.date!=="undefined"){a.date=n.Utils.date.cast(t.date)}if(typeof t.textOriginal==="string"||typeof t.textOriginal==="number"){a.text=t.textOriginal.toString();if(typeof t.text==="string"||typeof t.text==="number"){a.textConverted=this.convertToHtml({text:t.text.toString(),isConverted:true})}}else{if(typeof t.text_converted!=="undefined"){t.textConverted=t.text_converted}if(typeof t.textConverted==="string"||typeof t.textConverted==="number"){a.textConverted=t.textConverted.toString()}if(typeof t.text==="string"||typeof t.text==="number"){a.text=t.text.toString();var r=typeof a.textConverted!=="undefined";a.textConverted=this.convertToHtml({text:r?a.textConverted:a.text,isConverted:r})}}if(typeof t.senderId!=="undefined"){t.authorId=t.senderId}else if(typeof t.author_id!=="undefined"){t.authorId=t.author_id}if(typeof t.authorId==="number"||typeof t.authorId==="string"){if(t.system===true||t.system==="Y"){a.authorId=0}else{a.authorId=parseInt(t.authorId)}}if(babelHelpers.typeof(t.params)==="object"&&t.params!==null){var o=this.validateParams(t.params,i);if(o){a.params=o}}if(typeof t.push==="boolean"){a.push=t.push}if(typeof t.sending==="boolean"){a.sending=t.sending}if(typeof t.unread==="boolean"){a.unread=t.unread}if(typeof t.blink==="boolean"){a.blink=t.blink}if(typeof t.error==="boolean"||typeof t.error==="string"){a.error=t.error}if(typeof t.retry==="boolean"){a.retry=t.retry}return a}},{key:"validateParams",value:function e(t,i){var a={};try{for(var r in t){if(!t.hasOwnProperty(r)){continue}if(r==="COMPONENT_ID"){if(typeof t[r]==="string"&&BX.Vue.isComponent(t[r])){a[r]=t[r]}}else if(r==="LIKE"){if(t[r]instanceof Array){a["REACTION"]={like:t[r].map(function(e){return parseInt(e)})}}}else if(r==="CHAT_LAST_DATE"){a[r]=n.Utils.date.cast(t[r])}else if(r==="AVATAR"){if(t[r]){a[r]=t[r].startsWith("http")?t[r]:i.host+t[r]}}else if(r==="NAME"){if(t[r]){a[r]=t[r]}}else if(r==="ATTACH"){a[r]=this.decodeAttach(t[r])}else{a[r]=t[r]}}}catch(e){}var o=false;for(var s in a){if(!a.hasOwnProperty(s)){continue}o=true;break}return o?a:null}},{key:"convertToHtml",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=t.quote,n=i===void 0?true:i,a=t.image,r=a===void 0?true:a,o=t.text,s=o===void 0?"":o,l=t.highlightText,c=l===void 0?"":l,d=t.isConverted,u=d===void 0?false:d,f=t.enableBigSmile,p=f===void 0?true:f;s=s.trim();if(!u){s=s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}if(s.startsWith("/me")){s="<i>".concat(s.substr(4),"</i>")}else if(s.startsWith("/loud")){s="<b>".concat(s.substr(6),"</b>")}var h="&gt;&gt;";if(n&&s.indexOf(h)>=0){var g=s.split(u?"<br />":"\n");for(var m=0;m<g.length;m++){if(g[m].startsWith(h)){g[m]=g[m].replace(h,'<div class="bx-im-message-content-quote"><div class="bx-im-message-content-quote-wrap">');while(++m<g.length&&g[m].startsWith(h)){g[m]=g[m].replace(h,"")}g[m-1]+="</div></div><br>"}}s=g.join("<br />")}s=s.replace(/\n/gi,"<br />");s=s.replace(/\t/gi,"&nbsp;&nbsp;&nbsp;&nbsp;");s=this.decodeBbCode(s,false,p);if(n){s=s.replace(/------------------------------------------------------<br \/>(.*?)\[(.*?)\]<br \/>(.*?)------------------------------------------------------(<br \/>)?/g,function(e,t,i,n,a,r){return(r>0?"<br>":"")+'<div class="bx-im-message-content-quote"><div class="bx-im-message-content-quote-wrap"><div class="bx-im-message-content-quote-name"><span class="bx-im-message-content-quote-name-text">'+t+'</span><span class="bx-im-message-content-quote-name-time">'+i+"</span></div>"+n+"</div></div><br />"});s=s.replace(/------------------------------------------------------<br \/>(.*?)------------------------------------------------------(<br \/>)?/g,function(e,t,i,n,a){return(a>0?"<br>":"")+'<div class="bx-im-message-content-quote"><div class="bx-im-message-content-quote-wrap">'+t+"</div></div><br />"})}if(r){var y=false;s=s.replace(/<a(.*?)>(http[s]{0,1}:\/\/.*?)<\/a>/gi,function(e,t,i,n){if(!i.match(/(\.(jpg|jpeg|png|gif|webp)\?|\.(jpg|jpeg|png|gif|webp)$)/i)||i.indexOf("/docs/pub/")>0||i.indexOf("logout=yes")>0){return e}else{y=true;return(n>0?"<br />":"")+"<a"+t+' target="_blank" class="bx-im-element-file-image"><img src="'+i+'" class="bx-im-element-file-image-source-text" onerror="BX.Messenger.Model.MessagesModel.hideErrorImage(this)"></a></span>'}});if(y){s=s.replace(/<\/span>(\n?)<br(\s\/?)>/gi,"</span>").replace(/<br(\s\/?)>(\n?)<br(\s\/?)>(\n?)<span/gi,"<br /><span")}}if(c){s=s.replace(new RegExp("("+c.replace(/[\-\[\]\/{}()*+?.\\^$|]/g,"\\$&")+")","ig"),'<span class="bx-messenger-highlight">$1</span>')}if(p){s=s.replace(/^(\s*<img\s+src=[^>]+?data-code=[^>]+?data-definition="UHD"[^>]+?style="width:)(\d+)(px[^>]+?height:)(\d+)(px[^>]+?class="bx-smile"\s*\/?>\s*)$/,function e(t,i,n,a,r,o){return i+parseInt(n,10)*1.7+a+parseInt(r,10)*1.7+o})}if(s.substr(-6)=="<br />"){s=s.substr(0,s.length-6)}s=s.replace(/<br><br \/>/gi,"<br />");s=s.replace(/<br \/><br>/gi,"<br />");return s}},{key:"decodeBbCode",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return a.decodeBbCode({text:t,textOnly:i,enableBigSmile:n})}},{key:"decodeAttach",value:function e(t){var i=this;if(Array.isArray(t)){t.forEach(function(e){e=i.decodeAttach(e)})}else if(babelHelpers.typeof(t)==="object"&&t!==null){for(var a in t){if(t.hasOwnProperty(a)){t[a]=this.decodeAttach(t[a])}}}else{if(typeof t==="string"){t=n.Utils.text.htmlspecialcharsback(t)}}return t}}],[{key:"decodeBbCode",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=t.text,a=t.textOnly,r=a===void 0?false:a,o=t.enableBigSmile,s=o===void 0?true:o;var l=[];i=i.replace(/\[CODE\]\n?([\s\S]*?)\[\/CODE\]/gi,function(e,t){var i=l.length;l.push(t);return"####REPLACEMENT_MARK_"+i+"####"});i=i.replace(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,function(e,t,i){var a=document.createElement("a");a.href=n.Utils.text.htmlspecialcharsback(t);a.target="_blank";a.text=n.Utils.text.htmlspecialcharsback(i);var r=["http:","https:","ftp:","file:","tel:","callto:","mailto:","skype:","viber:"];if(r.indexOf(a.protocol)<=-1){return e}return a.outerHTML});i=i.replace(/\[url\]([^\]]+)\[\/url\]/gi,function(e,t){t=n.Utils.text.htmlspecialcharsback(t);var i=document.createElement("a");i.href=t;i.target="_blank";i.text=t;var a=["http:","https:","ftp:","file:","tel:","callto:","mailto:","skype:","viber:"];if(a.indexOf(i.protocol)<=-1){return e}return i.outerHTML});i=i.replace(/\[LIKE\]/gi,'<span class="bx-smile bx-im-smile-like"></span>');i=i.replace(/\[DISLIKE\]/gi,'<span class="bx-smile bx-im-smile-dislike"></span>');i=i.replace(/\[BR\]/gi,"<br/>");i=i.replace(/\[([buis])\](.*?)\[(\/[buis])\]/gi,function(e,t,i,n){return"<"+t+">"+i+"<"+n+">"});i=i.replace(/\[CHAT=(imol\|)?([0-9]{1,})\](.*?)\[\/CHAT\]/gi,function(e,t,i,n){return t?n:'<span class="bx-im-mention" data-type="CHAT" data-value="chat'+i+'">'+n+"</span>"});i=i.replace(/\[CALL(?:=(.+?))?\](.+?)?\[\/CALL\]/gi,function(e,t,i){return'<span class="bx-im-mention" data-type="CALL" data-value="'+n.Utils.text.htmlspecialchars(t)+'">'+i+"</span>"});i=i.replace(/\[PCH=([0-9]{1,})\](.*?)\[\/PCH\]/gi,function(e,t,i){return i});i=i.replace(/\[SEND(?:=(.+?))?\](.+?)?\[\/SEND\]/gi,function(e,t,i){var n="";i=i?i:t;t=(t?t:i).replace("<br />","\n");if(!r&&i){i=i.replace(/<([\w]+)[^>]*>(.*?)<\\1>/i,"$2",i);i=i.replace(/\[([\w]+)[^\]]*\](.*?)\[\/\1\]/i,"$2",i);n='<span class="bx-im-message-command-wrap">'+'<span class="bx-im-message-command" data-entity="send">'+i+"</span>"+'<span class="bx-im-message-command-data">'+t+"</span>"+"</span>"}else{n=i}return n});i=i.replace(/\[PUT(?:=(.+?))?\](.+?)?\[\/PUT\]/gi,function(e,t,i){var n="";i=i?i:t;t=(t?t:i).replace("<br />","\n");if(!r&&i){i=i.replace(/<([\w]+)[^>]*>(.*?)<\/\1>/i,"$2",i);i=i.replace(/\[([\w]+)[^\]]*\](.*?)\[\/\1\]/i,"$2",i);n='<span class="bx-im-message-command" data-entity="put">'+i+"</span>";n+='<span class="bx-im-message-command-data">'+t+"</span>"}else{n=i}return n});var c=0;if(s){c=i.replace(/\[icon\=([^\]]*)\]/gi,"").trim().length}i=i.replace(/\[icon\=([^\]]*)\]/gi,function(e){var t=e.match(/icon\=(\S+[^\s.,> )\];\'\"!?])/i);if(t&&t[1]){t=t[1]}else{return""}var i={src:t,border:0};var a=e.match(/size\=(\d+)/i);if(a&&a[1]){i["width"]=a[1];i["height"]=a[1]}else{var r=e.match(/width\=(\d+)/i);if(r&&r[1]){i["width"]=r[1]}var o=e.match(/height\=(\d+)/i);if(o&&o[1]){i["height"]=o[1]}if(i["width"]&&!i["height"]){i["height"]=i["width"]}else if(i["height"]&&!i["width"]){i["width"]=i["height"]}else if(i["height"]&&i["width"]);else{i["width"]=20;i["height"]=20}}i["width"]=i["width"]>100?100:i["width"];i["height"]=i["height"]>100?100:i["height"];if(s&&c===0&&i["width"]===i["height"]&&i["width"]===20){i["width"]=40;i["height"]=40}var l=e.match(/title\=(.*[^\s\]])/i);if(l&&l[1]){l=l[1];if(l.indexOf("width=")>-1){l=l.substr(0,l.indexOf("width="))}if(l.indexOf("height=")>-1){l=l.substr(0,l.indexOf("height="))}if(l.indexOf("size=")>-1){l=l.substr(0,l.indexOf("size="))}if(l){i["title"]=n.Utils.text.htmlspecialchars(l).trim();i["alt"]=i["title"]}}var d="";for(var u in i){if(i.hasOwnProperty(u)){d+=u+'="'+i[u]+'" '}}return'<img class="bx-smile bx-icon" '+d+">"});l.forEach(function(e,t){i=i.replace("####REPLACEMENT_MARK_"+t+"####",!r?'<div class="bx-im-message-content-code">'+e+"</div>":e)});return i}},{key:"hideErrorImage",value:function e(t){if(t.parentNode&&t.parentNode){t.parentNode.innerHTML='<a href="'+t.src+'" target="_blank">'+t.src+"</a>"}return true}}]);return a}(a.VuexBuilderModel);function f(e,t){var i;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(i=p(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var n=0;var a=function e(){};return{s:a,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,o=false,s;return{s:function t(){i=e[Symbol.iterator]()},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!r&&i.return!=null)i.return()}finally{if(o)throw s}}}}function p(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(e,t)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,n=new Array(t);i<t;i++){n[i]=e[i]}return n}var g=function(e){babelHelpers.inherits(a,e);function a(){babelHelpers.classCallCheck(this,a);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).apply(this,arguments))}babelHelpers.createClass(a,[{key:"getName",value:function e(){return"dialogues"}},{key:"getState",value:function e(){return{host:this.getVariable("host",location.protocol+"//"+location.host),collection:{},saveDialogList:[],saveChatList:[]}}},{key:"getStateSaveException",value:function e(){return{host:null}}},{key:"getElementStateSaveException",value:function e(){return{writingList:null,quoteId:null}}},{key:"getElementState",value:function e(){return{dialogId:"0",chatId:0,counter:0,userCounter:0,unreadId:0,unreadLastId:0,managerList:[],readedList:[],writingList:[],textareaMessage:"",quoteId:0,editId:0,init:false,name:"",owner:0,extranet:false,avatar:"",color:"#17A3EA",type:"chat",entityType:"",entityId:"",entityData1:"",entityData2:"",entityData3:"",dateCreate:new Date,restrictions:{avatar:true,extend:true,leave:true,leaveOwner:true,rename:true},public:{code:"",link:""}}}},{key:"getGetters",value:function e(){var t=this;return{get:function e(t){return function(e){if(!t.collection[e]){return null}return t.collection[e]}},getByChatId:function e(t){return function(e){e=parseInt(e);for(var i in t.collection){if(!t.collection.hasOwnProperty(i)){continue}if(t.collection[i].chatId===e){return t.collection[i]}}return null}},getBlank:function e(i){return function(e){return t.getElementState()}},getQuoteId:function e(t){return function(e){if(!t.collection[e]){return 0}return t.collection[e].quoteId}},getEditId:function e(t){return function(e){if(!t.collection[e]){return 0}return t.collection[e].editId}},canSaveChat:function e(t){return function(e){if(/^\d+$/.test(e)){e=parseInt(e)}return t.saveChatList.includes(parseInt(e))}},canSaveDialog:function e(t){return function(e){return t.saveDialogList.includes(e.toString())}},isPrivateDialog:function e(t){return function(e){e=e.toString();return t.collection[e.toString()]&&t.collection[e].type==="private"}}}}},{key:"getActions",value:function e(){var t=this;return{set:function e(i,n){if(n instanceof Array){n=n.map(function(e){return Object.assign({},t.validate(Object.assign({},e),{host:i.state.host}),{init:true})})}else{var a=[];a.push(Object.assign({},t.validate(Object.assign({},n),{host:i.state.host}),{init:true}));n=a}i.commit("set",n)},update:function e(i,n){if(typeof i.state.collection[n.dialogId]==="undefined"||i.state.collection[n.dialogId].init===false){return true}i.commit("update",{dialogId:n.dialogId,fields:t.validate(Object.assign({},n.fields),{host:i.state.host})});return true},delete:function e(t,i){t.commit("delete",i.dialogId);return true},updateWriting:function e(i,n){if(typeof i.state.collection[n.dialogId]==="undefined"||i.state.collection[n.dialogId].init===false){return true}var a=i.state.collection[n.dialogId].writingList.findIndex(function(e){return e.userId===n.userId});if(n.action){if(a>=0){return true}else{var r=[].concat(i.state.collection[n.dialogId].writingList);r.unshift({userId:n.userId,userName:n.userName});i.commit("update",{actionName:"updateWriting/1",dialogId:n.dialogId,fields:t.validate({writingList:r},{host:i.state.host})})}}else{if(a>=0){var o=i.state.collection[n.dialogId].writingList.filter(function(e){return e.userId!==n.userId});i.commit("update",{actionName:"updateWriting/2",dialogId:n.dialogId,fields:t.validate({writingList:o},{host:i.state.host})});return true}else{return true}}return false},updateReaded:function e(i,n){if(typeof i.state.collection[n.dialogId]==="undefined"||i.state.collection[n.dialogId].init===false){return true}var a=i.state.collection[n.dialogId].readedList.filter(function(e){return e.userId!==n.userId});if(n.action){a.push({userId:n.userId,userName:n.userName||"",messageId:n.messageId,date:n.date||new Date})}i.commit("update",{actionName:"updateReaded",dialogId:n.dialogId,fields:t.validate({readedList:a},{host:i.state.host})});return false},increaseCounter:function e(t,i){if(typeof t.state.collection[i.dialogId]==="undefined"||t.state.collection[i.dialogId].init===false){return true}var n=t.state.collection[i.dialogId].counter;if(n===100){return true}var a=n+i.count;if(a>100){a=100}var r={counter:a};if(typeof i.unreadLastId!=="undefined"){r.unreadLastId=i.unreadLastId}t.commit("update",{actionName:"increaseCounter",dialogId:i.dialogId,fields:r});return false},decreaseCounter:function e(t,i){if(typeof t.state.collection[i.dialogId]==="undefined"||t.state.collection[i.dialogId].init===false){return true}var n=t.state.collection[i.dialogId].counter;if(n===100){return true}var a=n-i.count;if(a<0){a=0}var r=i.unreadId>t.state.collection[i.dialogId].unreadId?i.unreadId:t.state.collection[i.dialogId].unreadId;if(t.state.collection[i.dialogId].unreadId!==r||t.state.collection[i.dialogId].counter!==a){if(a===0){r=0}t.commit("update",{actionName:"decreaseCounter",dialogId:i.dialogId,fields:{counter:a,unreadId:r}})}return false},saveDialog:function e(t,i){if(typeof t.state.collection[i.dialogId]==="undefined"||t.state.collection[i.dialogId].init===false){return true}t.commit("saveDialog",{dialogId:i.dialogId,chatId:i.chatId});return false}}}},{key:"getMutations",value:function e(){var t=this;return{initCollection:function e(i,n){t.initCollection(i,n)},saveDialog:function e(n,a){if(!(a.chatId>0&&a.dialogId.length>0)){return false}var r=n.saveDialogList.filter(function(e){return e!==a.dialogId});r.unshift(a.dialogId);r=r.slice(0,i.StorageLimit.dialogues);if(n.saveDialogList.join(",")===r.join(",")){return true}n.saveDialogList=r;var o=n.saveChatList.filter(function(e){return e!==a.chatId});o.unshift(a.chatId);n.saveChatList=o.slice(0,i.StorageLimit.dialogues);t.saveState(n)},set:function e(i,n){var a=f(n),r;try{for(a.s();!(r=a.n()).done;){var o=r.value;t.initCollection(i,{dialogId:o.dialogId});i.collection[o.dialogId]=Object.assign(t.getElementState(),i.collection[o.dialogId],o)}}catch(e){a.e(e)}finally{a.f()}t.saveState(i)},update:function e(i,n){t.initCollection(i,n);i.collection[n.dialogId]=Object.assign(i.collection[n.dialogId],n.fields);t.saveState(i)},delete:function e(i,n){delete i.collection[n.dialogId];t.saveState(i)}}}},{key:"initCollection",value:function e(i,n){if(typeof i.collection[n.dialogId]!=="undefined"){return true}t.Vue.set(i.collection,n.dialogId,this.getElementState());if(n.fields){i.collection[n.dialogId]=Object.assign(i.collection[n.dialogId],this.validate(Object.assign({},n.fields),{host:i.host}))}return true}},{key:"getSaveTimeout",value:function e(){return 100}},{key:"saveState",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!this.isSaveAvailable()){return true}babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"saveState",this).call(this,function(){var e={collection:{},saveDialogList:[].concat(i.saveDialogList),saveChatList:[].concat(i.saveChatList)};i.saveDialogList.forEach(function(n){if(!i.collection[n])return false;e.collection[n]=Object.assign(t.getElementState(),t.cloneState(i.collection[n],t.getElementStateSaveException()))});return e})}},{key:"validate",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a={};i.host=i.host||this.getState().host;if(typeof t.dialog_id!=="undefined"){t.dialogId=t.dialog_id}if(typeof t.dialogId==="number"||typeof t.dialogId==="string"){a.dialogId=t.dialogId.toString()}if(typeof t.chat_id!=="undefined"){t.chatId=t.chat_id}else if(typeof t.id!=="undefined"){t.chatId=t.id}if(typeof t.chatId==="number"||typeof t.chatId==="string"){a.chatId=parseInt(t.chatId)}if(typeof t.quoteId==="number"){a.quoteId=parseInt(t.quoteId)}if(typeof t.editId==="number"){a.editId=parseInt(t.editId)}if(typeof t.counter==="number"||typeof t.counter==="string"){a.counter=parseInt(t.counter)}if(typeof t.user_counter==="number"||typeof t.user_counter==="string"){a.userCounter=parseInt(t.user_counter)}if(typeof t.userCounter==="number"||typeof t.userCounter==="string"){a.userCounter=parseInt(t.userCounter)}if(typeof t.unread_id!=="undefined"){t.unreadId=t.unread_id}if(typeof t.unreadId==="number"||typeof t.unreadId==="string"){a.unreadId=parseInt(t.unreadId)}if(typeof t.unread_last_id!=="undefined"){t.unreadLastId=t.unread_last_id}if(typeof t.unreadLastId==="number"||typeof t.unreadLastId==="string"){a.unreadLastId=parseInt(t.unreadLastId)}if(typeof t.readed_list!=="undefined"){t.readedList=t.readed_list}if(typeof t.readedList!=="undefined"){a.readedList=[];if(t.readedList instanceof Array){t.readedList.forEach(function(e){var t={};if(typeof e.user_id!=="undefined"){e.userId=e.user_id}if(typeof e.user_name!=="undefined"){e.userName=e.user_name}if(typeof e.message_id!=="undefined"){e.messageId=e.message_id}if(!e.userId||!e.userName||!e.messageId){return false}t.userId=parseInt(e.userId);t.userName=e.userName.toString();t.messageId=parseInt(e.messageId);t.date=n.Utils.date.cast(e.date);a.readedList.push(t)})}}if(typeof t.writing_list!=="undefined"){t.writingList=t.writing_list}if(typeof t.writingList!=="undefined"){a.writingList=[];if(t.writingList instanceof Array){t.writingList.forEach(function(e){var t={};if(!e.userId){return false}t.userId=parseInt(e.userId);t.userName=n.Utils.text.htmlspecialcharsback(e.userName);a.writingList.push(t)})}}if(typeof t.manager_list!=="undefined"){t.managerList=t.manager_list}if(typeof t.managerList!=="undefined"){a.managerList=[];if(t.managerList instanceof Array){t.managerList.forEach(function(e){e=parseInt(e);if(e>0){a.managerList.push(e)}})}}if(typeof t.mute_list!=="undefined"){t.muteList=t.mute_list}if(typeof t.muteList!=="undefined"){a.muteList=[];if(t.muteList instanceof Array){t.muteList.forEach(function(e){e=parseInt(e);if(e>0){a.muteList.push(e)}})}}if(typeof t.textareaMessage!=="undefined"){a.textareaMessage=t.textareaMessage.toString()}if(typeof t.title!=="undefined"){t.name=t.title}if(typeof t.name==="string"||typeof t.name==="number"){a.name=n.Utils.text.htmlspecialcharsback(t.name.toString())}if(typeof t.owner!=="undefined"){t.ownerId=t.owner}if(typeof t.ownerId==="number"||typeof t.ownerId==="string"){a.ownerId=parseInt(t.ownerId)}if(typeof t.extranet==="boolean"){a.extranet=t.extranet}if(typeof t.avatar==="string"){var r;if(!t.avatar||t.avatar.endsWith("/js/im/images/blank.gif")){r=""}else if(t.avatar.startsWith("http")){r=t.avatar}else{r=i.host+t.avatar}if(r){a.avatar=encodeURI(r)}}if(typeof t.color==="string"){a.color=t.color.toString()}if(typeof t.type==="string"){a.type=t.type.toString()}if(typeof t.entity_type!=="undefined"){t.entityType=t.entity_type}if(typeof t.entityType==="string"){a.entityType=t.entityType.toString()}if(typeof t.entity_id!=="undefined"){t.entityId=t.entity_id}if(typeof t.entityId==="string"||typeof t.entityId==="number"){a.entityId=t.entityId.toString()}if(typeof t.entity_data_1!=="undefined"){t.entityData1=t.entity_data_1}if(typeof t.entityData1==="string"){a.entityData1=t.entityData1.toString()}if(typeof t.entity_data_2!=="undefined"){t.entityData2=t.entity_data_2}if(typeof t.entityData2==="string"){a.entityData2=t.entityData2.toString()}if(typeof t.entity_data_3!=="undefined"){t.entityData3=t.entity_data_3}if(typeof t.entityData3==="string"){a.entityData3=t.entityData3.toString()}if(typeof t.date_create!=="undefined"){t.dateCreate=t.date_create}if(typeof t.dateCreate!=="undefined"){a.dateCreate=n.Utils.date.cast(t.dateCreate)}if(typeof t.dateLastOpen!=="undefined"){a.dateLastOpen=n.Utils.date.cast(t.dateLastOpen)}if(babelHelpers.typeof(t.restrictions)==="object"&&t.restrictions){a.restrictions={};if(typeof t.restrictions.AVATAR==="boolean"){a.restrictions.avatar=t.restrictions.AVATAR}if(typeof t.restrictions.EXTEND==="boolean"){a.restrictions.extend=t.restrictions.EXTEND}if(typeof t.restrictions.LEAVE==="boolean"){a.restrictions.leave=t.restrictions.LEAVE}if(typeof t.restrictions.LEAVE_OWNER==="boolean"){a.restrictions.leaveOwner=t.restrictions.LEAVE_OWNER}if(typeof t.restrictions.RENAME==="boolean"){a.restrictions.rename=t.restrictions.RENAME}}if(babelHelpers.typeof(t.public)==="object"&&t.public){a.public={};if(typeof t.public.code==="string"){a.public.code=t.public.code}if(typeof t.public.link==="string"){a.public.link=t.public.link}}return a}}]);return a}(a.VuexBuilderModel);function m(e,t){var i;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(i=y(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var n=0;var a=function e(){};return{s:a,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,o=false,s;return{s:function t(){i=e[Symbol.iterator]()},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!r&&i.return!=null)i.return()}finally{if(o)throw s}}}}function y(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,n=new Array(t);i<t;i++){n[i]=e[i]}return n}var b=function(e){babelHelpers.inherits(i,e);function i(){babelHelpers.classCallCheck(this,i);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).apply(this,arguments))}babelHelpers.createClass(i,[{key:"getName",value:function e(){return"users"}},{key:"getState",value:function e(){this.startOnlineCheckInterval();return{host:this.getVariable("host",location.protocol+"//"+location.host),collection:{},onlineList:[],mobileOnlineList:[],absentList:[]}}},{key:"getElementState",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=t.id,n=i===void 0?0:i,a=t.name,r=a===void 0?this.getVariable("default.name",""):a,o=t.firstName,s=o===void 0?this.getVariable("default.name",""):o,l=t.lastName,c=l===void 0?"":l;return{id:n,name:r,firstName:s,lastName:c,workPosition:"",color:"#048bd0",avatar:"",gender:"M",birthday:false,isBirthday:false,extranet:false,network:false,bot:false,connector:false,externalAuthId:"default",status:"online",idle:false,lastActivityDate:false,mobileLastDate:false,isOnline:false,isMobileOnline:false,absent:false,isAbsent:false,departments:[],phones:{workPhone:"",personalMobile:"",personalPhone:"",innerPhone:""},init:false}}},{key:"getGetters",value:function e(){var t=this;return{get:function e(i){return function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;e=parseInt(e);if(e<=0){if(n){e=0}else{return null}}if(!n&&(!i.collection[e]||!i.collection[e].init)){return null}if(!i.collection[e]){return t.getElementState({id:e})}return i.collection[e]}},getBlank:function e(i){return function(e){return t.getElementState(e)}}}}},{key:"getActions",value:function e(){var t=this;return{set:function e(i,n){if(n instanceof Array){n=n.map(function(e){return Object.assign({},t.getElementState(),t.validate(Object.assign({},e),{host:i.state.host}),{init:true})})}else{var a=[];a.push(Object.assign({},t.getElementState(),t.validate(Object.assign({},n),{host:i.state.host}),{init:true}));n=a}i.commit("set",n)},update:function e(i,n){n.id=parseInt(n.id);if(typeof i.state.collection[n.id]==="undefined"||i.state.collection[n.id].init===false){return true}i.commit("update",{id:n.id,fields:t.validate(Object.assign({},n.fields),{host:i.state.host})});return true},delete:function e(t,i){t.commit("delete",i.id);return true},saveState:function e(t,i){t.commit("saveState",{});return true}}}},{key:"getMutations",value:function e(){var t=this;return{set:function e(i,a){var r=m(a),o;try{var s=function e(){var a=o.value;t.initCollection(i,{id:a.id});i.collection[a.id]=a;var r=n.Utils.user.getOnlineStatus(a);if(r.isOnline){i.collection[a.id].isOnline=true;t.addToOnlineList(i,a.id)}var s=n.Utils.user.isMobileActive(a);if(s){i.collection[a.id].isMobileOnline=true;t.addToMobileOnlineList(i,a.id)}if(a.birthday){var l=n.Utils.date.format(new Date,"d-m");if(a.birthday===l){i.collection[a.id].isBirthday=true;var c=t.getTimeToNextMidnight();setTimeout(function(){i.collection[a.id].isBirthday=false},c)}}if(a.absent){a.isAbsent=true;if(!i.absentList.includes(a.id)){t.addToAbsentList(i,a.id);var d=t.getTimeToNextMidnight();var u=1e3*60*60*24;setTimeout(function(){setInterval(function(){return t.startAbsentCheckInterval(i)},u)},d)}}t.saveState(i)};for(r.s();!(o=r.n()).done;){s()}}catch(e){r.e(e)}finally{r.f()}},update:function e(i,a){t.initCollection(i,a);if(typeof a.fields.lastActivityDate!=="undefined"&&i.collection[a.id].lastActivityDate){var r=i.collection[a.id].lastActivityDate.getTime();var o=a.fields.lastActivityDate.getTime();if(o>r){var s=n.Utils.user.getOnlineStatus(a.fields);if(s.isOnline){i.collection[a.id].isOnline=true;t.addToOnlineList(i,a.fields.id)}}}if(typeof a.fields.mobileLastDate!=="undefined"&&i.collection[a.id].mobileLastDate!==a.fields.mobileLastDate){var l=n.Utils.user.isMobileActive(a.fields);if(l){i.collection[a.id].isMobileOnline=true;t.addToMobileOnlineList(i,a.fields.id)}}i.collection[a.id]=Object.assign(i.collection[a.id],a.fields);t.saveState(i)},delete:function e(i,n){delete i.collection[n.id];t.saveState(i)},saveState:function e(i,n){t.saveState(i)}}}},{key:"initCollection",value:function e(i,n){if(typeof i.collection[n.id]!=="undefined"){return true}t.Vue.set(i.collection,n.id,this.getElementState());return true}},{key:"getSaveUserList",value:function e(){if(!this.db){return[]}if(!this.store.getters["messages/getSaveUserList"]){return[]}var t=this.store.getters["messages/getSaveUserList"]();if(!t){return[]}return t}},{key:"getSaveTimeout",value:function e(){return 250}},{key:"saveState",value:function e(t){var n=this;if(!this.isSaveAvailable()){return false}babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"saveState",this).call(this,function(){var e=n.getSaveUserList();if(!e){return false}var i={collection:{}};var a={absent:true,idle:true,mobileLastDate:true,lastActivityDate:true};for(var r in e){if(!e.hasOwnProperty(r)){continue}e[r].forEach(function(e){if(!t.collection[e]){return false}i.collection[e]=n.cloneState(t.collection[e],a)})}return i})}},{key:"validate",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a={};i.host=i.host||this.getState().host;if(typeof t.id==="number"||typeof t.id==="string"){a.id=parseInt(t.id)}if(typeof t.first_name!=="undefined"){t.firstName=n.Utils.text.htmlspecialcharsback(t.first_name)}if(typeof t.last_name!=="undefined"){t.lastName=n.Utils.text.htmlspecialcharsback(t.last_name)}if(typeof t.name==="string"||typeof t.name==="number"){t.name=n.Utils.text.htmlspecialcharsback(t.name.toString());a.name=t.name;if(typeof t.firstName==="undefined"||typeof t.firstName!=="undefined"&&!t.firstName){var r=t.name.split(" ");if(r.length>1){delete r[r.length-1];t.firstName=r.join(" ").trim()}else{t.firstName=a.name}}if(typeof t.lastName==="undefined"||typeof t.lastName!=="undefined"&&!t.lastName){var o=t.name.split(" ");if(o.length>1){t.lastName=o[o.length-1]}else{t.lastName=""}}}if(typeof t.firstName==="string"||typeof t.firstName==="number"){a.firstName=n.Utils.text.htmlspecialcharsback(t.firstName.toString())}if(typeof t.lastName==="string"||typeof t.lastName==="number"){a.lastName=n.Utils.text.htmlspecialcharsback(t.lastName.toString())}if(typeof t.work_position!=="undefined"){t.workPosition=t.work_position}if(typeof t.workPosition==="string"||typeof t.workPosition==="number"){a.workPosition=t.workPosition.toString()}if(typeof t.color==="string"){a.color=t.color}if(typeof t.avatar==="string"){var s;if(!t.avatar||t.avatar.endsWith("/js/im/images/blank.gif")){s=""}else if(t.avatar.startsWith("http")){s=t.avatar}else{s=i.host+t.avatar}if(s){a.avatar=encodeURI(s)}}if(typeof t.gender!=="undefined"){a.gender=t.gender==="F"?"F":"M"}if(typeof t.birthday==="string"){a.birthday=t.birthday}if(typeof t.extranet==="boolean"){a.extranet=t.extranet}if(typeof t.network==="boolean"){a.network=t.network}if(typeof t.bot==="boolean"){a.bot=t.bot}if(typeof t.connector==="boolean"){a.connector=t.connector}if(typeof t.external_auth_id!=="undefined"){t.externalAuthId=t.external_auth_id}if(typeof t.externalAuthId==="string"&&t.externalAuthId){a.externalAuthId=t.externalAuthId}if(typeof t.status==="string"){a.status=t.status}if(typeof t.idle!=="undefined"){a.idle=n.Utils.date.cast(t.idle,false)}if(typeof t.last_activity_date!=="undefined"){t.lastActivityDate=t.last_activity_date}if(typeof t.lastActivityDate!=="undefined"){a.lastActivityDate=n.Utils.date.cast(t.lastActivityDate,false)}if(typeof t.mobile_last_date!=="undefined"){t.mobileLastDate=t.mobile_last_date}if(typeof t.mobileLastDate!=="undefined"){a.mobileLastDate=n.Utils.date.cast(t.mobileLastDate,false)}if(typeof t.absent!=="undefined"){a.absent=n.Utils.date.cast(t.absent,false)}if(typeof t.departments!=="undefined"){a.departments=[];if(t.departments instanceof Array){t.departments.forEach(function(e){e=parseInt(e);if(e>0){a.departments.push(e)}})}}if(babelHelpers.typeof(t.phones)==="object"&&t.phones){a.phones={};if(typeof t.phones.work_phone!=="undefined"){t.phones.workPhone=t.phones.work_phone}if(typeof t.phones.workPhone==="string"||typeof t.phones.workPhone==="number"){a.phones.workPhone=t.phones.workPhone.toString()}if(typeof t.phones.personal_mobile!=="undefined"){t.phones.personalMobile=t.phones.personal_mobile}if(typeof t.phones.personalMobile==="string"||typeof t.phones.personalMobile==="number"){a.phones.personalMobile=t.phones.personalMobile.toString()}if(typeof t.phones.personal_phone!=="undefined"){t.phones.personalPhone=t.phones.personal_phone}if(typeof t.phones.personalPhone==="string"||typeof t.phones.personalPhone==="number"){a.phones.personalPhone=t.phones.personalPhone.toString()}if(typeof t.phones.inner_phone!=="undefined"){t.phones.innerPhone=t.phones.inner_phone}if(typeof t.phones.innerPhone==="string"||typeof t.phones.innerPhone==="number"){a.phones.innerPhone=t.phones.innerPhone.toString()}}return a}},{key:"addToOnlineList",value:function e(t,i){if(!t.onlineList.includes(i)){t.onlineList.push(i)}}},{key:"addToMobileOnlineList",value:function e(t,i){if(!t.mobileOnlineList.includes(i)){t.mobileOnlineList.push(i)}}},{key:"addToAbsentList",value:function e(t,i){if(!t.absentList.includes(i)){t.absentList.push(i)}}},{key:"getTimeToNextMidnight",value:function e(){var t=new Date((new Date).setHours(24,0,0)).getTime();return t-new Date}},{key:"startAbsentCheckInterval",value:function e(t){var i=m(t.absentList),n;try{var a=function e(){var i=n.value;var a=t.collection[i];if(!a){return"continue"}var r=(new Date).getTime();var o=new Date(t.collection[i].absent).getTime();if(o<=r){t.absentList=t.absentList.filter(function(e){return e!==i});a.isAbsent=false}};for(i.s();!(n=i.n()).done;){var r=a();if(r==="continue")continue}}catch(e){i.e(e)}finally{i.f()}}},{key:"startOnlineCheckInterval",value:function e(){var t=this;var i=6e4;setInterval(function(){var e=m(t.store.state.users.onlineList),i;try{var a=function e(){var a=i.value;var r=t.store.state.users.collection[a];if(!r){return"continue"}var o=n.Utils.user.getOnlineStatus(r);if(o.isOnline){r.isOnline=true}else{r.isOnline=false;t.store.state.users.onlineList=t.store.state.users.onlineList.filter(function(e){return e!==a})}};for(e.s();!(i=e.n()).done;){var r=a();if(r==="continue")continue}}catch(t){e.e(t)}finally{e.f()}var o=m(t.store.state.users.mobileOnlineList),s;try{var l=function e(){var i=s.value;var a=t.store.state.users.collection[i];if(!a){return"continue"}var r=n.Utils.user.isMobileActive(a);if(r){a.isMobileOnline=true}else{a.isMobileOnline=false;t.store.state.users.mobileOnlineList=t.store.state.users.mobileOnlineList.filter(function(e){return e!==i})}};for(o.s();!(s=o.n()).done;){var c=l();if(c==="continue")continue}}catch(e){o.e(e)}finally{o.f()}},i)}}]);return i}(a.VuexBuilderModel);function I(e,t){var i;if(typeof Symbol==="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(i=S(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var n=0;var a=function e(){};return{s:a,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,o=false,s;return{s:function t(){i=e[Symbol.iterator]()},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!r&&i.return!=null)i.return()}finally{if(o)throw s}}}}function S(e,t){if(!e)return;if(typeof e==="string")return x(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return x(e,t)}function x(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,n=new Array(t);i<t;i++){n[i]=e[i]}return n}var k=function(e){babelHelpers.inherits(a,e);function a(){babelHelpers.classCallCheck(this,a);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).apply(this,arguments))}babelHelpers.createClass(a,[{key:"getName",value:function e(){return"files"}},{key:"getState",value:function e(){return{created:0,host:this.getVariable("host",location.protocol+"//"+location.host),collection:{},index:{}}}},{key:"getElementState",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=t.id,a=n===void 0?0:n,r=t.chatId,o=r===void 0?0:r,s=t.name,l=s===void 0?this.getVariable("default.name",""):s;return{id:a,chatId:o,name:l,templateId:a,date:new Date,type:"file",extension:"",icon:"empty",size:0,image:false,status:i.FileStatus.done,progress:100,authorId:0,authorName:"",urlPreview:"",urlShow:"",urlDownload:"",init:false,viewerAttrs:{}}}},{key:"getGetters",value:function e(){var t=this;return{get:function e(t){return function(e,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!e||!i){return null}if(!t.index[e]||!t.index[e][i]){return null}if(!n&&!t.index[e][i].init){return null}return t.index[e][i]}},getList:function e(t){return function(e){if(!t.index[e]){return null}return t.index[e]}},getBlank:function e(i){return function(e){return t.getElementState(e)}}}}},{key:"getActions",value:function e(){var t=this;return{add:function e(i,n){var a=t.validate(Object.assign({},n),{host:i.state.host});a.id="temporary"+(new Date).getTime()+i.state.created;a.templateId=a.id;a.init=true;i.commit("add",Object.assign({},t.getElementState(),a));return a.id},set:function e(n,a){if(a instanceof Array){a=a.map(function(e){var i=t.validate(Object.assign({},e),{host:n.state.host});i.templateId=i.id;return Object.assign({},t.getElementState(),i,{init:true})})}else{var r=t.validate(Object.assign({},a),{host:n.state.host});r.templateId=r.id;a=[];a.push(Object.assign({},t.getElementState(),r,{init:true}))}n.commit("set",{insertType:i.MutationType.setAfter,data:a})},setBefore:function e(n,a){if(a instanceof Array){a=a.map(function(e){var i=t.validate(Object.assign({},e),{host:n.state.host});i.templateId=i.id;return Object.assign({},t.getElementState(),i,{init:true})})}else{var r=t.validate(Object.assign({},a),{host:n.state.host});r.templateId=r.id;a=[];a.push(Object.assign({},t.getElementState(),r,{init:true}))}n.commit("set",{actionName:"setBefore",insertType:i.MutationType.setBefore,data:a})},update:function e(i,n){var a=t.validate(Object.assign({},n.fields),{host:i.state.host});i.commit("initCollection",{chatId:n.chatId});var r=i.state.collection[n.chatId].findIndex(function(e){return e.id===n.id});if(r<0){return false}i.commit("update",{id:n.id,chatId:n.chatId,index:r,fields:a});if(n.fields.blink){setTimeout(function(){i.commit("update",{id:n.id,chatId:n.chatId,fields:{blink:false}})},1e3)}return true},delete:function e(t,i){t.commit("delete",{id:i.id,chatId:i.chatId});return true},saveState:function e(t,i){t.commit("saveState",{});return true}}}},{key:"getMutations",value:function e(){var t=this;return{initCollection:function e(i,n){t.initCollection(i,n)},add:function e(i,n){t.initCollection(i,n);i.collection[n.chatId].push(n);i.index[n.chatId][n.id]=n;i.created+=1;t.saveState(i)},set:function e(n,a){var r=I(a.data),o;try{var s=function e(){var r=o.value;t.initCollection(n,{chatId:r.chatId});var s=n.collection[r.chatId].findIndex(function(e){return e.id===r.id});if(s>-1){delete r.templateId;n.collection[r.chatId][s]=Object.assign(n.collection[r.chatId][s],r)}else if(a.insertType===i.MutationType.setBefore){n.collection[r.chatId].unshift(r)}else{n.collection[r.chatId].push(r)}n.index[r.chatId][r.id]=r;t.saveState(n)};for(r.s();!(o=r.n()).done;){s()}}catch(e){r.e(e)}finally{r.f()}},update:function e(i,n){t.initCollection(i,n);var a=-1;if(typeof n.index!=="undefined"&&i.collection[n.chatId][n.index]){a=n.index}else{a=i.collection[n.chatId].findIndex(function(e){return e.id===n.id})}if(a>=0){delete n.fields.templateId;var r=Object.assign(i.collection[n.chatId][a],n.fields);i.collection[n.chatId][a]=r;i.index[n.chatId][r.id]=r;t.saveState(i)}},delete:function e(i,n){t.initCollection(i,n);i.collection[n.chatId]=i.collection[n.chatId].filter(function(e){return e.id!==n.id});delete i.index[n.chatId][n.id];t.saveState(i)},saveState:function e(i,n){t.saveState(i)}}}},{key:"initCollection",value:function e(i,n){if(typeof i.collection[n.chatId]!=="undefined"){return true}t.Vue.set(i.collection,n.chatId,[]);t.Vue.set(i.index,n.chatId,{});return true}},{key:"getLoadedState",value:function e(t){if(!t||babelHelpers.typeof(t)!=="object"){return t}if(babelHelpers.typeof(t.collection)!=="object"){return t}t.index={};var i=function e(i){if(!t.collection.hasOwnProperty(i)){return"continue"}t.index[i]={};t.collection[i].filter(function(e){return e!=null}).forEach(function(e){t.index[i][e.id]=e})};for(var n in t.collection){var a=i(n);if(a==="continue")continue}return t}},{key:"getSaveFileList",value:function e(){if(!this.db){return[]}if(!this.store.getters["messages/getSaveFileList"]){return[]}var t=this.store.getters["messages/getSaveFileList"]();if(!t){return[]}return t}},{key:"getSaveTimeout",value:function e(){return 250}},{key:"saveState",value:function e(t){var i=this;if(!this.isSaveAvailable()){return false}babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"saveState",this).call(this,function(){var e=i.getSaveFileList();if(!e){return false}var n={collection:{}};var a=function i(a){if(!e.hasOwnProperty(a)){return"continue"}e[a].forEach(function(e){if(!t.index[a]){return false}if(!t.index[a][e]){return false}if(!n.collection[a]){n.collection[a]=[]}n.collection[a].push(t.index[a][e])})};for(var r in e){var o=a(r);if(o==="continue")continue}return n})}},{key:"validate",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var o={};r.host=r.host||this.getState().host;if(typeof t.id==="number"){o.id=t.id}else if(typeof t.id==="string"){if(t.id.startsWith("temporary")){o.id=t.id}else{o.id=parseInt(t.id)}}if(typeof t.templateId==="number"){o.templateId=t.templateId}else if(typeof t.templateId==="string"){if(t.templateId.startsWith("temporary")){o.templateId=t.templateId}else{o.templateId=parseInt(t.templateId)}}if(typeof t.chatId==="number"||typeof t.chatId==="string"){o.chatId=parseInt(t.chatId)}if(typeof t.date!=="undefined"){o.date=n.Utils.date.cast(t.date)}if(typeof t.type==="string"){o.type=t.type}if(typeof t.extension==="string"){o.extension=t.extension.toString();if(o.type==="image"){o.icon="img"}else if(o.type==="video"){o.icon="mov"}else{o.icon=a.getIconType(o.extension)}}if(typeof t.name==="string"||typeof t.name==="number"){o.name=t.name.toString()}if(typeof t.size==="number"||typeof t.size==="string"){o.size=parseInt(t.size)}if(typeof t.image==="boolean"){o.image=false}else if(babelHelpers.typeof(t.image)==="object"&&t.image){o.image={width:0,height:0};if(typeof t.image.width==="string"||typeof t.image.width==="number"){o.image.width=parseInt(t.image.width)}if(typeof t.image.height==="string"||typeof t.image.height==="number"){o.image.height=parseInt(t.image.height)}if(o.image.width<=0||o.image.height<=0){o.image=false}}if(typeof t.status==="string"&&typeof i.FileStatus[t.status]!=="undefined"){o.status=t.status}if(typeof t.progress==="number"||typeof t.progress==="string"){o.progress=parseInt(t.progress)}if(typeof t.authorId==="number"||typeof t.authorId==="string"){o.authorId=parseInt(t.authorId)}if(typeof t.authorName==="string"||typeof t.authorName==="number"){o.authorName=t.authorName.toString()}if(typeof t.urlPreview==="string"){if(!t.urlPreview||t.urlPreview.startsWith("http")||t.urlPreview.startsWith("bx")||t.urlPreview.startsWith("file")||t.urlPreview.startsWith("blob")){o.urlPreview=t.urlPreview}else{o.urlPreview=r.host+t.urlPreview}}if(typeof t.urlDownload==="string"){if(!t.urlDownload||t.urlDownload.startsWith("http")||t.urlDownload.startsWith("bx")||t.urlPreview.startsWith("file")){o.urlDownload=t.urlDownload}else{o.urlDownload=r.host+t.urlDownload}}if(typeof t.urlShow==="string"){if(!t.urlShow||t.urlShow.startsWith("http")||t.urlShow.startsWith("bx")||t.urlShow.startsWith("file")){o.urlShow=t.urlShow}else{o.urlShow=r.host+t.urlShow}}if(babelHelpers.typeof(t.viewerAttrs)==="object"){if(o.type==="image"&&!n.Utils.platform.isBitrixMobile()){o.viewerAttrs=t.viewerAttrs}if(o.type==="video"&&!n.Utils.platform.isBitrixMobile()&&o.size>a.maxDiskFileSize){o.viewerAttrs=t.viewerAttrs}}return o}}],[{key:"getType",value:function e(t){t=t.toString().toLowerCase().split(".").splice(-1)[0];switch(t){case"png":case"jpe":case"jpg":case"jpeg":case"gif":case"heic":case"bmp":case"webp":return i.FileType.image;case"mp4":case"mkv":case"webm":case"mpeg":case"hevc":case"avi":case"3gp":case"flv":case"m4v":case"ogg":case"wmv":case"mov":return i.FileType.video;case"mp3":return i.FileType.audio}return i.FileType.file}},{key:"getIconType",value:function e(t){var i="empty";switch(t.toString()){case"png":case"jpe":case"jpg":case"jpeg":case"gif":case"heic":case"bmp":case"webp":i="img";break;case"mp4":case"mkv":case"webm":case"mpeg":case"hevc":case"avi":case"3gp":case"flv":case"m4v":case"ogg":case"wmv":case"mov":i="mov";break;case"txt":i="txt";break;case"doc":case"docx":i="doc";break;case"xls":case"xlsx":i="xls";break;case"php":i="php";break;case"pdf":i="pdf";break;case"ppt":case"pptx":i="ppt";break;case"rar":i="rar";break;case"zip":case"7z":case"tar":case"gz":case"gzip":i="zip";break;case"set":i="set";break;case"conf":case"ini":case"plist":i="set";break}return i}}]);return a}(a.VuexBuilderModel);babelHelpers.defineProperty(k,"maxDiskFileSize",5242880);var C=function(e){babelHelpers.inherits(t,e);function t(){babelHelpers.classCallCheck(this,t);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}babelHelpers.createClass(t,[{key:"getName",value:function e(){return"recent"}},{key:"getState",value:function e(){return{host:this.getVariable("host",location.protocol+"//"+location.host),collection:{pinned:[],general:[]}}}},{key:"getElementState",value:function e(){return{id:0,templateId:"",template:"item",chatType:"chat",sectionCode:"general",avatar:"",color:"#048bd0",title:"",message:{id:0,text:"",date:new Date},counter:0,pinned:false,chatId:0,userId:0}}},{key:"getGetters",value:function e(){var t=this;return{get:function e(i){return function(e){return t.findItem(i.collection,e)}}}}},{key:"getActions",value:function e(){var t=this;return{set:function e(i,n){var a={};if(n.pinned instanceof Array){a.pinned=n.pinned.map(function(e){return t.prepareItem(e,{host:i.state.host,sectionCode:"pinned"})})}else if(typeof n.pinned!=="undefined"){var r=[];r.push(t.prepareItem(n.pinned,{host:i.state.host,sectionCode:"pinned"}));a.pinned=r}if(n.general instanceof Array){a.general=n.general.map(function(e){return t.prepareItem(e,{host:i.state.host})})}else if(typeof n.general!=="undefined"){var o=[];o.push(t.prepareItem(n.general,{host:i.state.host}));a.general=o}i.commit("set",a)},updatePlaceholders:function e(i,n){if(!(n.items instanceof Array)){return false}n.items=n.items.map(function(e){return t.prepareItem(e)});n.items.forEach(function(e,a){var r="placeholder"+(n.firstMessage+a);var o=t.findItem(i.state.collection,r,"templateId");var s=t.findItem(i.state.collection,e.id);if(s.element){i.commit("update",{index:s.index,fields:Object.assign({},e),section:"general"});i.commit("delete",{index:o.index,section:"general"})}else{i.commit("update",{index:o.index,fields:Object.assign({},e),section:"general"})}})},update:function e(i,n){if(babelHelpers.typeof(n)!=="object"||n instanceof Array||!n.id||!n.fields){return false}if(typeof n.id==="string"&&!n.id.startsWith("chat")&&n.id!=="notify"){n.id=parseInt(n.id)}var a=t.findItem(i.state.collection,n.id);if(!a.element){return false}i.commit("update",{index:a.index,fields:Object.assign({},t.validate(n.fields)),section:a.element.sectionCode})},pin:function e(i,n){if(babelHelpers.typeof(n)!=="object"||n instanceof Array||!n.id||typeof n.action!=="boolean"){return false}if(typeof n.id==="string"&&!n.id.startsWith("chat")&&n.id!=="notify"){n.id=parseInt(n.id)}var a=t.findItem(i.state.collection,n.id,undefined,n.action?"general":"pinned");if(!a.element){return true}if(n.action){i.state.collection.pinned.push(Object.assign({},a.element,{sectionCode:"pinned",pinned:true}));i.state.collection.pinned.sort(t.sortListByMessageDate);i.commit("delete",{index:a.index,section:"general"})}else{i.state.collection.general.push(Object.assign({},a.element,{sectionCode:"general",pinned:false}));i.state.collection.general.sort(t.sortListByMessageDate);i.commit("delete",{index:a.index,section:"pinned"})}},clearPlaceholders:function e(t,i){t.state.collection.general=t.state.collection.general.filter(function(e){return!e.id.toString().startsWith("placeholder")})},delete:function e(i,n){if(babelHelpers.typeof(n)!=="object"||n instanceof Array||!n.id){return false}if(typeof n.id==="string"&&!n.id.startsWith("chat")&&n.id!=="notify"){n.id=parseInt(n.id)}var a=t.findItem(i.state.collection,n.id);if(!a.element){return false}i.commit("delete",{index:a.index,section:a.element.sectionCode})}}}},{key:"getMutations",value:function e(){var t=this;return{set:function e(i,n){if(n.general instanceof Array){n.general.forEach(function(e){var n=t.initCollection(i,e,"general"),a=n.index,r=n.alreadyExists;if(r){i.collection.general[a]=Object.assign({},i.collection.general[a],e)}})}if(n.pinned instanceof Array){n.pinned.forEach(function(e){var n=t.initCollection(i,e,"pinned"),a=n.index,r=n.alreadyExists;if(r){i.collection.pinned[a]=Object.assign({},i.collection.pinned[a],e)}})}},update:function e(i,n){if(!n||n instanceof Array||babelHelpers.typeof(n.fields)!=="object"||typeof n.index!=="number"||typeof n.section!=="string"){return false}i.collection[n.section][n.index]=Object.assign({},i.collection[n.section][n.index],n.fields);i.collection[n.section].sort(t.sortListByMessageDate)},delete:function e(t,i){if(!i||i instanceof Array||typeof i.index!=="number"||typeof i.section!=="string"){return false}t.collection[i.section].splice(i.index,1)}}}},{key:"initCollection",value:function e(t,i,n){var a=this.findItem(t.collection,i.id,undefined,n);if(a.element){return{index:a.index,alreadyExists:true}}var r=t.collection[n].push(Object.assign({},this.getElementState(),i));return{index:r-1,alreadyExists:false}}},{key:"validate",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n={};if(typeof t.id==="number"||typeof t.id==="string"){n.id=t.id}if(typeof t.templateId==="string"){n.templateId=t.templateId}if(typeof t.template==="string"){n.template=t.template}if(typeof t.type==="string"){if(t.type==="chat"){if(t.chat.type==="open"){n.chatType="open"}else if(t.chat.type==="chat"){n.chatType="chat"}}else if(t.type==="user"){n.chatType="user"}else if(t.type==="notification"){n.chatType="notification";t.title="Notifications"}}if(typeof t.avatar==="string"){var a;if(!t.avatar||t.avatar.endsWith("/js/im/images/blank.gif")){a=""}else if(t.avatar.startsWith("http")){a=t.avatar}else{a=i.host+t.avatar}if(a){n.avatar=encodeURI(a)}}if(typeof t.color==="string"){n.color=t.color}if(typeof t.title==="string"){n.title=t.title}if(babelHelpers.typeof(t.message)==="object"&&!(t.message instanceof Array)&&t.message!==null){n.message=t.message}if(typeof t.counter==="number"){n.counter=t.counter}if(typeof t.pinned==="boolean"){n.pinned=t.pinned}if(typeof t.chatId==="number"){n.chatId=t.chatId}if(typeof t.userId==="number"){n.userId=t.userId}return n}},{key:"sortListByMessageDate",value:function e(t,i){if(t.message&&i.message){var n=new Date(t.message.date).getTime();var a=new Date(i.message.date).getTime();return a-n}}},{key:"prepareItem",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.validate(Object.assign({},t));return Object.assign({},this.getElementState(),n,i)}},{key:"findItem",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"id";var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"general";var r={};if(babelHelpers.typeof(t[a])===undefined){return r}var o=t[a].findIndex(function(e,t){return e[n]===i});if(o!==-1){r.index=o;r.element=t[a][o];return r}return r}}]);return t}(a.VuexBuilderModel);e.ApplicationModel=r;e.CallApplicationModel=o;e.MessagesModel=u;e.DialoguesModel=g;e.UsersModel=b;e.FilesModel=k;e.RecentModel=C})(this.BX.Messenger.Model=this.BX.Messenger.Model||{},BX,BX.Messenger.Const,BX.Messenger.Lib,BX);
 



// file: /bitrix/js/ui/vue/components/audioplayer/dist/audioplayer.bundle.js
(function(t,e,i){"use strict";var r=Object.freeze({play:"play",pause:"pause",stop:"stop",none:"none"});i.Vue.component("bx-audioplayer",{props:{id:{default:0},src:{default:""},autoPlayNext:{default:true},background:{default:"light"}},data:function t(){return{isDark:false,preload:"none",loaded:false,loading:false,playAfterLoad:false,state:r.none,progress:0,progressInPixel:0,seek:0,timeCurrent:0,timeTotal:0}},created:function t(){this.preloadRequestSent=false;this.registeredId=0;this.registerPlayer(this.id);this.$root.$on("ui:audioplayer:play",this.onPlay);i.Vue.event.$on("ui:audioplayer:play",this.onPlay);this.$root.$on("ui:audioplayer:stop",this.onStop);i.Vue.event.$on("ui:audioplayer:stop",this.onStop);this.$root.$on("ui:audioplayer:pause",this.onPause);i.Vue.event.$on("ui:audioplayer:pause",this.onPause);this.$root.$on("ui:audioplayer:preload",this.onPreload);this.isDark=this.background==="dark"},mounted:function t(){this.getObserver().observe(this.$refs.body)},beforeDestroy:function t(){this.unregisterPlayer();this.$root.$off("ui:audioplayer:play",this.onPlay);i.Vue.event.$off("ui:audioplayer:play",this.onPlay);this.$root.$off("ui:audioplayer:stop",this.onStop);i.Vue.event.$off("ui:audioplayer:stop",this.onStop);this.$root.$off("ui:audioplayer:pause",this.onPause);i.Vue.event.$off("ui:audioplayer:pause",this.onPause);this.$root.$off("ui:audioplayer:preload",this.onPreload);this.getObserver().unobserve(this.$refs.body)},watch:{id:function t(e){this.registerPlayer(e)},progress:function t(e){if(e>70){this.preloadNext()}}},methods:{loadFile:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.loaded){return true}if(this.loading&&!e){return true}this.preload="auto";if(e){this.loading=true;if(this.source()){this.source().play()}}return true},clickToButton:function t(){if(!this.src){return false}if(this.state===r.play){this.pause()}else{this.play()}},play:function t(){if(!this.loaded){this.loadFile(true);return false}this.source().play()},pause:function t(){this.source().pause()},stop:function t(){this.state=r.stop;this.source().pause()},setPosition:function t(e){if(!this.loaded){this.loadFile(true);return false}var i=this.$refs.track.offsetWidth/100;this.setProgress(this.seek/i,this.seek);if(this.state!==r.play){this.state=r.pause}this.play();this.source().currentTime=this.timeTotal/100*this.progress},seeking:function t(e){if(!this.loaded){return false}this.seek=e.offsetX>0?e.offsetX:0;return true},setProgress:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;this.progress=e;this.progressInPixel=i>0?i:Math.round(this.$refs.track.offsetWidth/100*e)},formatTime:function t(e){e=Math.floor(e);var i=Math.floor(e/60/60);if(i>0){e-=i*60*60}var r=Math.floor(e/60);if(r>0){e-=r*60}return(i>0?i+":":"")+(i>0?r.toString().padStart(2,"0")+":":r+":")+e.toString().padStart(2,"0")},registerPlayer:function t(e){if(e<=0){return false}if(typeof this.$root.$uiAudioPlayerId==="undefined"){this.$root.$uiAudioPlayerId=[]}this.unregisterPlayer();this.$root.$uiAudioPlayerId=babelHelpers.toConsumableArray(new Set([].concat(babelHelpers.toConsumableArray(this.$root.$uiAudioPlayerId),[e]))).sort(function(t,e){if(t>e)return 1;else if(t<e)return-1;else return 0});this.registeredId=e;return true},unregisterPlayer:function t(){var e=this;if(!this.registeredId){return true}this.$root.$uiAudioPlayerId=this.$root.$uiAudioPlayerId.filter(function(t){return t!==e.registeredId});this.registeredId=0;return true},playNext:function t(){var e=this;if(!this.registeredId||!this.autoPlayNext){return false}var i=this.$root.$uiAudioPlayerId.filter(function(t){return t>e.registeredId}).slice(0,1)[0];if(i){this.$root.$emit("ui:audioplayer:play",{id:i,start:true})}return true},preloadNext:function t(){var e=this;if(this.preloadRequestSent){return true}if(!this.registeredId||!this.autoPlayNext){return false}this.preloadRequestSent=true;var i=this.$root.$uiAudioPlayerId.filter(function(t){return t>e.registeredId}).slice(0,1)[0];if(i){this.$root.$emit("ui:audioplayer:preload",{id:i})}return true},onPlay:function t(e){if(e.id!==this.id){return false}if(e.start){this.stop()}this.play()},onStop:function t(e){if(e.initiator===this.id){return false}this.stop()},onPause:function t(e){if(e.initiator===this.id){return false}this.pause()},onPreload:function t(e){if(e.id!==this.id){return false}this.loadFile()},source:function t(){return this.$refs.source},audioEventRouter:function t(e,o){if(e==="durationchange"||e==="loadeddata"||e==="loadedmetadata"){this.timeTotal=this.source().duration}else if(e==="abort"||e==="error"){console.error("BxAudioPlayer: load failed",this.id,o);this.loading=false;this.state=r.none;this.timeTotal=0;this.preload="none"}else if(e==="canplaythrough"){this.loading=false;this.loaded=true}else if(e==="timeupdate"){if(!this.source()){return}this.timeCurrent=this.source().currentTime;this.setProgress(Math.round(100/this.timeTotal*this.timeCurrent));if(this.state===r.play&&this.timeCurrent>=this.timeTotal){this.playNext()}}else if(e==="pause"){if(this.state!==r.stop){this.state=r.pause}}else if(e==="play"){this.state=r.play;if(this.state===r.stop){this.progress=0;this.timeCurrent=0}if(this.id>0){this.$root.$emit("ui:audioplayer:pause",{initiator:this.id});i.Vue.event.$emit("ui:audioplayer:pause",{initiator:this.id})}}},getObserver:function t(){var e=this;if(this.observer){return this.observer}this.observer=new IntersectionObserver(function(t,i){t.forEach(function(t){if(t.isIntersecting){if(e.preload==="none"){e.preload="metadata";e.observer.unobserve(t.target)}}})},{threshold:[0,1]});return this.observer}},computed:{State:function t(){return r},seekPosition:function t(){if(!this.loaded&&!this.seek||this.isMobile){return"display: none"}return"left: ".concat(this.seek,"px;")},progressPosition:function t(){if(!this.loaded||this.state===r.none){return"width: 100%;"}return"width: ".concat(this.progressInPixel,"px;")},labelTime:function t(){if(!this.loaded&&!this.timeTotal){return"--:--"}var e;if(this.state===r.play){e=this.timeTotal-this.timeCurrent}else{e=this.timeTotal}return this.formatTime(e)},isMobile:function t(){var e=navigator.userAgent.toLowerCase();return e.includes("android")||e.includes("iphone")||e.includes("ipad")||e.includes("bitrixmobile")}},template:'\n\t\t<div :class="[\'ui-vue-audioplayer-container\', {\n\t\t\t\t\'ui-vue-audioplayer-container-dark\': isDark,\n\t\t\t\t\'ui-vue-audioplayer-container-mobile\': isMobile,\n\t\t\t}]" ref="body">\n\t\t\t<div class="ui-vue-audioplayer-controls-container">\n\t\t\t\t<button :class="[\'ui-vue-audioplayer-control\', {\n\t\t\t\t\t\'ui-vue-audioplayer-control-loader\': loading,\n\t\t\t\t\t\'ui-vue-audioplayer-control-play\': !loading && state !== State.play,\n\t\t\t\t\t\'ui-vue-audioplayer-control-pause\': !loading && state === State.play,\n\t\t\t\t}]" @click="clickToButton"></button>\n\t\t\t</div>\n\t\t\t<div class="ui-vue-audioplayer-timeline-container">\n\t\t\t\t<div class="ui-vue-audioplayer-track-container" @click="setPosition" ref="track">\n\t\t\t\t\t<div class="ui-vue-audioplayer-track-mask"></div>\n\t\t\t\t\t<div class="ui-vue-audioplayer-track" :style="progressPosition"></div>\n\t\t\t\t\t<div class="ui-vue-audioplayer-track-seek" :style="seekPosition"></div>\n\t\t\t\t\t<div class="ui-vue-audioplayer-track-event" @mousemove="seeking"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-vue-audioplayer-timers-container">\n\t\t\t\t\t<div class="ui-vue-audioplayer-time-current">{{labelTime}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<audio v-if="src" :src="src" class="ui-vue-audioplayer-source" ref="source" :preload="preload"\n\t\t\t\t@abort="audioEventRouter(\'abort\', $event)"\n\t\t\t\t@error="audioEventRouter(\'error\', $event)"\n\t\t\t\t@suspend="audioEventRouter(\'suspend\', $event)"\n\t\t\t\t@canplay="audioEventRouter(\'canplay\', $event)"\n\t\t\t\t@canplaythrough="audioEventRouter(\'canplaythrough\', $event)"\n\t\t\t\t@durationchange="audioEventRouter(\'durationchange\', $event)"\n\t\t\t\t@loadeddata="audioEventRouter(\'loadeddata\', $event)"\n\t\t\t\t@loadedmetadata="audioEventRouter(\'loadedmetadata\', $event)"\n\t\t\t\t@timeupdate="audioEventRouter(\'timeupdate\', $event)"\n\t\t\t\t@play="audioEventRouter(\'play\', $event)"\n\t\t\t\t@playing="audioEventRouter(\'playing\', $event)"\n\t\t\t\t@pause="audioEventRouter(\'pause\', $event)"\n\t\t\t></audio>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX,BX);
 



// file: /bitrix/js/ui/vue/components/socialvideo/dist/socialvideo.bundle.js
(function(t,e,i,s){"use strict";var o=Object.freeze({play:"play",pause:"pause",stop:"stop",none:"none"});s.Vue.component("bx-socialvideo",{props:{id:{default:0},src:{default:""},preview:{default:""},autoplay:{default:true},containerClass:{default:null},containerStyle:{default:null},elementStyle:{default:null},showControls:{default:true}},data:function t(){return{preload:"none",previewLoaded:false,loaded:false,loading:false,playAfterLoad:false,enterFullscreen:false,playBeforeMute:2,state:o.none,progress:0,timeCurrent:0,timeTotal:0,muteFlag:true}},created:function t(){this.registeredId=0;if(!this.preview){this.previewLoaded=true;this.preload="metadata"}this.registerPlayer(this.id);this.$root.$on("ui:socialvideo:play",this.onPlay);s.Vue.event.$on("ui:socialvideo:play",this.onPlay);this.$root.$on("ui:socialvideo:stop",this.onStop);s.Vue.event.$on("ui:socialvideo:stop",this.onStop);this.$root.$on("ui:socialvideo:pause",this.onPause);s.Vue.event.$on("ui:socialvideo:pause",this.onPause)},mounted:function t(){this.getObserver().observe(this.$refs.body)},beforeDestroy:function t(){this.unregisterPlayer();this.$root.$off("ui:socialvideo:play",this.onPlay);s.Vue.event.$off("ui:socialvideo:play",this.onPlay);this.$root.$off("ui:socialvideo:stop",this.onStop);s.Vue.event.$off("ui:socialvideo:stop",this.onStop);this.$root.$off("ui:socialvideo:pause",this.onPause);s.Vue.event.$off("ui:socialvideo:pause",this.onPause);this.getObserver().unobserve(this.$refs.body)},watch:{id:function t(e){this.registerPlayer(e)}},methods:{loadFile:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.loaded){return true}if(this.loading){return true}this.preload="auto";this.loading=true;this.playAfterLoad=e;return true},clickToButton:function t(e){if(!this.src){return false}if(this.state===o.play){this.getObserver().unobserve(this.$refs.body);this.pause()}else{this.play()}e.stopPropagation()},clickToMute:function t(){if(!this.src){return false}if(!this.muteFlag){this.mute()}else{this.unmute()}event.stopPropagation()},click:function t(e){if(this.autoPlayDisabled){this.play();e.stopPropagation();return false}if(this.isMobile){if(this.source().webkitEnterFullscreen){this.unmute();this.enterFullscreen=true;this.source().webkitEnterFullscreen()}else if(this.source().requestFullscreen){this.unmute();this.enterFullscreen=true;this.source().requestFullscreen()}else{this.$emit("click",e)}}else{this.$emit("click",e)}e.stopPropagation()},play:function t(e){if(!this.loaded){this.loadFile(true);return false}if(!this.source()){return false}this.source().play()},pause:function t(){if(!this.source()){return false}this.playAfterLoad=false;this.source().pause()},stop:function t(){if(!this.source()){return false}this.state=o.stop;this.source().pause()},mute:function t(){if(!this.source()){return false}this.muteFlag=true;this.playBeforeMute=2;this.source().muted=true},unmute:function t(){if(!this.source()){return false}this.muteFlag=false;this.source().muted=false},setProgress:function t(e){this.progress=e},formatTime:function t(e){e=Math.floor(e);var i=Math.floor(e/60/60);if(i>0){e-=i*60*60}var s=Math.floor(e/60);if(s>0){e-=s*60}return(i>0?i+":":"")+(i>0?s.toString().padStart(2,"0")+":":s+":")+e.toString().padStart(2,"0")},registerPlayer:function t(e){if(e<=0){return false}if(typeof this.$root.$uiSocialVideoId==="undefined"){this.$root.$uiSocialVideoId=[]}this.unregisterPlayer();this.$root.$uiSocialVideoId=babelHelpers.toConsumableArray(new Set([].concat(babelHelpers.toConsumableArray(this.$root.$uiSocialVideoId),[e]))).sort(function(t,e){if(t>e)return 1;else if(t<e)return-1;else return 0});this.registeredId=e;return true},unregisterPlayer:function t(){var e=this;if(!this.registeredId){return true}this.$root.$uiSocialVideoId=this.$root.$uiSocialVideoId.filter(function(t){return t!==e.registeredId});this.registeredId=0;return true},onPlay:function t(e){if(e.id!==this.id){return false}if(e.start){this.stop()}this.play()},onStop:function t(e){if(e.initiator===this.id){return false}this.stop()},onPause:function t(e){if(e.initiator===this.id){return false}this.pause()},source:function t(){return this.$refs.source},videoEventRouter:function t(e,i){if(e==="durationchange"||e==="loadeddata"){if(!this.source()){return false}this.timeTotal=this.source().duration}else if(e==="loadedmetadata"){if(!this.source()){return false}this.timeTotal=this.source().duration;this.loaded=true;if(this.playAfterLoad){this.play()}}else if(e==="abort"||e==="error"){console.error("BxSocialVideo: load failed",this.id,i);this.loading=false;this.state=o.none;this.timeTotal=0;this.preload="none"}else if(e==="canplaythrough"){this.loading=false;this.loaded=true;if(this.playAfterLoad){this.play()}}else if(e==="volumechange"){if(!this.source()){return false}if(this.source().muted){this.mute()}else{this.unmute()}}else if(e==="timeupdate"){if(!this.source()){return false}this.timeCurrent=this.source().currentTime;if(!this.muteFlag&&!this.enterFullscreen&&this.timeCurrent===0){if(this.playBeforeMute<=0){this.mute()}this.playBeforeMute-=1}this.setProgress(Math.round(100/this.timeTotal*this.timeCurrent))}else if(e==="pause"){if(this.state!==o.stop){this.state=o.pause}if(this.enterFullscreen){this.enterFullscreen=false;this.mute();this.play()}}else if(e==="play"){this.state=o.play;if(this.state===o.stop){this.progress=0;this.timeCurrent=0}if(this.enterFullscreen){this.enterFullscreen=false}}},getObserver:function t(){var e=this;if(this.observer){return this.observer}this.observer=new IntersectionObserver(function(t,i){if(e.autoPlayDisabled){return false}t.forEach(function(t){if(t.isIntersecting){e.play()}else{e.pause()}})},{threshold:[0,1]});return this.observer},lazyLoadCallback:function t(e){this.previewLoaded=e.state==="success"}},computed:{State:function t(){return o},autoPlayDisabled:function t(){return!this.autoplay&&this.state===o.none},showStartButton:function t(){return this.autoPlayDisabled&&this.previewLoaded},showInterface:function t(){return this.previewLoaded&&!this.showStartButton},labelTime:function t(){if(!this.loaded&&!this.timeTotal){return"--:--"}var e;if(this.state===o.play){e=this.timeTotal-this.timeCurrent}else{e=this.timeTotal}return this.formatTime(e)},isMobile:function t(){var e=navigator.userAgent.toLowerCase();return e.includes("android")||e.includes("iphone")||e.includes("ipad")||e.includes("bitrixmobile")}},template:'\n\t\t<div :class="[\'ui-vue-socialvideo\', containerClass, {\n\t\t\t\t\'ui-vue-socialvideo-mobile\': isMobile,\n\t\t\t}]" :style="containerStyle" @click="click">\n\t\t\t<transition name="ui-vue-socialvideo-animation-fade">\n\t\t\t\t<div v-if="showStartButton && showControls" class="ui-vue-socialvideo-button-start">\n\t\t\t\t\t<span class="ui-vue-socialvideo-button-start-icon"></span>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t\t<transition name="ui-vue-socialvideo-animation-fade">\n\t\t\t\t<div v-if="showInterface && showControls" class="ui-vue-socialvideo-overlay-container">\n\t\t\t\t\t<div class="ui-vue-socialvideo-controls-container" @click="clickToButton">\n\t\t\t\t\t\t<button :class="[\'ui-vue-socialvideo-control\', {\n\t\t\t\t\t\t\t\'ui-vue-socialvideo-control-loader\': loading,\n\t\t\t\t\t\t\t\'ui-vue-socialvideo-control-play\': !loading && state !== State.play,\n\t\t\t\t\t\t\t\'ui-vue-socialvideo-control-pause\': !loading && state === State.play,\n\t\t\t\t\t\t}]"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ui-vue-socialvideo-info-container" @click="clickToMute">\n\t\t\t\t\t\t<span class="ui-vue-socialvideo-time-current">{{labelTime}}</span>\n\t\t\t\t\t\t<span :class="[\'ui-vue-socialvideo-sound\', {\n\t\t\t\t\t\t\t\'ui-vue-socialvideo-sound-on\': state !== State.none && !muteFlag,\n\t\t\t\t\t\t\t\'ui-vue-socialvideo-sound-off\': state !== State.none && muteFlag\n\t\t\t\t\t\t}]"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t\t<div v-if="!preview" class="ui-vue-socialvideo-background" :style="{position: (src? \'absolute\': \'relative\')}"></div>\n\t\t\t<div class="ui-vue-socialvideo-container" ref="body">\n\t\t\t\t<img \n\t\t\t\t\tv-bx-lazyload="{callback: lazyLoadCallback}"\n\t\t\t\t\tdata-lazyload-dont-hide\n\t\t\t\t\tv-if="preview"\n\t\t\t\t\tclass="ui-vue-socialvideo-image-source"\n\t\t\t\t\t:data-lazyload-src="preview"\n\t\t\t\t\t:style="{position: (src? \'absolute\': \'relative\'), ...elementStyle}"\n\t\t\t\t/>\n\t\t\t\t<video \n\t\t\t\t\tv-if="src" :src="src" \n\t\t\t\t\tclass="ui-vue-socialvideo-source" \n\t\t\t\t\tref="source"\n\t\t\t\t\t:preload="preload" \n\t\t\t\t\tplaysinline\n\t\t\t\t\tloop \n\t\t\t\t\tmuted\n\t\t\t\t\t:style="{opacity: (loaded? 1: 0), ...elementStyle}"\n\t\t\t\t\t@abort="videoEventRouter(\'abort\', $event)"\n\t\t\t\t\t@error="videoEventRouter(\'error\', $event)"\n\t\t\t\t\t@suspend="videoEventRouter(\'suspend\', $event)"\n\t\t\t\t\t@canplay="videoEventRouter(\'canplay\', $event)"\n\t\t\t\t\t@canplaythrough="videoEventRouter(\'canplaythrough\', $event)"\n\t\t\t\t\t@durationchange="videoEventRouter(\'durationchange\', $event)"\n\t\t\t\t\t@loadeddata="videoEventRouter(\'loadeddata\', $event)"\n\t\t\t\t\t@loadedmetadata="videoEventRouter(\'loadedmetadata\', $event)"\n\t\t\t\t\t@volumechange="videoEventRouter(\'volumechange\', $event)"\n\t\t\t\t\t@timeupdate="videoEventRouter(\'timeupdate\', $event)"\n\t\t\t\t\t@play="videoEventRouter(\'play\', $event)"\n\t\t\t\t\t@playing="videoEventRouter(\'playing\', $event)"\n\t\t\t\t\t@pause="videoEventRouter(\'pause\', $event)"\n\t\t\t\t></video>\n\t\t\t</div>\n\t\t</div>\t\n\t'})})(this.window=this.window||{},window,BX,BX);
 



// file: /bitrix/js/im/view/element/media/dist/media.bundle.js
(function(e,t,i,s,r,l,n,o,a,f,u){"use strict";u.Vue.component("bx-im-view-element-file",{mounted:function e(){this.createProgressbar()},beforeDestroy:function e(){this.removeProgressbar()},props:{userId:{default:0},messageType:{default:r.MessageType.self},file:{type:Object,default:s.FilesModel.create().getElementState}},methods:{download:function e(t){if(t.progress!==100){return false}if(BX.UI&&BX.UI.Viewer&&Object.keys(t.viewerAttrs).length>0){return false}if(t.type===r.FileType.image&&t.urlShow){if(f.Utils.platform.isBitrixMobile()){BXMobileApp.UI.Photo.show({photos:this.files.collection[this.application.dialog.chatId].filter(function(e){return e.type==="image"}).map(function(e){return{url:e.urlShow.replace("bxhttp","http")}}).reverse(),default_photo:t.urlShow.replace("bxhttp","http")})}else{window.open(t.urlShow,"_blank")}}else if(t.type===r.FileType.video&&t.urlShow){if(f.Utils.platform.isBitrixMobile()){app.openDocument({url:t.urlShow,name:t.name})}else{window.open(t.urlShow,"_blank")}}else if(t.urlDownload){if(f.Utils.platform.isBitrixMobile()){app.openDocument({url:t.urlDownload,name:t.name})}else{window.open(t.urlDownload,"_blank")}}else{if(f.Utils.platform.isBitrixMobile()){app.openDocument({url:t.urlShow,name:t.name})}else{window.open(t.urlShow,"_blank")}}},createProgressbar:function e(){var i=this;if(this.uploader){return true}if(this.file.progress===100){return false}var s=undefined;if(this.file.progress<0||this.file.type!==r.FileType.image&&this.file.type!==r.FileType.video){s=false}this.uploader=new t.Uploader({container:this.$refs.container,blurElement:s,direction:this.$refs.container.offsetHeight>54?t.Uploader.direction.vertical:t.Uploader.direction.horizontal,icon:this.file.progress<0?t.Uploader.icon.cloud:t.Uploader.icon.cancel,sizes:{circle:this.$refs.container.offsetHeight>54?54:38,progress:this.$refs.container.offsetHeight>54?4:8},labels:{loading:this.localize["IM_MESSENGER_ELEMENT_FILE_UPLOAD_LOADING"],completed:this.localize["IM_MESSENGER_ELEMENT_FILE_UPLOAD_COMPLETED"],canceled:this.localize["IM_MESSENGER_ELEMENT_FILE_UPLOAD_CANCELED"],cancelTitle:this.localize["IM_MESSENGER_ELEMENT_FILE_UPLOAD_CANCEL_TITLE"],megabyte:this.localize["IM_MESSENGER_ELEMENT_FILE_SIZE_MB"]},cancelCallback:this.file.progress<0?null:function(e){i.$emit("uploadCancel",{file:i.file,event:e})},destroyCallback:function e(){if(i.uploader){i.uploader=null}}});this.uploader.start();if(this.file.size&&this.file.size/1024/1024<=2||this.$refs.container.offsetHeight<=54&&this.$refs.container.offsetWidth<240){this.uploader.setProgressTitleVisibility(false)}this.updateProgressbar();return true},updateProgressbar:function e(){if(!this.uploader){var i=this.createProgressbar();if(!i){return false}}if(this.file.status===r.FileStatus.error){this.uploader.setProgress(0);this.uploader.setCancelDisable(false);this.uploader.setIcon(t.Uploader.icon.error);this.uploader.setProgressTitle(this.localize["IM_MESSENGER_ELEMENT_FILE_UPLOAD_ERROR"])}else if(this.file.status===r.FileStatus.wait){this.uploader.setProgress(this.file.progress>5?this.file.progress:5);this.uploader.setCancelDisable(true);this.uploader.setIcon(t.Uploader.icon.cloud);this.uploader.setProgressTitle(this.localize["IM_MESSENGER_ELEMENT_FILE_UPLOAD_SAVING"])}else if(this.file.progress===100){this.uploader.setProgress(100)}else if(this.file.progress===-1){this.uploader.setProgress(10);this.uploader.setProgressTitle(this.localize["IM_MESSENGER_ELEMENT_FILE_UPLOAD_WAITING"])}else{if(this.file.progress===0){this.uploader.setIcon(t.Uploader.icon.cancel)}var s=this.file.progress>5?this.file.progress:5;this.uploader.setProgress(s);if(this.file.size/1024/1024<=2){this.uploader.setProgressTitle(this.localize["IM_MESSENGER_ELEMENT_FILE_UPLOAD_LOADING"])}else{this.uploader.setByteSent(this.file.size/100*this.file.progress,this.file.size)}}},removeProgressbar:function e(){if(!this.uploader){return true}this.uploader.destroy(false);return true}},computed:babelHelpers.objectSpread({FileStatus:function e(){return r.FileStatus},localize:function e(){return u.Vue.getFilteredPhrases("IM_MESSENGER_ELEMENT_FILE_",this.$root.$bitrixMessages)},fileName:function e(){var t=70;if(this.file.name.length<t){return this.file.name}var i=10;var s=this.file.name.substring(this.file.name.length-1-(this.file.extension.length+1+i));var r=this.file.name.substring(0,t-s.length-3);return r.trim()+"..."+s.trim()},fileSize:function e(){var t=this.file.size;if(t<=0){return"&nbsp;"}var i=["BYTE","KB","MB","GB","TB"];var s=0;while(t>=1024&&s<4){t/=1024;s++}return Math.round(t)+" "+this.localize["IM_MESSENGER_ELEMENT_FILE_SIZE_"+i[s]]},uploadProgress:function e(){return this.file.status+" "+this.file.progress}},i.Vuex.mapState({application:function e(t){return t.application},files:function e(t){return t.files}})),watch:{uploadProgress:function e(){this.updateProgressbar()}},template:'\n\t\t<div class="bx-im-element-file" @click="download(file, $event)" ref="container">\n\t\t\t<div class="bx-im-element-file-icon">\n\t\t\t\t<div :class="[\'ui-icon\', \'ui-icon-file-\'+file.icon]"><i></i></div>\n\t\t\t</div>\n\t\t\t<div class="bx-im-element-file-block">\n\t\t\t\t<div class="bx-im-element-file-name" :title="file.name">\n\t\t\t\t\t{{fileName}}\n\t\t\t\t</div>\n\t\t\t\t<div class="bx-im-element-file-size" v-html="fileSize"></div>\n\t\t\t</div>\n\t\t</div>\n\t'});u.Vue.cloneComponent("bx-im-view-element-file-audio","bx-im-view-element-file",{computed:{background:function e(){return this.messageType===r.MessageType.self?"dark":"light"}},template:'\n\t\t<div :class="[\'bx-im-element-file-audio\', \'bx-im-element-file-audio-\'+messageType]" ref="container">\n\t\t\t<bx-audioplayer :id="file.id" :src="file.urlShow" :background="background"/>\n\t\t</div>\t\n\t'});u.Vue.cloneComponent("bx-im-view-element-file-image","bx-im-view-element-file",{methods:{getImageSize:function e(t,i,s){var r;if(t>s){r=s/t}else{r=1}return{width:t*r,height:i*r}}},computed:{localize:function e(){return u.Vue.getFilteredPhrases("IM_MESSENGER_ELEMENT_FILE_",this.$root.$bitrixMessages)},styleFileSizes:function e(){var t=this.getImageSize(this.file.image.width,this.file.image.height,280);return{width:t.width+"px",height:t.height+"px",backgroundSize:t.width<100||t.height<100?"contain":"initial"}},styleBoxSizes:function e(){if(parseInt(this.styleFileSizes.height)<=280){return{}}return{height:"280px"}},fileSource:function e(){return this.file.urlPreview}},template:'\n\t\t<div class="bx-im-element-file-image" @click="download(file, $event)" :style="styleBoxSizes" ref="container">\n\t\t\t<img v-bx-lazyload\n\t\t\t\tclass="bx-im-element-file-image-source"\n\t\t\t\t:data-lazyload-src="fileSource"\n\t\t\t\t:title="localize.IM_MESSENGER_ELEMENT_FILE_SHOW_TITLE.replace(\'#NAME#\', file.name).replace(\'#SIZE#\', fileSize)"\n\t\t\t\t:style="styleFileSizes"\n\t\t\t\t:data-viewer="file.viewerAttrs.viewer === null"\n\t\t\t\t:data-viewer-type="file.viewerAttrs.viewerType? file.viewerAttrs.viewerType: false"\n\t\t\t\t:data-src="file.viewerAttrs.src? file.viewerAttrs.src: false"\n\t\t\t\t:data-viewer-group-by="file.viewerAttrs.viewerGroupBy? file.viewerAttrs.viewerGroupBy: false"\n\t\t\t\t:data-title="file.viewerAttrs.title? file.viewerAttrs.title: false"\n\t\t\t\t:data-actions="file.viewerAttrs.actions? file.viewerAttrs.actions: false"\n\t\t\t/>\n\t\t</div>\n\t'});u.Vue.cloneComponent("bx-im-view-element-file-video","bx-im-view-element-file",{methods:{getImageSize:function e(t,i,s){var r;if(t>s){r=s/t}else{r=1}return{width:t*r,height:i*r}}},computed:{isSafari:function e(){return f.Utils.browser.isSafari()||f.Utils.platform.isBitrixMobile()},localize:function e(){return u.Vue.getFilteredPhrases("IM_MESSENGER_ELEMENT_FILE_",this.$root.$bitrixMessages)},styleBoxSizes:function e(){if(parseInt(this.styleVideoSizes.height)<=280){return{}}return{height:"280px"}},styleVideoSizes:function e(){if(!this.file.image){return{}}var t=this.getImageSize(this.file.image.width,this.file.image.height,280);return{width:t.width+"px",height:t.height+"px",backgroundSize:t.width<100||t.height<100?"contain":"initial"}},autoplay:function e(){return this.file.size<5e6&&this.application.options.autoplayVideo}},template:'\n\t\t<div :class="[\'bx-im-element-file-video\', {\'bx-im-element-file-video-safari\': isSafari}]" :style="styleBoxSizes" ref="container">\n\t\t\t<bx-socialvideo \n\t\t\t\t:id="file.id" \n\t\t\t\t:src="file.urlShow" \n\t\t\t\t:preview="file.urlPreview" \n\t\t\t\t:containerStyle="styleBoxSizes"\n\t\t\t\t:elementStyle="styleVideoSizes"\n\t\t\t\t:autoplay="autoplay"\n\t\t\t\t:showControls="!file.viewerAttrs.viewerType"\n\t\t\t\t:data-viewer="file.viewerAttrs.viewer === null"\n\t\t\t\t:data-viewer-type="file.viewerAttrs.viewerType? file.viewerAttrs.viewerType: false"\n\t\t\t\t:data-src="file.viewerAttrs.src? file.viewerAttrs.src: false"\n\t\t\t\t:data-viewer-group-by="file.viewerAttrs.viewerGroupBy? file.viewerAttrs.viewerGroupBy: false"\n\t\t\t\t:data-title="file.viewerAttrs.title? file.viewerAttrs.title: false"\n\t\t\t\t:data-actions="file.viewerAttrs.action? file.viewerAttrs.actions: false"\n\t\t\t\t@click="download(file, $event)"\n\t\t\t/>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX.ProgressBarJs,BX,BX.Messenger.Model,BX.Messenger.Const,window,window,BX,window,BX.Messenger.Lib,BX);
 



// file: /bitrix/js/im/view/element/attach/dist/attach.bundle.js
(function(t,e,n,i){"use strict";var l={property:"DELIMITER",name:"bx-im-view-element-attach-delimiter",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},computed:{styles:function t(){return{width:this.config.DELIMITER.SIZE?this.config.DELIMITER.SIZE+"px":"",backgroundColor:this.config.DELIMITER.COLOR?this.config.DELIMITER.COLOR:this.color}}},template:'<div class="bx-im-element-attach-type-delimiter" :style="styles"></div>'}};var a={property:"FILE",name:"bx-im-element-attach-file",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},methods:{openLink:function t(e){n.Utils.platform.openNewPage(e.LINK)},file:function t(){return{name:this.config.FILE.NAME,extension:this.config.FILE.NAME.split(".").splice(-1)[0],size:this.config.FILE.SIZE}},fileName:function t(e){var n=70;if(!e.NAME||e.NAME.length<n){return e.NAME}var i=10;var l=e.NAME.split(".").splice(-1)[0];var a=e.NAME.substring(e.NAME.length-1-(l.length+1+i));var m=e.NAME.substring(0,n-a.length-3);return m.trim()+"..."+a.trim()},fileNameFull:function t(e){return e.NAME},fileSize:function t(e){var n=e.SIZE;if(n<=0){return""}var i=["BYTE","KB","MB","GB","TB"];var l=0;while(n>=1024&&l<4){n/=1024;l++}return Math.round(n)+" "+this.localize["IM_MESSENGER_ATTACH_FILE_SIZE_"+i[l]]},fileIcon:function t(n){return e.FilesModel.getIconType(n.NAME.split(".").splice(-1)[0])}},computed:{localize:function t(){return i.Vue.getFilteredPhrases("IM_MESSENGER_ATTACH_FILE_",this.$root.$bitrixMessages)}},template:'\n\t\t\t<div class="bx-im-element-attach-type-file-element">\n\t\t\t\t<template v-for="(element, index) in config.FILE">\n\t\t\t\t\t<div class="bx-im-element-attach-type-file" @click="openLink(element)">\n\t\t\t\t\t\t<div class="bx-im-element-attach-type-file-icon">\n\t\t\t\t\t\t\t<div :class="[\'ui-icon\', \'ui-icon-file-\'+fileIcon(element)]"><i></i></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-im-element-attach-type-file-block">\n\t\t\t\t\t\t\t<div class="bx-im-element-attach-type-file-name" :title="fileNameFull(element)">\n\t\t\t\t\t\t\t\t{{fileName(element)}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bx-im-element-attach-type-file-size">{{fileSize(element)}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'}};var m={property:"GRID",name:"bx-im-view-element-attach-grid",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},created:function t(){if(n.Utils.platform.isBitrixMobile()){this.maxCellWith=Math.floor(Math.min(screen.availWidth,screen.availHeight)/4)}else{this.maxCellWith=null}},methods:{openLink:function t(e){if(e.LINK){n.Utils.platform.openNewPage(e.LINK)}},getWidth:function t(e){if(this.type!=="row"){return e.WIDTH?e.WIDTH+"px":""}if(!e.VALUE){return false}if(this.maxCellWith&&e.WIDTH>this.maxCellWith){return this.maxCellWith+"px"}return e.WIDTH?e.WIDTH+"px":""},getValue:function t(i){var l=this;if(!i.VALUE){return""}var a=n.Utils.text.htmlspecialchars(i.VALUE);a=a.replace(/\[USER=([0-9]{1,})\](.*?)\[\/USER\]/gi,function(t,e,i){var a=l.$store.getters["users/get"](e);i=a?n.Utils.text.htmlspecialchars(a.name):i;return'<span class="bx-im-mention" data-type="USER" data-value="'+e+'">'+i+"</span>"});return e.MessagesModel.decodeBbCode({text:a})}},computed:{type:function t(){return this.config.GRID[0].DISPLAY.toLowerCase()}},template:'\n\t\t\t<div class="bx-im-element-attach-type-grid">\n\t\t\t\t<template v-if="type === \'block\'">\n\t\t\t\t\t<template v-for="(element, index) in config.GRID">\n\t\t\t\t\t\t<div class="bx-im-element-attach-type-grid-display bx-im-element-attach-type-display-block" :style="{width: getWidth(element)}">\n\t\t\t\t\t\t\t<div class="bx-im-element-attach-type-grid-element-name">{{element.NAME}}</div>\n\t\t\t\t\t\t\t<template v-if="element.LINK">\n\t\t\t\t\t\t\t\t<div class="bx-im-element-attach-type-grid-element-value bx-im-element-attach-type-grid-element-value-link" @click="openLink(element)" v-html="getValue(element)"></div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t<div class="bx-im-element-attach-type-grid-element-value" v-html="getValue(element)"></div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t\t<template v-else-if="type === \'line\'">\n\t\t\t\t\t<template v-for="(element, index) in config.GRID">\n\t\t\t\t\t\t<div class="bx-im-element-attach-type-grid-display bx-im-element-attach-type-display-card" :style="{width: getWidth(element)}">\n\t\t\t\t\t\t\t<div class="bx-im-element-attach-type-grid-element-name">{{element.NAME}}</div>\n\t\t\t\t\t\t\t<template v-if="element.LINK">\n\t\t\t\t\t\t\t\t<div class="bx-im-element-attach-type-grid-element-value bx-im-element-attach-type-grid-element-value-link" @click="openLink(element)" :style="{color: element.COLOR? element.COLOR: \'\'}" v-html="getValue(element)"></div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t<div class="bx-im-element-attach-type-grid-element-value" :style="{color: element.COLOR? element.COLOR: \'\'}" v-html="getValue(element)"></div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t\t<template v-else-if="type === \'row\'">\n\t\t\t\t\t<div class="bx-im-element-attach-type-grid-display bx-im-element-attach-type-display-column">\n\t\t\t\t\t\t<table class="bx-im-element-attach-type-display-column-table">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<template v-for="(element, index) in config.GRID">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<template v-if="element.NAME">\n\t\t\t\t\t\t\t\t\t\t\t<td class="bx-im-element-attach-type-grid-element-name" :colspan="element.VALUE? 1: 2" :style="{width: getWidth(element)}">{{element.NAME}}</td>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t<template v-if="element.VALUE">\n\t\t\t\t\t\t\t\t\t\t\t<template v-if="element.LINK">\n\t\t\t\t\t\t\t\t\t\t\t\t<td class="bx-im-element-attach-type-grid-element-value bx-im-element-attach-type-grid-element-value-link" @click="openLink(element)" :colspan="element.NAME? 1: 2" :style="{color: element.COLOR? element.COLOR: \'\'}" v-html="getValue(element)"></td>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class="bx-im-element-attach-type-grid-element-value" :colspan="element.NAME? 1: 2" :style="{color: element.COLOR? element.COLOR: \'\'}" v-html="getValue(element)"></td>\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'}};var r={property:"HTML",name:"bx-im-view-element-attach-html",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},template:'<div class="bx-im-element-attach-type-html" v-html="config.HTML"></div>'}};var o={property:"IMAGE",name:"bx-im-view-element-attach-image",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},methods:{open:function t(e){if(!e){return false}if(n.Utils.platform.isBitrixMobile()){BXMobileApp.UI.Photo.show({photos:[{url:e}],default_photo:e})}else{window.open(e,"_blank")}},getImageSize:function t(e,n,i){var l;if(e>i){l=i/e}else{l=1}return{width:e*l,height:n*l}},getElementSource:function t(e){return e.PREVIEW?e.PREVIEW:e.LINK},getElementTitle:function t(e){return n.Utils.text.htmlspecialcharsback(e.NAME)},lazyLoadCallback:function t(e){if(!e.element.style.width){e.element.style.width=e.element.offsetWidth+"px"}if(!e.element.style.height){e.element.style.height=e.element.offsetHeight+"px"}},styleFileSizes:function t(e){if(!(e.WIDTH&&e.HEIGHT)){return{maxHeight:"100%",backgroundSize:"contain"}}var n=this.getImageSize(e.WIDTH,e.HEIGHT,250);return{width:n.width+"px",height:n.height+"px",backgroundSize:n.width<100||n.height<100?"contain":"initial"}},styleBoxSizes:function t(e){if(!(e.WIDTH&&e.HEIGHT)){return{height:"150px"}}if(parseInt(this.styleFileSizes(e).height)<=250){return{}}return{height:"280px"}}},template:'\n\t\t\t<div class="bx-im-element-attach-type-image">\n\t\t\t\t<template v-for="(image, index) in config.IMAGE">\n\t\t\t\t\t<div class="bx-im-element-attach-type-image-block" @click="open(image.LINK)" :style="styleBoxSizes(image)" :key="index">\n\t\t\t\t\t\t<img v-bx-lazyload="{callback: lazyLoadCallback}"\n\t\t\t\t\t\t\tclass="bx-im-element-attach-type-image-source"\n\t\t\t\t\t\t\t:data-lazyload-src="getElementSource(image)"\n\t\t\t\t\t\t\t:style="styleFileSizes(image)"\n\t\t\t\t\t\t\t:title="getElementTitle(image)"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'}};var c={property:"LINK",name:"bx-im-view-element-attach-link",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},methods:{getImageConfig:function t(e){return{IMAGE:[{NAME:e.NAME,PREVIEW:e.PREVIEW,WIDTH:e.WIDTH,HEIGHT:e.HEIGHT}]}},getLinkName:function t(e){return e.NAME?e.NAME:e.LINK},openLink:function t(e){if(e.LINK){n.Utils.platform.openNewPage(e.LINK)}}},computed:{imageComponentName:function t(){return o.name}},components:babelHelpers.defineProperty({},o.name,o.component),template:'\n\t\t\t<div class="bx-im-element-attach-type-link">\n\t\t\t\t<template v-for="(element, index) in config.LINK">\n\t\t\t\t\t<div class="bx-im-element-attach-type-link-element" :key="index">\n\t\t\t\t\t\t<div v-if="element.PREVIEW" class="bx-im-element-attach-type-link-image" @click="openLink(element)">\n\t\t\t\t\t\t\t<component :is="imageComponentName" :config="getImageConfig(element)" :color="color"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-im-element-attach-type-link-name" @click="openLink(element)">{{getLinkName(element)}}</div>\n\t\t\t\t\t\t<div v-if="element.DESC" class="bx-im-element-attach-type-link-desc">{{element.DESC}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'}};var s={property:"MESSAGE",name:"bx-im-view-element-attach-message",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},computed:{message:function t(){var i=this;var l=n.Utils.text.htmlspecialchars(this.config.MESSAGE);l=l.replace(/\[USER=([0-9]{1,})\](.*?)\[\/USER\]/gi,function(t,e,l){var a=i.$store.getters["users/get"](e);l=a?n.Utils.text.htmlspecialchars(a.name):l;return'<span class="bx-im-mention" data-type="USER" data-value="'+e+'">'+l+"</span>"});return e.MessagesModel.decodeBbCode({text:l})}},template:'<div class="bx-im-element-attach-type-message" v-html="message"></div>'}};var p={property:"RICH_LINK",name:"bx-im-view-element-attach-rich",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},methods:{getImageConfig:function t(e){return{IMAGE:[{NAME:e.NAME,PREVIEW:e.PREVIEW,WIDTH:e.WIDTH,HEIGHT:e.HEIGHT}]}},openLink:function t(e){if(e.LINK){n.Utils.platform.openNewPage(e.LINK)}}},computed:{imageComponentName:function t(){return o.name}},components:babelHelpers.defineProperty({},o.name,o.component),template:'\n\t\t\t<div class="bx-im-element-attach-type-rich">\n\t\t\t\t<template v-for="(element, index) in config.RICH_LINK">\n\t\t\t\t\t<div class="bx-im-element-attach-type-rich-element" :key="index">\n\t\t\t\t\t\t<div v-if="element.PREVIEW" class="bx-im-element-attach-type-rich-image" @click="openLink(element)">\n\t\t\t\t\t\t\t<component :is="imageComponentName" :config="getImageConfig(element)" :color="color"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-im-element-attach-type-rich-name" @click="openLink(element)">{{element.NAME}}</div>\n\t\t\t\t\t\t<div v-if="element.DESC" class="bx-im-element-attach-type-rich-desc">{{element.DESC}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'}};var d={property:"USER",name:"bx-im-view-element-attach-user",component:{props:{config:{type:Object,default:{}},color:{type:String,default:"transparent"}},methods:{openLink:function t(e){if(e.LINK){n.Utils.platform.openNewPage(e.LINK)}},getAvatarType:function t(e){if(e.AVATAR){return""}var n="user";if(e.AVATAR_TYPE==="CHAT"){n="chat"}else if(e.AVATAR_TYPE==="BOT"){n="bot"}return"bx-im-element-attach-type-user-avatar-type-"+n}},template:'\n\t\t\t<div class="bx-im-element-attach-type-user">\n\t\t\t\t<template v-for="(element, index) in config.USER">\n\t\t\t\t\t<div class="bx-im-element-attach-type-user-body" @click="openLink(element)">\n\t\t\t\t\t\t<div class="bx-im-element-attach-type-user-avatar">\n\t\t\t\t\t\t\t<div :class="[\'bx-im-element-attach-type-user-avatar-type\', getAvatarType(element)]" :style="{backgroundColor: element.AVATAR? \'\': color}">\n\t\t\t\t\t\t\t\t<img v-if="element.AVATAR" \n\t\t\t\t\t\t\t\t\tv-bx-lazyload\n\t\t\t\t\t\t\t\t\tclass="bx-im-element-attach-type-user-avatar-source"\n\t\t\t\t\t\t\t\t\t:data-lazyload-src="element.AVATAR"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-im-element-attach-type-user-name">{{element.NAME}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t'}};function f(t,e){var n;if(typeof Symbol==="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=u(t))||e&&t&&typeof t.length==="number"){if(n)t=n;var i=0;var l=function t(){};return{s:l,n:function e(){if(i>=t.length)return{done:true};return{done:false,value:t[i++]}},e:function t(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,m=false,r;return{s:function e(){n=t[Symbol.iterator]()},n:function t(){var e=n.next();a=e.done;return e},e:function t(e){m=true;r=e},f:function t(){try{if(!a&&n.return!=null)n.return()}finally{if(m)throw r}}}}function u(t,e){if(!t)return;if(typeof t==="string")return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}function h(t,e){if(e==null||e>t.length)e=t.length;for(var n=0,i=new Array(e);n<e;n++){i[n]=t[n]}return i}var v=[l,a,m,r,o,c,s,p,d];var g={};v.forEach(function(t){g[t.name]=t.component});i.Vue.component("bx-im-view-element-attach",{props:{config:{type:Object,default:{}},baseColor:{type:String,default:"#17a3ea"}},methods:{getComponentForBlock:function t(e){var n=f(v),i;try{for(n.s();!(i=n.n()).done;){var l=i.value;if(typeof e[l.property]!=="undefined"){return l.name}}}catch(t){n.e(t)}finally{n.f()}return""}},computed:{color:function t(){if(typeof this.config.COLOR==="undefined"||!this.config.COLOR){return this.baseColor}if(this.config.COLOR==="transparent"){return""}return this.config.COLOR}},components:g,template:'\n\t\t<div class="bx-im-element-attach">\n\t\t\t<div v-if="color" class="bx-im-element-attach-border" :style="{borderColor: color}"></div>\n\t\t\t<div class="bx-im-element-attach-content">\n\t\t\t\t<template v-for="(block, index) in config.BLOCKS">\n\t\t\t\t\t<component :is="getComponentForBlock(block)" :config="block" :color="color" :key="index" />\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX.Messenger.Model,BX.Messenger.Lib,BX);
 



// file: /bitrix/js/im/lib/logger/dist/logger.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};(function(e){"use strict";var n=function(){function e(){babelHelpers.classCallCheck(this,e);this.enabled=null}babelHelpers.createClass(e,[{key:"enable",value:function e(){this.enabled=true;if(typeof window.localStorage!=="undefined"){try{window.localStorage.setItem("bx-messenger-logger","enable")}catch(e){}}return this.enabled}},{key:"disable",value:function e(){this.enabled=false;if(typeof window.localStorage!=="undefined"){try{window.localStorage.removeItem("bx-messenger-logger")}catch(e){}}return this.enabled}},{key:"isEnabled",value:function e(){if(typeof BX!=="undefined"&&typeof BX.VueDevTools!=="undefined"){return true}else if(this.enabled===null){if(typeof window.localStorage!=="undefined"){try{this.enabled=window.localStorage.getItem("bx-messenger-logger")==="enable"}catch(e){}}}return this.enabled===true}},{key:"log",value:function e(){if(this.isEnabled()){var n;(n=console).log.apply(n,arguments)}}},{key:"info",value:function e(){if(this.isEnabled()){var n;(n=console).info.apply(n,arguments)}}},{key:"warn",value:function e(){if(this.isEnabled()){var n;(n=console).warn.apply(n,arguments)}}},{key:"error",value:function e(){var n;(n=console).error.apply(n,arguments)}},{key:"trace",value:function e(){var n;(n=console).trace.apply(n,arguments)}}]);return e}();var l=new n;e.Logger=l})(this.BX.Messenger.Lib=this.BX.Messenger.Lib||{});
 



// file: /bitrix/js/im/view/element/keyboard/dist/keyboard.bundle.js
(function(exports,ui_vue,im_lib_utils,im_lib_logger){"use strict";var _ButtonType=Object.freeze({newline:"NEWLINE",button:"BUTTON"});ui_vue.Vue.component("bx-im-view-element-keyboard",{props:{buttons:{type:Array,default:function t(){return[]}},messageId:{default:0},userId:{default:0},dialogId:{default:0}},data:function t(){return{isMobile:im_lib_utils.Utils.platform.isMobile(),isBlocked:false,localButtons:[]}},created:function t(){this.localButtons=this.prepareButtons(this.buttons)},watch:{buttons:function t(){clearTimeout(this.recoverStateButton);this.isBlocked=false;this.localButtons=this.prepareButtons(this.buttons)}},methods:{click:function click(button){var _this=this;if(this.isBlocked){return false}if(button.DISABLED&&button.DISABLED==="Y"){return false}if(button.ACTION&&button.ACTION_VALUE.toString()){this.$emit("click",{action:"ACTION",params:{dialogId:this.dialogId,messageId:this.messageId,botId:button.BOT_ID,action:button.ACTION,value:button.ACTION_VALUE}})}else if(button.FUNCTION){var execFunction=button.FUNCTION.toString().replace("#MESSAGE_ID#",this.messageId).replace("#DIALOG_ID#",this.dialogId).replace("#USER_ID#",this.userId);eval(execFunction)}else if(button.APP_ID){im_lib_logger.Logger.warn("Messenger keyboard: open app is not implemented.")}else if(button.LINK){if(im_lib_utils.Utils.platform.isBitrixMobile()){app.openNewPage(button.LINK)}else{window.open(button.LINK,"_blank")}}else if(button.WAIT!=="Y"){if(button.BLOCK==="Y"){this.isBlocked=true}button.WAIT="Y";this.$emit("click",{action:"COMMAND",params:{dialogId:this.dialogId,messageId:this.messageId,botId:button.BOT_ID,command:button.COMMAND,params:button.COMMAND_PARAMS}});this.recoverStateButton=setTimeout(function(){_this.isBlocked=false;button.WAIT="N"},1e4)}return true},getStyles:function t(e){var i={};if(e.WIDTH){i["width"]=e.WIDTH+"px"}else if(e.DISPLAY==="BLOCK"){i["width"]="225px"}if(e.BG_COLOR){i["backgroundColor"]=e.BG_COLOR}if(e.TEXT_COLOR){i["color"]=e.TEXT_COLOR}return i},prepareButtons:function t(e){return e.filter(function(t){if(!t.CONTEXT){return true}if(im_lib_utils.Utils.platform.isBitrixMobile()&&t.CONTEXT==="DESKTOP"){return false}if(!im_lib_utils.Utils.platform.isBitrixMobile()&&t.CONTEXT==="MOBILE"){return false}if(!im_lib_utils.Utils.platform.isBitrixMobile()&&(t.ACTION==="DIALOG"||t.ACTION==="CALL")){return false}return true})}},computed:{ButtonType:function t(){return _ButtonType}},template:'\n\t\t<div :class="[\'bx-im-element-keyboard\', {\'bx-im-element-keyboard-mobile\': isMobile}]">\n\t\t\t<template v-for="(button, index) in localButtons">\n\t\t\t\t<div v-if="button.TYPE === ButtonType.newline" class="bx-im-element-keyboard-button-separator"></div>\n\t\t\t\t<span v-else-if="button.TYPE === ButtonType.button" :class="[\n\t\t\t\t\t\'bx-im-element-keyboard-button\', \n\t\t\t\t\t\'bx-im-element-keyboard-button-\'+button.DISPLAY.toLowerCase(), \n\t\t\t\t\t{\n\t\t\t\t\t\t\'bx-im-element-keyboard-button-disabled\': isBlocked || button.DISABLED === \'Y\',\n\t\t\t\t\t\t\'bx-im-element-keyboard-button-progress\': button.WAIT === \'Y\',\n\t\t\t\t\t}\n\t\t\t\t]" @click="click(button)">\n\t\t\t\t\t<span class="bx-im-element-keyboard-button-text bx-im-element-keyboard-button-text" :style="getStyles(button)">{{button.TEXT}}</span>\n\t\t\t\t</span>\n\t\t\t</template>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX,BX.Messenger.Lib,BX.Messenger.Lib);
 



// file: /bitrix/js/im/view/element/chatteaser/dist/chatteaser.bundle.js
(function(t,e,s){"use strict";e.Vue.component("bx-im-view-element-chat-teaser",{props:{messageCounter:{default:0},messageLastDate:{default:0},languageId:{default:"en"}},computed:{localize:function t(){return e.Vue.getFilteredPhrases("IM_MESSENGER_COMMENT_",this.$root.$bitrixMessages)},formattedDate:function t(){return s.Utils.date.format(this.messageLastDate,null,this.$root.$bitrixMessages)},formattedCounter:function t(){return this.messageCounter+" "+s.Utils.text.getLocalizeForNumber("IM_MESSENGER_COMMENT",this.messageCounter,this.languageId,this.$root.$bitrixMessages)}},template:'\n\t\t<div class="bx-im-element-chat-teaser" @click="$emit(\'click\', $event)">\n\t\t\t<span class="bx-im-element-chat-teaser-join">{{localize.IM_MESSENGER_COMMENT_OPEN}}</span>\n\t\t\t<span class="bx-im-element-chat-teaser-comment">\n\t\t\t\t<span class="bx-im-element-chat-teaser-counter">{{formattedCounter}}</span>, {{formattedDate}}\n\t\t\t</span>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX,BX.Messenger.Lib);
 



// file: /bitrix/js/ui/vue/components/reaction/dist/reaction.bundle.js
(function(t,e){"use strict";var i=Object.freeze({none:"none",like:"like",kiss:"kiss",laugh:"laugh",wonder:"wonder",cry:"cry",angry:"angry"});var n=["like","kiss","laugh","wonder","cry","angry"];e.Vue.component("bx-reaction",{props:{values:{default:{}},userId:{default:0},openList:{default:true}},data:function t(){return{localValues:{},userReaction:i.none,buttonAnimate:false}},created:function t(){this.localValues=Object.assign({},this.values)},watch:{values:function t(e){this.localValues=Object.assign({},e)}},methods:{list:function t(){if(this.openList);this.$emit("list",{values:this.localValues})},likeIt:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:i.like;if(this.userReaction===i.none){n=i.like;if(!this.localValues[n]){this.localValues=Object.assign({},this.localValues,babelHelpers.defineProperty({},n,[]))}this.localValues[n].push(this.userId);this.buttonAnimate=true;setTimeout(function(){return e.buttonAnimate=false},400);this.$emit("set",{action:"set",type:n})}else{if(this.localValues[this.userReaction]){this.localValues[this.userReaction]=this.localValues[this.userReaction].filter(function(t){return t!==e.userId})}this.$emit("set",{action:"remove",type:this.userReaction})}}},computed:{types:function t(){var e=this;this.userReaction=i.none;return n.filter(function(t){if(typeof e.localValues[t]==="undefined"||!(e.localValues[t]instanceof Array)||e.localValues[t].length<=0){return false}if(e.userId>0&&e.userReaction===i.none&&e.localValues[t].includes(e.userId)){e.userReaction=t}return true}).map(function(t){return{type:t,count:e.localValues[t].length}})},counter:function t(){return this.types.map(function(t){return t.count}).reduce(function(t,e){return t+e},0)},isTypesShowed:function t(){if(this.counter<=0){return false}if(this.userReaction!==i.none&&this.counter===1){return false}return true},isMobile:function t(){var e=navigator.userAgent.toLowerCase();return e.includes("android")||e.includes("iphone")||e.includes("ipad")||e.includes("bitrixmobile")}},template:'\n\t\t<div :class="[\'ui-vue-reaction\', {\'ui-vue-reaction-mobile\': isMobile}]">\n\t\t\t<transition name="ui-vue-reaction-result-animation">\n\t\t\t\t<div v-if="isTypesShowed" class="ui-vue-reaction-result" @click="list">\n\t\t\t\t\t<transition-group tag="div" class="ui-vue-reaction-result-types" name="ui-vue-reaction-result-type-animation" >\n\t\t\t\t\t\t<span v-for="element in types" :class="[\'ui-vue-reaction-result-type\', \'ui-vue-reaction-icon-\'+element.type]" :key="element.type"></span>\n\t\t\t\t\t</transition-group>\t\n\t\t\t\t\t<div class="ui-vue-reaction-result-counter">{{counter}}</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t\t<div v-if="userId > 0"  class="ui-vue-reaction-button" @click="likeIt">\n\t\t\t\t<div class="ui-vue-reaction-button-container">\n\t\t\t\t\t<div :class="[\'ui-vue-reaction-button-icon\', \'ui-vue-reaction-icon-\'+userReaction, {\'ui-vue-reaction-button-pressed\': buttonAnimate}]"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX);
 



// file: /bitrix/js/im/view/message/body/dist/body.bundle.js
(function(t,e,s,a,n,i,r,o,l,m,c){"use strict";function u(t,e){var s;if(typeof Symbol==="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(s=f(t))||e&&t&&typeof t.length==="number"){if(s)t=s;var a=0;var n=function t(){};return{s:n,n:function e(){if(a>=t.length)return{done:true};return{done:false,value:t[a++]}},e:function t(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,r=false,o;return{s:function e(){s=t[Symbol.iterator]()},n:function t(){var e=s.next();i=e.done;return e},e:function t(e){r=true;o=e},f:function t(){try{if(!i&&s.return!=null)s.return()}finally{if(r)throw o}}}}function f(t,e){if(!t)return;if(typeof t==="string")return p(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor)s=t.constructor.name;if(s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p(t,e)}function p(t,e){if(e==null||e>t.length)e=t.length;for(var s=0,a=new Array(e);s<e;s++){a[s]=t[s]}return a}var g=window.BX;var d=Object.freeze({default:"default",progress:"progress",image:"image",audio:"audio",video:"video",richLink:"richLink"});r.Vue.component("bx-im-view-message-body",{props:{userId:{default:0},dialogId:{default:"0"},chatId:{default:0},messageType:{default:m.MessageType.self},message:{type:Object,default:l.MessagesModel.create().getElementState},user:{type:Object,default:l.UsersModel.create().getElementState},dialog:{type:Object,default:l.DialoguesModel.create().getElementState},files:{type:Object,default:{}},enableReactions:{default:true},showName:{default:true},showAvatar:{default:true},referenceContentBodyClassName:{default:""},referenceContentNameClassName:{default:""}},created:function t(){this.dateFormatFunction=null;this.cacheFormatDate={}},methods:{clickByUserName:function t(e){this.$emit("clickByUserName",e)},clickByUploadCancel:function t(e){this.$emit("clickByUploadCancel",e)},clickByChatTeaser:function t(e){this.$emit("clickByChatTeaser",{message:e.message,event:e})},clickByKeyboardButton:function t(e){this.$emit("clickByKeyboardButton",babelHelpers.objectSpread({message:e.message},e.event))},setReaction:function t(e){this.$emit("setReaction",e)},openReactionList:function t(e){this.$emit("openReactionList",e)},formatDate:function t(e){var s=e.toJSON().slice(0,10);if(this.cacheFormatDate[s]){return this.cacheFormatDate[s]}var a=c.Utils.date.getFormatType(g.Messenger.Const.DateFormat.message,this.$root.$bitrixMessages);this.cacheFormatDate[s]=this._getDateFormat().format(a,e);return this.cacheFormatDate[s]},_getDateFormat:function t(){var e=this;if(this.dateFormatFunction){return this.dateFormatFunction}this.dateFormatFunction=Object.create(g.Main.Date);if(this.$root.$bitrixMessages){this.dateFormatFunction._getMessage=function(t){return e.$root.$bitrixMessages[t]}}return this.dateFormatFunction},isDesktop:function t(){return c.Utils.platform.isBitrixDesktop()},getDesktopVersion:function t(){return c.Utils.platform.getDesktopVersion()},isMobile:function t(){return c.Utils.platform.isBitrixMobile()}},computed:babelHelpers.objectSpread({MessageType:function t(){return m.MessageType},ContentType:function t(){return d},contentType:function t(){if(this.filesData.length>0){var e=false;var s=false;var a=false;var n=false;var i=u(this.filesData),r;try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.progress<0){n=true;break}else if(o.type==="audio"){if(s||e){e=false;s=false;break}a=true}else if(o.type==="image"&&o.image){if(s||a){a=false;s=false;break}e=true}else if(o.type==="video"){if(e||a){a=false;e=false;break}s=true}else{a=false;e=false;s=false;break}}}catch(t){i.e(t)}finally{i.f()}if(n){return d.progress}else if(e){return d.image}else if(a){return d.audio}else if(s){return d.video}}return d.default},localize:function t(){return r.Vue.getFilteredPhrases("IM_MESSENGER_MESSAGE_",this.$root.$bitrixMessages)},formattedDate:function t(){return this.formatDate(this.message.date)},messageText:function t(){var e=this;if(this.isDeleted){return this.localize.IM_MESSENGER_MESSAGE_DELETED}var s=this.message.textConverted;s=s.replace(/\[USER=([0-9]{1,})\](.*?)\[\/USER\]/gi,function(t,s,a){var n=e.$store.getters["users/get"](s);a=n?c.Utils.text.htmlspecialchars(n.name):a;return'<span class="bx-im-mention" data-type="USER" data-value="'+s+'">'+a+"</span>"});return s},messageAttach:function t(){return this.message.params.ATTACH},messageReactions:function t(){return this.message.params.REACTION||{}},isEdited:function t(){return this.message.params.IS_EDITED==="Y"},isDeleted:function t(){return this.message.params.IS_DELETED==="Y"},chatColor:function t(){return this.dialog.type!==m.DialogType.private?this.dialog.color:this.user.color},filesData:function t(){var e=this;var s=[];if(!this.message.params.FILE_ID||this.message.params.FILE_ID.length<=0){return s}this.message.params.FILE_ID.forEach(function(t){if(!t){return false}var a=e.$store.getters["files/get"](e.chatId,t,true);if(!a){e.$store.commit("files/set",{data:[e.$store.getters["files/getBlank"]({id:t,chatId:e.chatId})]});a=e.$store.getters["files/get"](e.chatId,t,true)}if(a){s.push(a)}});return s},keyboardButtons:function t(){var e=false;if(!this.message.params.KEYBOARD||this.message.params.KEYBOARD==="N"){return e}return this.message.params.KEYBOARD},chatTeaser:function t(){if(typeof this.message.params.CHAT_ID==="undefined"||typeof this.message.params.CHAT_LAST_DATE==="undefined"||typeof this.message.params.CHAT_MESSAGE==="undefined"){return false}return{messageCounter:this.message.params.CHAT_MESSAGE,messageLastDate:this.message.params.CHAT_LAST_DATE,languageId:this.application.common.languageId}},userName:function t(){if(this.message.params.NAME){return this.message.params.NAME}if(!this.showAvatar){return this.user.name}else{return this.user.firstName?this.user.firstName:this.user.name}},userColor:function t(){if(this.user.extranet){return"#CA7B00"}return this.user.color}},o.Vuex.mapState({application:function t(e){return e.application}})),template:'\n\t\t<div class="bx-im-message-content-wrap">\n\t\t\t<template v-if="contentType == ContentType.default || contentType == ContentType.audio || contentType == ContentType.progress || (contentType !== ContentType.image && isDesktop() && getDesktopVersion() < 47)">\n\t\t\t\t<div class="bx-im-message-content">\n\t\t\t\t\t<span class="bx-im-message-content-box">\n\t\t\t\t\t\t<div class="bx-im-message-content-name-wrap">\n\t\t\t\t\t\t\t<template v-if="showName && user.extranet && messageType == MessageType.opponent">\n\t\t\t\t\t\t\t\t<div class="bx-im-message-extranet-icon"></div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="showName && messageType == MessageType.opponent">\n\t\t\t\t\t\t\t\t<div :class="[\'bx-im-message-content-name\', referenceContentNameClassName]" :style="{color: userColor}" @click="clickByUserName({user: user, event: $event})">{{userName}}</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div :class="[\'bx-im-message-content-body\', referenceContentBodyClassName]">\n\t\t\t\t\t\t\t<template v-if="(contentType == ContentType.audio) && (!isDesktop() || (isDesktop() && getDesktopVersion() > 43))">\n\t\t\t\t\t\t\t\t<bx-im-view-element-file-audio v-for="file in filesData" :messageType="messageType" :file="file" :key="file.templateId" @uploadCancel="clickByUploadCancel"/>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t<bx-im-view-element-file v-for="file in filesData" :messageType="messageType" :file="file" :key="file.templateId" @uploadCancel="clickByUploadCancel"/>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<div :class="[\'bx-im-message-content-body-wrap\', {\n\t\t\t\t\t\t\t\t\'bx-im-message-content-body-with-text\': messageText.length > 0,\n\t\t\t\t\t\t\t\t\'bx-im-message-content-body-without-text\': messageText.length <= 0,\n\t\t\t\t\t\t\t}]">\n\t\t\t\t\t\t\t\t<template v-if="messageText">\n\t\t\t\t\t\t\t\t\t<span class="bx-im-message-content-text" v-html="messageText"></span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-for="(config, id) in messageAttach">\n\t\t\t\t\t\t\t\t\t<bx-im-view-element-attach :baseColor="chatColor" :config="config" :key="id"/>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<span class="bx-im-message-content-params">\n\t\t\t\t\t\t\t\t\t<span class="bx-im-message-content-date">{{formattedDate}}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div v-if="!message.push && enableReactions && message.authorId" class="bx-im-message-content-reaction">\n\t\t\t\t\t\t<bx-reaction :values="messageReactions" :userId="userId" :openList="false" @set="setReaction({message: message, reaction: $event})" @list="openReactionList({message: message, values: $event.values})"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if="contentType == ContentType.richLink">\n\t\t\t\t\x3c!-- richLink type markup --\x3e\n\t\t\t</template>\n\t\t\t<template v-else-if="contentType == ContentType.image || contentType == ContentType.video">\n\t\t\t\t<div class="bx-im-message-content bx-im-message-content-fit">\n\t\t\t\t\t<span class="bx-im-message-content-box">\n\t\t\t\t\t\t<template v-if="showName && messageType == MessageType.opponent">\n\t\t\t\t\t\t\t<div :class="[\'bx-im-message-content-name\', referenceContentNameClassName]" :style="{color: user.color}" @click="clickByUserName({user: user, event: $event})">{{!showAvatar? user.name: (user.firstName? user.firstName: user.name)}}</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<div :class="[\'bx-im-message-content-body\', referenceContentBodyClassName]">\n\t\t\t\t\t\t\t<template v-if="contentType == ContentType.image">\n\t\t\t\t\t\t\t\t<bx-im-view-element-file-image v-for="file in filesData" :messageType="messageType" :file="file" :key="file.templateId" @uploadCancel="clickByUploadCancel"/>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else-if="contentType == ContentType.video">\n\t\t\t\t\t\t\t\t<bx-im-view-element-file-video v-for="file in filesData" :messageType="messageType" :file="file" :key="file.templateId" @uploadCancel="clickByUploadCancel"/>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<div :class="[\'bx-im-message-content-body-wrap\', {\n\t\t\t\t\t\t\t\t\'bx-im-message-content-body-with-text\': messageText.length > 0,\n\t\t\t\t\t\t\t\t\'bx-im-message-content-body-without-text\': messageText.length <= 0,\n\t\t\t\t\t\t\t}]">\n\t\t\t\t\t\t\t\t<template v-if="messageText">\n\t\t\t\t\t\t\t\t\t<span class="bx-im-message-content-text" v-html="messageText"></span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<span class="bx-im-message-content-params">\n\t\t\t\t\t\t\t\t\t<span class="bx-im-message-content-date">{{formattedDate}}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div v-if="!message.push && enableReactions && message.authorId" class="bx-im-message-content-reaction">\n\t\t\t\t\t\t<bx-reaction :values="messageReactions" :userId="userId" :openList="false" @set="setReaction({message: message, reaction: $event})" @list="openReactionList({message: message, values: $event.values})"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-if="keyboardButtons">\n\t\t\t\t<bx-im-view-element-keyboard :buttons="keyboardButtons" :messageId="message.id" :userId="userId" :dialogId="dialogId" @click="clickByKeyboardButton({message: message, event: $event})"/>\n\t\t\t</template>\n\t\t\t<template v-if="chatTeaser">\n\t\t\t\t<bx-im-view-element-chat-teaser :messageCounter="chatTeaser.messageCounter" :messageLastDate="chatTeaser.messageLastDate" :languageId="chatTeaser.languageId" @click="clickByChatTeaser({message: message, event: $event})"/>\n\t\t\t</template>\n\t\t</div>\n\t'})})(this.window=this.window||{},window,window,window,window,window,BX,BX,BX.Messenger.Model,BX.Messenger.Const,BX.Messenger.Lib);
 



// file: /bitrix/js/im/lib/animation/dist/animation.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};(function(e){"use strict";var n=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"start",value:function e(n){var i=n.start,e=i===void 0?0:i,t=n.end,r=t===void 0?0:t,a=n.increment,o=a===void 0?20:a,s=n.callback,u=s===void 0?function(){}:s,c=n.duration,l=c===void 0?500:c,m=n.element,f=n.elementProperty;var v=r-e;var w=0;var d=function e(n,i,t,r){n/=r/2;if(n<1){return t/2*n*n+i}n--;return-t/2*(n*(n-2)-1)+i};var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)};var h=null;var A=function n(){w+=o;m[f]=d(w,e,v,l);if(w<l){h=b(n)}else{if(u&&typeof u==="function"){u()}}return h};return A()}},{key:"cancel",value:function e(n){var i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)};i(n)}}]);return e}();n.frameIds={};e.Animation=n})(this.BX.Messenger.Lib=this.BX.Messenger.Lib||{});
 



// file: /bitrix/js/im/view/message/dist/message.bundle.js
(function(t,e,s,a,i,n,r){"use strict";a.Vue.component("bx-im-view-message",{props:{userId:{default:0},dialogId:{default:0},chatId:{default:0},enableReactions:{default:true},enableDateActions:{default:true},enableCreateContent:{default:true},enableGestureQuote:{default:true},enableGestureQuoteFromRight:{default:true},enableGestureMenu:{default:false},showAvatar:{default:true},showMenu:{default:true},showName:{default:true},showLargeFont:{default:true},capturedMoveEvent:{default:null},referenceContentClassName:{default:""},referenceContentBodyClassName:{default:""},referenceContentNameClassName:{default:""},dialog:{type:Object,default:s.DialoguesModel.create().getElementState},message:{type:Object,default:s.MessagesModel.create().getElementState}},data:function t(){return{componentBodyId:"bx-im-view-message-body",drag:false,dragWidth:0,dragPosition:0,dragIconShowLeft:false,dragIconShowRight:false}},created:function t(){this.dragStartPositionX=0;this.dragStartPositionY=0;this.dragMovePositionX=0;this.dragMovePositionY=0},beforeDestroy:function t(){clearTimeout(this.dragStartTimeout1);clearTimeout(this.dragStartTimeout2);if(this.dragBackAnimation){r.Animation.cancel(this.dragBackAnimation)}},methods:{clickByAvatar:function t(e){this.$emit("clickByUserName",e)},clickByUserName:function t(e){if(this.showAvatar&&n.Utils.platform.isMobile()){return false}this.$emit("clickByUserName",e)},clickByUploadCancel:function t(e){this.$emit("clickByUploadCancel",e)},clickByKeyboardButton:function t(e){this.$emit("clickByKeyboardButton",e)},clickByChatTeaser:function t(e){this.$emit("clickByChatTeaser",e)},clickByMessageMenu:function t(e){this.$emit("clickByMessageMenu",e)},clickByMessageRetry:function t(e){this.$emit("clickByMessageRetry",e)},setMessageReaction:function t(e){this.$emit("setMessageReaction",e)},openMessageReactionList:function t(e){this.$emit("openMessageReactionList",e)},gestureRouter:function t(e,s){this.gestureQuote(e,s);this.gestureMenu(e,s)},gestureMenu:function t(e,s){var a=this;if(!this.enableGestureMenu){return}if(e==="touchstart"){this.gestureMenuStarted=true;this.gestureMenuPreventTouchEnd=false;if(s.target.tagName==="A"){return false}this.gestureMenuStartPosition={x:s.changedTouches[0].clientX,y:s.changedTouches[0].clientY};this.gestureMenuTimeout=setTimeout(function(){a.gestureMenuPreventTouchEnd=true;a.$emit("clickByMessageMenu",{message:a.message,event:s})},500)}else if(e==="touchmove"){if(!this.gestureMenuStarted){return false}if(Math.abs(this.gestureMenuStartPosition.x-s.changedTouches[0].clientX)>=10||Math.abs(this.gestureMenuStartPosition.y-s.changedTouches[0].clientY)>=10){this.gestureMenuStarted=false;clearTimeout(this.gestureMenuTimeout)}}else if(e==="touchend"){if(!this.gestureMenuStarted){return false}this.gestureMenuStarted=false;clearTimeout(this.gestureMenuTimeout);if(this.gestureMenuPreventTouchEnd){s.preventDefault()}}},gestureQuote:function t(e,s){var a=this;var i=n.Utils.browser.findParent(s.target,"bx-im-message")||s.target;if(!this.enableGestureQuote||n.Utils.platform.isAndroid()){return}var o=this.enableGestureQuoteFromRight;var g=i.getBoundingClientRect().left+s.layerX;var l=i.getBoundingClientRect().top+s.layerY;if(e==="touchstart"){this.dragCheck=true;this.dragStartInitialX=i.getBoundingClientRect().left;this.dragStartInitialY=i.getBoundingClientRect().top;this.dragStartPositionX=g;this.dragStartPositionY=l;this.dragMovePositionX=null;this.dragMovePositionY=null;clearTimeout(this.dragStartTimeout1);clearTimeout(this.dragStartTimeout2);this.dragStartTimeout1=setTimeout(function(){if(a.dragMovePositionX!==null){if(Math.abs(a.dragStartPositionY-a.dragMovePositionY)>=10){a.dragCheck=false}}},29);this.dragStartTimeout2=setTimeout(function(){a.dragCheck=false;if(Math.abs(a.dragStartPositionY-a.dragMovePositionY)>=10){return}if(a.dragMovePositionX===null){return}else if(o&&a.dragStartPositionX-a.dragMovePositionX<9){return}else if(!o&&a.dragStartPositionX-a.dragMovePositionX>9){return}r.Animation.cancel(a.dragBackAnimation);a.drag=true;a.$emit("dragMessage",{result:a.drag,event:s});a.dragWidth=a.$refs.body.offsetWidth},80)}else if(e==="touchmove"){if(this.drag||!this.dragCheck){return false}this.dragMovePositionX=g;this.dragMovePositionY=l}else if(e==="touchend"){clearTimeout(this.dragStartTimeout1);clearTimeout(this.dragStartTimeout2);this.dragCheck=false;if(!this.drag){this.dragIconShowLeft=false;this.dragIconShowRight=false;return}r.Animation.cancel(this.dragBackAnimation);this.drag=false;this.$emit("dragMessage",{result:this.drag,event:s});if(this.enableGestureQuoteFromRight&&this.dragIconShowRight&&this.dragPosition!==0||!this.enableGestureQuoteFromRight&&this.dragIconShowLeft&&this.dragPosition!==this.dragStartInitialX){if(n.Utils.platform.isBitrixMobile()){setTimeout(function(){return app.exec("callVibration")},200)}this.$emit("quoteMessage",{message:this.message})}this.dragIconShowLeft=false;this.dragIconShowRight=false;this.dragBackAnimation=r.Animation.start({start:this.dragPosition,end:this.dragStartInitialX,increment:20,duration:300,element:this,elementProperty:"dragPosition",callback:function t(){a.dragLayerPosition=undefined;a.dragWidth=0;a.dragPosition=0}})}}},watch:{capturedMoveEvent:function t(e){if(!this.drag||!e){return}var s=n.Utils.browser.findParent(e.target,"bx-im-message")||e.target;var a=s.getBoundingClientRect().left+e.layerX;if(typeof this.dragLayerPosition==="undefined"){this.dragLayerPosition=a}var i=this.dragLayerPosition-a;this.dragLayerPosition=a;this.dragPosition=this.dragPosition-i;if(this.enableGestureQuoteFromRight){var r=(this.showAvatar?30:0)+45;var o=this.showAvatar?30:30;if(this.dragPosition<-r){this.dragPosition=-r}else if(this.dragPosition<-o){if(!this.dragIconShowRight){this.dragIconShowRight=true}}else if(this.dragPosition>=0){this.dragPosition=0}}else{var g=60;var l=40;if(this.dragPosition<=this.dragStartInitialX){this.dragPosition=this.dragStartInitialX}else if(this.dragPosition>=g){this.dragPosition=g}else if(this.dragPosition>=l){if(!this.dragIconShowLeft){this.dragIconShowLeft=true}}}}},computed:{MessageType:function t(){return i.MessageType},type:function t(){if(this.message.system||this.message.authorId==0){return i.MessageType.system}else if(this.message.authorId===-1||this.message.authorId==this.userId){return i.MessageType.self}else{return i.MessageType.opponent}},localize:function t(){var t=a.Vue.getFilteredPhrases("IM_MESSENGER_MESSAGE_",this.$root.$bitrixMessages);return Object.freeze(Object.assign({},t,{IM_MESSENGER_MESSAGE_MENU_TITLE:t.IM_MESSENGER_MESSAGE_MENU_TITLE.replace("#SHORTCUT#",n.Utils.platform.isMac()?"CMD":"CTRL")}))},userData:function t(){return this.$store.getters["users/get"](this.message.authorId,true)},userAvatar:function t(){if(this.message.params.AVATAR){return"url('".concat(this.message.params.AVATAR,"')")}if(this.userData.avatar){return"url('".concat(this.userData.avatar,"')")}return""},filesData:function t(){var e=this.$store.getters["files/getList"](this.chatId);return e?e:{}},isEdited:function t(){return this.message.params.IS_EDITED==="Y"},isDeleted:function t(){return this.message.params.IS_DELETED==="Y"},isLargeFont:function t(){return this.showLargeFont&&this.message.params.LARGE_FONT==="Y"}},template:'\n\t\t<div :class="[\'bx-im-message\', {\n\t\t\t\t\'bx-im-message-without-menu\': !showMenu,\n\t\t\t\t\'bx-im-message-without-avatar\': !showAvatar,\n\t\t\t\t\'bx-im-message-type-system\': type === MessageType.system,\n\t\t\t\t\'bx-im-message-type-self\': type === MessageType.self,\n\t\t\t\t\'bx-im-message-type-other\': type !== MessageType.self,\n\t\t\t\t\'bx-im-message-type-opponent\': type === MessageType.opponent,\n\t\t\t\t\'bx-im-message-status-error\': message.error,\n\t\t\t\t\'bx-im-message-status-unread\': message.unread,\n\t\t\t\t\'bx-im-message-status-blink\': message.blink,\n\t\t\t\t\'bx-im-message-status-edited\': isEdited,\n\t\t\t\t\'bx-im-message-status-deleted\': isDeleted,\n\t\t\t\t\'bx-im-message-large-font\': isLargeFont,\n\t\t\t}]" \n\t\t\t@touchstart="gestureRouter(\'touchstart\', $event)"\n\t\t\t@touchmove="gestureRouter(\'touchmove\', $event)"\n\t\t\t@touchend="gestureRouter(\'touchend\', $event)"\n\t\t\tref="body"\n\t\t\t:style="{\n\t\t\t\twidth: dragWidth > 0? dragWidth+\'px\': \'\', \n\t\t\t\tmarginLeft: (enableGestureQuoteFromRight && dragPosition < 0) || (!enableGestureQuoteFromRight && dragPosition > 0)? dragPosition+\'px\': \'\',\n\t\t\t}"\n\t\t>\n\t\t\t<template v-if="type === MessageType.self">\n\t\t\t\t<template v-if="dragIconShowRight">\n\t\t\t\t\t<div class="bx-im-message-reply bx-im-message-reply-right">\n\t\t\t\t\t\t<div class="bx-im-message-reply-icon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template> \n\t\t\t\t<div class="bx-im-message-box">\n\t\t\t\t\t<component :is="componentBodyId"\n\t\t\t\t\t\t:userId="userId" \n\t\t\t\t\t\t:dialogId="dialogId"\n\t\t\t\t\t\t:chatId="chatId"\n\t\t\t\t\t\t:messageType="type"\n\t\t\t\t\t\t:dialog="dialog"\n\t\t\t\t\t\t:message="message"\n\t\t\t\t\t\t:user="userData"\n\t\t\t\t\t\t:files="filesData"\n\t\t\t\t\t\t:showAvatar="showAvatar"\n\t\t\t\t\t\t:showName="showName"\n\t\t\t\t\t\t:enableReactions="enableReactions"\n\t\t\t\t\t\t:referenceContentBodyClassName="referenceContentBodyClassName"\n\t\t\t\t\t\t:referenceContentNameClassName="referenceContentNameClassName"\n\t\t\t\t\t\t@clickByUserName="clickByUserName"\n\t\t\t\t\t\t@clickByUploadCancel="clickByUploadCancel"\n\t\t\t\t\t\t@clickByKeyboardButton="clickByKeyboardButton"\n\t\t\t\t\t\t@clickByChatTeaser="clickByChatTeaser"\n\t\t\t\t\t\t@setReaction="setMessageReaction"\n\t\t\t\t\t\t@openReactionList="openMessageReactionList"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class="bx-im-message-box-status">\n\t\t\t\t\t<template v-if="message.sending">\n\t\t\t\t\t\t<div class="bx-im-message-sending"></div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<transition name="bx-im-message-status-retry">\n\t\t\t\t\t\t<template v-if="!message.sending && message.error && message.retry">\n\t\t\t\t\t\t\t<div class="bx-im-message-status-retry" :title="localize.IM_MESSENGER_MESSAGE_RETRY_TITLE" @click="clickByMessageRetry({message: message, event: $event})">\n\t\t\t\t\t\t\t\t<span class="bx-im-message-retry-icon"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</transition>\n\t\t\t\t\t<template v-if="showMenu && !message.sending && !message.error">\n\t\t\t\t\t\t<div class="bx-im-message-status-menu" :title="localize.IM_MESSENGER_MESSAGE_MENU_TITLE" @click="clickByMessageMenu({message: message, event: $event})">\n\t\t\t\t\t\t\t<span class="bx-im-message-menu-icon"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template> \n\t\t\t\t</div>\n\t\t\t\t<template v-if="dragIconShowLeft">\n\t\t\t\t\t<div class="bx-im-message-reply bx-im-message-reply-left">\n\t\t\t\t\t\t<div class="bx-im-message-reply-icon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template> \n\t\t\t</template>\n\t\t\t<template v-else-if="type !== MessageType.self">\n\t\t\t\t<template v-if="dragIconShowLeft">\n\t\t\t\t\t<div class="bx-im-message-reply bx-im-message-reply-left">\n\t\t\t\t\t\t<div class="bx-im-message-reply-icon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template> \n\t\t\t\t<template v-if="type === MessageType.opponent">\n\t\t\t\t\t<div v-if="showAvatar" class="bx-im-message-avatar" @click="clickByAvatar({user: userData, event: $event})">\n\t\t\t\t\t\t<div :class="[\'bx-im-message-avatar-image\', {\n\t\t\t\t\t\t\t\t\'bx-im-message-avatar-image-default\': !userData.avatar\n\t\t\t\t\t\t\t}]"\n\t\t\t\t\t\t\t:style="{\n\t\t\t\t\t\t\t\tbackgroundColor: !userData.avatar? userData.color: \'\', \n\t\t\t\t\t\t\t\tbackgroundImage: userAvatar\n\t\t\t\t\t\t\t}" \n\t\t\t\t\t\t\t:title="userData.name"\n\t\t\t\t\t\t></div>\t\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<div class="bx-im-message-box">\n\t\t\t\t\t<component :is="componentBodyId"\n\t\t\t\t\t\t:userId="userId" \n\t\t\t\t\t\t:dialogId="dialogId"\n\t\t\t\t\t\t:chatId="chatId"\n\t\t\t\t\t\t:messageType="type"\n\t\t\t\t\t\t:message="message"\n\t\t\t\t\t\t:user="userData"\n\t\t\t\t\t\t:files="filesData"\n\t\t\t\t\t\t:showAvatar="showAvatar"\n\t\t\t\t\t\t:showName="showName"\n\t\t\t\t\t\t:enableReactions="enableReactions"\n\t\t\t\t\t\t:referenceContentBodyClassName="referenceContentBodyClassName"\n\t\t\t\t\t\t:referenceContentNameClassName="referenceContentNameClassName"\n\t\t\t\t\t\t@clickByUserName="clickByUserName"\n\t\t\t\t\t\t@clickByUploadCancel="clickByUploadCancel"\n\t\t\t\t\t\t@clickByKeyboardButton="clickByKeyboardButton"\n\t\t\t\t\t\t@clickByChatTeaser="clickByChatTeaser"\n\t\t\t\t\t\t@setReaction="setMessageReaction"\n\t\t\t\t\t\t@openReactionList="openMessageReactionList"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div v-if="showMenu"  class="bx-im-message-menu" :title="localize.IM_MESSENGER_MESSAGE_MENU_TITLE" @click="clickByMessageMenu({message: message, event: $event})">\n\t\t\t\t\t<span class="bx-im-message-menu-icon"></span>\n\t\t\t\t</div>\t\n\t\t\t\t<template v-if="dragIconShowRight">\n\t\t\t\t\t<div class="bx-im-message-reply bx-im-message-reply-right">\n\t\t\t\t\t\t<div class="bx-im-message-reply-icon"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</template> \n\t\t\t</template>\n\t\t</div>\n\t'})})(this.window=this.window||{},window,BX.Messenger.Model,BX,BX.Messenger.Const,BX.Messenger.Lib,BX.Messenger.Lib);
 



// file: /bitrix/js/im/view/dialog/dist/dialog.bundle.js
(function(t,e,i,s,o,n,a,r,l){"use strict";var c=Object.freeze({message:"message",delimiter:"delimiter",group:"group",historyLoader:"historyLoader",unreadLoader:"unreadLoader",button:"button"});var u=Object.freeze({history:"history",unread:"unread",read:"read",none:"none"});var d=Object.freeze({before:"before",after:"after"});var h=Object.freeze({none:"none",mixed:"mixed",enter:"enter",leave:"leave"});i.Vue.component("bx-im-view-dialog",{props:{userId:{default:0},dialogId:{default:0},chatId:{default:0},messageLimit:{default:20},messageExtraCount:{default:0},listenEventScrollToBottom:{default:""},listenEventRequestHistory:{default:""},listenEventRequestUnread:{default:""},listenEventSendReadMessages:{default:""},enableReadMessages:{default:true},enableReactions:{default:true},enableDateActions:{default:true},enableCreateContent:{default:true},enableGestureQuote:{default:true},enableGestureQuoteFromRight:{default:true},enableGestureMenu:{default:false},showMessageUserName:{default:true},showMessageAvatar:{default:true},showMessageMenu:{default:true}},data:function t(){return{scrollAnimating:false,showScrollButton:false,messageShowCount:0,unreadLoaderShow:false,historyLoaderBlocked:false,historyLoaderShow:true,startMessageLimit:0,templateMessageScrollOffset:20,templateMessageWithNameDifferent:29,TemplateType:c,ObserverType:u,DialogReferenceClassName:n.DialogReferenceClassName,captureMove:false,capturedMoveEvent:null,lastMessageId:null,maxMessageId:null}},created:function t(){this.showScrollButton=this.unreadCounter>0;this.scrollChangedByUser=false;this.scrollButtonDiff=100;this.scrollButtonShowTimeout=null;this.scrollPosition=0;this.scrollPositionChangeTime=(new Date).getTime();this.animationScrollHeightStart=0;this.animationScrollHeightEnd=0;this.animationScrollTop=0;this.animationScrollChange=0;this.animationScrollLastUserId=0;this.animationType=h.none;this.animationCollection=[];this.animationCollectionOffset={};this.animationLastElementBeforeStart=0;this.observers={};this.requestHistoryInterval=null;this.requestUnreadInterval=null;this.lastAuthorId=0;this.firstMessageId=null;this.firstUnreadMessageId=null;this.dateFormatFunction=null;this.cacheGroupTitle={};this.waitLoadHistory=false;this.waitLoadUnread=false;this.skipUnreadScroll=false;this.readMessageQueue=[];this.readMessageTarget={};this.readMessageDelayed=a.Utils.debounce(this.readMessage,50,this);this.requestHistoryBlockIntersect=false;this.requestHistoryDelayed=a.Utils.debounce(this.requestHistory,50,this);this.requestUnreadBlockIntersect=false;this.requestUnreadDelayed=a.Utils.debounce(this.requestUnread,50,this);this.startMessageLimit=this.messageLimit;if(this.listenEventScrollToBottom){i.Vue.event.$on(this.listenEventScrollToBottom,this.onScrollToBottom);this.$root.$on(this.listenEventScrollToBottom,this.onScrollToBottom)}if(this.listenEventRequestHistory){i.Vue.event.$on(this.listenEventRequestHistory,this.onRequestHistoryAnswer);this.$root.$on(this.listenEventRequestHistory,this.onRequestHistoryAnswer)}if(this.listenEventRequestUnread){i.Vue.event.$on(this.listenEventRequestUnread,this.onRequestUnreadAnswer);this.$root.$on(this.listenEventRequestUnread,this.onRequestUnreadAnswer)}if(this.listenEventSendReadMessages){i.Vue.event.$on(this.listenEventSendReadMessages,this.onSendReadMessages);this.$root.$on(this.listenEventSendReadMessages,this.onSendReadMessages)}window.addEventListener("orientationchange",this.onOrientationChange);window.addEventListener("focus",this.onWindowFocus);window.addEventListener("blur",this.onWindowBlur);i.Vue.event.$on("bitrixmobile:controller:focus",this.onWindowFocus);i.Vue.event.$on("bitrixmobile:controller:blur",this.onWindowBlur)},beforeDestroy:function t(){this.observers={};clearTimeout(this.scrollButtonShowTimeout);clearInterval(this.requestHistoryInterval);clearInterval(this.requestUnreadInterval);if(this.listenEventScrollToBottom){i.Vue.event.$off(this.listenEventScrollToBottom,this.onScrollToBottom);this.$root.$off(this.listenEventScrollToBottom,this.onScrollToBottom)}if(this.listenEventRequestHistory){i.Vue.event.$off(this.listenEventRequestHistory,this.onRequestHistoryAnswer);this.$root.$off(this.listenEventRequestHistory,this.onRequestHistoryAnswer)}if(this.listenEventRequestUnread){i.Vue.event.$off(this.listenEventRequestUnread,this.onRequestUnreadAnswer);this.$root.$off(this.listenEventRequestUnread,this.onRequestUnreadAnswer)}if(this.listenEventSendReadMessages){i.Vue.event.$off(this.listenEventSendReadMessages,this.onSendReadMessages);this.$root.$off(this.listenEventSendReadMessages,this.onSendReadMessages)}window.removeEventListener("orientationchange",this.onOrientationChange);window.removeEventListener("focus",this.onWindowFocus);window.removeEventListener("blur",this.onWindowBlur);i.Vue.event.$off("bitrixmobile:controller:focus",this.onWindowFocus);i.Vue.event.$off("bitrixmobile:controller:blur",this.onWindowBlur)},mounted:function t(){var e=f.getFirstUnreadMessage(this.collection);if(e){f.scrollToFirstUnreadMessage(this,this.collection,e,true)}else{var i=this.$refs.body;f.scrollToPosition(this,i.scrollHeight-i.clientHeight)}this.windowFocused=a.Utils.platform.isBitrixMobile()?true:document.hasFocus()},computed:babelHelpers.objectSpread({localize:function t(){return i.Vue.getFilteredPhrases("IM_MESSENGER_DIALOG_",this.$root.$bitrixMessages)},dialog:function t(){var t=this.$store.getters["dialogues/get"](this.dialogId);return t?t:this.$store.getters["dialogues/getBlank"]()},collectionMutationType:function t(){return this.$store.getters["messages/getMutationType"](this.chatId)},collection:function t(){return this.$store.getters["messages/get"](this.chatId)},elementsWithLimit:function t(){var e=this;var i=this.collection.filter(function(t){return t.unread}).length;var s=this.messageExtraCount+this.messageLimit*2;if(i>s){s=i}var o=this.collection.length-s;if(!this.historyLoaderShow||o<0){o=0}var n=o===0?this.collection:this.collection.slice(o,this.collection.length);this.messageShowCount=n.length;this.firstMessageId=null;this.lastMessageId=0;this.maxMessageId=0;this.lastMessageAuthorId=0;var a=[];var r=0;var l={};this.firstUnreadMessageId=0;if(this.messageShowCount>0){n.forEach(function(t){if(e.firstMessageId===null||e.firstMessageId>t.id){e.firstMessageId=t.id}if(e.maxMessageId<t.id){e.maxMessageId=t.id}e.lastMessageId=t.id;var i=e._groupTitle(t.date);if(!l[i.title]){l[i.title]=i.id;a.push(g.getGroup(i.id,i.title))}else if(r!==t.authorId){a.push(g.getDelimiter(t.id))}a.push(t);r=t.authorId;if(t.unread){if(!e.firstUnreadMessageId){e.firstUnreadMessageId=t.id}}});this.lastMessageAuthorId=r}else{this.firstMessageId=0}if(this.collection.length>=this.messageLimit&&this.collection.length>=this.messageShowCount&&this.historyLoaderBlocked===false){this.historyLoaderShow=true}else{this.historyLoaderShow=false}if(this.dialog.unreadLastId>this.maxMessageId){this.unreadLoaderShow=true}else{this.unreadLoaderShow=false}return a},statusWriting:function t(){var e=this;clearTimeout(this.scrollToTimeout);if(this.dialog.writingList.length===0){return""}if(!this.scrollChangedByUser&&!this.showScrollButton){this.scrollToTimeout=setTimeout(function(){return e.scrollTo({duration:500})},300)}return this.localize.IM_MESSENGER_DIALOG_WRITES_MESSAGE.replace("#USER#",this.dialog.writingList.map(function(t){return t.userName}).join(", "))},statusReaded:function t(){var e=this;clearTimeout(this.scrollToTimeout);if(this.dialog.readedList.length===0){return""}var i="";if(this.dialog.type===n.DialogType.private){var s=this.dialog.readedList[0];if(s.messageId===this.lastMessageId&&s.userId!==this.lastMessageAuthorId){var o=a.Utils.date.getFormatType(BX.Messenger.Const.DateFormat.readedTitle,this.$root.$bitrixMessages);i=this.localize.IM_MESSENGER_DIALOG_MESSAGES_READED_USER.replace("#DATE#",this._getDateFormat().format(o,s.date))}}else{var r=this.dialog.readedList.filter(function(t){return t.messageId===e.lastMessageId&&t.userId!==e.lastMessageAuthorId});if(r.length===1){i=this.localize.IM_MESSENGER_DIALOG_MESSAGES_READED_CHAT.replace("#USERS#",r[0].userName)}else if(r.length>1){i=this.localize.IM_MESSENGER_DIALOG_MESSAGES_READED_CHAT.replace("#USERS#",this.localize.IM_MESSENGER_DIALOG_MESSAGES_READED_CHAT_PLURAL.replace("#USER#",r[0].userName).replace("#COUNT#",r.length-1).replace("[LINK]","").replace("[/LINK]",""))}}if(!i){return""}if(!this.scrollChangedByUser&&!this.showScrollButton){this.scrollToTimeout=setTimeout(function(){return e.scrollTo({duration:500})},300)}return i},unreadCounter:function t(){return this.dialog.counter>999?999:this.dialog.counter},scrollBlocked:function t(){if(this.application.device.type!==n.DeviceType.mobile){return false}return this.scrollAnimating||this.captureMove},isDarkBackground:function t(){return this.application.options.darkBackground},isMobile:function t(){return this.application.device.type===n.DeviceType.mobile},AnimationType:function t(){return h}},s.Vuex.mapState({application:function t(e){return e.application}})),methods:{onDialogClick:function t(e){if(i.Vue.testNode(e.target,{className:"bx-im-message-command"})){this.onCommandClick(e)}else if(i.Vue.testNode(e.target,{className:"bx-im-mention"})){this.onMentionClick(e)}this.windowFocused=true;this.$emit("click",{event:e})},onDialogMove:function t(e){if(!this.captureMove){return}this.capturedMoveEvent=e},onCommandClick:function t(e){var i="";if(e.target.dataset.entity==="send"||e.target.dataset.entity==="put"){i=e.target.nextSibling.innerHTML}else if(e.target.dataset.entity==="call"){i=e.target.dataset.command}this.$emit("clickByCommand",{type:e.target.dataset.entity,value:i,event:e})},onMentionClick:function t(e){this.$emit("clickByMention",{type:e.target.dataset.type,value:e.target.dataset.value,event:e})},onScroll:function t(e){var i=this;clearTimeout(this.scrollToTimeout);this.scrollPosition=e.target.scrollTop;this.scrollPositionChangeTime=(new Date).getTime();this.scrollChangedByUser=!(e.target.scrollTop+this.scrollButtonDiff>=e.target.scrollHeight-e.target.clientHeight);clearTimeout(this.scrollButtonShowTimeout);this.scrollButtonShowTimeout=setTimeout(function(){if(i.scrollChangedByUser){if(!i.showScrollButton){i.showScrollButton=true}}else{if(i.showScrollButton&&!i.unreadLoaderShow){i.showScrollButton=false}}},200);if(e.target.scrollTop===e.target.scrollHeight-e.target.offsetHeight){clearTimeout(this.scrollButtonShowTimeout);if(this.showScrollButton&&!this.unreadLoaderShow){this.showScrollButton=false}}},scrollToBottom:function t(){var e=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var s=i.force,o=s===void 0?false:s,n=i.cancelIfScrollChange,a=n===void 0?false:n,r=i.duration,l=r===void 0?null:r;if(a&&this.scrollChangedByUser){return false}var c=this.$refs.body;if(this.dialog.counter>0){var u=this.dialog.counter>1&&this.firstUnreadMessageId?this.firstUnreadMessageId:this.lastMessageId;f.scrollToFirstUnreadMessage(this,this.collection,u);if(this.dialog.counter<this.startMessageLimit){this.historyLoaderShow=true;this.historyLoaderBlocked=false}return true}this.showScrollButton=false;if(o){f.scrollToPosition(this,c.scrollHeight-c.clientHeight);if(this.messageExtraCount){this.$store.commit("application/clearDialogExtraCount")}this.historyLoaderShow=true;this.historyLoaderBlocked=false}else{var d={};if(l){d.duration=l}this.scrollTo(babelHelpers.objectSpread({callback:function t(){if(e.messageExtraCount){e.$store.commit("application/clearDialogExtraCount")}e.historyLoaderShow=true;e.historyLoaderBlocked=false}},d))}},scrollTo:function t(){var e=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.animateScrollId){r.Animation.cancel(this.animateScrollId);this.scrollAnimating=false}if(typeof i==="function"){i={callback:i}}var s=this.$refs.body;if(!s){if(i.callback&&typeof i.callback==="function"){i.callback()}this.animateScrollId=null;this.scrollAnimating=false;return true}if(a.Utils.platform.isIos()&&a.Utils.platform.getIosVersion()>12&&a.Utils.platform.getIosVersion()<13.2){s.scrollTop=s.scrollHeight-s.clientHeight;return true}var o=i,n=o.start,c=n===void 0?s.scrollTop:n,u=o.end,d=u===void 0?s.scrollHeight-s.clientHeight:u,h=o.increment,f=h===void 0?20:h,g=o.callback,m=o.duration,v=m===void 0?500:m;var p=this.$refs.container;if(p&&d-c>p.offsetHeight*3){c=d-p.offsetHeight*3;l.Logger.warn("Dialog.scrollTo: Scroll trajectory has been reduced")}this.scrollAnimating=true;l.Logger.warn("Dialog.scrollTo: User scroll blocked while scrolling");this.animateScrollId=r.Animation.start({start:c,end:d,increment:f,duration:v,element:s,elementProperty:"scrollTop",callback:function t(){e.animateScrollId=null;e.scrollAnimating=false;if(g&&typeof g==="function"){g()}}})},onScrollToBottom:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.force=e.force===true;e.cancelIfScrollChange=e.cancelIfScrollChange===true;if(this.firstUnreadMessageId){l.Logger.warn("Dialog.onScrollToBottom: canceled - unread messages");return false}this.scrollToBottom(e);return true},onOrientationChange:function t(){var e=this;clearTimeout(this.scrollToTimeout);if(this.application.device.type!==n.DeviceType.mobile){return false}l.Logger.log("Orientation changed");if(!this.scrollChangedByUser){this.scrollToTimeout=setTimeout(function(){return e.scrollToBottom({force:true})},300)}},onWindowFocus:function t(){this.windowFocused=true;this.readMessage();return true},onWindowBlur:function t(){this.windowFocused=false},requestHistory:function t(){var e=this;if(!this.requestHistoryBlockIntersect){return false}if(this.waitLoadHistory||!this.windowFocused||this.animateScrollId){this.requestHistoryDelayed();return false}if(this.scrollPositionChangeTime+100>(new Date).getTime()){this.requestHistoryDelayed();return true}this.waitLoadHistory=true;clearTimeout(this.waitLoadHistoryTimeout);this.waitLoadHistoryTimeout=setTimeout(function(){e.waitLoadHistory=false},1e4);var i=this.collection.length;var s=this.messageShowCount;if(i>s){var o=this.$refs.body.getElementsByClassName(n.DialogReferenceClassName.listItem)[0];this.$store.commit("application/increaseDialogExtraCount",{count:this.startMessageLimit});f.scrollToElementAfterLoadHistory(this,o);return true}this.$emit("requestHistory",{lastId:this.firstMessageId})},requestUnread:function t(){if(!this.requestUnreadBlockIntersect){return false}if(this.waitLoadUnread||!this.windowFocused||this.animateScrollId){this.requestUnreadDelayed();return false}if(this.scrollPositionChangeTime+10>(new Date).getTime()){this.requestUnreadDelayed();return true}this.waitLoadUnread=true;this.skipUnreadScroll=true;this.$emit("requestUnread",{lastId:this.lastMessageId})},onRequestHistoryAnswer:function t(){var e=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(i.error){this.historyLoaderBlocked=false}else{this.historyLoaderBlocked=i.count<this.startMessageLimit;this.$store.commit("application/increaseDialogExtraCount",{count:i.count})}if(this.historyLoaderBlocked){this.historyLoaderShow=false}var s=this.$refs.body.getElementsByClassName(n.DialogReferenceClassName.listItem)[0];if(i.count>0){if(s){f.scrollToElementAfterLoadHistory(this,s)}}else if(i.error){s.scrollIntoView(true)}else{f.scrollToPosition(this,0)}clearTimeout(this.waitLoadHistoryTimeout);this.waitLoadHistoryTimeout=setTimeout(function(){e.waitLoadHistory=false},1e3);return true},onRequestUnreadAnswer:function t(){var e=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(i.error){this.historyLoaderBlocked=false}else{if(i.count<this.startMessageLimit){this.unreadLoaderShow=false}this.$store.commit("application/increaseDialogExtraCount",{count:i.count})}var s=this.$refs.body;if(i.count>0);else if(i.error){var o=this.$refs.body.getElementsByClassName(n.DialogReferenceClassName.listUnreadLoader)[0];if(o){f.scrollToPosition(this,s.scrollTop-o.offsetHeight*2)}else{f.scrollToPosition(this,s.scrollHeight-s.clientHeight)}}else{f.scrollToPosition(this,s.scrollHeight-s.clientHeight)}setTimeout(function(){return e.waitLoadUnread=false},1e3);return true},onSendReadMessages:function t(){this.readMessageDelayed();return true},readMessage:function t(){var e=this;if(!this.windowFocused){return false}this.readMessageQueue=this.readMessageQueue.filter(function(t){if(e.readMessageTarget[t]){if(e.observers[u.read]){e.observers[u.read].unobserve(e.readMessageTarget[t])}delete e.readMessageTarget[t]}e.requestReadMessage(t);return false})},requestReadMessage:function t(e){this.$emit("readMessage",{id:e})},onClickByUserName:function t(e){if(!this.windowFocused){return false}this.$emit("clickByUserName",e)},onClickByUploadCancel:function t(e){if(!this.windowFocused){return false}this.$emit("clickByUploadCancel",e)},onClickByKeyboardButton:function t(e){if(!this.windowFocused){return false}this.$emit("clickByKeyboardButton",e)},onClickByChatTeaser:function t(e){this.$emit("clickByChatTeaser",e)},onClickByMessageMenu:function t(e){if(!this.windowFocused){return false}this.$emit("clickByMessageMenu",e)},onClickByMessageRetry:function t(e){if(!this.windowFocused){return false}this.$emit("clickByMessageRetry",e)},onClickByReadedList:function t(e){var i=this;var s=this.dialog.readedList.filter(function(t){return t.messageId===i.lastMessageId&&t.userId!==i.lastMessageAuthorId});this.$emit("clickByReadedList",{list:s,event:e})},onMessageReactionSet:function t(e){this.$emit("setMessageReaction",e)},onMessageReactionListOpen:function t(e){this.$emit("openMessageReactionList",e)},onDragMessage:function t(e){if(!this.windowFocused){return false}this.captureMove=e.result;if(!e.result){this.capturedMoveEvent=null}},onQuoteMessage:function t(e){if(!this.windowFocused){return false}this.$emit("quoteMessage",e)},_getDateFormat:function t(){var e=this;if(this.dateFormatFunction){return this.dateFormatFunction}this.dateFormatFunction=Object.create(BX.Main.Date);if(this.$root.$bitrixMessages){this.dateFormatFunction._getMessage=function(t){return e.$root.$bitrixMessages[t]}}return this.dateFormatFunction},_groupTitle:function t(e){var i=f.getDateFormat(e);if(this.cacheGroupTitle[i]){return{id:i,title:this.cacheGroupTitle[i]}}var s=a.Utils.date.getFormatType(BX.Messenger.Const.DateFormat.groupTitle,this.$root.$bitrixMessages);this.cacheGroupTitle[i]=this._getDateFormat().format(s,e);return{id:i,title:this.cacheGroupTitle[i]}},animationTrigger:function t(e,i,s){var o=this;var a=s.dataset.templateId;var r=s.dataset.type;var l=this.$refs.body;if(!l||!a){return false}if(i){if(!this.animationScrollHeightStart){this.animationScrollHeightStart=l.scrollHeight;this.animationScrollHeightEnd=l.scrollHeight;this.animationScrollTop=l.scrollTop;this.animationScrollChange=0;clearTimeout(this.scrollToTimeout);this.scrollChangedByUser=!(l.scrollTop+this.scrollButtonDiff>=l.scrollHeight-l.clientHeight);if(this.scrollChangedByUser&&!this.showScrollButton&&this.unreadCounter>1){this.showScrollButton=true}}}else{this.animationScrollHeightEnd=l.scrollHeight}if(!this.collectionMutationType.applied&&this.collectionMutationType.initialType!==n.MutationType.set){if(i){this.animationCollection.push(a)}else{this.animationCollection=this.animationCollection.filter(function(t){delete o.animationCollectionOffset[a];return t!==a})}this.animationStart();return false}if(!this.collectionMutationType.applied&&this.collectionMutationType.initialType===n.MutationType.set&&this.collectionMutationType.appliedType===n.MutationType.setBefore){var u=f.getFirstUnreadMessage(this.collection);if(u){f.scrollToFirstUnreadMessage(this,this.collection,u,true);return false}f.scrollToPosition(this,l.scrollHeight-l.clientHeight);if(i){this.animationCollection.push(a)}else{this.animationCollection=this.animationCollection.filter(function(t){delete o.animationCollectionOffset[a];return t!==a})}this.animationStart();return false}if(i){if(e===h.leave){this.animationCollectionOffset[a]=s.offsetHeight}if(this.animationType===h.none){this.animationType=e}else if(this.animationType!==e){this.animationType=h.mixed}this.animationCollection.push(a)}else{if(e===h.enter){var d=s.offsetHeight;this.animationScrollChange+=d;l.scrollTop+=d}else if(e===h.leave){var g=this.animationCollectionOffset[a]?this.animationCollectionOffset[a]:0;this.animationScrollChange-=g;l.scrollTop-=g;this.animationScrollLastIsDelimeter=r!==c.message}this.animationCollection=this.animationCollection.filter(function(t){delete o.animationCollectionOffset[a];return t!==a})}this.animationStart()},animationStart:function t(){var e=this;if(this.animationCollection.length>0){return false}var i=this.$refs.body;if(this.animationType===h.leave){var s=0;if(i.scrollTop!==this.animationScrollTop+this.animationScrollChange){s=this.animationScrollTop+this.animationScrollChange}else{s=i.scrollTop}if(!this.animationScrollLastIsDelimeter){s+=this.templateMessageWithNameDifferent}if(s!==i.scrollTop){f.scrollToPosition(this,s)}}else if(this.animationType===h.mixed){var o=f.getFirstUnreadMessage(this.collection);if(o){f.scrollToFirstUnreadMessage(this,this.collection,o,true)}}this.animationType=h.none;this.animationScrollHeightStart=0;this.animationScrollHeightEnd=0;this.animationScrollTop=0;this.animationScrollChange=0;if(f.scrollByMutationType(this)){return false}if(this.scrollChangedByUser){l.Logger.warn("Dialog.animationStart: canceled: scroll changed by user");return false}if(this.unreadCounter>0&&this.firstUnreadMessageId){if(this.skipUnreadScroll){this.skipUnreadScroll=false;return}f.scrollToFirstUnreadMessage(this,this.collection,this.firstUnreadMessageId);return}this.scrollTo(function(){if(e.unreadCounter<=0&&e.messageExtraCount){e.$store.commit("application/clearDialogExtraCount")}})}},directives:{"bx-im-directive-dialog-observer":{inserted:function t(e,i,s){if(i.value===u.none){return false}if(!s.context.observers[i.value]){s.context.observers[i.value]=f.getMessageLoaderObserver({type:i.value,context:s.context})}s.context.observers[i.value].observe(e);return true},unbind:function t(e,i,s){if(i.value===u.none){return true}if(s.context.observers[i.value]){s.context.observers[i.value].unobserve(e)}return true}}},template:'\n\t\t<div class="bx-im-dialog" @click="onDialogClick" @touchmove="onDialogMove" ref="container">\t\n\t\t\t<div :class="[DialogReferenceClassName.listBody, {\n\t\t\t\t\'bx-im-dialog-list-scroll-blocked\': scrollBlocked, \n\t\t\t\t\'bx-im-dialog-dark-background\': isDarkBackground,\n\t\t\t\t\'bx-im-dialog-mobile\': isMobile,\n\t\t\t}]" @scroll.passive="onScroll" ref="body">\n\t\t\t\t<template v-if="historyLoaderShow">\n\t\t\t\t\t<div class="bx-im-dialog-load-more bx-im-dialog-load-more-history" v-bx-im-directive-dialog-observer="ObserverType.history">\n\t\t\t\t\t\t<span class="bx-im-dialog-load-more-text">{{ localize.IM_MESSENGER_DIALOG_LOAD_MESSAGES }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<transition-group \n\t\t\t\t\ttag="div" class="bx-im-dialog-list-box" name="bx-im-dialog-message-animation" \n\t\t\t\t\t@before-enter="animationTrigger(AnimationType.enter, true, $event)" \n\t\t\t\t\t@after-enter="animationTrigger(AnimationType.enter, false, $event)" \n\t\t\t\t\t@before-leave="animationTrigger(AnimationType.leave, true, $event)" \n\t\t\t\t\t@after-leave="animationTrigger(AnimationType.leave, false, $event)"\n\t\t\t\t>\n\t\t\t\t\t<template v-for="element in elementsWithLimit">\n\t\t\t\t\t\t<template v-if="element.templateType == TemplateType.message">\n\t\t\t\t\t\t\t<div :class="[\'bx-im-dialog-list-item\', DialogReferenceClassName.listItem, DialogReferenceClassName.listItem+\'-\'+element.id]" :data-message-id="element.id" :data-template-id="element.templateId" :data-type="element.templateType" :key="element.templateId" v-bx-im-directive-dialog-observer="element.unread? ObserverType.read: ObserverType.none">\t\t\t\n\t\t\t\t\t\t\t\t<component :is="element.params.COMPONENT_ID"\n\t\t\t\t\t\t\t\t\t:userId="userId" \n\t\t\t\t\t\t\t\t\t:dialogId="dialogId"\n\t\t\t\t\t\t\t\t\t:chatId="chatId"\n\t\t\t\t\t\t\t\t\t:dialog="dialog"\n\t\t\t\t\t\t\t\t\t:message="element"\n\t\t\t\t\t\t\t\t\t:enableReactions="enableReactions"\n\t\t\t\t\t\t\t\t\t:enableDateActions="enableDateActions"\n\t\t\t\t\t\t\t\t\t:enableCreateContent="showMessageMenu"\n\t\t\t\t\t\t\t\t\t:enableGestureQuote="enableGestureQuote"\n\t\t\t\t\t\t\t\t\t:enableGestureQuoteFromRight="enableGestureQuoteFromRight"\n\t\t\t\t\t\t\t\t\t:enableGestureMenu="enableGestureMenu"\n\t\t\t\t\t\t\t\t\t:showName="showMessageUserName"\n\t\t\t\t\t\t\t\t\t:showAvatar="showMessageAvatar"\n\t\t\t\t\t\t\t\t\t:showMenu="showMessageMenu"\n\t\t\t\t\t\t\t\t\t:capturedMoveEvent="capturedMoveEvent"\n\t\t\t\t\t\t\t\t\t:referenceContentClassName="DialogReferenceClassName.listItem"\n\t\t\t\t\t\t\t\t\t:referenceContentBodyClassName="DialogReferenceClassName.listItemBody"\n\t\t\t\t\t\t\t\t\t:referenceContentNameClassName="DialogReferenceClassName.listItemName"\n\t\t\t\t\t\t\t\t\t@clickByUserName="onClickByUserName"\n\t\t\t\t\t\t\t\t\t@clickByUploadCancel="onClickByUploadCancel"\n\t\t\t\t\t\t\t\t\t@clickByKeyboardButton="onClickByKeyboardButton"\n\t\t\t\t\t\t\t\t\t@clickByChatTeaser="onClickByChatTeaser"\n\t\t\t\t\t\t\t\t\t@clickByMessageMenu="onClickByMessageMenu"\n\t\t\t\t\t\t\t\t\t@clickByMessageRetry="onClickByMessageRetry"\n\t\t\t\t\t\t\t\t\t@setMessageReaction="onMessageReactionSet"\n\t\t\t\t\t\t\t\t\t@openMessageReactionList="onMessageReactionListOpen"\n\t\t\t\t\t\t\t\t\t@dragMessage="onDragMessage"\n\t\t\t\t\t\t\t\t\t@quoteMessage="onQuoteMessage"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if="element.templateType == TemplateType.group">\n\t\t\t\t\t\t\t<div class="bx-im-dialog-group" :data-template-id="element.templateId" :data-type="element.templateType" :key="element.templateId">\n\t\t\t\t\t\t\t\t<div class="bx-im-dialog-group-date">{{ element.text }}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if="element.templateType == TemplateType.delimiter">\n\t\t\t\t\t\t\t<div class="bx-im-dialog-delimiter" :data-template-id="element.templateId" :data-type="element.templateType" :key="element.templateId"></div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\t\t\t\t</transition-group>\n\t\t\t\t<template v-if="unreadLoaderShow">\n\t\t\t\t\t<div :class="[\'bx-im-dialog-load-more\', \'bx-im-dialog-load-more-unread\', DialogReferenceClassName.listUnreadLoader]" v-bx-im-directive-dialog-observer="ObserverType.unread">\n\t\t\t\t\t\t<span class="bx-im-dialog-load-more-text">{{ localize.IM_MESSENGER_DIALOG_LOAD_MESSAGES }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<transition name="bx-im-dialog-status">\n\t\t\t\t\t<template v-if="statusWriting">\n\t\t\t\t\t\t<div class="bx-im-dialog-status">\n\t\t\t\t\t\t\t<span class="bx-im-dialog-status-writing"></span>\n\t\t\t\t\t\t\t{{ statusWriting }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else-if="statusReaded">\n\t\t\t\t\t\t<div class="bx-im-dialog-status" @click="onClickByReadedList">\n\t\t\t\t\t\t\t{{ statusReaded }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t\t<transition name="bx-im-dialog-scroll-button">\n\t\t\t\t<div v-show="showScrollButton || unreadLoaderShow && unreadCounter" class="bx-im-dialog-scroll-button-box" @click="scrollToBottom()">\n\t\t\t\t\t<div class="bx-im-dialog-scroll-button">\n\t\t\t\t\t\t<div v-show="unreadCounter" class="bx-im-dialog-scroll-button-counter">\n\t\t\t\t\t\t\t<div class="bx-im-dialog-scroll-button-counter-digit">{{unreadCounter}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-im-dialog-scroll-button-arrow"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t'});var f={getDateFormat:function t(e){return e.toJSON().slice(0,10)},scrollToMessage:function t(e,i){var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var r=e.$refs.body;var l=r.getElementsByClassName(n.DialogReferenceClassName.listItem+"-"+s)[0];var c=0;if(!l){if(a){c=10}else{c=r.scrollHeight-r.clientHeight}}else if(a){c=l.offsetTop-e.templateMessageScrollOffset/2}else{c=l.offsetTop+l.offsetHeight-r.clientHeight+e.templateMessageScrollOffset/2}if(o){this.scrollToPosition(e,c)}else{e.scrollTo({end:c})}return true},getFirstUnreadMessage:function t(e){var i=null;for(var s=e.length-1;s>=0;s--){if(!e[s].unread){break}i=e[s].id}return i},scrollToPosition:function t(e,i){var s=e.$refs.body;if(!s){return false}if(e.animateScrollId){r.Animation.cancel(e.animateScrollId);this.scrollAnimating=false;e.animateScrollId=null}s.scrollTop=i},scrollByMutationType:function t(e){if(e.collectionMutationType.applied||e.collectionMutationType.initialType!==n.MutationType.set){return false}e.$store.dispatch("messages/applyMutationType",{chatId:e.chatId});if(e.collectionMutationType.appliedType===n.MutationType.setBefore){var i=e.$refs.body;this.scrollToPosition(e,i.scrollHeight-i.clientHeight);return true}if(e.collectionMutationType.scrollMessageId>0){var s=f.getFirstUnreadMessage(e.collection);var o=e.collectionMutationType.scrollMessageId;var a=!e.collectionMutationType.scrollStickToTop;var r=e.collectionMutationType.scrollStickToTop;if(s&&o>s){r=true;a=true;o=s;s=null}f.scrollToMessage(e,e.collection,o,a,r);if(s){f.scrollToMessage(e,e.collection,s);return true}}return false},scrollToFirstUnreadMessage:function t(e,i){var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=e.$refs.body;var r=false;if(s!==null){r=a.getElementsByClassName(n.DialogReferenceClassName.listItem+"-"+s)[0]}if(!r){s=this.getFirstUnreadMessage(i)}this.scrollToMessage(e,i,s,o)},scrollToElementAfterLoadHistory:function t(e,i){var s=this;var o=i.getElementsByClassName(n.DialogReferenceClassName.listItemBody)[0];if(o){i=o}var a=i.getBoundingClientRect().top;e.$nextTick(function(){clearTimeout(e.waitLoadHistoryTimeout);e.waitLoadHistoryTimeout=setTimeout(function(){e.waitLoadHistory=false},1e3);if(!i){return false}s.scrollToPosition(e,i.getBoundingClientRect().top-a)})},scrollToElementAfterLoadUnread:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;e.showScrollButton=true;if(i){this.scrollToMessage(e,e.collection,i,false,false)}},getMessageLoaderObserver:function t(e){if(typeof window.IntersectionObserver==="undefined"||e.value===u.none){return{observe:function t(){},unobserve:function t(){}}}var i,s;if(e.type===u.read){i=function t(i,s){i.forEach(function(t){var i=false;if(t.isIntersecting){if(t.intersectionRatio>=1){i=true}else if(t.intersectionRatio>0&&t.rootBounds.height<t.boundingClientRect.height+20&&t.intersectionRect.height>t.rootBounds.height/2){i=true}}if(i){e.context.readMessageQueue.push(t.target.dataset.messageId);e.context.readMessageTarget[t.target.dataset.messageId]=t.target}else{e.context.readMessageQueue=e.context.readMessageQueue.filter(function(e){return e!==t.target.dataset.messageId});delete e.context.readMessageTarget[t.target.dataset.messageId]}if(e.context.enableReadMessages){e.context.readMessageDelayed()}})};s={root:e.context.$refs.body,threshold:new Array(101).fill(0).map(function(t,e){return e*.01})}}else{i=function t(i,s){i.forEach(function(t){if(t.isIntersecting){if(e.type===u.unread){e.context.requestUnreadBlockIntersect=true;e.context.requestUnreadDelayed()}else{e.context.requestHistoryBlockIntersect=true;e.context.requestHistoryDelayed()}}else{if(e.type===u.unread){e.context.requestUnreadBlockIntersect=false}else{e.context.requestHistoryBlockIntersect=false}}})};s={root:e.context.$refs.body,threshold:[0,.01,.99,1]}}return new IntersectionObserver(i,s)}};var g={getDelimiter:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return{templateId:"delimiter"+e,templateType:c.delimiter}},getGroup:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return{templateId:"group"+e,templateType:c.group,text:i}},getHistoryLoader:function t(){return{templateId:"historyLoader",templateType:c.historyLoader}},getUnreadLoader:function t(){return{templateId:"unreadLoader",templateType:c.unreadLoader}},getLoadButton:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:d.before;return{templateId:"loadButton"+e+s,templateType:c.button,text:i,type:s,messageId:e}}}})(this.window=this.window||{},BX,BX,BX,window,BX.Messenger.Const,BX.Messenger.Lib,BX.Messenger.Lib,BX.Messenger.Lib);
 



// file: /bitrix/js/im/lib/localstorage/dist/localstorage.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};(function(e){"use strict";var t=function(){function e(){babelHelpers.classCallCheck(this,e);this.enabled=null;this.expireList=null;this.expireInterval=null}babelHelpers.createClass(e,[{key:"isEnabled",value:function e(){if(this.enabled!==null){return this.enabled}this.enabled=false;if(typeof window.localStorage!=="undefined"){try{window.localStorage.setItem("__bx_test_ls_feature__","ok");if(window.localStorage.getItem("__bx_test_ls_feature__")==="ok"){window.localStorage.removeItem("__bx_test_ls_feature__");this.enabled=true}}catch(e){}}if(this.enabled&&!this.expireInterval){try{var t=window.localStorage.getItem("bx-messenger-localstorage-expire");if(t){this.expireList=JSON.parse(t)}}catch(e){}clearInterval(this.expireInterval);this.expireInterval=setInterval(this._checkExpireInterval.bind(this),6e4)}return this.enabled}},{key:"set",value:function e(t,i,r,s){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;if(!this.isEnabled()){return false}var l=null;if(n){l=new Date((new Date).getTime()+n*1e3)}var a=JSON.stringify({value:s,expire:l});if(window.localStorage.getItem(this._getKey(t,i,r))!==a){window.localStorage.setItem(this._getKey(t,i,r),a)}if(n){if(!this.expireList){this.expireList={}}this.expireList[this._getKey(t,i,r)]=l;window.localStorage.setItem("bx-messenger-localstorage-expire",JSON.stringify(this.expireList))}return true}},{key:"get",value:function e(t,i,r,s){if(!this.isEnabled()){return typeof s!=="undefined"?s:null}var n=window.localStorage.getItem(this._getKey(t,i,r));if(n===null){return typeof s!=="undefined"?s:null}try{n=JSON.parse(n);if(n&&typeof n.value!=="undefined"){if(!n.expire||new Date(n.expire)>new Date){n=n.value}else{window.localStorage.removeItem(this._getKey(t,i,r));if(this.expireList){delete this.expireList[this._getKey(t,i,r)]}return typeof s!=="undefined"?s:null}}else{return typeof s!=="undefined"?s:null}}catch(e){return typeof s!=="undefined"?s:null}return n}},{key:"remove",value:function e(t,i,r){if(!this.isEnabled()){return false}if(this.expireList){delete this.expireList[this._getKey(t,i,r)]}return window.localStorage.removeItem(this._getKey(t,i,r))}},{key:"_getKey",value:function e(t,i,r){return"bx-messenger-"+t+"-"+i+"-"+r}},{key:"_checkExpireInterval",value:function e(){if(!this.expireList)return true;var t=new Date;var i=0;for(var r in this.expireList){if(!this.expireList.hasOwnProperty(r)){continue}if(new Date(this.expireList[r])<=t){window.localStorage.removeItem(r);delete this.expireList[r]}else{i++}}if(i){window.localStorage.setItem("bx-messenger-localstorage-expire",JSON.stringify(this.expireList))}else{this.expireList=null;window.localStorage.removeItem("bx-messenger-localstorage-expire")}return true}}]);return e}();var i=new t;e.LocalStorage=i})(this.BX.Messenger.Lib=this.BX.Messenger.Lib||{});
 



// file: /bitrix/js/main/core/core.js
(function(){if(typeof window.BX==="function"){return}(function(e){var t=e.babelHelpers={};function r(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){t.typeof=r=function(e){return typeof e}}else{t.typeof=r=function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return r(e)}t.typeof=r;var n;function i(e,t,r,i){if(!n){n=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103}var a=e&&e.defaultProps;var o=arguments.length-3;if(!t&&o!==0){t={children:void 0}}if(t&&a){for(var s in a){if(t[s]===void 0){t[s]=a[s]}}}else if(!t){t=a||{}}if(o===1){t.children=i}else if(o>1){var u=new Array(o);for(var l=0;l<o;l++){u[l]=arguments[l+3]}t.children=u}return{$$typeof:n,type:e,key:r===undefined?null:""+r,ref:null,props:t,_owner:null}}t.jsx=i;function a(e){var t;if(typeof Symbol==="function"){if(Symbol.asyncIterator){t=e[Symbol.asyncIterator];if(t!=null)return t.call(e)}if(Symbol.iterator){t=e[Symbol.iterator];if(t!=null)return t.call(e)}}throw new TypeError("Object is not async iterable")}t.asyncIterator=a;function o(e){this.wrapped=e}t.AwaitValue=o;function s(e){var r,n;function i(e,t){return new Promise(function(i,o){var s={key:e,arg:t,resolve:i,reject:o,next:null};if(n){n=n.next=s}else{r=n=s;a(e,t)}})}function a(r,n){try{var i=e[r](n);var s=i.value;var u=s instanceof t.AwaitValue;Promise.resolve(u?s.wrapped:s).then(function(e){if(u){a("next",e);return}o(i.done?"return":"normal",e)},function(e){a("throw",e)})}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":r.resolve({value:t,done:true});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:false});break}r=r.next;if(r){a(r.key,r.arg)}else{n=null}}this._invoke=i;if(typeof e.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){s.prototype[Symbol.asyncIterator]=function(){return this}}s.prototype.next=function(e){return this._invoke("next",e)};s.prototype.throw=function(e){return this._invoke("throw",e)};s.prototype.return=function(e){return this._invoke("return",e)};t.AsyncGenerator=s;function u(e){return function(){return new t.AsyncGenerator(e.apply(this,arguments))}}t.wrapAsyncGenerator=u;function l(e){return new t.AwaitValue(e)}t.awaitAsyncGenerator=l;function f(e,t){var r={},n=false;function i(r,i){n=true;i=new Promise(function(t){t(e[r](i))});return{done:false,value:t(i)}}if(typeof Symbol==="function"&&Symbol.iterator){r[Symbol.iterator]=function(){return this}}r.next=function(e){if(n){n=false;return e}return i("next",e)};if(typeof e.throw==="function"){r.throw=function(e){if(n){n=false;throw e}return i("throw",e)}}if(typeof e.return==="function"){r.return=function(e){return i("return",e)}}return r}t.asyncGeneratorDelegate=f;function c(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){c(a,n,i,o,s,"next",e)}function s(e){c(a,n,i,o,s,"throw",e)}o(undefined)})}}t.asyncToGenerator=v;function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}t.classCallCheck=h;function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);return e}t.createClass=p;function y(e,t){for(var r in t){var n=t[r];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,r,n)}if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(var a=0;a<i.length;a++){var o=i[a];var n=t[o];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,o,n)}}return e}t.defineEnumerableProperties=y;function g(e,t){var r=Object.getOwnPropertyNames(t);for(var n=0;n<r.length;n++){var i=r[n];var a=Object.getOwnPropertyDescriptor(t,i);if(a&&a.configurable&&e[i]===undefined){Object.defineProperty(e,i,a)}}return e}t.defaults=g;function m(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}t.defineProperty=m;function b(){t.extends=b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return b.apply(this,arguments)}t.extends=b;function w(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}i.forEach(function(r){t.defineProperty(e,r,n[r])})}return e}t.objectSpread=w;function S(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)t.setPrototypeOf(e,r)}t.inherits=S;function x(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}t.inheritsLoose=x;function E(e){t.getPrototypeOf=E=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return E(e)}t.getPrototypeOf=E;function j(e,r){t.setPrototypeOf=j=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return j(e,r)}t.setPrototypeOf=j;function B(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function O(e,r,n){if(B()){t.construct=O=Reflect.construct}else{t.construct=O=function e(r,n,i){var a=[null];a.push.apply(a,n);var o=Function.bind.apply(r,a);var s=new o;if(i)t.setPrototypeOf(s,i.prototype);return s}}return O.apply(null,arguments)}t.construct=O;function _(e){return Function.toString.call(e).indexOf("[native code]")!==-1}t.isNativeFunction=_;function T(e){var r=typeof Map==="function"?new Map:undefined;t.wrapNativeSuper=T=function e(n){if(n===null||!t.isNativeFunction(n))return n;if(typeof n!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof r!=="undefined"){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return t.construct(n,arguments,t.getPrototypeOf(this).constructor)}i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:false,writable:true,configurable:true}});return t.setPrototypeOf(i,n)};return T(e)}t.wrapNativeSuper=T;function A(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return t[Symbol.hasInstance](e)}else{return e instanceof t}}t.instanceof=A;function N(e){return e&&e.__esModule?e:{default:e}}t.interopRequireDefault=N;function X(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}t.interopRequireWildcard=X;function P(e,t){if(e!==t){throw new TypeError("Cannot instantiate an arrow function")}}t.newArrowCheck=P;function k(e){if(e==null)throw new TypeError("Cannot destructure undefined")}t.objectDestructuringEmpty=k;function C(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var i,a;for(a=0;a<n.length;a++){i=n[a];if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}t.objectWithoutPropertiesLoose=C;function M(e,r){if(e==null)return{};var n=t.objectWithoutPropertiesLoose(e,r);var i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++){i=o[a];if(r.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}t.objectWithoutProperties=M;function I(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}t.assertThisInitialized=I;function L(e,r){if(r&&(typeof r==="object"||typeof r==="function")){return r}return t.assertThisInitialized(e)}t.possibleConstructorReturn=L;function F(e,r){while(!Object.prototype.hasOwnProperty.call(e,r)){e=t.getPrototypeOf(e);if(e===null)break}return e}t.superPropBase=F;function D(e,r,n){if(typeof Reflect!=="undefined"&&Reflect.get){t.get=D=Reflect.get}else{t.get=D=function e(r,n,i){var a=t.superPropBase(r,n);if(!a)return;var o=Object.getOwnPropertyDescriptor(a,n);if(o.get){return o.get.call(i)}return o.value}}return D(e,r,n||e)}t.get=D;function R(e,r,n,i){if(typeof Reflect!=="undefined"&&Reflect.set){R=Reflect.set}else{R=function e(r,n,i,a){var o=t.superPropBase(r,n);var s;if(o){s=Object.getOwnPropertyDescriptor(o,n);if(s.set){s.set.call(a,i);return true}else if(!s.writable){return false}}s=Object.getOwnPropertyDescriptor(a,n);if(s){if(!s.writable){return false}s.value=i;Object.defineProperty(a,n,s)}else{t.defineProperty(a,n,i)}return true}}return R(e,r,n,i)}function H(e,t,r,n,i){var a=R(e,t,r,n||e);if(!a&&i){throw new Error("failed to set property")}return r}t.set=H;function W(e,t){if(!t){t=e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.taggedTemplateLiteral=W;function G(e,t){if(!t){t=e.slice(0)}e.raw=t;return e}t.taggedTemplateLiteralLoose=G;function z(e,r){if(e===t.temporalUndefined){throw new ReferenceError(r+" is not defined - temporal dead zone")}else{return e}}t.temporalRef=z;function U(e){throw new Error('"'+e+'" is read-only')}t.readOnlyError=U;function V(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}t.classNameTDZError=V;t.temporalUndefined={};function Y(e,r){return t.arrayWithHoles(e)||t.iterableToArrayLimit(e,r)||t.nonIterableRest()}t.slicedToArray=Y;function q(e,r){return t.arrayWithHoles(e)||t.iterableToArrayLimitLoose(e,r)||t.nonIterableRest()}t.slicedToArrayLoose=q;function J(e){return t.arrayWithHoles(e)||t.iterableToArray(e)||t.nonIterableRest()}t.toArray=J;function $(e){return t.arrayWithoutHoles(e)||t.iterableToArray(e)||t.nonIterableSpread()}t.toConsumableArray=$;function K(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}t.arrayWithoutHoles=K;function Z(e){if(Array.isArray(e))return e}t.arrayWithHoles=Z;function Q(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}t.iterableToArray=Q;function ee(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}t.iterableToArrayLimit=ee;function te(e,t){var r=[];for(var n=e[Symbol.iterator](),i;!(i=n.next()).done;){r.push(i.value);if(t&&r.length===t)break}return r}t.iterableToArrayLimitLoose=te;function re(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.nonIterableSpread=re;function ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.nonIterableRest=ne;function ie(e){return function(){var t=e.apply(this,arguments);t.next();return t}}t.skipFirstGeneratorNext=ie;function ae(e){if(typeof e==="symbol"){return e}else{return String(e)}}t.toPropertyKey=ae;function oe(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and set to use loose mode. "+"To use proposal-class-properties in spec mode with decorators, wait for "+"the next major version of decorators in stage 2.")}t.initializerWarningHelper=oe;function se(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}t.initializerDefineProperty=se;function ue(e,t,r,n,i){var a={};Object["ke"+"ys"](n).forEach(function(e){a[e]=n[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object["define"+"Property"](e,t,a);a=null}return a}t.applyDecoratedDescriptor=ue;var le=0;function fe(e){return"__private_"+le+++"_"+e}t.classPrivateFieldLooseKey=fe;function ce(e,t){if(!Object.prototype.hasOwnProperty.call(e,t)){throw new TypeError("attempted to use private field on non-instance")}return e}t.classPrivateFieldLooseBase=ce;function ve(e,t){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return t.get(e).value}t.classPrivateFieldGet=ve;function he(e,t,r){if(!t.has(e)){throw new TypeError("attempted to set private field on non-instance")}var n=t.get(e);if(!n.writable){throw new TypeError("attempted to set read only private field")}n.value=r;return r}t.classPrivateFieldSet=he})(typeof global==="undefined"?window:global);!function(e){"use strict";var t=Object.prototype;var r=t.hasOwnProperty;var n;var i=typeof Symbol==="function"?Symbol:{};var a=i.iterator||"@@iterator";var o=i.asyncIterator||"@@asyncIterator";var s=i.toStringTag||"@@toStringTag";var u=e.regeneratorRuntime={};function l(e,t,r,n){var i=t&&t.prototype instanceof y?t:y;var a=Object.create(i.prototype);var o=new A(n||[]);a._invoke=B(e,r,o);return a}u.wrap=l;function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var c="suspendedStart";var v="suspendedYield";var h="executing";var d="completed";var p={};function y(){}function g(){}function m(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf;var S=w&&w(w(N([])));if(S&&S!==t&&r.call(S,a)){b=S}var x=m.prototype=y.prototype=Object.create(b);g.prototype=x.constructor=m;m.constructor=g;m[s]=g.displayName="GeneratorFunction";function E(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}u.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===g||(t.displayName||t.name)==="GeneratorFunction":false};u.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,m)}else{e.__proto__=m;if(!(s in e)){e[s]="GeneratorFunction"}}e.prototype=Object.create(x);return e};u.awrap=function(e){return{__await:e}};function j(e){function t(n,i,a,o){var s=f(e[n],e,i);if(s.type==="throw"){o(s.arg)}else{var u=s.arg;var l=u.value;if(l&&typeof l==="object"&&r.call(l,"__await")){return Promise.resolve(l.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)})}return Promise.resolve(l).then(function(e){u.value=e;a(u)},o)}}var n;function i(e,r){function i(){return new Promise(function(n,i){t(e,r,n,i)})}return n=n?n.then(i,i):i()}this._invoke=i}E(j.prototype);j.prototype[o]=function(){return this};u.AsyncIterator=j;u.async=function(e,t,r,n){var i=new j(l(e,t,r,n));return u.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})};function B(e,t,r){var n=c;return function i(a,o){if(n===h){throw new Error("Generator is already running")}if(n===d){if(a==="throw"){throw o}return X()}r.method=a;r.arg=o;while(true){var s=r.delegate;if(s){var u=O(s,r);if(u){if(u===p)continue;return u}}if(r.method==="next"){r.sent=r._sent=r.arg}else if(r.method==="throw"){if(n===c){n=d;throw r.arg}r.dispatchException(r.arg)}else if(r.method==="return"){r.abrupt("return",r.arg)}n=h;var l=f(e,t,r);if(l.type==="normal"){n=r.done?d:v;if(l.arg===p){continue}return{value:l.arg,done:r.done}}else if(l.type==="throw"){n=d;r.method="throw";r.arg=l.arg}}}}function O(e,t){var r=e.iterator[t.method];if(r===n){t.delegate=null;if(t.method==="throw"){if(e.iterator.return){t.method="return";t.arg=n;O(e,t);if(t.method==="throw"){return p}}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=f(r,e.iterator,t.arg);if(i.type==="throw"){t.method="throw";t.arg=i.arg;t.delegate=null;return p}var a=i.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return p}if(a.done){t[e.resultName]=a.value;t.next=e.nextLoc;if(t.method!=="return"){t.method="next";t.arg=n}}else{return a}t.delegate=null;return p}E(x);x[s]="Generator";x[a]=function(){return this};x.toString=function(){return"[object Generator]"};function _(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(_,this);this.reset(true)}u.keys=function(e){var t=[];for(var r in e){t.push(r)}t.reverse();return function r(){while(t.length){var n=t.pop();if(n in e){r.value=n;r.done=false;return r}}r.done=true;return r}};function N(e){if(e){var t=e[a];if(t){return t.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var i=-1,o=function t(){while(++i<e.length){if(r.call(e,i)){t.value=e[i];t.done=false;return t}}t.value=n;t.done=true;return t};return o.next=o}}return{next:X}}u.values=N;function X(){return{value:n,done:true}}A.prototype={constructor:A,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=n;this.done=false;this.delegate=null;this.method="next";this.arg=n;this.tryEntries.forEach(T);if(!e){for(var t in this){if(t.charAt(0)==="t"&&r.call(this,t)&&!isNaN(+t.slice(1))){this[t]=n}}}},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if(t.type==="throw"){throw t.arg}return this.rval},dispatchException:function(e){if(this.done){throw e}var t=this;function i(r,i){s.type="throw";s.arg=e;t.next=r;if(i){t.method="next";t.arg=n}return!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];var s=o.completion;if(o.tryLoc==="root"){return i("end")}if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc");var l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc){return i(o.catchLoc,true)}else if(this.prev<o.finallyLoc){return i(o.finallyLoc)}}else if(u){if(this.prev<o.catchLoc){return i(o.catchLoc,true)}}else if(l){if(this.prev<o.finallyLoc){return i(o.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}if(a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc){a=null}var o=a?a.completion:{};o.type=e;o.arg=t;if(a){this.method="next";this.next=a.finallyLoc;return p}return this.complete(o)},complete:function(e,t){if(e.type==="throw"){throw e.arg}if(e.type==="break"||e.type==="continue"){this.next=e.arg}else if(e.type==="return"){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else if(e.type==="normal"&&t){this.next=t}return p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);T(r);return p}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(n.type==="throw"){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:N(e),resultName:t,nextLoc:r};if(this.method==="next"){this.arg=n}return p}}}(function(){return this}()||Function("return this")());(function(e){"use strict";function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}var r=t(function(e){var t=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=t});var n={}.hasOwnProperty;var i=function(e,t){return n.call(e,t)};var a=function(e){try{return!!e()}catch(e){return true}};var o=!a(function(){return Object.defineProperty({},"a",{get:function e(){return 7}}).a!=7});var s=t(function(e){var t=e.exports={version:"2.6.3"};if(typeof __e=="number")__e=t});var u=s.version;var l=function(e){return babelHelpers.typeof(e)==="object"?e!==null:typeof e==="function"};var f=function(e){if(!l(e))throw TypeError(e+" is not an object!");return e};var c=r.document;var v=l(c)&&l(c.createElement);var h=function(e){return v?c.createElement(e):{}};var d=!o&&!a(function(){return Object.defineProperty(h("div"),"a",{get:function e(){return 7}}).a!=7});var p=function(e,t){if(!l(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!l(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!l(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!l(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")};var y=Object.defineProperty;var g=o?Object.defineProperty:function e(t,r,n){f(t);r=p(r,true);f(n);if(d)try{return y(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");if("value"in n)t[r]=n.value;return t};var m={f:g};var b=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}};var w=o?function(e,t,r){return m.f(e,t,b(1,r))}:function(e,t,r){e[t]=r;return e};var S=0;var x=Math.random();var E=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++S+x).toString(36))};var j=t(function(e){var t=E("src");var n="toString";var a=Function[n];var o=(""+a).split(n);s.inspectSource=function(e){return a.call(e)};(e.exports=function(e,n,a,s){var u=typeof a=="function";if(u)i(a,"name")||w(a,"name",n);if(e[n]===a)return;if(u)i(a,t)||w(a,t,e[n]?""+e[n]:o.join(String(n)));if(e===r){e[n]=a}else if(!s){delete e[n];w(e,n,a)}else if(e[n]){e[n]=a}else{w(e,n,a)}})(Function.prototype,n,function e(){return typeof this=="function"&&this[t]||a.call(this)})});var B=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e};var O=function(e,t,r){B(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}};var _="prototype";var T=function e(t,n,i){var a=t&e.F;var o=t&e.G;var u=t&e.S;var l=t&e.P;var f=t&e.B;var c=o?r:u?r[n]||(r[n]={}):(r[n]||{})[_];var v=o?s:s[n]||(s[n]={});var h=v[_]||(v[_]={});var d,p,y,g;if(o)i=n;for(d in i){p=!a&&c&&c[d]!==undefined;y=(p?c:i)[d];g=f&&p?O(y,r):l&&typeof y=="function"?O(Function.call,y):y;if(c)j(c,d,y,t&e.U);if(v[d]!=y)w(v,d,g);if(l&&h[d]!=y)h[d]=y}};T.F=1;T.G=2;T.S=4;T.P=8;T.B=16;T.W=32;T.U=64;T.R=128;var A=T;var N=t(function(e){var t=E("meta");var r=m.f;var n=0;var o=Object.isExtensible||function(){return true};var s=!a(function(){return o(Object.preventExtensions({}))});var u=function e(i){r(i,t,{value:{i:"O"+ ++n,w:{}}})};var f=function e(r,n){if(!l(r))return babelHelpers.typeof(r)=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!i(r,t)){if(!o(r))return"F";if(!n)return"E";u(r)}return r[t].i};var c=function e(r,n){if(!i(r,t)){if(!o(r))return true;if(!n)return false;u(r)}return r[t].w};var v=function e(r){if(s&&h.NEED&&o(r)&&!i(r,t))u(r);return r};var h=e.exports={KEY:t,NEED:false,fastKey:f,getWeak:c,onFreeze:v}});var X=N.KEY;var P=N.NEED;var k=N.fastKey;var C=N.getWeak;var M=N.onFreeze;var I=false;var L=t(function(e){var t="__core-js_shared__";var n=r[t]||(r[t]={});(e.exports=function(e,t){return n[e]||(n[e]=t!==undefined?t:{})})("versions",[]).push({version:s.version,mode:I?"pure":"global",copyright:"(c) 2019 Denis Pushkarev (zloirock.ru)"})});var F=t(function(e){var t=L("wks");var n=r.Symbol;var i=typeof n=="function";var a=e.exports=function(e){return t[e]||(t[e]=i&&n[e]||(i?n:E)("Symbol."+e))};a.store=t});var D=m.f;var R=F("toStringTag");var H=function(e,t,r){if(e&&!i(e=r?e:e.prototype,R))D(e,R,{configurable:true,value:t})};var W=F;var G={f:W};var z=m.f;var U=function(e){var t=s.Symbol||(s.Symbol=I?{}:r.Symbol||{});if(e.charAt(0)!="_"&&!(e in t))z(t,e,{value:G.f(e)})};var V={}.toString;var Y=function(e){return V.call(e).slice(8,-1)};var q=Object("z").propertyIsEnumerable(0)?Object:function(e){return Y(e)=="String"?e.split(""):Object(e)};var J=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e};var $=function(e){return q(J(e))};var K=Math.ceil;var Z=Math.floor;var Q=function(e){return isNaN(e=+e)?0:(e>0?Z:K)(e)};var ee=Math.min;var te=function(e){return e>0?ee(Q(e),9007199254740991):0};var re=Math.max;var ne=Math.min;var ie=function(e,t){e=Q(e);return e<0?re(e+t,0):ne(e,t)};var ae=function(e){return function(t,r,n){var i=$(t);var a=te(i.length);var o=ie(n,a);var s;if(e&&r!=r)while(a>o){s=i[o++];if(s!=s)return true}else for(;a>o;o++){if(e||o in i){if(i[o]===r)return e||o||0}}return!e&&-1}};var oe=L("keys");var se=function(e){return oe[e]||(oe[e]=E(e))};var ue=ae(false);var le=se("IE_PROTO");var fe=function(e,t){var r=$(e);var n=0;var a=[];var o;for(o in r){if(o!=le)i(r,o)&&a.push(o)}while(t.length>n){if(i(r,o=t[n++])){~ue(a,o)||a.push(o)}}return a};var ce="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");var ve=Object.keys||function e(t){return fe(t,ce)};var he=Object.getOwnPropertySymbols;var de={f:he};var pe={}.propertyIsEnumerable;var ye={f:pe};var ge=function(e){var t=ve(e);var r=de.f;if(r){var n=r(e);var i=ye.f;var a=0;var o;while(n.length>a){if(i.call(e,o=n[a++]))t.push(o)}}return t};var me=Array.isArray||function e(t){return Y(t)=="Array"};var be=o?Object.defineProperties:function e(t,r){f(t);var n=ve(r);var i=n.length;var a=0;var o;while(i>a){m.f(t,o=n[a++],r[o])}return t};var we=r.document;var Se=we&&we.documentElement;var xe=se("IE_PROTO");var Ee=function e(){};var je="prototype";var Be=function e(){var t=h("iframe");var r=ce.length;var n="<";var i=">";var a;t.style.display="none";Se.appendChild(t);t.src="javascript:";a=t.contentWindow.document;a.open();a.write(n+"script"+i+"document.F=Object"+n+"/script"+i);a.close();Be=a.F;while(r--){delete Be[je][ce[r]]}return Be()};var Oe=Object.create||function e(t,r){var n;if(t!==null){Ee[je]=f(t);n=new Ee;Ee[je]=null;n[xe]=t}else n=Be();return r===undefined?n:be(n,r)};var _e=ce.concat("length","prototype");var Te=Object.getOwnPropertyNames||function e(t){return fe(t,_e)};var Ae={f:Te};var Ne=Ae.f;var Xe={}.toString;var Pe=(typeof window==="undefined"?"undefined":babelHelpers.typeof(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var ke=function e(t){try{return Ne(t)}catch(e){return Pe.slice()}};var Ce=function e(t){return Pe&&Xe.call(t)=="[object Window]"?ke(t):Ne($(t))};var Me={f:Ce};var Ie=Object.getOwnPropertyDescriptor;var Le=o?Ie:function e(t,r){t=$(t);r=p(r,true);if(d)try{return Ie(t,r)}catch(e){}if(i(t,r))return b(!ye.f.call(t,r),t[r])};var Fe={f:Le};var De=N.KEY;var Re=Fe.f;var He=m.f;var We=Me.f;var Ge=r.Symbol;var ze=r.JSON;var Ue=ze&&ze.stringify;var Ve="prototype";var Ye=F("_hidden");var qe=F("toPrimitive");var Je={}.propertyIsEnumerable;var $e=L("symbol-registry");var Ke=L("symbols");var Ze=L("op-symbols");var Qe=Object[Ve];var et=typeof Ge=="function";var tt=r.QObject;var rt=!tt||!tt[Ve]||!tt[Ve].findChild;var nt=o&&a(function(){return Oe(He({},"a",{get:function e(){return He(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=Re(Qe,t);if(n)delete Qe[t];He(e,t,r);if(n&&e!==Qe)He(Qe,t,n)}:He;var it=function e(t){var r=Ke[t]=Oe(Ge[Ve]);r._k=t;return r};var at=et&&babelHelpers.typeof(Ge.iterator)=="symbol"?function(e){return babelHelpers.typeof(e)=="symbol"}:function(e){return e instanceof Ge};var ot=function e(t,r,n){if(t===Qe)ot(Ze,r,n);f(t);r=p(r,true);f(n);if(i(Ke,r)){if(!n.enumerable){if(!i(t,Ye))He(t,Ye,b(1,{}));t[Ye][r]=true}else{if(i(t,Ye)&&t[Ye][r])t[Ye][r]=false;n=Oe(n,{enumerable:b(0,false)})}return nt(t,r,n)}return He(t,r,n)};var st=function e(t,r){f(t);var n=ge(r=$(r));var i=0;var a=n.length;var o;while(a>i){ot(t,o=n[i++],r[o])}return t};var ut=function e(t,r){return r===undefined?Oe(t):st(Oe(t),r)};var lt=function e(t){var r=Je.call(this,t=p(t,true));if(this===Qe&&i(Ke,t)&&!i(Ze,t))return false;return r||!i(this,t)||!i(Ke,t)||i(this,Ye)&&this[Ye][t]?r:true};var ft=function e(t,r){t=$(t);r=p(r,true);if(t===Qe&&i(Ke,r)&&!i(Ze,r))return;var n=Re(t,r);if(n&&i(Ke,r)&&!(i(t,Ye)&&t[Ye][r]))n.enumerable=true;return n};var ct=function e(t){var r=We($(t));var n=[];var a=0;var o;while(r.length>a){if(!i(Ke,o=r[a++])&&o!=Ye&&o!=De)n.push(o)}return n};var vt=function e(t){var r=t===Qe;var n=We(r?Ze:$(t));var a=[];var o=0;var s;while(n.length>o){if(i(Ke,s=n[o++])&&(r?i(Qe,s):true))a.push(Ke[s])}return a};if(!et){Ge=function e(){if(this instanceof Ge)throw TypeError("Symbol is not a constructor!");var t=E(arguments.length>0?arguments[0]:undefined);var r=function e(r){if(this===Qe)e.call(Ze,r);if(i(this,Ye)&&i(this[Ye],t))this[Ye][t]=false;nt(this,t,b(1,r))};if(o&&rt)nt(Qe,t,{configurable:true,set:r});return it(t)};j(Ge[Ve],"toString",function e(){return this._k});Fe.f=ft;m.f=ot;Ae.f=Me.f=ct;ye.f=lt;de.f=vt;if(o&&!I){j(Qe,"propertyIsEnumerable",lt,true)}G.f=function(e){return it(F(e))}}A(A.G+A.W+A.F*!et,{Symbol:Ge});for(var ht="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),dt=0;ht.length>dt;){F(ht[dt++])}for(var pt=ve(F.store),yt=0;pt.length>yt;){U(pt[yt++])}A(A.S+A.F*!et,"Symbol",{for:function e(t){return i($e,t+="")?$e[t]:$e[t]=Ge(t)},keyFor:function e(t){if(!at(t))throw TypeError(t+" is not a symbol!");for(var r in $e){if($e[r]===t)return r}},useSetter:function e(){rt=true},useSimple:function e(){rt=false}});A(A.S+A.F*!et,"Object",{create:ut,defineProperty:ot,defineProperties:st,getOwnPropertyDescriptor:ft,getOwnPropertyNames:ct,getOwnPropertySymbols:vt});ze&&A(A.S+A.F*(!et||a(function(){var e=Ge();return Ue([e])!="[null]"||Ue({a:e})!="{}"||Ue(Object(e))!="{}"})),"JSON",{stringify:function e(t){var r=[t];var n=1;var i,a;while(arguments.length>n){r.push(arguments[n++])}a=i=r[1];if(!l(i)&&t===undefined||at(t))return;if(!me(i))i=function e(t,r){if(typeof a=="function")r=a.call(this,t,r);if(!at(r))return r};r[1]=i;return Ue.apply(ze,r)}});Ge[Ve][qe]||w(Ge[Ve],qe,Ge[Ve].valueOf);H(Ge,"Symbol");H(Math,"Math",true);H(r.JSON,"JSON",true);A(A.S,"Object",{create:Oe});A(A.S+A.F*!o,"Object",{defineProperty:m.f});A(A.S+A.F*!o,"Object",{defineProperties:be});var gt=function(e,t){var r=(s.Object||{})[e]||Object[e];var n={};n[e]=t(r);A(A.S+A.F*a(function(){r(1)}),"Object",n)};var mt=Fe.f;gt("getOwnPropertyDescriptor",function(){return function e(t,r){return mt($(t),r)}});var bt=function(e){return Object(J(e))};var wt=se("IE_PROTO");var St=Object.prototype;var xt=Object.getPrototypeOf||function(e){e=bt(e);if(i(e,wt))return e[wt];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?St:null};gt("getPrototypeOf",function(){return function e(t){return xt(bt(t))}});gt("keys",function(){return function e(t){return ve(bt(t))}});gt("getOwnPropertyNames",function(){return Me.f});var Et=N.onFreeze;gt("freeze",function(e){return function t(r){return e&&l(r)?e(Et(r)):r}});var jt=N.onFreeze;gt("seal",function(e){return function t(r){return e&&l(r)?e(jt(r)):r}});var Bt=N.onFreeze;gt("preventExtensions",function(e){return function t(r){return e&&l(r)?e(Bt(r)):r}});gt("isFrozen",function(e){return function t(r){return l(r)?e?e(r):false:true}});gt("isSealed",function(e){return function t(r){return l(r)?e?e(r):false:true}});gt("isExtensible",function(e){return function t(r){return l(r)?e?e(r):true:false}});var Ot=Object.assign;var _t=!Ot||a(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return Ot({},e)[r]!=7||Object.keys(Ot({},t)).join("")!=n})?function e(t,r){var n=bt(t);var i=arguments.length;var a=1;var o=de.f;var s=ye.f;while(i>a){var u=q(arguments[a++]);var l=o?ve(u).concat(o(u)):ve(u);var f=l.length;var c=0;var v;while(f>c){if(s.call(u,v=l[c++]))n[v]=u[v]}}return n}:Ot;A(A.S+A.F,"Object",{assign:_t});var Tt=Object.is||function e(t,r){return t===r?t!==0||1/t===1/r:t!=t&&r!=r};A(A.S,"Object",{is:Tt});var At=function e(t,r){f(t);if(!l(r)&&r!==null)throw TypeError(r+": can't set as prototype!")};var Nt={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=O(Function.call,Fe.f(Object.prototype,"__proto__").set,2);r(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(n,i){At(n,i);if(t)n.__proto__=i;else r(n,i);return n}}({},false):undefined),check:At};A(A.S,"Object",{setPrototypeOf:Nt.set});var Xt=F("toStringTag");var Pt=Y(function(){return arguments}())=="Arguments";var kt=function e(t,r){try{return t[r]}catch(e){}};var Ct=function(e){var t,r,n;return e===undefined?"Undefined":e===null?"Null":typeof(r=kt(t=Object(e),Xt))=="string"?r:Pt?Y(t):(n=Y(t))=="Object"&&typeof t.callee=="function"?"Arguments":n};var Mt={};Mt[F("toStringTag")]="z";if(Mt+""!="[object z]"){j(Object.prototype,"toString",function e(){return"[object "+Ct(this)+"]"},true)}var It=function(e,t,r){var n=r===undefined;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)};var Lt=[].slice;var Ft={};var Dt=function e(t,r,n){if(!(r in Ft)){for(var i=[],a=0;a<r;a++){i[a]="a["+a+"]"}Ft[r]=Function("F,a","return new F("+i.join(",")+")")}return Ft[r](t,n)};var Rt=Function.bind||function e(t){var r=B(this);var n=Lt.call(arguments,1);var i=function e(){var i=n.concat(Lt.call(arguments));return this instanceof e?Dt(r,i.length,i):It(r,i,t)};if(l(r.prototype))i.prototype=r.prototype;return i};A(A.P,"Function",{bind:Rt});var Ht=m.f;var Wt=Function.prototype;var Gt=/^\s*function ([^ (]*)/;var zt="name";zt in Wt||o&&Ht(Wt,zt,{configurable:true,get:function e(){try{return(""+this).match(Gt)[1]}catch(e){return""}}});var Ut=F("hasInstance");var Vt=Function.prototype;if(!(Ut in Vt))m.f(Vt,Ut,{value:function e(t){if(typeof this!="function"||!l(t))return false;if(!l(this.prototype))return t instanceof this;while(t=xt(t)){if(this.prototype===t)return true}return false}});var Yt="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";var qt="["+Yt+"]";var Jt="\u200b\x85";var $t=RegExp("^"+qt+qt+"*");var Kt=RegExp(qt+qt+"*$");var Zt=function e(t,r,n){var i={};var o=a(function(){return!!Yt[t]()||Jt[t]()!=Jt});var s=i[t]=o?r(Qt):Yt[t];if(n)i[n]=s;A(A.P+A.F*o,"String",i)};var Qt=Zt.trim=function(e,t){e=String(J(e));if(t&1)e=e.replace($t,"");if(t&2)e=e.replace(Kt,"");return e};var er=Zt;var tr=r.parseInt;var rr=er.trim;var nr=/^[-+]?0[xX]/;var ir=tr(Yt+"08")!==8||tr(Yt+"0x16")!==22?function e(t,r){var n=rr(String(t),3);return tr(n,r>>>0||(nr.test(n)?16:10))}:tr;A(A.G+A.F*(parseInt!=ir),{parseInt:ir});var ar=r.parseFloat;var or=er.trim;var sr=1/ar(Yt+"-0")!==-Infinity?function e(t){var r=or(String(t),3);var n=ar(r);return n===0&&r.charAt(0)=="-"?-0:n}:ar;A(A.G+A.F*(parseFloat!=sr),{parseFloat:sr});var ur=Nt.set;var lr=function(e,t,r){var n=t.constructor;var i;if(n!==r&&typeof n=="function"&&(i=n.prototype)!==r.prototype&&l(i)&&ur){ur(e,i)}return e};var fr=Ae.f;var cr=Fe.f;var vr=m.f;var hr=er.trim;var dr="Number";var pr=r[dr];var yr=pr;var gr=pr.prototype;var mr=Y(Oe(gr))==dr;var br="trim"in String.prototype;var wr=function e(t){var r=p(t,false);if(typeof r=="string"&&r.length>2){r=br?r.trim():hr(r,3);var n=r.charCodeAt(0);var i,a,o;if(n===43||n===45){i=r.charCodeAt(2);if(i===88||i===120)return NaN}else if(n===48){switch(r.charCodeAt(1)){case 66:case 98:a=2;o=49;break;case 79:case 111:a=8;o=55;break;default:return+r}for(var s=r.slice(2),u=0,l=s.length,f;u<l;u++){f=s.charCodeAt(u);if(f<48||f>o)return NaN}return parseInt(s,a)}}return+r};if(!pr(" 0o1")||!pr("0b1")||pr("+0x1")){pr=function e(t){var r=arguments.length<1?0:t;var n=this;return n instanceof pr&&(mr?a(function(){gr.valueOf.call(n)}):Y(n)!=dr)?lr(new yr(wr(r)),n,pr):wr(r)};for(var Sr=o?fr(yr):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,"+"MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger").split(","),xr=0,Er;Sr.length>xr;xr++){if(i(yr,Er=Sr[xr])&&!i(pr,Er)){vr(pr,Er,cr(yr,Er))}}pr.prototype=gr;gr.constructor=pr;j(r,dr,pr)}var jr=function(e,t){if(typeof e!="number"&&Y(e)!="Number")throw TypeError(t);return+e};var Br=function e(t){var r=String(J(this));var n="";var i=Q(t);if(i<0||i==Infinity)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(r+=r)){if(i&1)n+=r}return n};var Or=1..toFixed;var _r=Math.floor;var Tr=[0,0,0,0,0,0];var Ar="Number.toFixed: incorrect invocation!";var Nr="0";var Xr=function e(t,r){var n=-1;var i=r;while(++n<6){i+=t*Tr[n];Tr[n]=i%1e7;i=_r(i/1e7)}};var Pr=function e(t){var r=6;var n=0;while(--r>=0){n+=Tr[r];Tr[r]=_r(n/t);n=n%t*1e7}};var kr=function e(){var t=6;var r="";while(--t>=0){if(r!==""||t===0||Tr[t]!==0){var n=String(Tr[t]);r=r===""?n:r+Br.call(Nr,7-n.length)+n}}return r};var Cr=function e(t,r,n){return r===0?n:r%2===1?e(t,r-1,n*t):e(t*t,r/2,n)};var Mr=function e(t){var r=0;var n=t;while(n>=4096){r+=12;n/=4096}while(n>=2){r+=1;n/=2}return r};A(A.P+A.F*(!!Or&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(0xde0b6b3a7640080).toFixed(0)!=="1000000000000000128")||!a(function(){Or.call({})})),"Number",{toFixed:function e(t){var r=jr(this,Ar);var n=Q(t);var i="";var a=Nr;var o,s,u,l;if(n<0||n>20)throw RangeError(Ar);if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0){i="-";r=-r}if(r>1e-21){o=Mr(r*Cr(2,69,1))-69;s=o<0?r*Cr(2,-o,1):r/Cr(2,o,1);s*=4503599627370496;o=52-o;if(o>0){Xr(0,s);u=n;while(u>=7){Xr(1e7,0);u-=7}Xr(Cr(10,u,1),0);u=o-1;while(u>=23){Pr(1<<23);u-=23}Pr(1<<u);Xr(1,1);Pr(2);a=kr()}else{Xr(0,s);Xr(1<<-o,0);a=kr()+Br.call(Nr,n)}}if(n>0){l=a.length;a=i+(l<=n?"0."+Br.call(Nr,n-l)+a:a.slice(0,l-n)+"."+a.slice(l-n))}else{a=i+a}return a}});var Ir=1..toPrecision;A(A.P+A.F*(a(function(){return Ir.call(1,undefined)!=="1"})||!a(function(){Ir.call({})})),"Number",{toPrecision:function e(t){var r=jr(this,"Number#toPrecision: incorrect invocation!");return t===undefined?Ir.call(r):Ir.call(r,t)}});A(A.S,"Number",{EPSILON:Math.pow(2,-52)});var Lr=r.isFinite;A(A.S,"Number",{isFinite:function e(t){return typeof t=="number"&&Lr(t)}});var Fr=Math.floor;var Dr=function e(t){return!l(t)&&isFinite(t)&&Fr(t)===t};A(A.S,"Number",{isInteger:Dr});A(A.S,"Number",{isNaN:function e(t){return t!=t}});var Rr=Math.abs;A(A.S,"Number",{isSafeInteger:function e(t){return Dr(t)&&Rr(t)<=9007199254740991}});A(A.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});A(A.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});A(A.S+A.F*(Number.parseFloat!=sr),"Number",{parseFloat:sr});A(A.S+A.F*(Number.parseInt!=ir),"Number",{parseInt:ir});var Hr=Math.log1p||function e(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)};var Wr=Math.sqrt;var Gr=Math.acosh;A(A.S+A.F*!(Gr&&Math.floor(Gr(Number.MAX_VALUE))==710&&Gr(Infinity)==Infinity),"Math",{acosh:function e(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:Hr(t-1+Wr(t-1)*Wr(t+1))}});var zr=Math.asinh;function Ur(e){return!isFinite(e=+e)||e==0?e:e<0?-Ur(-e):Math.log(e+Math.sqrt(e*e+1))}A(A.S+A.F*!(zr&&1/zr(0)>0),"Math",{asinh:Ur});var Vr=Math.atanh;A(A.S+A.F*!(Vr&&1/Vr(-0)<0),"Math",{atanh:function e(t){return(t=+t)==0?t:Math.log((1+t)/(1-t))/2}});var Yr=Math.sign||function e(t){return(t=+t)==0||t!=t?t:t<0?-1:1};A(A.S,"Math",{cbrt:function e(t){return Yr(t=+t)*Math.pow(Math.abs(t),1/3)}});A(A.S,"Math",{clz32:function e(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}});var qr=Math.exp;A(A.S,"Math",{cosh:function e(t){return(qr(t=+t)+qr(-t))/2}});var Jr=Math.expm1;var $r=!Jr||Jr(10)>22025.465794806718||Jr(10)<22025.465794806718||Jr(-2e-17)!=-2e-17?function e(t){return(t=+t)==0?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:Jr;A(A.S+A.F*($r!=Math.expm1),"Math",{expm1:$r});var Kr=Math.pow;var Zr=Kr(2,-52);var Qr=Kr(2,-23);var en=Kr(2,127)*(2-Qr);var tn=Kr(2,-126);var rn=function e(t){return t+1/Zr-1/Zr};var nn=Math.fround||function e(t){var r=Math.abs(t);var n=Yr(t);var i,a;if(r<tn)return n*rn(r/tn/Qr)*tn*Qr;i=(1+Qr/Zr)*r;a=i-(i-r);if(a>en||a!=a)return n*Infinity;return n*a};A(A.S,"Math",{fround:nn});var an=Math.abs;A(A.S,"Math",{hypot:function e(t,r){var n=0;var i=0;var a=arguments.length;var o=0;var s,u;while(i<a){s=an(arguments[i++]);if(o<s){u=o/s;n=n*u*u+1;o=s}else if(s>0){u=s/o;n+=u*u}else n+=s}return o===Infinity?Infinity:o*Math.sqrt(n)}});var on=Math.imul;A(A.S+A.F*a(function(){return on(4294967295,5)!=-5||on.length!=2}),"Math",{imul:function e(t,r){var n=65535;var i=+t;var a=+r;var o=n&i;var s=n&a;return 0|o*s+((n&i>>>16)*s+o*(n&a>>>16)<<16>>>0)}});A(A.S,"Math",{log10:function e(t){return Math.log(t)*Math.LOG10E}});A(A.S,"Math",{log1p:Hr});A(A.S,"Math",{log2:function e(t){return Math.log(t)/Math.LN2}});A(A.S,"Math",{sign:Yr});var sn=Math.exp;A(A.S+A.F*a(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function e(t){return Math.abs(t=+t)<1?($r(t)-$r(-t))/2:(sn(t-1)-sn(-t-1))*(Math.E/2)}});var un=Math.exp;A(A.S,"Math",{tanh:function e(t){var r=$r(t=+t);var n=$r(-t);return r==Infinity?1:n==Infinity?-1:(r-n)/(un(t)+un(-t))}});A(A.S,"Math",{trunc:function e(t){return(t>0?Math.floor:Math.ceil)(t)}});var ln=String.fromCharCode;var fn=String.fromCodePoint;A(A.S+A.F*(!!fn&&fn.length!=1),"String",{fromCodePoint:function e(t){var r=[];var n=arguments.length;var i=0;var a;while(n>i){a=+arguments[i++];if(ie(a,1114111)!==a)throw RangeError(a+" is not a valid code point");r.push(a<65536?ln(a):ln(((a-=65536)>>10)+55296,a%1024+56320))}return r.join("")}});A(A.S,"String",{raw:function e(t){var r=$(t.raw);var n=te(r.length);var i=arguments.length;var a=[];var o=0;while(n>o){a.push(String(r[o++]));if(o<i)a.push(String(arguments[o]))}return a.join("")}});er("trim",function(e){return function t(){return e(this,3)}});var cn=function(e){return function(t,r){var n=String(J(t));var i=Q(r);var a=n.length;var o,s;if(i<0||i>=a)return e?"":undefined;o=n.charCodeAt(i);return o<55296||o>56319||i+1===a||(s=n.charCodeAt(i+1))<56320||s>57343?e?n.charAt(i):o:e?n.slice(i,i+2):(o-55296<<10)+(s-56320)+65536}};var vn={};var hn={};w(hn,F("iterator"),function(){return this});var dn=function(e,t,r){e.prototype=Oe(hn,{next:b(1,r)});H(e,t+" Iterator")};var pn=F("iterator");var yn=!([].keys&&"next"in[].keys());var gn="@@iterator";var mn="keys";var bn="values";var wn=function e(){return this};var Sn=function(e,t,r,n,i,a,o){dn(r,t,n);var s=function e(t){if(!yn&&t in c)return c[t];switch(t){case mn:return function e(){return new r(this,t)};case bn:return function e(){return new r(this,t)}}return function e(){return new r(this,t)}};var u=t+" Iterator";var l=i==bn;var f=false;var c=e.prototype;var v=c[pn]||c[gn]||i&&c[i];var h=v||s(i);var d=i?!l?h:s("entries"):undefined;var p=t=="Array"?c.entries||v:v;var y,g,m;if(p){m=xt(p.call(new e));if(m!==Object.prototype&&m.next){H(m,u,true);if(typeof m[pn]!="function")w(m,pn,wn)}}if(l&&v&&v.name!==bn){f=true;h=function e(){return v.call(this)}}if(yn||f||!c[pn]){w(c,pn,h)}vn[t]=h;vn[u]=wn;if(i){y={values:l?h:s(bn),keys:a?h:s(mn),entries:d};if(o)for(g in y){if(!(g in c))j(c,g,y[g])}else A(A.P+A.F*(yn||f),t,y)}return y};var xn=cn(true);Sn(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var r;if(t>=e.length)return{value:undefined,done:true};r=xn(e,t);this._i+=r.length;return{value:r,done:false}});var En=cn(false);A(A.P,"String",{codePointAt:function e(t){return En(this,t)}});var jn=F("match");var Bn=function(e){var t;return l(e)&&((t=e[jn])!==undefined?!!t:Y(e)=="RegExp")};var On=function(e,t,r){if(Bn(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(J(e))};var _n=F("match");var Tn=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[_n]=false;return!"/./"[e](t)}catch(e){}}return true};var An="endsWith";var Nn=""[An];A(A.P+A.F*Tn(An),"String",{endsWith:function e(t){var r=On(this,t,An);var n=arguments.length>1?arguments[1]:undefined;var i=te(r.length);var a=n===undefined?i:Math.min(te(n),i);var o=String(t);return Nn?Nn.call(r,o,a):r.slice(a-o.length,a)===o}});var Xn="includes";A(A.P+A.F*Tn(Xn),"String",{includes:function e(t){return!!~On(this,t,Xn).indexOf(t,arguments.length>1?arguments[1]:undefined)}});A(A.P,"String",{repeat:Br});var Pn="startsWith";var kn=""[Pn];A(A.P+A.F*Tn(Pn),"String",{startsWith:function e(t){var r=On(this,t,Pn);var n=te(Math.min(arguments.length>1?arguments[1]:undefined,r.length));var i=String(t);return kn?kn.call(r,i,n):r.slice(n,n+i.length)===i}});var Cn=/"/g;var Mn=function e(t,r,n,i){var a=String(J(t));var o="<"+r;if(n!=="")o+=" "+n+'="'+String(i).replace(Cn,"&quot;")+'"';return o+">"+a+"</"+r+">"};var In=function(e,t){var r={};r[e]=t(Mn);A(A.P+A.F*a(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)};In("anchor",function(e){return function t(r){return e(this,"a","name",r)}});In("big",function(e){return function t(){return e(this,"big","","")}});In("blink",function(e){return function t(){return e(this,"blink","","")}});In("bold",function(e){return function t(){return e(this,"b","","")}});In("fixed",function(e){return function t(){return e(this,"tt","","")}});In("fontcolor",function(e){return function t(r){return e(this,"font","color",r)}});In("fontsize",function(e){return function t(r){return e(this,"font","size",r)}});In("italics",function(e){return function t(){return e(this,"i","","")}});In("link",function(e){return function t(r){return e(this,"a","href",r)}});In("small",function(e){return function t(){return e(this,"small","","")}});In("strike",function(e){return function t(){return e(this,"strike","","")}});In("sub",function(e){return function t(){return e(this,"sub","","")}});In("sup",function(e){return function t(){return e(this,"sup","","")}});A(A.S,"Date",{now:function e(){return(new Date).getTime()}});A(A.P+A.F*a(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function e(){return 1}})!==1}),"Date",{toJSON:function e(t){var r=bt(this);var n=p(r);return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}});var Ln=Date.prototype.getTime;var Fn=Date.prototype.toISOString;var Dn=function e(t){return t>9?t:"0"+t};var Rn=a(function(){return Fn.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!a(function(){Fn.call(new Date(NaN))})?function e(){if(!isFinite(Ln.call(this)))throw RangeError("Invalid time value");var t=this;var r=t.getUTCFullYear();var n=t.getUTCMilliseconds();var i=r<0?"-":r>9999?"+":"";return i+("00000"+Math.abs(r)).slice(i?-6:-4)+"-"+Dn(t.getUTCMonth()+1)+"-"+Dn(t.getUTCDate())+"T"+Dn(t.getUTCHours())+":"+Dn(t.getUTCMinutes())+":"+Dn(t.getUTCSeconds())+"."+(n>99?n:"0"+Dn(n))+"Z"}:Fn;A(A.P+A.F*(Date.prototype.toISOString!==Rn),"Date",{toISOString:Rn});var Hn=Date.prototype;var Wn="Invalid Date";var Gn="toString";var zn=Hn[Gn];var Un=Hn.getTime;if(new Date(NaN)+""!=Wn){j(Hn,Gn,function e(){var t=Un.call(this);return t===t?zn.call(this):Wn})}var Vn="number";var Yn=function(e){if(e!=="string"&&e!==Vn&&e!=="default")throw TypeError("Incorrect hint");return p(f(this),e!=Vn)};var qn=F("toPrimitive");var Jn=Date.prototype;if(!(qn in Jn))w(Jn,qn,Yn);A(A.S,"Array",{isArray:me});var $n=function(e,t,r,n){try{return n?t(f(r)[0],r[1]):t(r)}catch(t){var i=e["return"];if(i!==undefined)f(i.call(e));throw t}};var Kn=F("iterator");var Zn=Array.prototype;var Qn=function(e){return e!==undefined&&(vn.Array===e||Zn[Kn]===e)};var ei=function(e,t,r){if(t in e)m.f(e,t,b(0,r));else e[t]=r};var ti=F("iterator");var ri=s.getIteratorMethod=function(e){if(e!=undefined)return e[ti]||e["@@iterator"]||vn[Ct(e)]};var ni=F("iterator");var ii=false;try{var ai=[7][ni]();ai["return"]=function(){ii=true}}catch(e){}var oi=function(e,t){if(!t&&!ii)return false;var r=false;try{var n=[7];var i=n[ni]();i.next=function(){return{done:r=true}};n[ni]=function(){return i};e(n)}catch(e){}return r};A(A.S+A.F*!oi(function(e){}),"Array",{from:function e(t){var r=bt(t);var n=typeof this=="function"?this:Array;var i=arguments.length;var a=i>1?arguments[1]:undefined;var o=a!==undefined;var s=0;var u=ri(r);var l,f,c,v;if(o)a=O(a,i>2?arguments[2]:undefined,2);if(u!=undefined&&!(n==Array&&Qn(u))){for(v=u.call(r),f=new n;!(c=v.next()).done;s++){ei(f,s,o?$n(v,a,[c.value,s],true):c.value)}}else{l=te(r.length);for(f=new n(l);l>s;s++){ei(f,s,o?a(r[s],s):r[s])}}f.length=s;return f}});A(A.S+A.F*a(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function e(){var t=0;var r=arguments.length;var n=new(typeof this=="function"?this:Array)(r);while(r>t){ei(n,t,arguments[t++])}n.length=r;return n}});var si=function(e,t){return!!e&&a(function(){t?e.call(null,function(){},1):e.call(null)})};var ui=[].join;A(A.P+A.F*(q!=Object||!si(ui)),"Array",{join:function e(t){return ui.call($(this),t===undefined?",":t)}});var li=[].slice;A(A.P+A.F*a(function(){if(Se)li.call(Se)}),"Array",{slice:function e(t,r){var n=te(this.length);var i=Y(this);r=r===undefined?n:r;if(i=="Array")return li.call(this,t,r);var a=ie(t,n);var o=ie(r,n);var s=te(o-a);var u=new Array(s);var l=0;for(;l<s;l++){u[l]=i=="String"?this.charAt(a+l):this[a+l]}return u}});var fi=[].sort;var ci=[1,2,3];A(A.P+A.F*(a(function(){ci.sort(undefined)})||!a(function(){ci.sort(null)})||!si(fi)),"Array",{sort:function e(t){return t===undefined?fi.call(bt(this)):fi.call(bt(this),B(t))}});var vi=F("species");var hi=function(e){var t;if(me(e)){t=e.constructor;if(typeof t=="function"&&(t===Array||me(t.prototype)))t=undefined;if(l(t)){t=t[vi];if(t===null)t=undefined}}return t===undefined?Array:t};var di=function(e,t){return new(hi(e))(t)};var pi=function(e,t){var r=e==1;var n=e==2;var i=e==3;var a=e==4;var o=e==6;var s=e==5||o;var u=t||di;return function(t,l,f){var c=bt(t);var v=q(c);var h=O(l,f,3);var d=te(v.length);var p=0;var y=r?u(t,d):n?u(t,0):undefined;var g,m;for(;d>p;p++){if(s||p in v){g=v[p];m=h(g,p,c);if(e){if(r)y[p]=m;else if(m)switch(e){case 3:return true;case 5:return g;case 6:return p;case 2:y.push(g)}else if(a)return false}}}return o?-1:i||a?a:y}};var yi=pi(0);var gi=si([].forEach,true);A(A.P+A.F*!gi,"Array",{forEach:function e(t){return yi(this,t,arguments[1])}});var mi=pi(1);A(A.P+A.F*!si([].map,true),"Array",{map:function e(t){return mi(this,t,arguments[1])}});var bi=pi(2);A(A.P+A.F*!si([].filter,true),"Array",{filter:function e(t){return bi(this,t,arguments[1])}});var wi=pi(3);A(A.P+A.F*!si([].some,true),"Array",{some:function e(t){return wi(this,t,arguments[1])}});var Si=pi(4);A(A.P+A.F*!si([].every,true),"Array",{every:function e(t){return Si(this,t,arguments[1])}});var xi=function(e,t,r,n,i){B(t);var a=bt(e);var o=q(a);var s=te(a.length);var u=i?s-1:0;var l=i?-1:1;if(r<2)for(;;){if(u in o){n=o[u];u+=l;break}u+=l;if(i?u<0:s<=u){throw TypeError("Reduce of empty array with no initial value")}}for(;i?u>=0:s>u;u+=l){if(u in o){n=t(n,o[u],u,a)}}return n};A(A.P+A.F*!si([].reduce,true),"Array",{reduce:function e(t){return xi(this,t,arguments.length,arguments[1],false)}});A(A.P+A.F*!si([].reduceRight,true),"Array",{reduceRight:function e(t){return xi(this,t,arguments.length,arguments[1],true)}});var Ei=ae(false);var ji=[].indexOf;var Bi=!!ji&&1/[1].indexOf(1,-0)<0;A(A.P+A.F*(Bi||!si(ji)),"Array",{indexOf:function e(t){return Bi?ji.apply(this,arguments)||0:Ei(this,t,arguments[1])}});var Oi=[].lastIndexOf;var _i=!!Oi&&1/[1].lastIndexOf(1,-0)<0;A(A.P+A.F*(_i||!si(Oi)),"Array",{lastIndexOf:function e(t){if(_i)return Oi.apply(this,arguments)||0;var r=$(this);var n=te(r.length);var i=n-1;if(arguments.length>1)i=Math.min(i,Q(arguments[1]));if(i<0)i=n+i;for(;i>=0;i--){if(i in r)if(r[i]===t)return i||0}return-1}});var Ti=[].copyWithin||function e(t,r){var n=bt(this);var i=te(n.length);var a=ie(t,i);var o=ie(r,i);var s=arguments.length>2?arguments[2]:undefined;var u=Math.min((s===undefined?i:ie(s,i))-o,i-a);var l=1;if(o<a&&a<o+u){l=-1;o+=u-1;a+=u-1}while(u-- >0){if(o in n)n[a]=n[o];else delete n[a];a+=l;o+=l}return n};var Ai=F("unscopables");var Ni=Array.prototype;if(Ni[Ai]==undefined)w(Ni,Ai,{});var Xi=function(e){Ni[Ai][e]=true};A(A.P,"Array",{copyWithin:Ti});Xi("copyWithin");var Pi=function e(t){var r=bt(this);var n=te(r.length);var i=arguments.length;var a=ie(i>1?arguments[1]:undefined,n);var o=i>2?arguments[2]:undefined;var s=o===undefined?n:ie(o,n);while(s>a){r[a++]=t}return r};A(A.P,"Array",{fill:Pi});Xi("fill");var ki=pi(5);var Ci="find";var Mi=true;if(Ci in[])Array(1)[Ci](function(){Mi=false});A(A.P+A.F*Mi,"Array",{find:function e(t){return ki(this,t,arguments.length>1?arguments[1]:undefined)}});Xi(Ci);var Ii=pi(6);var Li="findIndex";var Fi=true;if(Li in[])Array(1)[Li](function(){Fi=false});A(A.P+A.F*Fi,"Array",{findIndex:function e(t){return Ii(this,t,arguments.length>1?arguments[1]:undefined)}});Xi(Li);var Di=F("species");var Ri=function(e){var t=r[e];if(o&&t&&!t[Di])m.f(t,Di,{configurable:true,get:function e(){return this}})};Ri("Array");var Hi=function(e,t){return{value:t,done:!!e}};var Wi=Sn(Array,"Array",function(e,t){this._t=$(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=undefined;return Hi(1)}if(t=="keys")return Hi(0,r);if(t=="values")return Hi(0,e[r]);return Hi(0,[r,e[r]])},"values");vn.Arguments=vn.Array;Xi("keys");Xi("values");Xi("entries");var Gi=function(){var e=f(this);var t="";if(e.global)t+="g";if(e.ignoreCase)t+="i";if(e.multiline)t+="m";if(e.unicode)t+="u";if(e.sticky)t+="y";return t};var zi=m.f;var Ui=Ae.f;var Vi=r.RegExp;var Yi=Vi;var qi=Vi.prototype;var Ji=/a/g;var $i=/a/g;var Ki=new Vi(Ji)!==Ji;if(o&&(!Ki||a(function(){$i[F("match")]=false;return Vi(Ji)!=Ji||Vi($i)==$i||Vi(Ji,"i")!="/a/i"}))){Vi=function e(t,r){var n=this instanceof Vi;var i=Bn(t);var a=r===undefined;return!n&&i&&t.constructor===Vi&&a?t:lr(Ki?new Yi(i&&!a?t.source:t,r):Yi((i=t instanceof Vi)?t.source:t,i&&a?Gi.call(t):r),n?this:qi,Vi)};var Zi=function e(t){t in Vi||zi(Vi,t,{configurable:true,get:function e(){return Yi[t]},set:function e(r){Yi[t]=r}})};for(var Qi=Ui(Yi),ea=0;Qi.length>ea;){Zi(Qi[ea++])}qi.constructor=Vi;Vi.prototype=qi;j(r,"RegExp",Vi)}Ri("RegExp");var ta=RegExp.prototype.exec;var ra=String.prototype.replace;var na=ta;var ia="lastIndex";var aa=function(){var e=/a/,t=/b*/g;ta.call(e,"a");ta.call(t,"a");return e[ia]!==0||t[ia]!==0}();var oa=/()??/.exec("")[1]!==undefined;var sa=aa||oa;if(sa){na=function e(t){var r=this;var n,i,a,o;if(oa){i=new RegExp("^"+r.source+"$(?!\\s)",Gi.call(r))}if(aa)n=r[ia];a=ta.call(r,t);if(aa&&a){r[ia]=r.global?a.index+a[0].length:n}if(oa&&a&&a.length>1){ra.call(a[0],i,function(){for(o=1;o<arguments.length-2;o++){if(arguments[o]===undefined)a[o]=undefined}})}return a}}var ua=na;A({target:"RegExp",proto:true,forced:ua!==/./.exec},{exec:ua});if(o&&/./g.flags!="g")m.f(RegExp.prototype,"flags",{configurable:true,get:Gi});var la="toString";var fa=/./[la];var ca=function e(t){j(RegExp.prototype,la,t,true)};if(a(function(){return fa.call({source:"a",flags:"b"})!="/a/b"})){ca(function e(){var t=f(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?Gi.call(t):undefined)})}else if(fa.name!=la){ca(function e(){return fa.call(this)})}var va=cn(true);var ha=function(e,t,r){return t+(r?va(e,t).length:1)};var da=RegExp.prototype.exec;var pa=function(e,t){var r=e.exec;if(typeof r==="function"){var n=r.call(e,t);if(babelHelpers.typeof(n)!=="object"){throw new TypeError("RegExp exec method returned something other than an Object or null")}return n}if(Ct(e)!=="RegExp"){throw new TypeError("RegExp#exec called on incompatible receiver")}return da.call(e,t)};var ya=F("species");var ga=!a(function(){var e=/./;e.exec=function(){var e=[];e.groups={a:"7"};return e};return"".replace(e,"$<a>")!=="7"});var ma=function(){var e=/(?:)/;var t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length===2&&r[0]==="a"&&r[1]==="b"}();var ba=function(e,t,r){var n=F(e);var i=!a(function(){var t={};t[n]=function(){return 7};return""[e](t)!=7});var o=i?!a(function(){var t=false;var r=/a/;r.exec=function(){t=true;return null};if(e==="split"){r.constructor={};r.constructor[ya]=function(){return r}}r[n]("");return!t}):undefined;if(!i||!o||e==="replace"&&!ga||e==="split"&&!ma){var s=/./[n];var u=r(J,n,""[e],function e(t,r,n,a,o){if(r.exec===ua){if(i&&!o){return{done:true,value:s.call(r,n,a)}}return{done:true,value:t.call(n,r,a)}}return{done:false}});var l=u[0];var f=u[1];j(String.prototype,e,l);w(RegExp.prototype,n,t==2?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}};ba("match",1,function(e,t,r,n){return[function r(n){var i=e(this);var a=n==undefined?undefined:n[t];return a!==undefined?a.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=n(r,e,this);if(t.done)return t.value;var i=f(e);var a=String(this);if(!i.global)return pa(i,a);var o=i.unicode;i.lastIndex=0;var s=[];var u=0;var l;while((l=pa(i,a))!==null){var c=String(l[0]);s[u]=c;if(c==="")i.lastIndex=ha(a,te(i.lastIndex),o);u++}return u===0?null:s}]});var wa=Math.max;var Sa=Math.min;var xa=Math.floor;var Ea=/\$([$&`']|\d\d?|<[^>]*>)/g;var ja=/\$([$&`']|\d\d?)/g;var Ba=function e(t){return t===undefined?t:String(t)};ba("replace",2,function(e,t,r,n){return[function n(i,a){var o=e(this);var s=i==undefined?undefined:i[t];return s!==undefined?s.call(i,o,a):r.call(String(o),i,a)},function(e,t){var a=n(r,e,this,t);if(a.done)return a.value;var o=f(e);var s=String(this);var u=typeof t==="function";if(!u)t=String(t);var l=o.global;if(l){var c=o.unicode;o.lastIndex=0}var v=[];while(true){var h=pa(o,s);if(h===null)break;v.push(h);if(!l)break;var d=String(h[0]);if(d==="")o.lastIndex=ha(s,te(o.lastIndex),c)}var p="";var y=0;for(var g=0;g<v.length;g++){h=v[g];var m=String(h[0]);var b=wa(Sa(Q(h.index),s.length),0);var w=[];for(var S=1;S<h.length;S++){w.push(Ba(h[S]))}var x=h.groups;if(u){var E=[m].concat(w,b,s);if(x!==undefined)E.push(x);var j=String(t.apply(undefined,E))}else{j=i(m,s,b,w,x,t)}if(b>=y){p+=s.slice(y,b)+j;y=b+m.length}}return p+s.slice(y)}];function i(e,t,n,i,a,o){var s=n+e.length;var u=i.length;var l=ja;if(a!==undefined){a=bt(a);l=Ea}return r.call(o,l,function(r,o){var l;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":l=a[o.slice(1,-1)];break;default:var f=+o;if(f===0)return r;if(f>u){var c=xa(f/10);if(c===0)return r;if(c<=u)return i[c-1]===undefined?o.charAt(1):i[c-1]+o.charAt(1);return r}l=i[f-1]}return l===undefined?"":l})}});ba("search",1,function(e,t,r,n){return[function r(n){var i=e(this);var a=n==undefined?undefined:n[t];return a!==undefined?a.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=n(r,e,this);if(t.done)return t.value;var i=f(e);var a=String(this);var o=i.lastIndex;if(!Tt(o,0))i.lastIndex=0;var s=pa(i,a);if(!Tt(i.lastIndex,o))i.lastIndex=o;return s===null?-1:s.index}]});var Oa=F("species");var _a=function(e,t){var r=f(e).constructor;var n;return r===undefined||(n=f(r)[Oa])==undefined?t:B(n)};var Ta=Math.min;var Aa=[].push;var Na="split";var Xa="length";var Pa="lastIndex";var ka=4294967295;var Ca=!a(function(){});ba("split",2,function(e,t,r,n){var i;if("abbc"[Na](/(b)*/)[1]=="c"||"test"[Na](/(?:)/,-1)[Xa]!=4||"ab"[Na](/(?:ab)*/)[Xa]!=2||"."[Na](/(.?)(.?)/)[Xa]!=4||"."[Na](/()()/)[Xa]>1||""[Na](/.?/)[Xa]){i=function e(t,n){var i=String(this);if(t===undefined&&n===0)return[];if(!Bn(t))return r.call(i,t,n);var a=[];var o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"");var s=0;var u=n===undefined?ka:n>>>0;var l=new RegExp(t.source,o+"g");var f,c,v;while(f=ua.call(l,i)){c=l[Pa];if(c>s){a.push(i.slice(s,f.index));if(f[Xa]>1&&f.index<i[Xa])Aa.apply(a,f.slice(1));v=f[0][Xa];s=c;if(a[Xa]>=u)break}if(l[Pa]===f.index)l[Pa]++}if(s===i[Xa]){if(v||!l.test(""))a.push("")}else a.push(i.slice(s));return a[Xa]>u?a.slice(0,u):a}}else if("0"[Na](undefined,0)[Xa]){i=function e(t,n){return t===undefined&&n===0?[]:r.call(this,t,n)}}else{i=r}return[function r(n,a){var o=e(this);var s=n==undefined?undefined:n[t];return s!==undefined?s.call(n,o,a):i.call(String(o),n,a)},function(e,t){var a=n(i,e,this,t,i!==r);if(a.done)return a.value;var o=f(e);var s=String(this);var u=_a(o,RegExp);var l=o.unicode;var c=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Ca?"y":"g");var v=new u(Ca?o:"^(?:"+o.source+")",c);var h=t===undefined?ka:t>>>0;if(h===0)return[];if(s.length===0)return pa(v,s)===null?[s]:[];var d=0;var p=0;var y=[];while(p<s.length){v.lastIndex=Ca?p:0;var g=pa(v,Ca?s:s.slice(p));var m;if(g===null||(m=Ta(te(v.lastIndex+(Ca?0:p)),s.length))===d){p=ha(s,p,l)}else{y.push(s.slice(d,p));if(y.length===h)return y;for(var b=1;b<=g.length-1;b++){y.push(g[b]);if(y.length===h)return y}p=d=m}}y.push(s.slice(d));return y}]});var Ma=function(e,t,r,n){if(!(e instanceof t)||n!==undefined&&n in e){throw TypeError(r+": incorrect invocation!")}return e};var Ia=t(function(e){var t={};var r={};var n=e.exports=function(e,n,i,a,o){var s=o?function(){return e}:ri(e);var u=O(i,a,n?2:1);var l=0;var c,v,h,d;if(typeof s!="function")throw TypeError(e+" is not iterable!");if(Qn(s))for(c=te(e.length);c>l;l++){d=n?u(f(v=e[l])[0],v[1]):u(e[l]);if(d===t||d===r)return d}else for(h=s.call(e);!(v=h.next()).done;){d=$n(h,u,v.value,n);if(d===t||d===r)return d}};n.BREAK=t;n.RETURN=r});var La=r.process;var Fa=r.setImmediate;var Da=r.clearImmediate;var Ra=r.MessageChannel;var Ha=r.Dispatch;var Wa=0;var Ga={};var za="onreadystatechange";var Ua,Va,Ya;var qa=function e(){var t=+this;if(Ga.hasOwnProperty(t)){var r=Ga[t];delete Ga[t];r()}};var Ja=function e(t){qa.call(t.data)};if(!Fa||!Da){Fa=function e(t){var r=[];var n=1;while(arguments.length>n){r.push(arguments[n++])}Ga[++Wa]=function(){It(typeof t=="function"?t:Function(t),r)};Ua(Wa);return Wa};Da=function e(t){delete Ga[t]};if(Y(La)=="process"){Ua=function e(t){La.nextTick(O(qa,t,1))}}else if(Ha&&Ha.now){Ua=function e(t){Ha.now(O(qa,t,1))}}else if(Ra){Va=new Ra;Ya=Va.port2;Va.port1.onmessage=Ja;Ua=O(Ya.postMessage,Ya,1)}else if(r.addEventListener&&typeof postMessage=="function"&&!r.importScripts){Ua=function e(t){r.postMessage(t+"","*")};r.addEventListener("message",Ja,false)}else if(za in h("script")){Ua=function e(t){Se.appendChild(h("script"))[za]=function(){Se.removeChild(this);qa.call(t)}}}else{Ua=function e(t){setTimeout(O(qa,t,1),0)}}}var $a={set:Fa,clear:Da};var Ka=$a.set;var Za=r.MutationObserver||r.WebKitMutationObserver;var Qa=r.process;var eo=r.Promise;var to=Y(Qa)=="process";var ro=function(){var e,t,n;var i=function r(){var i,a;if(to&&(i=Qa.domain))i.exit();while(e){a=e.fn;e=e.next;try{a()}catch(r){if(e)n();else t=undefined;throw r}}t=undefined;if(i)i.enter()};if(to){n=function e(){Qa.nextTick(i)}}else if(Za&&!(r.navigator&&r.navigator.standalone)){var a=true;var o=document.createTextNode("");new Za(i).observe(o,{characterData:true});n=function e(){o.data=a=!a}}else if(eo&&eo.resolve){var s=eo.resolve(undefined);n=function e(){s.then(i)}}else{n=function e(){Ka.call(r,i)}}return function(r){var i={fn:r,next:undefined};if(t)t.next=i;if(!e){e=i;n()}t=i}};function no(e){var t,r;this.promise=new e(function(e,n){if(t!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");t=e;r=n});this.resolve=B(t);this.reject=B(r)}var io=function(e){return new no(e)};var ao={f:io};var oo=function(e){try{return{e:false,v:e()}}catch(e){return{e:true,v:e}}};var so=r.navigator;var uo=so&&so.userAgent||"";var lo=function(e,t){f(e);if(l(t)&&t.constructor===e)return t;var r=ao.f(e);var n=r.resolve;n(t);return r.promise};var fo=function(e,t,r){for(var n in t){j(e,n,t[n],r)}return e};var co=$a.set;var vo=ro();var ho="Promise";var po=r.TypeError;var yo=r.process;var go=yo&&yo.versions;var mo=go&&go.v8||"";var bo=r[ho];var wo=Ct(yo)=="process";var So=function e(){};var xo,Eo,jo,Bo;var Oo=Eo=ao.f;var _o=!!function(){try{var e=bo.resolve(1);var t=(e.constructor={})[F("species")]=function(e){e(So,So)};return(wo||typeof PromiseRejectionEvent=="function")&&e.then(So)instanceof t&&mo.indexOf("6.6")!==0&&uo.indexOf("Chrome/66")===-1}catch(e){}}();var To=function e(t){var r;return l(t)&&typeof(r=t.then)=="function"?r:false};var Ao=function e(t,r){if(t._n)return;t._n=true;var n=t._c;vo(function(){var e=t._v;var i=t._s==1;var a=0;var o=function r(n){var a=i?n.ok:n.fail;var o=n.resolve;var s=n.reject;var u=n.domain;var l,f,c;try{if(a){if(!i){if(t._h==2)Po(t);t._h=1}if(a===true)l=e;else{if(u)u.enter();l=a(e);if(u){u.exit();c=true}}if(l===n.promise){s(po("Promise-chain cycle"))}else if(f=To(l)){f.call(l,o,s)}else o(l)}else s(e)}catch(e){if(u&&!c)u.exit();s(e)}};while(n.length>a){o(n[a++])}t._c=[];t._n=false;if(r&&!t._h)No(t)})};var No=function e(t){co.call(r,function(){var e=t._v;var n=Xo(t);var i,a,o;if(n){i=oo(function(){if(wo){yo.emit("unhandledRejection",e,t)}else if(a=r.onunhandledrejection){a({promise:t,reason:e})}else if((o=r.console)&&o.error){o.error("Unhandled promise rejection",e)}});t._h=wo||Xo(t)?2:1}t._a=undefined;if(n&&i.e)throw i.v})};var Xo=function e(t){return t._h!==1&&(t._a||t._c).length===0};var Po=function e(t){co.call(r,function(){var e;if(wo){yo.emit("rejectionHandled",t)}else if(e=r.onrejectionhandled){e({promise:t,reason:t._v})}})};var ko=function e(t){var r=this;if(r._d)return;r._d=true;r=r._w||r;r._v=t;r._s=2;if(!r._a)r._a=r._c.slice();Ao(r,true)};var Co=function e(t){var r=this;var n;if(r._d)return;r._d=true;r=r._w||r;try{if(r===t)throw po("Promise can't be resolved itself");if(n=To(t)){vo(function(){var i={_w:r,_d:false};try{n.call(t,O(e,i,1),O(ko,i,1))}catch(e){ko.call(i,e)}})}else{r._v=t;r._s=1;Ao(r,false)}}catch(e){ko.call({_w:r,_d:false},e)}};if(!_o){bo=function e(t){Ma(this,bo,ho,"_h");B(t);xo.call(this);try{t(O(Co,this,1),O(ko,this,1))}catch(e){ko.call(this,e)}};xo=function e(t){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};xo.prototype=fo(bo.prototype,{then:function e(t,r){var n=Oo(_a(this,bo));n.ok=typeof t=="function"?t:true;n.fail=typeof r=="function"&&r;n.domain=wo?yo.domain:undefined;this._c.push(n);if(this._a)this._a.push(n);if(this._s)Ao(this,false);return n.promise},catch:function e(t){return this.then(undefined,t)}});jo=function e(){var t=new xo;this.promise=t;this.resolve=O(Co,t,1);this.reject=O(ko,t,1)};ao.f=Oo=function e(t){return t===bo||t===Bo?new jo(t):Eo(t)}}A(A.G+A.W+A.F*!_o,{Promise:bo});H(bo,ho);Ri(ho);Bo=s[ho];A(A.S+A.F*!_o,ho,{reject:function e(t){var r=Oo(this);var n=r.reject;n(t);return r.promise}});A(A.S+A.F*(I||!_o),ho,{resolve:function e(t){return lo(I&&this===Bo?bo:this,t)}});A(A.S+A.F*!(_o&&oi(function(e){bo.all(e)["catch"](So)})),ho,{all:function e(t){var r=this;var n=Oo(r);var i=n.resolve;var a=n.reject;var o=oo(function(){var e=[];var n=0;var o=1;Ia(t,false,function(t){var s=n++;var u=false;e.push(undefined);o++;r.resolve(t).then(function(t){if(u)return;u=true;e[s]=t;--o||i(e)},a)});--o||i(e)});if(o.e)a(o.v);return n.promise},race:function e(t){var r=this;var n=Oo(r);var i=n.reject;var a=oo(function(){Ia(t,false,function(e){r.resolve(e).then(n.resolve,i)})});if(a.e)i(a.v);return n.promise}});var Mo=function(e,t){if(!l(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e};var Io=m.f;var Lo=N.fastKey;var Fo=o?"_s":"size";var Do=function e(t,r){var n=Lo(r);var i;if(n!=="F")return t._i[n];for(i=t._f;i;i=i.n){if(i.k==r)return i}};var Ro={getConstructor:function e(t,r,n,i){var a=t(function(e,t){Ma(e,a,r,"_i");e._t=r;e._i=Oe(null);e._f=undefined;e._l=undefined;e[Fo]=0;if(t!=undefined)Ia(t,n,e[i],e)});fo(a.prototype,{clear:function e(){for(var t=Mo(this,r),n=t._i,i=t._f;i;i=i.n){i.r=true;if(i.p)i.p=i.p.n=undefined;delete n[i.i]}t._f=t._l=undefined;t[Fo]=0},delete:function e(t){var n=Mo(this,r);var i=Do(n,t);if(i){var a=i.n;var o=i.p;delete n._i[i.i];i.r=true;if(o)o.n=a;if(a)a.p=o;if(n._f==i)n._f=a;if(n._l==i)n._l=o;n[Fo]--}return!!i},forEach:function e(t){Mo(this,r);var n=O(t,arguments.length>1?arguments[1]:undefined,3);var i;while(i=i?i.n:this._f){n(i.v,i.k,this);while(i&&i.r){i=i.p}}},has:function e(t){return!!Do(Mo(this,r),t)}});if(o)Io(a.prototype,"size",{get:function e(){return Mo(this,r)[Fo]}});return a},def:function e(t,r,n){var i=Do(t,r);var a,o;if(i){i.v=n}else{t._l=i={i:o=Lo(r,true),k:r,v:n,p:a=t._l,n:undefined,r:false};if(!t._f)t._f=i;if(a)a.n=i;t[Fo]++;if(o!=="F")t._i[o]=i}return t},getEntry:Do,setStrong:function e(t,r,n){Sn(t,r,function(e,t){this._t=Mo(e,r);this._k=t;this._l=undefined},function(){var e=this;var t=e._k;var r=e._l;while(r&&r.r){r=r.p}if(!e._t||!(e._l=r=r?r.n:e._t._f)){e._t=undefined;return Hi(1)}if(t=="keys")return Hi(0,r.k);if(t=="values")return Hi(0,r.v);return Hi(0,[r.k,r.v])},n?"entries":"values",!n,true);Ri(r)}};var Ho=function(e,t,n,i,o,s){var u=r[e];var f=u;var c=o?"set":"add";var v=f&&f.prototype;var h={};var d=function e(t){var r=v[t];j(v,t,t=="delete"?function(e){return s&&!l(e)?false:r.call(this,e===0?0:e)}:t=="has"?function e(t){return s&&!l(t)?false:r.call(this,t===0?0:t)}:t=="get"?function e(t){return s&&!l(t)?undefined:r.call(this,t===0?0:t)}:t=="add"?function e(t){r.call(this,t===0?0:t);return this}:function e(t,n){r.call(this,t===0?0:t,n);return this})};if(typeof f!="function"||!(s||v.forEach&&!a(function(){(new f).entries().next()}))){f=i.getConstructor(t,e,o,c);fo(f.prototype,n);N.NEED=true}else{var p=new f;var y=p[c](s?{}:-0,1)!=p;var g=a(function(){p.has(1)});var m=oi(function(e){new f(e)});var b=!s&&a(function(){var e=new f;var t=5;while(t--){e[c](t,t)}return!e.has(-0)});if(!m){f=t(function(t,r){Ma(t,f,e);var n=lr(new u,t,f);if(r!=undefined)Ia(r,o,n[c],n);return n});f.prototype=v;v.constructor=f}if(g||b){d("delete");d("has");o&&d("get")}if(b||y)d(c);if(s&&v.clear)delete v.clear}H(f,e);h[e]=f;A(A.G+A.W+A.F*(f!=u),h);if(!s)i.setStrong(f,e,o);return f};var Wo="Map";var Go=Ho(Wo,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:undefined)}},{get:function e(t){var r=Ro.getEntry(Mo(this,Wo),t);return r&&r.v},set:function e(t,r){return Ro.def(Mo(this,Wo),t===0?0:t,r)}},Ro,true);var zo="Set";var Uo=Ho(zo,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function e(t){return Ro.def(Mo(this,zo),t=t===0?0:t,t)}},Ro);var Vo=N.getWeak;var Yo=pi(5);var qo=pi(6);var Jo=0;var $o=function e(t){return t._l||(t._l=new Ko)};var Ko=function e(){this.a=[]};var Zo=function e(t,r){return Yo(t.a,function(e){return e[0]===r})};Ko.prototype={get:function e(t){var r=Zo(this,t);if(r)return r[1]},has:function e(t){return!!Zo(this,t)},set:function e(t,r){var n=Zo(this,t);if(n)n[1]=r;else this.a.push([t,r])},delete:function e(t){var r=qo(this.a,function(e){return e[0]===t});if(~r)this.a.splice(r,1);return!!~r}};var Qo={getConstructor:function e(t,r,n,a){var o=t(function(e,t){Ma(e,o,r,"_i");e._t=r;e._i=Jo++;e._l=undefined;if(t!=undefined)Ia(t,n,e[a],e)});fo(o.prototype,{delete:function e(t){if(!l(t))return false;var n=Vo(t);if(n===true)return $o(Mo(this,r))["delete"](t);return n&&i(n,this._i)&&delete n[this._i]},has:function e(t){if(!l(t))return false;var n=Vo(t);if(n===true)return $o(Mo(this,r)).has(t);return n&&i(n,this._i)}});return o},def:function e(t,r,n){var i=Vo(f(r),true);if(i===true)$o(t).set(r,n);else i[t._i]=n;return t},ufstore:$o};var es=t(function(e){var t=pi(0);var r="WeakMap";var n=N.getWeak;var i=Object.isExtensible;var o=Qo.ufstore;var s={};var u;var f=function e(t){return function e(){return t(this,arguments.length>0?arguments[0]:undefined)}};var c={get:function e(t){if(l(t)){var i=n(t);if(i===true)return o(Mo(this,r)).get(t);return i?i[this._i]:undefined}},set:function e(t,n){return Qo.def(Mo(this,r),t,n)}};var v=e.exports=Ho(r,f,c,Qo,true,true);if(a(function(){return(new v).set((Object.freeze||Object)(s),7).get(s)!=7})){u=Qo.getConstructor(f,r);_t(u.prototype,c);N.NEED=true;t(["delete","has","get","set"],function(e){var t=v.prototype;var r=t[e];j(t,e,function(t,n){if(l(t)&&!i(t)){if(!this._f)this._f=new u;var a=this._f[e](t,n);return e=="set"?this:a}return r.call(this,t,n)})})}});var ts="WeakSet";Ho(ts,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function e(t){return Qo.def(Mo(this,ts),t,true)}},Qo,false,true);var rs=E("typed_array");var ns=E("view");var is=!!(r.ArrayBuffer&&r.DataView);var as=is;var os=0;var ss=9;var us;var ls="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(os<ss){if(us=r[ls[os++]]){w(us.prototype,rs,true);w(us.prototype,ns,true)}else as=false}var fs={ABV:is,CONSTR:as,TYPED:rs,VIEW:ns};var cs=function(e){if(e===undefined)return 0;var t=Q(e);var r=te(t);if(t!==r)throw RangeError("Wrong length!");return r};var vs=t(function(e,t){var n=Ae.f;var i=m.f;var s="ArrayBuffer";var u="DataView";var l="prototype";var f="Wrong length!";var c="Wrong index!";var v=r[s];var h=r[u];var d=r.Math;var p=r.RangeError;var y=r.Infinity;var g=v;var b=d.abs;var S=d.pow;var x=d.floor;var E=d.log;var j=d.LN2;var B="buffer";var O="byteLength";var _="byteOffset";var T=o?"_b":B;var A=o?"_l":O;var N=o?"_o":_;function X(e,t,r){var n=new Array(r);var i=r*8-t-1;var a=(1<<i)-1;var o=a>>1;var s=t===23?S(2,-24)-S(2,-77):0;var u=0;var l=e<0||e===0&&1/e<0?1:0;var f,c,v;e=b(e);if(e!=e||e===y){c=e!=e?1:0;f=a}else{f=x(E(e)/j);if(e*(v=S(2,-f))<1){f--;v*=2}if(f+o>=1){e+=s/v}else{e+=s*S(2,1-o)}if(e*v>=2){f++;v/=2}if(f+o>=a){c=0;f=a}else if(f+o>=1){c=(e*v-1)*S(2,t);f=f+o}else{c=e*S(2,o-1)*S(2,t);f=0}}for(;t>=8;n[u++]=c&255,c/=256,t-=8){}f=f<<t|c;i+=t;for(;i>0;n[u++]=f&255,f/=256,i-=8){}n[--u]|=l*128;return n}function P(e,t,r){var n=r*8-t-1;var i=(1<<n)-1;var a=i>>1;var o=n-7;var s=r-1;var u=e[s--];var l=u&127;var f;u>>=7;for(;o>0;l=l*256+e[s],s--,o-=8){}f=l&(1<<-o)-1;l>>=-o;o+=t;for(;o>0;f=f*256+e[s],s--,o-=8){}if(l===0){l=1-a}else if(l===i){return f?NaN:u?-y:y}else{f=f+S(2,t);l=l-a}return(u?-1:1)*f*S(2,l-t)}function k(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function C(e){return[e&255]}function M(e){return[e&255,e>>8&255]}function I(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]}function L(e){return X(e,52,8)}function F(e){return X(e,23,4)}function D(e,t,r){i(e[l],t,{get:function e(){return this[r]}})}function R(e,t,r,n){var i=+r;var a=cs(i);if(a+t>e[A])throw p(c);var o=e[T]._b;var s=a+e[N];var u=o.slice(s,s+t);return n?u:u.reverse()}function W(e,t,r,n,i,a){var o=+r;var s=cs(o);if(s+t>e[A])throw p(c);var u=e[T]._b;var l=s+e[N];var f=n(+i);for(var v=0;v<t;v++){u[l+v]=f[a?v:t-v-1]}}if(!fs.ABV){v=function e(t){Ma(this,v,s);var r=cs(t);this._b=Pi.call(new Array(r),0);this[A]=r};h=function e(t,r,n){Ma(this,h,u);Ma(t,v,u);var i=t[A];var a=Q(r);if(a<0||a>i)throw p("Wrong offset!");n=n===undefined?i-a:te(n);if(a+n>i)throw p(f);this[T]=t;this[N]=a;this[A]=n};if(o){D(v,O,"_l");D(h,B,"_b");D(h,O,"_l");D(h,_,"_o")}fo(h[l],{getInt8:function e(t){return R(this,1,t)[0]<<24>>24},getUint8:function e(t){return R(this,1,t)[0]},getInt16:function e(t){var r=R(this,2,t,arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function e(t){var r=R(this,2,t,arguments[1]);return r[1]<<8|r[0]},getInt32:function e(t){return k(R(this,4,t,arguments[1]))},getUint32:function e(t){return k(R(this,4,t,arguments[1]))>>>0},getFloat32:function e(t){return P(R(this,4,t,arguments[1]),23,4)},getFloat64:function e(t){return P(R(this,8,t,arguments[1]),52,8)},setInt8:function e(t,r){W(this,1,t,C,r)},setUint8:function e(t,r){W(this,1,t,C,r)},setInt16:function e(t,r){W(this,2,t,M,r,arguments[2])},setUint16:function e(t,r){W(this,2,t,M,r,arguments[2])},setInt32:function e(t,r){W(this,4,t,I,r,arguments[2])},setUint32:function e(t,r){W(this,4,t,I,r,arguments[2])},setFloat32:function e(t,r){W(this,4,t,F,r,arguments[2])},setFloat64:function e(t,r){W(this,8,t,L,r,arguments[2])}})}else{if(!a(function(){v(1)})||!a(function(){new v(-1)})||a(function(){new v;new v(1.5);new v(NaN);return v.name!=s})){v=function e(t){Ma(this,v);return new g(cs(t))};var G=v[l]=g[l];for(var z=n(g),U=0,V;z.length>U;){if(!((V=z[U++])in v))w(v,V,g[V])}G.constructor=v}var Y=new h(new v(2));var q=h[l].setInt8;Y.setInt8(0,2147483648);Y.setInt8(1,2147483649);if(Y.getInt8(0)||!Y.getInt8(1))fo(h[l],{setInt8:function e(t,r){q.call(this,t,r<<24>>24)},setUint8:function e(t,r){q.call(this,t,r<<24>>24)}},true)}H(v,s);H(h,u);w(h[l],fs.VIEW,true);t[s]=v;t[u]=h});var hs=r.ArrayBuffer;var ds=vs.ArrayBuffer;var ps=vs.DataView;var ys=fs.ABV&&hs.isView;var gs=ds.prototype.slice;var ms=fs.VIEW;var bs="ArrayBuffer";A(A.G+A.W+A.F*(hs!==ds),{ArrayBuffer:ds});A(A.S+A.F*!fs.CONSTR,bs,{isView:function e(t){return ys&&ys(t)||l(t)&&ms in t}});A(A.P+A.U+A.F*a(function(){return!new ds(2).slice(1,undefined).byteLength}),bs,{slice:function e(t,r){if(gs!==undefined&&r===undefined)return gs.call(f(this),t);var n=f(this).byteLength;var i=ie(t,n);var a=ie(r===undefined?n:r,n);var o=new(_a(this,ds))(te(a-i));var s=new ps(this);var u=new ps(o);var l=0;while(i<a){u.setUint8(l++,s.getUint8(i++))}return o}});Ri(bs);A(A.G+A.W+A.F*!fs.ABV,{DataView:vs.DataView});var ws=t(function(e){if(o){var t=r;var n=a;var s=A;var u=fs;var f=vs;var c=O;var v=Ma;var h=b;var d=w;var y=fo;var g=Q;var S=te;var x=cs;var j=ie;var B=p;var _=i;var T=Ct;var N=l;var X=bt;var P=Qn;var k=Oe;var C=xt;var M=Ae.f;var I=ri;var L=E;var D=F;var R=pi;var H=ae;var W=_a;var G=Wi;var z=vn;var U=oi;var V=Ri;var Y=Pi;var q=Ti;var J=m;var $=Fe;var K=J.f;var Z=$.f;var ee=t.RangeError;var re=t.TypeError;var ne=t.Uint8Array;var oe="ArrayBuffer";var se="Shared"+oe;var ue="BYTES_PER_ELEMENT";var le="prototype";var fe=Array[le];var ce=f.ArrayBuffer;var ve=f.DataView;var he=R(0);var de=R(2);var pe=R(3);var ye=R(4);var ge=R(5);var me=R(6);var be=H(true);var we=H(false);var Se=G.values;var xe=G.keys;var Ee=G.entries;var je=fe.lastIndexOf;var Be=fe.reduce;var _e=fe.reduceRight;var Te=fe.join;var Ne=fe.sort;var Xe=fe.slice;var Pe=fe.toString;var ke=fe.toLocaleString;var Ce=D("iterator");var Me=D("toStringTag");var Ie=L("typed_constructor");var Le=L("def_constructor");var De=u.CONSTR;var Re=u.TYPED;var He=u.VIEW;var We="Wrong length!";var Ge=R(1,function(e,t){return qe(W(e,e[Le]),t)});var ze=n(function(){return new ne(new Uint16Array([1]).buffer)[0]===1});var Ue=!!ne&&!!ne[le].set&&n(function(){new ne(1).set({})});var Ve=function e(t,r){var n=g(t);if(n<0||n%r)throw ee("Wrong offset!");return n};var Ye=function e(t){if(N(t)&&Re in t)return t;throw re(t+" is not a typed array!")};var qe=function e(t,r){if(!(N(t)&&Ie in t)){throw re("It is not a typed array constructor!")}return new t(r)};var Je=function e(t,r){return $e(W(t,t[Le]),r)};var $e=function e(t,r){var n=0;var i=r.length;var a=qe(t,i);while(i>n){a[n]=r[n++]}return a};var Ke=function e(t,r,n){K(t,r,{get:function e(){return this._d[n]}})};var Ze=function e(t){var r=X(t);var n=arguments.length;var i=n>1?arguments[1]:undefined;var a=i!==undefined;var o=I(r);var s,u,l,f,v,h;if(o!=undefined&&!P(o)){for(h=o.call(r),l=[],s=0;!(v=h.next()).done;s++){l.push(v.value)}r=l}if(a&&n>2)i=c(i,arguments[2],2);for(s=0,u=S(r.length),f=qe(this,u);u>s;s++){f[s]=a?i(r[s],s):r[s]}return f};var Qe=function e(){var t=0;var r=arguments.length;var n=qe(this,r);while(r>t){n[t]=arguments[t++]}return n};var et=!!ne&&n(function(){ke.call(new ne(1))});var tt=function e(){return ke.apply(et?Xe.call(Ye(this)):Ye(this),arguments)};var rt={copyWithin:function e(t,r){return q.call(Ye(this),t,r,arguments.length>2?arguments[2]:undefined)},every:function e(t){return ye(Ye(this),t,arguments.length>1?arguments[1]:undefined)},fill:function e(t){return Y.apply(Ye(this),arguments)},filter:function e(t){return Je(this,de(Ye(this),t,arguments.length>1?arguments[1]:undefined))},find:function e(t){return ge(Ye(this),t,arguments.length>1?arguments[1]:undefined)},findIndex:function e(t){return me(Ye(this),t,arguments.length>1?arguments[1]:undefined)},forEach:function e(t){he(Ye(this),t,arguments.length>1?arguments[1]:undefined)},indexOf:function e(t){return we(Ye(this),t,arguments.length>1?arguments[1]:undefined)},includes:function e(t){return be(Ye(this),t,arguments.length>1?arguments[1]:undefined)},join:function e(t){return Te.apply(Ye(this),arguments)},lastIndexOf:function e(t){return je.apply(Ye(this),arguments)},map:function e(t){return Ge(Ye(this),t,arguments.length>1?arguments[1]:undefined)},reduce:function e(t){return Be.apply(Ye(this),arguments)},reduceRight:function e(t){return _e.apply(Ye(this),arguments)},reverse:function e(){var t=this;var r=Ye(t).length;var n=Math.floor(r/2);var i=0;var a;while(i<n){a=t[i];t[i++]=t[--r];t[r]=a}return t},some:function e(t){return pe(Ye(this),t,arguments.length>1?arguments[1]:undefined)},sort:function e(t){return Ne.call(Ye(this),t)},subarray:function e(t,r){var n=Ye(this);var i=n.length;var a=j(t,i);return new(W(n,n[Le]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,S((r===undefined?i:j(r,i))-a))}};var nt=function e(t,r){return Je(this,Xe.call(Ye(this),t,r))};var it=function e(t){Ye(this);var r=Ve(arguments[1],1);var n=this.length;var i=X(t);var a=S(i.length);var o=0;if(a+r>n)throw ee(We);while(o<a){this[r+o]=i[o++]}};var at={entries:function e(){return Ee.call(Ye(this))},keys:function e(){return xe.call(Ye(this))},values:function e(){return Se.call(Ye(this))}};var ot=function e(t,r){return N(t)&&t[Re]&&babelHelpers.typeof(r)!="symbol"&&r in t&&String(+r)==String(r)};var st=function e(t,r){return ot(t,r=B(r,true))?h(2,t[r]):Z(t,r)};var ut=function e(t,r,n){if(ot(t,r=B(r,true))&&N(n)&&_(n,"value")&&!_(n,"get")&&!_(n,"set")&&!n.configurable&&(!_(n,"writable")||n.writable)&&(!_(n,"enumerable")||n.enumerable)){t[r]=n.value;return t}return K(t,r,n)};if(!De){$.f=st;J.f=ut}s(s.S+s.F*!De,"Object",{getOwnPropertyDescriptor:st,defineProperty:ut});if(n(function(){Pe.call({})})){Pe=ke=function e(){return Te.call(this)}}var lt=y({},rt);y(lt,at);d(lt,Ce,at.values);y(lt,{slice:nt,set:it,constructor:function e(){},toString:Pe,toLocaleString:tt});Ke(lt,"buffer","b");Ke(lt,"byteOffset","o");Ke(lt,"byteLength","l");Ke(lt,"length","e");K(lt,Me,{get:function e(){return this[Re]}});e.exports=function(e,r,i,a){a=!!a;var o=e+(a?"Clamped":"")+"Array";var l="get"+e;var f="set"+e;var c=t[o];var h=c||{};var p=c&&C(c);var y=!c||!u.ABV;var g={};var m=c&&c[le];var b=function e(t,n){var i=t._d;return i.v[l](n*r+i.o,ze)};var w=function e(t,n,i){var o=t._d;if(a)i=(i=Math.round(i))<0?0:i>255?255:i&255;o.v[f](n*r+o.o,i,ze)};var E=function e(t,r){K(t,r,{get:function e(){return b(this,r)},set:function e(t){return w(this,r,t)},enumerable:true})};if(y){c=i(function(e,t,n,i){v(e,c,o,"_d");var a=0;var s=0;var u,l,f,h;if(!N(t)){f=x(t);l=f*r;u=new ce(l)}else if(t instanceof ce||(h=T(t))==oe||h==se){u=t;s=Ve(n,r);var p=t.byteLength;if(i===undefined){if(p%r)throw ee(We);l=p-s;if(l<0)throw ee(We)}else{l=S(i)*r;if(l+s>p)throw ee(We)}f=l/r}else if(Re in t){return $e(c,t)}else{return Ze.call(c,t)}d(e,"_d",{b:u,o:s,l:l,e:f,v:new ve(u)});while(a<f){E(e,a++)}});m=c[le]=k(lt);d(m,"constructor",c)}else if(!n(function(){c(1)})||!n(function(){new c(-1)})||!U(function(e){new c;new c(null);new c(1.5);new c(e)},true)){c=i(function(e,t,n,i){v(e,c,o);var a;if(!N(t))return new h(x(t));if(t instanceof ce||(a=T(t))==oe||a==se){return i!==undefined?new h(t,Ve(n,r),i):n!==undefined?new h(t,Ve(n,r)):new h(t)}if(Re in t)return $e(c,t);return Ze.call(c,t)});he(p!==Function.prototype?M(h).concat(M(p)):M(h),function(e){if(!(e in c))d(c,e,h[e])});c[le]=m;m.constructor=c}var j=m[Ce];var B=!!j&&(j.name=="values"||j.name==undefined);var O=at.values;d(c,Ie,true);d(m,Re,o);d(m,He,true);d(m,Le,c);if(a?new c(1)[Me]!=o:!(Me in m)){K(m,Me,{get:function e(){return o}})}g[o]=c;s(s.G+s.W+s.F*(c!=h),g);s(s.S,o,{BYTES_PER_ELEMENT:r});s(s.S+s.F*n(function(){h.of.call(c,1)}),o,{from:Ze,of:Qe});if(!(ue in m))d(m,ue,r);s(s.P,o,rt);V(o);s(s.P+s.F*Ue,o,{set:it});s(s.P+s.F*!B,o,at);if(m.toString!=Pe)m.toString=Pe;s(s.P+s.F*n(function(){new c(1).slice()}),o,{slice:nt});s(s.P+s.F*(n(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()})||!n(function(){m.toLocaleString.call([1,2])})),o,{toLocaleString:tt});z[o]=B?j:O;if(!B)d(m,Ce,O)}}else e.exports=function(){}});ws("Int8",1,function(e){return function t(r,n,i){return e(this,r,n,i)}});ws("Uint8",1,function(e){return function t(r,n,i){return e(this,r,n,i)}});ws("Uint8",1,function(e){return function t(r,n,i){return e(this,r,n,i)}},true);ws("Int16",2,function(e){return function t(r,n,i){return e(this,r,n,i)}});ws("Uint16",2,function(e){return function t(r,n,i){return e(this,r,n,i)}});ws("Int32",4,function(e){return function t(r,n,i){return e(this,r,n,i)}});ws("Uint32",4,function(e){return function t(r,n,i){return e(this,r,n,i)}});ws("Float32",4,function(e){return function t(r,n,i){return e(this,r,n,i)}});ws("Float64",8,function(e){return function t(r,n,i){return e(this,r,n,i)}});var Ss=(r.Reflect||{}).apply;var xs=Function.apply;A(A.S+A.F*!a(function(){Ss(function(){})}),"Reflect",{apply:function e(t,r,n){var i=B(t);var a=f(n);return Ss?Ss(i,r,a):xs.call(i,r,a)}});var Es=(r.Reflect||{}).construct;var js=a(function(){function e(){}return!(Es(function(){},[],e)instanceof e)});var Bs=!a(function(){Es(function(){})});A(A.S+A.F*(js||Bs),"Reflect",{construct:function e(t,r){B(t);f(r);var n=arguments.length<3?t:B(arguments[2]);if(Bs&&!js)return Es(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var i=[null];i.push.apply(i,r);return new(Rt.apply(t,i))}var a=n.prototype;var o=Oe(l(a)?a:Object.prototype);var s=Function.apply.call(t,o,r);return l(s)?s:o}});A(A.S+A.F*a(function(){Reflect.defineProperty(m.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function e(t,r,n){f(t);r=p(r,true);f(n);try{m.f(t,r,n);return true}catch(e){return false}}});var Os=Fe.f;A(A.S,"Reflect",{deleteProperty:function e(t,r){var n=Os(f(t),r);return n&&!n.configurable?false:delete t[r]}});var _s=function e(t){this._t=f(t);this._i=0;var r=this._k=[];var n;for(n in t){r.push(n)}};dn(_s,"Object",function(){var e=this;var t=e._k;var r;do{if(e._i>=t.length)return{value:undefined,done:true}}while(!((r=t[e._i++])in e._t));return{value:r,done:false}});A(A.S,"Reflect",{enumerate:function e(t){return new _s(t)}});function Ts(e,t){var r=arguments.length<3?e:arguments[2];var n,a;if(f(e)===r)return e[t];if(n=Fe.f(e,t))return i(n,"value")?n.value:n.get!==undefined?n.get.call(r):undefined;if(l(a=xt(e)))return Ts(a,t,r)}A(A.S,"Reflect",{get:Ts});A(A.S,"Reflect",{getOwnPropertyDescriptor:function e(t,r){return Fe.f(f(t),r)}});A(A.S,"Reflect",{getPrototypeOf:function e(t){return xt(f(t))}});A(A.S,"Reflect",{has:function e(t,r){return r in t}});var As=Object.isExtensible;A(A.S,"Reflect",{isExtensible:function e(t){f(t);return As?As(t):true}});var Ns=r.Reflect;var Xs=Ns&&Ns.ownKeys||function e(t){var r=Ae.f(f(t));var n=de.f;return n?r.concat(n(t)):r};A(A.S,"Reflect",{ownKeys:Xs});var Ps=Object.preventExtensions;A(A.S,"Reflect",{preventExtensions:function e(t){f(t);try{if(Ps)Ps(t);return true}catch(e){return false}}});function ks(e,t,r){var n=arguments.length<4?e:arguments[3];var a=Fe.f(f(e),t);var o,s;if(!a){if(l(s=xt(e))){return ks(s,t,r,n)}a=b(0)}if(i(a,"value")){if(a.writable===false||!l(n))return false;if(o=Fe.f(n,t)){if(o.get||o.set||o.writable===false)return false;o.value=r;m.f(n,t,o)}else m.f(n,t,b(0,r));return true}return a.set===undefined?false:(a.set.call(n,r),true)}A(A.S,"Reflect",{set:ks});if(Nt)A(A.S,"Reflect",{setPrototypeOf:function e(t,r){Nt.check(t,r);try{Nt.set(t,r);return true}catch(e){return false}}});var Cs=ae(true);A(A.P,"Array",{includes:function e(t){return Cs(this,t,arguments.length>1?arguments[1]:undefined)}});Xi("includes");var Ms=F("isConcatSpreadable");function Is(e,t,r,n,i,a,o,s){var u=i;var f=0;var c=o?O(o,s,3):false;var v,h;while(f<n){if(f in r){v=c?c(r[f],f,t):r[f];h=false;if(l(v)){h=v[Ms];h=h!==undefined?!!h:me(v)}if(h&&a>0){u=Is(e,t,v,te(v.length),u,a-1)-1}else{if(u>=9007199254740991)throw TypeError();e[u]=v}u++}f++}return u}var Ls=Is;A(A.P,"Array",{flatMap:function e(t){var r=bt(this);var n,i;B(t);n=te(r.length);i=di(r,0);Ls(i,r,r,n,0,1,t,arguments[1]);return i}});Xi("flatMap");A(A.P,"Array",{flatten:function e(){var t=arguments[0];var r=bt(this);var n=te(r.length);var i=di(r,0);Ls(i,r,r,n,0,t===undefined?1:Q(t));return i}});Xi("flatten");var Fs=cn(true);A(A.P,"String",{at:function e(t){return Fs(this,t)}});var Ds=function(e,t,r,n){var i=String(J(e));var a=i.length;var o=r===undefined?" ":String(r);var s=te(t);if(s<=a||o=="")return i;var u=s-a;var l=Br.call(o,Math.ceil(u/o.length));if(l.length>u)l=l.slice(0,u);return n?l+i:i+l};A(A.P+A.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(uo),"String",{padStart:function e(t){return Ds(this,t,arguments.length>1?arguments[1]:undefined,true)}});A(A.P+A.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(uo),"String",{padEnd:function e(t){return Ds(this,t,arguments.length>1?arguments[1]:undefined,false)}});er("trimLeft",function(e){return function t(){return e(this,1)}},"trimStart");er("trimRight",function(e){return function t(){return e(this,2)}},"trimEnd");var Rs=RegExp.prototype;var Hs=function e(t,r){this._r=t;this._s=r};dn(Hs,"RegExp String",function e(){var t=this._r.exec(this._s);return{value:t,done:t===null}});A(A.P,"String",{matchAll:function e(t){J(this);if(!Bn(t))throw TypeError(t+" is not a regexp!");var r=String(this);var n="flags"in Rs?String(t.flags):Gi.call(t);var i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);i.lastIndex=te(t.lastIndex);return new Hs(i,r)}});U("asyncIterator");U("observable");A(A.S,"Object",{getOwnPropertyDescriptors:function e(t){var r=$(t);var n=Fe.f;var i=Xs(r);var a={};var o=0;var s,u;while(i.length>o){u=n(r,s=i[o++]);if(u!==undefined)ei(a,s,u)}return a}});var Ws=ye.f;var Gs=function(e){return function(t){var r=$(t);var n=ve(r);var i=n.length;var a=0;var o=[];var s;while(i>a){if(Ws.call(r,s=n[a++])){o.push(e?[s,r[s]]:r[s])}}return o}};var zs=Gs(false);A(A.S,"Object",{values:function e(t){return zs(t)}});var Us=Gs(true);A(A.S,"Object",{entries:function e(t){return Us(t)}});var Vs=!a(function(){var e=Math.random();__defineSetter__.call(null,e,function(){});delete r[e]});o&&A(A.P+Vs,"Object",{__defineGetter__:function e(t,r){m.f(bt(this),t,{get:B(r),enumerable:true,configurable:true})}});o&&A(A.P+Vs,"Object",{__defineSetter__:function e(t,r){m.f(bt(this),t,{set:B(r),enumerable:true,configurable:true})}});var Ys=Fe.f;o&&A(A.P+Vs,"Object",{__lookupGetter__:function e(t){var r=bt(this);var n=p(t,true);var i;do{if(i=Ys(r,n))return i.get}while(r=xt(r))}});var qs=Fe.f;o&&A(A.P+Vs,"Object",{__lookupSetter__:function e(t){var r=bt(this);var n=p(t,true);var i;do{if(i=qs(r,n))return i.set}while(r=xt(r))}});var Js=function(e,t){var r=[];Ia(e,false,r.push,r,t);return r};var $s=function(e){return function t(){if(Ct(this)!=e)throw TypeError(e+"#toJSON isn't generic");return Js(this)}};A(A.P+A.R,"Map",{toJSON:$s("Map")});A(A.P+A.R,"Set",{toJSON:$s("Set")});var Ks=function(e){A(A.S,e,{of:function e(){var t=arguments.length;var r=new Array(t);while(t--){r[t]=arguments[t]}return new this(r)}})};Ks("Map");Ks("Set");Ks("WeakMap");Ks("WeakSet");var Zs=function(e){A(A.S,e,{from:function e(t){var r=arguments[1];var n,i,a,o;B(this);n=r!==undefined;if(n)B(r);if(t==undefined)return new this;i=[];if(n){a=0;o=O(r,arguments[2],2);Ia(t,false,function(e){i.push(o(e,a++))})}else{Ia(t,false,i.push,i)}return new this(i)}})};Zs("Map");Zs("Set");Zs("WeakMap");Zs("WeakSet");A(A.G,{global:r});A(A.S,"System",{global:r});A(A.S,"Error",{isError:function e(t){return Y(t)==="Error"}});A(A.S,"Math",{clamp:function e(t,r,n){return Math.min(n,Math.max(r,t))}});A(A.S,"Math",{DEG_PER_RAD:Math.PI/180});var Qs=180/Math.PI;A(A.S,"Math",{degrees:function e(t){return t*Qs}});var eu=Math.scale||function e(t,r,n,i,a){if(arguments.length===0||t!=t||r!=r||n!=n||i!=i||a!=a)return NaN;if(t===Infinity||t===-Infinity)return t;return(t-r)*(a-i)/(n-r)+i};A(A.S,"Math",{fscale:function e(t,r,n,i,a){return nn(eu(t,r,n,i,a))}});A(A.S,"Math",{iaddh:function e(t,r,n,i){var a=t>>>0;var o=r>>>0;var s=n>>>0;return o+(i>>>0)+((a&s|(a|s)&~(a+s>>>0))>>>31)|0}});A(A.S,"Math",{isubh:function e(t,r,n,i){var a=t>>>0;var o=r>>>0;var s=n>>>0;return o-(i>>>0)-((~a&s|~(a^s)&a-s>>>0)>>>31)|0}});A(A.S,"Math",{imulh:function e(t,r){var n=65535;var i=+t;var a=+r;var o=i&n;var s=a&n;var u=i>>16;var l=a>>16;var f=(u*s>>>0)+(o*s>>>16);return u*l+(f>>16)+((o*l>>>0)+(f&n)>>16)}});A(A.S,"Math",{RAD_PER_DEG:180/Math.PI});var tu=Math.PI/180;A(A.S,"Math",{radians:function e(t){return t*tu}});A(A.S,"Math",{scale:eu});A(A.S,"Math",{umulh:function e(t,r){var n=65535;var i=+t;var a=+r;var o=i&n;var s=a&n;var u=i>>>16;var l=a>>>16;var f=(u*s>>>0)+(o*s>>>16);return u*l+(f>>>16)+((o*l>>>0)+(f&n)>>>16)}});A(A.S,"Math",{signbit:function e(t){return(t=+t)!=t?t:t==0?1/t==Infinity:t>0}});A(A.S,"Promise",{try:function e(t){var r=ao.f(this);var n=oo(t);(n.e?r.reject:r.resolve)(n.v);return r.promise}});var ru=L("metadata");var nu=ru.store||(ru.store=new es);var iu=function e(t,r,n){var i=nu.get(t);if(!i){if(!n)return undefined;nu.set(t,i=new Go)}var a=i.get(r);if(!a){if(!n)return undefined;i.set(r,a=new Go)}return a};var au=function e(t,r,n){var i=iu(r,n,false);return i===undefined?false:i.has(t)};var ou=function e(t,r,n){var i=iu(r,n,false);return i===undefined?undefined:i.get(t)};var su=function e(t,r,n,i){iu(n,i,true).set(t,r)};var uu=function e(t,r){var n=iu(t,r,false);var i=[];if(n)n.forEach(function(e,t){i.push(t)});return i};var lu=function e(t){return t===undefined||babelHelpers.typeof(t)=="symbol"?t:String(t)};var fu=function e(t){A(A.S,"Reflect",t)};var cu={store:nu,map:iu,has:au,get:ou,set:su,keys:uu,key:lu,exp:fu};var vu=cu.key;var hu=cu.set;cu.exp({defineMetadata:function e(t,r,n,i){hu(t,r,f(n),vu(i))}});var du=cu.key;var pu=cu.map;var yu=cu.store;cu.exp({deleteMetadata:function e(t,r){var n=arguments.length<3?undefined:du(arguments[2]);var i=pu(f(r),n,false);if(i===undefined||!i["delete"](t))return false;if(i.size)return true;var a=yu.get(r);a["delete"](n);return!!a.size||yu["delete"](r)}});var gu=cu.has;var mu=cu.get;var bu=cu.key;var wu=function e(t,r,n){var i=gu(t,r,n);if(i)return mu(t,r,n);var a=xt(r);return a!==null?e(t,a,n):undefined};cu.exp({getMetadata:function e(t,r){return wu(t,f(r),arguments.length<3?undefined:bu(arguments[2]))}});var Su=cu.keys;var xu=cu.key;var Eu=function e(t,r){var n=Su(t,r);var i=xt(t);if(i===null)return n;var a=e(i,r);return a.length?n.length?Js(new Uo(n.concat(a))):a:n};cu.exp({getMetadataKeys:function e(t){return Eu(f(t),arguments.length<2?undefined:xu(arguments[1]))}});var ju=cu.get;var Bu=cu.key;cu.exp({getOwnMetadata:function e(t,r){return ju(t,f(r),arguments.length<3?undefined:Bu(arguments[2]))}});var Ou=cu.keys;var _u=cu.key;cu.exp({getOwnMetadataKeys:function e(t){return Ou(f(t),arguments.length<2?undefined:_u(arguments[1]))}});var Tu=cu.has;var Au=cu.key;var Nu=function e(t,r,n){var i=Tu(t,r,n);if(i)return true;var a=xt(r);return a!==null?e(t,a,n):false};cu.exp({hasMetadata:function e(t,r){return Nu(t,f(r),arguments.length<3?undefined:Au(arguments[2]))}});var Xu=cu.has;var Pu=cu.key;cu.exp({hasOwnMetadata:function e(t,r){return Xu(t,f(r),arguments.length<3?undefined:Pu(arguments[2]))}});var ku=cu.key;var Cu=cu.set;cu.exp({metadata:function e(t,r){return function e(n,i){Cu(t,r,(i!==undefined?f:B)(n),ku(i))}}});var Mu=ro();var Iu=r.process;var Lu=Y(Iu)=="process";A(A.G,{asap:function e(t){var r=Lu&&Iu.domain;Mu(r?r.bind(t):t)}});var Fu=ro();var Du=F("observable");var Ru=Ia.RETURN;var Hu=function e(t){return t==null?undefined:B(t)};var Wu=function e(t){var r=t._c;if(r){t._c=undefined;r()}};var Gu=function e(t){return t._o===undefined};var zu=function e(t){if(!Gu(t)){t._o=undefined;Wu(t)}};var Uu=function e(t,r){f(t);this._c=undefined;this._o=t;t=new Vu(this);try{var n=r(t);var i=n;if(n!=null){if(typeof n.unsubscribe==="function")n=function e(){i.unsubscribe()};else B(n);this._c=n}}catch(e){t.error(e);return}if(Gu(this))Wu(this)};Uu.prototype=fo({},{unsubscribe:function e(){zu(this)}});var Vu=function e(t){this._s=t};Vu.prototype=fo({},{next:function e(t){var r=this._s;if(!Gu(r)){var n=r._o;try{var i=Hu(n.next);if(i)return i.call(n,t)}catch(e){try{zu(r)}finally{throw e}}}},error:function e(t){var r=this._s;if(Gu(r))throw t;var n=r._o;r._o=undefined;try{var i=Hu(n.error);if(!i)throw t;t=i.call(n,t)}catch(e){try{Wu(r)}finally{throw e}}Wu(r);return t},complete:function e(t){var r=this._s;if(!Gu(r)){var n=r._o;r._o=undefined;try{var i=Hu(n.complete);t=i?i.call(n,t):undefined}catch(e){try{Wu(r)}finally{throw e}}Wu(r);return t}}});var Yu=function e(t){Ma(this,Yu,"Observable","_f")._f=B(t)};fo(Yu.prototype,{subscribe:function e(t){return new Uu(t,this._f)},forEach:function e(t){var n=this;return new(s.Promise||r.Promise)(function(e,r){B(t);var i=n.subscribe({next:function e(n){try{return t(n)}catch(e){r(e);i.unsubscribe()}},error:r,complete:e})})}});fo(Yu,{from:function e(t){var r=typeof this==="function"?this:Yu;var n=Hu(f(t)[Du]);if(n){var i=f(n.call(t));return i.constructor===r?i:new r(function(e){return i.subscribe(e)})}return new r(function(e){var r=false;Fu(function(){if(!r){try{if(Ia(t,false,function(t){e.next(t);if(r)return Ru})===Ru)return}catch(t){if(r)throw t;e.error(t);return}e.complete()}});return function(){r=true}})},of:function e(){for(var t=0,r=arguments.length,n=new Array(r);t<r;){n[t]=arguments[t++]}return new(typeof this==="function"?this:Yu)(function(e){var t=false;Fu(function(){if(!t){for(var r=0;r<n.length;++r){e.next(n[r]);if(t)return}e.complete()}});return function(){t=true}})}});w(Yu.prototype,Du,function(){return this});A(A.G,{Observable:Yu});Ri("Observable");var qu=[].slice;var Ju=/MSIE .\./.test(uo);var $u=function e(t){return function(e,r){var n=arguments.length>2;var i=n?qu.call(arguments,2):false;return t(n?function(){(typeof e=="function"?e:Function(e)).apply(this,i)}:e,r)}};A(A.G+A.B+A.F*Ju,{setTimeout:$u(r.setTimeout),setInterval:$u(r.setInterval)});A(A.G+A.B,{setImmediate:$a.set,clearImmediate:$a.clear});var Ku=F("iterator");var Zu=F("toStringTag");var Qu=vn.Array;var el={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var tl=ve(el),rl=0;rl<tl.length;rl++){var nl=tl[rl];var il=el[nl];var al=r[nl];var ol=al&&al.prototype;var sl;if(ol){if(!ol[Ku])w(ol,Ku,Qu);if(!ol[Zu])w(ol,Zu,nl);vn[nl]=Qu;if(il)for(sl in Wi){if(!ol[sl])j(ol,sl,Wi[sl],true)}}}if(window._main_core_polyfill){console.warn("main.core.polyfill is loaded more than once on this page")}window._main_core_polyfill=true})(this.window=this.window||{});(function(e){"use strict";if(!e.matches&&e.matchesSelector){e.matches=e.matchesSelector}if(!e.matches){e.matches=function(e){var t=document.querySelectorAll(e);var r=this;return Array.prototype.some.call(t,function(e){return e===r})}}})(Element.prototype);(function(){"use strict";if(!Element.prototype.closest){Object.defineProperty(Element.prototype,"closest",{enumerable:false,value:function(e){var t=this;while(t){if(t.matches(e)){return t}t=t.parentElement}return null}})}})();(function(e){"use strict";if(!window.DOMRect||typeof DOMRect.prototype.toJSON!=="function"||typeof DOMRect.fromRect!=="function"){window.DOMRect=function(){function e(t,r,n,i){babelHelpers.classCallCheck(this,e);this.x=t||0;this.y=r||0;this.width=n||0;this.height=i||0}babelHelpers.createClass(e,[{key:"toJSON",value:function e(){return{top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,x:this.x,y:this.y}}},{key:"top",get:function e(){return this.y}},{key:"left",get:function e(){return this.x}},{key:"right",get:function e(){return this.x+this.width}},{key:"bottom",get:function e(){return this.y+this.height}}],[{key:"fromRect",value:function t(r){return new e(r.x,r.y,r.width,r.height)}}]);return e}()}})(this.window=this.window||{});(function(e){"use strict";var t=window.BX;window.BX=function(e){if(window.BX.type.isNotEmptyString(e)){return document.getElementById(e)}if(window.BX.type.isDomNode(e)){return e}if(window.BX.type.isFunction(e)){return window.BX.ready(e)}return null};if(t){Object.keys(t).forEach(function(e){window.BX[e]=t[e]})}e=window.BX;function r(e){return Object.prototype.toString.call(e)}var n=Function.prototype.toString.call(Object);var i=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"isString",value:function e(t){return typeof t==="string"}},{key:"isStringFilled",value:function e(t){return this.isString(t)&&t!==""}},{key:"isFunction",value:function e(t){return typeof t==="function"}},{key:"isObject",value:function e(t){return!!t&&(babelHelpers.typeof(t)==="object"||typeof t==="function")}},{key:"isObjectLike",value:function e(t){return!!t&&babelHelpers.typeof(t)==="object"}},{key:"isPlainObject",value:function t(i){if(!e.isObjectLike(i)||r(i)!=="[object Object]"){return false}var a=Object.getPrototypeOf(i);if(a===null){return true}var o=a.hasOwnProperty("constructor")&&a.constructor;return typeof o==="function"&&Function.prototype.toString.call(o)===n}},{key:"isBoolean",value:function e(t){return t===true||t===false}},{key:"isNumber",value:function e(t){return!Number.isNaN(t)&&typeof t==="number"}},{key:"isInteger",value:function t(r){return e.isNumber(r)&&r%1===0}},{key:"isFloat",value:function t(r){return e.isNumber(r)&&!e.isInteger(r)}},{key:"isNil",value:function e(t){return t===null||t===undefined}},{key:"isArray",value:function t(r){return!e.isNil(r)&&Array.isArray(r)}},{key:"isArrayFilled",value:function e(t){return this.isArray(t)&&t.length>0}},{key:"isArrayLike",value:function t(r){return!e.isNil(r)&&!e.isFunction(r)&&r.length>-1&&r.length<=Number.MAX_SAFE_INTEGER}},{key:"isDate",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object Date]"}},{key:"isDomNode",value:function t(r){return e.isObjectLike(r)&&!e.isPlainObject(r)&&"nodeType"in r}},{key:"isElementNode",value:function t(r){return e.isDomNode(r)&&r.nodeType===Node.ELEMENT_NODE}},{key:"isTextNode",value:function t(r){return e.isDomNode(r)&&r.nodeType===Node.TEXT_NODE}},{key:"isMap",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object Map]"}},{key:"isSet",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object Set]"}},{key:"isWeakMap",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object WeakMap]"}},{key:"isWeakSet",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object WeakSet]"}},{key:"isPrototype",value:function e(t){return(typeof(t&&t.constructor)==="function"&&t.constructor.prototype||Object.prototype)===t}},{key:"isRegExp",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object RegExp]"}},{key:"isNull",value:function e(t){return t===null}},{key:"isUndefined",value:function e(t){return typeof t==="undefined"}},{key:"isArrayBuffer",value:function t(n){return e.isObjectLike(n)&&r(n)==="[object ArrayBuffer]"}},{key:"isTypedArray",value:function t(n){var i=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)]$/;return e.isObjectLike(n)&&i.test(r(n))}},{key:"isBlob",value:function t(r){return e.isObjectLike(r)&&e.isNumber(r.size)&&e.isString(r.type)&&e.isFunction(r.slice)}},{key:"isFile",value:function t(r){return e.isBlob(r)&&e.isObjectLike(r.lastModifiedDate)&&e.isNumber(r.lastModified)&&e.isString(r.name)}},{key:"isFormData",value:function e(t){return t instanceof FormData}}]);return e}();var a=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"getClass",value:function e(t){if(i.isString(t)&&!!t){var r=null;var n=window;var a=t.split(".");for(var o=0;o<a.length;o+=1){var s=a[o];if(!n[s]){return null}n=n[s];r=n}return r}if(i.isFunction(t)){return t}return null}},{key:"namespace",value:function e(t){var r=t.split(".");var n=window.BX;if(r[0]==="BX"){r=r.slice(1)}for(var a=0;a<r.length;a+=1){if(i.isUndefined(n[r[a]])){n[r[a]]={}}n=n[r[a]]}return n}}]);return e}();var o=/[&<>'"]/g;var s=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;var u={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};var l={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'};var f=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"encode",value:function e(t){if(i.isString(t)){return t.replace(o,function(e){return u[e]})}return t}},{key:"decode",value:function e(t){if(i.isString(t)){return t.replace(s,function(e){return l[e]})}return t}},{key:"getRandom",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:8;return babelHelpers.toConsumableArray(Array(t)).map(function(){return(~~(Math.random()*36)).toString(36)}).join("")}},{key:"toNumber",value:function e(t){var r=Number.parseFloat(t);if(i.isNumber(r)){return r}return 0}},{key:"toInteger",value:function t(r){return e.toNumber(Number.parseInt(r,10))}},{key:"toBoolean",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=i.isString(t)?t.toLowerCase():t;return["true","y","1",1,true].concat(babelHelpers.toConsumableArray(r)).includes(n)}},{key:"toCamelCase",value:function e(t){if(!i.isStringFilled(t)){return t}var r=/[-_\s]+(.)?/g;if(!r.test(t)){return t.match(/^[A-Z]+$/)?t.toLowerCase():t[0].toLowerCase()+t.slice(1)}t=t.toLowerCase();t=t.replace(r,function(e,t){return t?t.toUpperCase():""});return t[0].toLowerCase()+t.substr(1)}},{key:"toPascalCase",value:function e(t){if(!i.isStringFilled(t)){return t}return this.capitalize(this.toCamelCase(t))}},{key:"toKebabCase",value:function e(t){if(!i.isStringFilled(t)){return t}var r=t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g);if(!r){return t}return r.map(function(e){return e.toLowerCase()}).join("-")}},{key:"capitalize",value:function e(t){if(!i.isStringFilled(t)){return t}return t[0].toUpperCase()+t.substr(1)}}]);return e}();var c={mousewheel:["DOMMouseScroll"],bxchange:["change","cut","paste","drop","keyup"],animationend:["animationend","oAnimationEnd","webkitAnimationEnd","MSAnimationEnd"],transitionend:["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"],fullscreenchange:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],fullscreenerror:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]};var v=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"registry",new WeakMap)}babelHelpers.createClass(e,[{key:"set",value:function e(t,r,n){var a=this.get(t);if(!i.isSet(a[r])){a[r]=new Set}a[r].add(n);this.registry.set(t,a)}},{key:"get",value:function e(t){return this.registry.get(t)||{}}},{key:"has",value:function e(t,r,n){if(r&&n){return this.registry.has(t)&&this.registry.get(t)[r].has(n)}return this.registry.has(t)}},{key:"delete",value:function e(t,r,n){if(!i.isDomNode(t)){return}if(i.isString(r)&&i.isFunction(n)){var a=this.registry.get(t);if(i.isPlainObject(a)&&i.isSet(a[r])){a[r].delete(n)}return}if(i.isString(r)){var o=this.registry.get(t);if(i.isPlainObject(o)&&i.isSet(o[r])){o[r]=new Set}return}this.registry.delete(t)}}]);return e}();var h=new v;function d(e){var t=false;try{var r=Object.defineProperty({},e,{get:function e(){t=true;return undefined}});window.addEventListener("test",null,r)}catch(e){}return t}function p(e){if(!i.isPlainObject(e)){return e}return Object.keys(e).reduce(function(t,r){if(d(r)){t[r]=e[r]}return t},{})}function y(e,t,r,n){if(!i.isObject(e)||!i.isFunction(e.addEventListener)){return}var a=p(n);if(t in c){c[t].forEach(function(n){e.addEventListener(n,r,a);h.set(e,t,r)});return}e.addEventListener(t,r,a);h.set(e,t,r)}function g(e,t,r,n){if(!i.isObject(e)||!i.isFunction(e.removeEventListener)){return}var a=p(n);if(t in c){c[t].forEach(function(t){e.removeEventListener(t,r,a);h.delete(e,t,r)});return}e.removeEventListener(t,r,a);h.delete(e,t,r)}function m(e,t){var r=h.get(e);Object.keys(r).forEach(function(n){r[n].forEach(function(r){if(!i.isString(t)||t===n){g(e,n,r)}})})}function b(e,t,r,n){var i=function i(){g(e,t,i,n);r.apply(void 0,arguments)};y(e,t,i,n)}var w=true;function S(){w=true}function x(){w=false}function E(){return w}function j(){if(E()&&i.isObject(window.console)){if(i.isFunction(window.console.log)){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}window.console.log("BX.debug: ",t.length>0?t:t[0]);if(t[0]instanceof Error&&t[0].stack){window.console.log("BX.debug error stack trace",t[0].stack)}}if(i.isFunction(window.console.trace)){console.trace()}}}function B(e){if(i.isStringFilled(e)){var t=e.match(/<script type="extension\/settings" \b[^>]*>([\s\S]*?)<\/script>/g);if(i.isArrayFilled(t)){return t.map(function(e){var t=e.match(/data-extension="(.[a-z0-9_.-]+)"/),r=babelHelpers.slicedToArray(t,2),n=r[1];return{extension:n,script:e}})}}return[]}var O=function(){function e(t){babelHelpers.classCallCheck(this,e);this.config=t.config||{};this.name=t.extension;this.state="scheduled";var r=BX.processHTML(t.html||"");this.inlineScripts=r.SCRIPT.reduce(M,[]);this.externalScripts=r.SCRIPT.reduce(I,[]);this.externalStyles=r.STYLE.reduce(L,[]);this.settingsScripts=B(r.HTML)}babelHelpers.createClass(e,[{key:"load",value:function e(){var t=this;if(this.state==="error"){this.loadPromise=this.loadPromise||Promise.resolve(this);console.warn("Extension",this.name,"not found")}if(!this.loadPromise&&this.state){this.state="load";this.settingsScripts.forEach(function(e){var t=!!document.querySelector('script[data-extension="'.concat(e.extension,'"]'));if(!t){document.body.insertAdjacentHTML("beforeend",e.script)}});this.inlineScripts.forEach(BX.evalGlobal);this.loadPromise=Promise.all([R(this.externalScripts),R(this.externalStyles)]).then(function(){t.state="loaded";if(i.isPlainObject(t.config)&&t.config.namespace){return a.getClass(t.config.namespace)}return window})}return this.loadPromise}}]);return e}();var _={};var T="main.bitrix.main.controller.loadext.getextensions";function A(e){return i.isArray(e)?e:[e]}function N(e){return e in _}function X(e){return _[e]}function P(e){return e.every(N)}function k(e){return Promise.all(e.map(function(e){return e.load()}))}function C(e){return e.reduce(function(e,t){if(i.isObject(t)){return babelHelpers.objectSpread({},t)}return t},{})}function M(e,t){if(t.isInternal){e.push(t.JS)}return e}function I(e,t){if(!t.isInternal){e.push(t.JS)}return e}function L(e,t){if(i.isString(t)&&t!==""){e.push(t)}return e}function F(e){return new Promise(function(t){BX.ajax.runAction(T,{data:e}).then(t)})}function D(e){if(e.status!=="success"){e.errors.map(console.warn);return[]}return e.data.map(function(e){var t=X(e.extension);if(t){return t}_[e.extension]=new O(e);return _[e.extension]})}function R(e){var t=A(e);if(!t.length){return Promise.resolve()}return new Promise(function(e){BX.load(t,e)})}function H(e){var t=A(e);var r=P(t);if(r){var n=t.map(X);return k(n).then(C)}return F({extension:t}).then(D).then(k).then(C)}var W=["[object Object]","[object Array]","[object RegExp]","[object Arguments]","[object Date]","[object Error]","[object Map]","[object Set]","[object ArrayBuffer]","[object DataView]","[object Float32Array]","[object Float64Array]","[object Int8Array]","[object Int16Array]","[object Int32Array]","[object Uint8Array]","[object Uint16Array]","[object Uint32Array]","[object Uint8ClampedArray]"];function G(e){var t=i.isObjectLike(e)&&W.includes(r(e));return t||i.isDomNode(e)}function z(e,t){if(t.has(e)){return t.get(e)}if(G(e)){if(i.isArray(e)){var r=Array.from(e);t.set(e,r);e.forEach(function(e,n){r[n]=z(e,t)});return t.get(e)}if(i.isDomNode(e)){return e.cloneNode(true)}if(i.isMap(e)){var n=new Map;t.set(e,n);e.forEach(function(e,r){n.set(z(r,t),z(e,t))});return n}if(i.isSet(e)){var a=new Set;t.set(e,a);e.forEach(function(e){a.add(z(e,t))});return a}if(i.isDate(e)){return new Date(e)}if(i.isRegExp(e)){var o=/\w*$/;var s=o.exec(e);var u=new RegExp(e.source);if(s&&i.isArray(s)){u=new RegExp(e.source,s[0])}u.lastIndex=e.lastIndex;return u}var l=Object.getPrototypeOf(e);var f=Object.assign(Object.create(l),e);t.set(e,f);Object.keys(e).forEach(function(r){f[r]=z(e[r],t)});return f}return e}function U(e){return z(e,new WeakMap)}function V(e,t){return Object.entries(t).reduce(function(e,t){var r=babelHelpers.slicedToArray(t,2),n=r[0],a=r[1];if(!i.isDomNode(e[n])&&i.isObjectLike(e[n])&&i.isObjectLike(a)){e[n]=V(e[n],a);return e}e[n]=a;return e},e)}function Y(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return function(r,n){var a=e[0];var o=t[0]||"asc";if(i.isUndefined(a)){return 0}var s=r[a];var u=n[a];if(i.isString(s)&&i.isString(u)){s=s.toLowerCase();u=u.toLowerCase()}if(s<u){return o==="asc"?-1:1}if(s>u){return o==="asc"?1:-1}return Y(e.slice(1),t.slice(1))(r,n)}}var q=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"debounce",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var a;return function e(){var o=this;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++){u[l]=arguments[l]}if(i.isNumber(a)){clearTimeout(a)}a=setTimeout(function(){t.apply(n||o,u)},r)}}},{key:"throttle",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var i=0;var a;return function e(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++){s[u]=arguments[u]}a=true;if(!i){var l=function e(){if(a){t.apply(n||this,s);a=false;i=setTimeout(e,r)}else{i=null}};l()}}}},{key:"html",value:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(i.isNil(r)&&i.isDomNode(t)){return t.innerHTML}var a=BX.processHTML(r);var o=a.STYLE.reduce(L,[]);var s=a.SCRIPT.reduce(I,[]);var u=a.SCRIPT.reduce(M,[]);if(i.isDomNode(t)){if(n.htmlFirst||!s.length&&!o.length){t.innerHTML=a.HTML}}return Promise.all([R(s),R(o)]).then(function(){if(i.isDomNode(t)&&(s.length>0||o.length>0)){t.innerHTML=a.HTML}u.forEach(function(e){return BX.evalGlobal(e)});if(i.isFunction(n.callback)){n.callback()}})}},{key:"merge",value:function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}if(i.isArray(r[0])){r.unshift([])}else if(i.isObject(r[0])){r.unshift({})}return r.reduce(function(e,t){return V(e,t)},r[0])}},{key:"orderBy",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var i=Y(r,n);return Object.values(t).sort(i)}},{key:"destroy",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Object is destroyed";if(i.isObject(t)){var n=function e(){throw new Error(r)};var a=Object.keys(t);var o=function(){var e=Object.getPrototypeOf(t);if(i.isObject(e)){return Object.getOwnPropertyNames(e)}return[]}();var s=babelHelpers.toConsumableArray(new Set([].concat(babelHelpers.toConsumableArray(a),babelHelpers.toConsumableArray(o))));s.filter(function(e){var r=Object.getOwnPropertyDescriptor(t,e);return!/__(.+)__/.test(e)&&(!i.isObject(r)||r.configurable===true)}).forEach(function(e){Object.defineProperty(t,e,{get:n,set:n,configurable:false})});Object.setPrototypeOf(t,null)}}}]);return e}();babelHelpers.defineProperty(q,"debug",j);babelHelpers.defineProperty(q,"loadExtension",H);babelHelpers.defineProperty(q,"clone",U);var J=Symbol.for("BX.BaseError.isError");var $=function(){function e(t,r,n){babelHelpers.classCallCheck(this,e);this[J]=true;this.message="";this.code=null;this.customData=null;this.setMessage(t);this.setCode(r);this.setCustomData(n)}babelHelpers.createClass(e,[{key:"getMessage",value:function e(){return this.message}},{key:"setMessage",value:function e(t){if(i.isString(t)){this.message=t}return this}},{key:"getCode",value:function e(){return this.code}},{key:"setCode",value:function e(t){if(i.isStringFilled(t)||t===null){this.code=t}return this}},{key:"getCustomData",value:function e(){return this.customData}},{key:"setCustomData",value:function e(t){if(!i.isUndefined(t)){this.customData=t}return this}},{key:"toString",value:function e(){var t=this.getCode();var r=this.getMessage();if(!i.isStringFilled(t)&&!i.isStringFilled(r)){return""}else if(!i.isStringFilled(t)){return"Error: ".concat(r)}else if(!i.isStringFilled(r)){return t}else{return"".concat(t,": ").concat(r)}}}],[{key:"isError",value:function e(t){return i.isObject(t)&&t[J]===true}}]);return e}();var K=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{data:{}};babelHelpers.classCallCheck(this,e);this.type="";this.data=null;this.target=null;this.compatData=null;this.defaultPrevented=false;this.immediatePropagationStopped=false;this.errors=[];this.setData(t.data);this.setCompatData(t.compatData)}babelHelpers.createClass(e,[{key:"getType",value:function e(){return this.type}},{key:"setType",value:function e(t){if(i.isStringFilled(t)){this.type=t}return this}},{key:"getData",value:function e(){return this.data}},{key:"setData",value:function e(t){if(!i.isUndefined(t)){this.data=t}return this}},{key:"getCompatData",value:function e(){return this.compatData}},{key:"setCompatData",value:function e(t){if(i.isArrayLike(t)){this.compatData=t}return this}},{key:"setTarget",value:function e(t){this.target=t;return this}},{key:"getTarget",value:function e(){return this.target}},{key:"getErrors",value:function e(){return this.errors}},{key:"setError",value:function e(t){if($.isError(t)){this.errors.push(t)}}},{key:"preventDefault",value:function e(){this.defaultPrevented=true}},{key:"isDefaultPrevented",value:function e(){return this.defaultPrevented}},{key:"stopImmediatePropagation",value:function e(){this.immediatePropagationStopped=true}},{key:"isImmediatePropagationStopped",value:function e(){return this.immediatePropagationStopped}}],[{key:"create",value:function e(t){return new this(t)}}]);return e}();var Z=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);this.defaultMaxListeners=i.isNumber(t.defaultMaxListeners)?t.defaultMaxListeners:10;this.eventStore=new WeakMap}babelHelpers.createClass(e,[{key:"add",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.getRecordScheme();if(i.isNumber(r.maxListeners)){n.maxListeners=r.maxListeners}this.eventStore.set(t,n);return n}},{key:"get",value:function e(t){return this.eventStore.get(t)}},{key:"getOrAdd",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.get(t)||this.add(t,r)}},{key:"delete",value:function e(t){this.eventStore.delete(t)}},{key:"getRecordScheme",value:function e(){return{eventsMap:new Map,onceMap:new Map,maxListeners:this.getDefaultMaxListeners(),eventsMaxListeners:new Map}}},{key:"getDefaultMaxListeners",value:function e(){return this.defaultMaxListeners}}]);return e}();var Q=function(){function e(){babelHelpers.classCallCheck(this,e);this.warnings=new Map;this.printDelayed=q.debounce(this.print.bind(this),500)}babelHelpers.createClass(e,[{key:"add",value:function e(t,r,n){var a=this.warnings.get(t);if(!a){a=Object.create(null);this.warnings.set(t,a)}if(!a[r]){a[r]={}}a[r].size=n.size;if(!i.isArray(a[r].errors)){a[r].errors=[]}a[r].errors.push(new Error)}},{key:"print",value:function e(){var t=true;var r=false;var n=undefined;try{for(var i=this.warnings[Symbol.iterator](),a;!(t=(a=i.next()).done);t=true){var o=babelHelpers.slicedToArray(a.value,2),s=o[0],u=o[1];for(var l in u){console.groupCollapsed("Possible BX.Event.EventEmitter memory leak detected. "+u[l].size+' "'+l+'" listeners added. '+"Use emitter.setMaxListeners() to increase limit.");console.dir(u[l].errors);console.groupEnd()}}}catch(e){r=true;n=e}finally{try{if(!t&&i.return!=null){i.return()}}finally{if(r){throw n}}}this.clear()}},{key:"clear",value:function e(){this.warnings.clear()}},{key:"printDelayed",value:function e(){}}]);return e}();var ee=new Z({defaultMaxListeners:10});var te=new Q;var re=new Map;var ne={GLOBAL_TARGET:"GLOBAL_TARGET"};ee.add(ne,{maxListeners:25});var ie=Symbol.for("BX.Event.EventEmitter.isEmitter");var ae=Symbol("namespaceProperty");var oe=Symbol("targetProperty");var se=function(){function e(){var t=this;babelHelpers.classCallCheck(this,e);this[oe]=null;this[ae]=null;this[ie]=true;var r=this;if(Object.getPrototypeOf(this)===e.prototype&&arguments.length>0){if(!i.isObject(arguments.length<=0?undefined:arguments[0])){throw new TypeError('The "target" argument must be an object.')}r=arguments.length<=0?undefined:arguments[0];this.setEventNamespace(arguments.length<=1?undefined:arguments[1])}this[oe]=r;setTimeout(function(){if(t.getEventNamespace()===null){console.warn("The instance of BX.Event.EventEmitter is supposed to have an event namespace. "+"Use emitter.setEventNamespace() to make events more unique.")}},500)}babelHelpers.createClass(e,[{key:"setEventNamespace",value:function e(t){if(i.isStringFilled(t)){this[ae]=t}}},{key:"getEventNamespace",value:function e(){return this[ae]}},{key:"subscribe",value:function t(r,n){e.subscribe(this,r,n);return this}},{key:"subscribeFromOptions",value:function t(r,n,a){var o=this;if(!i.isPlainObject(r)){return}n=i.isPlainObject(n)?e.normalizeAliases(n):{};Object.keys(r).forEach(function(t){var s=r[t];if(!i.isFunction(s)){throw new TypeError('The "listener" argument must be of type Function. Received type '.concat(babelHelpers.typeof(s),"."))}t=e.normalizeEventName(t);if(n[t]){var u=n[t].eventName;e.subscribe(o,u,s,{compatMode:a!==false})}else{e.subscribe(o,t,s,{compatMode:a===true})}})}},{key:"subscribeOnce",value:function t(r,n){e.subscribeOnce(this,r,n);return this}},{key:"unsubscribe",value:function t(r,n){e.unsubscribe(this,r,n);return this}},{key:"unsubscribeAll",value:function t(r){e.unsubscribeAll(this,r)}},{key:"emit",value:function t(r,n){e.emit(this,r,n);return this}},{key:"emitAsync",value:function t(r,n){return e.emitAsync(this,r,n)}},{key:"setMaxListeners",value:function t(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e.setMaxListeners.apply(e,[this].concat(n));return this}},{key:"getMaxListeners",value:function t(r){return e.getMaxListeners(this,r)}},{key:"incrementMaxListeners",value:function t(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return e.incrementMaxListeners.apply(e,[this].concat(n))}},{key:"decrementMaxListeners",value:function t(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return e.decrementMaxListeners.apply(e,[this].concat(n))}},{key:"getListeners",value:function t(r){return e.getListeners(this,r)}},{key:"getFullEventName",value:function t(r){if(!i.isStringFilled(r)){throw new TypeError('The "eventName" argument must be a string.')}return e.makeFullEventName(this.getEventNamespace(),r)}}],[{key:"makeObservable",value:function t(r,n){if(!i.isObject(r)){throw new TypeError('The "target" argument must be an object.')}if(!i.isStringFilled(n)){throw new TypeError('The "namespace" must be an non-empty string.')}if(e.isEventEmitter(r)){throw new TypeError('The "target" is an event emitter already.')}var a=Object.getPrototypeOf(r);var o=new e;o.setEventNamespace(n);Object.setPrototypeOf(o,a);Object.setPrototypeOf(r,o);Object.getOwnPropertyNames(e.prototype).forEach(function(t){if(["constructor"].includes(t)){return}o[t]=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++){i[a]=arguments[a]}return e.prototype[t].apply(r,i)}})}},{key:"subscribe",value:function e(t,r,n,a){if(i.isString(t)){a=n;n=r;r=t;t=this.GLOBAL_TARGET}if(!i.isObject(t)){throw new TypeError('The "target" argument must be an object.')}r=this.normalizeEventName(r);if(!i.isStringFilled(r)){throw new TypeError('The "eventName" argument must be a string.')}if(!i.isFunction(n)){throw new TypeError('The "listener" argument must be of type Function. Received type '.concat(babelHelpers.typeof(n),"."))}a=i.isPlainObject(a)?a:{};var o=this.resolveEventName(r,t,a.useGlobalNaming===true);var s=ee.getOrAdd(t),u=s.eventsMap,l=s.onceMap;var f=l.get(o);var c=u.get(o);if(c&&c.has(n)||f&&f.has(n)){console.error('You cannot subscribe the same "'.concat(o,'" event listener twice.'))}else{if(c){c.set(n,{listener:n,options:a,sort:this.getNextSequenceValue()})}else{c=new Map([[n,{listener:n,options:a,sort:this.getNextSequenceValue()}]]);u.set(o,c)}}var v=this.getMaxListeners(t,r);if(c.size>v){te.add(t,o,c);te.printDelayed()}}},{key:"subscribeOnce",value:function e(t,r,n){var a=this;if(i.isString(t)){n=r;r=t;t=this.GLOBAL_TARGET}if(!i.isObject(t)){throw new TypeError('The "target" argument must be an object.')}r=this.normalizeEventName(r);if(!i.isStringFilled(r)){throw new TypeError('The "eventName" argument must be a string.')}if(!i.isFunction(n)){throw new TypeError('The "listener" argument must be of type Function. Received type '.concat(babelHelpers.typeof(n),"."))}var o=this.resolveEventName(r,t);var s=ee.getOrAdd(t),u=s.eventsMap,l=s.onceMap;var f=u.get(o);var c=l.get(o);if(f&&f.has(n)||c&&c.has(n)){console.error('You cannot subscribe the same "'.concat(o,'" event listener twice.'))}else{var v=function e(){a.unsubscribe(t,r,e);c.delete(n);n.apply(void 0,arguments)};if(c){c.set(n,v)}else{c=new Map([[n,v]]);l.set(o,c)}this.subscribe(t,r,v)}}},{key:"unsubscribe",value:function e(t,r,n,a){if(i.isString(t)){n=r;r=t;t=this.GLOBAL_TARGET}r=this.normalizeEventName(r);if(!i.isStringFilled(r)){throw new TypeError('The "eventName" argument must be a string.')}if(!i.isFunction(n)){throw new TypeError('The "listener" argument must be of type Function. Received type '.concat(typeof event==="undefined"?"undefined":babelHelpers.typeof(event),"."))}a=i.isPlainObject(a)?a:{};var o=this.resolveEventName(r,t,a.useGlobalNaming===true);var s=ee.get(t);var u=s&&s.eventsMap.get(o);var l=s&&s.onceMap.get(o);if(u){u.delete(n)}if(l){var f=l.get(n);if(f){l.delete(n);u.delete(f)}}}},{key:"unsubscribeAll",value:function e(t,r,n){if(i.isString(t)){r=t;t=this.GLOBAL_TARGET}if(i.isStringFilled(r)){var a=ee.get(t);if(a){n=i.isPlainObject(n)?n:{};var o=this.resolveEventName(r,t,n.useGlobalNaming===true);a.eventsMap.delete(o);a.onceMap.delete(o)}}else if(i.isNil(r)){if(t===this.GLOBAL_TARGET){console.error("You cannot unsubscribe all global listeners.")}else{ee.delete(t)}}}},{key:"emit",value:function e(t,r,n,a){if(i.isString(t)){a=n;n=r;r=t;t=this.GLOBAL_TARGET}if(!i.isObject(t)){throw new TypeError('The "target" argument must be an object.')}r=this.normalizeEventName(r);if(!i.isStringFilled(r)){throw new TypeError('The "eventName" argument must be a string.')}a=i.isPlainObject(a)?a:{};var o=this.resolveEventName(r,t,a.useGlobalNaming===true);var s=ee.get(this.GLOBAL_TARGET);var u=s&&s.eventsMap.get(o)||new Map;var l=new Set;if(t!==this.GLOBAL_TARGET){var f=ee.get(t);l=f&&f.eventsMap.get(o)||new Map}var c=[].concat(babelHelpers.toConsumableArray(u.values()),babelHelpers.toConsumableArray(l.values()));c.sort(function(e,t){return e.sort-t.sort});var v=this.prepareEvent(t,o,n);var h=[];for(var d=0;d<c.length;d++){if(v.isImmediatePropagationStopped()){break}var p=c[d],y=p.listener,g=p.options;if(u.has(y)||l.has(y)){var m=void 0;if(g.compatMode){var b=[];var w=v.getCompatData();if(w!==null){b=a.cloneData===true?q.clone(w):w}else{b=[v]}var S=i.isUndefined(a.thisArg)?t:a.thisArg;m=y.apply(S,b)}else{m=i.isUndefined(a.thisArg)?y(v):y.call(a.thisArg,v)}h.push(m)}}return h}},{key:"emitAsync",value:function e(t,r,n){if(i.isString(t)){n=r;r=t;t=this.GLOBAL_TARGET}return Promise.all(this.emit(t,r,n))}},{key:"prepareEvent",value:function e(t,r,n){var i=n;if(!(n instanceof K)){i=new K;i.setData(n)}i.setTarget(this.isEventEmitter(t)?t[oe]:t);i.setType(r);return i}},{key:"getNextSequenceValue",value:function e(){return this.sequenceValue++}},{key:"setMaxListeners",value:function e(){var t=this.GLOBAL_TARGET;var r=null;var n=undefined;for(var a=arguments.length,o=new Array(a),s=0;s<a;s++){o[s]=arguments[s]}if(o.length===1){n=o[0]}else if(o.length===2){if(i.isString(o[0])){r=o[0];n=o[1]}else{t=o[0];n=o[1]}}else if(o.length>=3){t=o[0];r=o[1];n=o[2]}if(!i.isObject(t)){throw new TypeError('The "target" argument must be an object.')}if(r!==null&&!i.isStringFilled(r)){throw new TypeError('The "eventName" argument must be a string.')}if(!i.isNumber(n)||n<0){throw new TypeError('The value of "count" is out of range. It must be a non-negative number. Received '.concat(n,"."))}var u=ee.getOrAdd(t);if(i.isStringFilled(r)){var l=this.resolveEventName(r,t);u.eventsMaxListeners.set(l,n)}else{u.maxListeners=n}}},{key:"getMaxListeners",value:function e(t,r){if(i.isString(t)){r=t;t=this.GLOBAL_TARGET}else if(i.isNil(t)){t=this.GLOBAL_TARGET}if(!i.isObject(t)){throw new TypeError('The "target" argument must be an object.')}var n=ee.get(t);if(n){var a=n.maxListeners;if(i.isStringFilled(r)){var o=this.resolveEventName(r,t);a=n.eventsMaxListeners.get(o)||a}return a}return this.DEFAULT_MAX_LISTENERS}},{key:"addMaxListeners",value:function t(){var r=this.destructMaxListenersArgs.apply(this,arguments),n=babelHelpers.slicedToArray(r,3),a=n[0],o=n[1],s=n[2];var u=Math.max(this.getMaxListeners(a,o)+s,0);if(i.isStringFilled(o)){e.setMaxListeners(a,o,u)}else{e.setMaxListeners(a,u)}return u}},{key:"incrementMaxListeners",value:function e(){var t=this.destructMaxListenersArgs.apply(this,arguments),r=babelHelpers.slicedToArray(t,3),n=r[0],i=r[1],a=r[2];return this.addMaxListeners(n,i,Math.abs(a))}},{key:"decrementMaxListeners",value:function e(){var t=this.destructMaxListenersArgs.apply(this,arguments),r=babelHelpers.slicedToArray(t,3),n=r[0],i=r[1],a=r[2];return this.addMaxListeners(n,i,-Math.abs(a))}},{key:"destructMaxListenersArgs",value:function e(){var t=null;var r=1;var n=this.GLOBAL_TARGET;for(var a=arguments.length,o=new Array(a),s=0;s<a;s++){o[s]=arguments[s]}if(o.length===1){if(i.isNumber(o[0])){r=o[0]}else if(i.isString(o[0])){t=o[0]}else{n=o[0]}}else if(o.length===2){if(i.isString(o[0])){t=o[0];r=o[1]}else if(i.isString(o[1])){n=o[0];t=o[1]}else{n=o[0];r=o[1]}}else if(o.length>=3){n=o[0];t=o[1];r=o[2]}if(!i.isObject(n)){throw new TypeError('The "target" argument must be an object.')}if(t!==null&&!i.isStringFilled(t)){throw new TypeError('The "eventName" argument must be a string.')}if(!i.isNumber(r)){throw new TypeError('The value of "increment" must be a number.')}return[n,t,r]}},{key:"getListeners",value:function e(t,r){if(i.isString(t)){r=t;t=this.GLOBAL_TARGET}if(!i.isObject(t)){throw new TypeError('The "target" argument must be an object.')}r=this.normalizeEventName(r);if(!i.isStringFilled(r)){throw new TypeError('The "eventName" argument must be a string.')}var n=ee.get(t);if(!n){return new Map}var a=this.resolveEventName(r,t);return n.eventsMap.get(a)||new Map}},{key:"registerAliases",value:function t(r){r=this.normalizeAliases(r);Object.keys(r).forEach(function(e){re.set(e,{eventName:r[e].eventName,namespace:r[e].namespace})});e.mergeEventAliases(r)}},{key:"normalizeAliases",value:function e(t){if(!i.isPlainObject(t)){throw new TypeError('The "aliases" argument must be an object.')}var r=Object.create(null);for(var n in t){if(!i.isStringFilled(n)){throw new TypeError("The alias must be an non-empty string.")}var a=t[n];if(!a||!i.isStringFilled(a.eventName)||!i.isStringFilled(a.namespace)){throw new TypeError('The alias options must set the "eventName" and the "namespace".')}n=this.normalizeEventName(n);r[n]={eventName:a.eventName,namespace:a.namespace}}return r}},{key:"mergeEventAliases",value:function e(t){var r=this;var n=ee.get(this.GLOBAL_TARGET);if(!n){return}Object.keys(t).forEach(function(e){var i=t[e];e=r.normalizeEventName(e);var a=r.makeFullEventName(i.namespace,i.eventName);var o=n.eventsMap.get(e);if(o){var s=n.eventsMap.get(a)||new Map;n.eventsMap.set(a,new Map([].concat(babelHelpers.toConsumableArray(s),babelHelpers.toConsumableArray(o))));n.eventsMap.delete(e)}var u=n.onceMap.get(e);if(u){var l=n.onceMap.get(a)||new Map;n.onceMap.set(a,new Map([].concat(babelHelpers.toConsumableArray(l),babelHelpers.toConsumableArray(u))));n.onceMap.delete(e)}var f=n.eventsMaxListeners.get(e);if(f){var c=n.eventsMaxListeners.get(a)||0;n.eventsMaxListeners.set(a,Math.max(c,f));n.eventsMaxListeners.delete(e)}})}},{key:"isEventEmitter",value:function e(t){return i.isObject(t)&&t[ie]===true}},{key:"normalizeEventName",value:function e(t){if(!i.isStringFilled(t)){return""}return t.toLowerCase()}},{key:"resolveEventName",value:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;t=this.normalizeEventName(t);if(!i.isStringFilled(t)){return""}if(this.isEventEmitter(r)&&n!==true){if(r.getEventNamespace()!==null&&t.includes(".")){console.warn('Possible the wrong event name "'.concat(t,'".'))}t=r.getFullEventName(t)}else if(re.has(t)){var a=re.get(t),o=a.namespace,s=a.eventName;t=this.makeFullEventName(o,s)}return t}},{key:"makeFullEventName",value:function e(t,r){var n=i.isStringFilled(t)?"".concat(t,":").concat(r):r;return i.isStringFilled(n)?n.toLowerCase():""}}]);return e}();babelHelpers.defineProperty(se,"GLOBAL_TARGET",ne);babelHelpers.defineProperty(se,"DEFAULT_MAX_LISTENERS",ee.getDefaultMaxListeners());babelHelpers.defineProperty(se,"sequenceValue",1);var ue=[];e.isReady=false;function le(t){switch(document.readyState){case"loading":ue.push(t);break;case"interactive":case"complete":if(i.isFunction(t)){t()}e.isReady=true;break}}document.addEventListener("readystatechange",function(){if(!e.isReady){ue.forEach(le);ue=[]}});var fe=function e(){babelHelpers.classCallCheck(this,e)};babelHelpers.defineProperty(fe,"bind",y);babelHelpers.defineProperty(fe,"bindOnce",b);babelHelpers.defineProperty(fe,"unbind",g);babelHelpers.defineProperty(fe,"unbindAll",m);babelHelpers.defineProperty(fe,"ready",le);babelHelpers.defineProperty(fe,"EventEmitter",se);babelHelpers.defineProperty(fe,"BaseEvent",K);function ce(e){if(i.isPlainObject(e)||i.isArray(e)){return JSON.stringify(e)}return f.encode(f.decode(e))}function ve(e){if(i.isString(e)){var t=f.decode(e);var r;try{r=JSON.parse(t)}catch(e){r=t}if(r===t){if(/^[\d.]+[.]?\d+$/.test(r)){return Number(r)}}if(r==="true"||r==="false"){return Boolean(r)}return r}return e}function he(){var e=document,t=e.documentElement,r=e.body;var n=Math.max(window.pageYOffset||0,t?t.scrollTop:0,r?r.scrollTop:0);var i=Math.max(window.pageXOffset||0,t?t.scrollLeft:0,r?r.scrollLeft:0);return{scrollTop:n,scrollLeft:i}}var de=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"replace",value:function e(t,r){if(i.isDomNode(t)&&i.isDomNode(r)){if(i.isDomNode(t.parentNode)){t.parentNode.replaceChild(r,t)}}}},{key:"remove",value:function e(t){if(i.isDomNode(t)&&i.isDomNode(t.parentNode)){t.parentNode.removeChild(t)}}},{key:"clean",value:function t(r){if(i.isDomNode(r)){while(r.childNodes.length>0){r.removeChild(r.firstChild)}return}if(i.isString(r)){e.clean(document.getElementById(r))}}},{key:"insertBefore",value:function e(t,r){if(i.isDomNode(t)&&i.isDomNode(r)){if(i.isDomNode(r.parentNode)){r.parentNode.insertBefore(t,r)}}}},{key:"insertAfter",value:function e(t,r){if(i.isDomNode(t)&&i.isDomNode(r)){if(i.isDomNode(r.parentNode)){var n=r.parentNode;if(i.isDomNode(r.nextSibling)){n.insertBefore(t,r.nextSibling);return}n.appendChild(t)}}}},{key:"append",value:function e(t,r){if(i.isDomNode(t)&&i.isDomNode(r)){r.appendChild(t)}}},{key:"prepend",value:function t(r,n){if(i.isDomNode(r)&&i.isDomNode(n)){if(i.isDomNode(n.firstChild)){n.insertBefore(r,n.firstChild);return}e.append(r,n)}}},{key:"hasClass",value:function t(r,n){if(i.isElementNode(r)){if(i.isString(n)){var a=n.trim();if(a.length>0){if(a.includes(" ")){return a.split(" ").every(function(t){return e.hasClass(r,t)})}if("classList"in r){return r.classList.contains(a)}if(i.isObject(r.className)&&i.isString(r.className.baseVal)){return r.getAttribute("class").split(" ").some(function(e){return e===a})}}}if(i.isArray(n)&&n.length>0){return n.every(function(t){return e.hasClass(r,t)})}}return false}},{key:"addClass",value:function t(r,n){if(i.isElementNode(r)){if(i.isString(n)){var a=n.trim();if(a.length>0){if(a.includes(" ")){e.addClass(r,a.split(" "));return}if("classList"in r){r.classList.add(a);return}if(i.isObject(r.className)&&i.isString(r.className.baseVal)){if(r.className.baseVal===""){r.className.baseVal=a;return}var o=r.className.baseVal.split(" ");if(!o.includes(a)){o.push(a);r.className.baseVal=o.join(" ").trim();return}}return}}if(i.isArray(n)){n.forEach(function(t){return e.addClass(r,t)})}}}},{key:"removeClass",value:function t(r,n){if(i.isElementNode(r)){if(i.isString(n)){var a=n.trim();if(a.length>0){if(a.includes(" ")){e.removeClass(r,a.split(" "));return}if("classList"in r){r.classList.remove(a);return}if(i.isObject(r.className)&&i.isString(r.className.baseVal)){var o=r.className.baseVal.split(" ").filter(function(e){return e!==a});r.className.baseVal=o.join(" ");return}}}if(i.isArray(n)){n.forEach(function(t){return e.removeClass(r,t)})}}}},{key:"toggleClass",value:function t(r,n){if(i.isElementNode(r)){if(i.isString(n)){var a=n.trim();if(a.length>0){if(a.includes(" ")){e.toggleClass(r,a.split(" "));return}r.classList.toggle(a);return}}if(i.isArray(n)){n.forEach(function(t){return e.toggleClass(r,t)})}}}},{key:"style",value:function t(r,n,a){if(i.isElementNode(r)){if(i.isNull(n)){r.removeAttribute("style");return r}if(i.isPlainObject(n)){Object.entries(n).forEach(function(t){var n=babelHelpers.slicedToArray(t,2),i=n[0],a=n[1];e.style(r,i,a)});return r}if(i.isString(n)){if(i.isUndefined(a)&&r.nodeType!==Node.DOCUMENT_NODE){var o=getComputedStyle(r);if(n in o){return o[n]}return o.getPropertyValue(n)}if(i.isNull(a)||a===""||a==="null"){r.style[n]="";return r}if(i.isString(a)||i.isNumber(a)){r.style[n]=a;return r}}}return null}},{key:"adjust",value:function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!r.nodeType){return null}var a=r;if(r.nodeType===Node.DOCUMENT_NODE){a=r.body}if(i.isPlainObject(n)){if(i.isPlainObject(n.attrs)){Object.keys(n.attrs).forEach(function(e){if(e==="class"||e.toLowerCase()==="classname"){a.className=n.attrs[e];return}if(n.attrs[e]==""){a.removeAttribute(e);return}a.setAttribute(e,n.attrs[e])})}if(i.isPlainObject(n.style)){e.style(a,n.style)}if(i.isPlainObject(n.props)){Object.keys(n.props).forEach(function(e){a[e]=n.props[e]})}if(i.isPlainObject(n.events)){Object.keys(n.events).forEach(function(e){fe.bind(a,e,n.events[e])})}if(i.isPlainObject(n.dataset)){Object.keys(n.dataset).forEach(function(e){a.dataset[e]=n.dataset[e]})}if(i.isString(n.children)){n.children=[n.children]}if(i.isArray(n.children)&&n.children.length>0){n.children.forEach(function(t){if(i.isDomNode(t)){e.append(t,a)}if(i.isString(t)){a.innerHTML+=t}});return a}if("text"in n&&!i.isNil(n.text)){a.innerText=n.text;return a}if("html"in n&&!i.isNil(n.html)){a.innerHTML=n.html}}return a}},{key:"create",value:function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:document;var o=r;var s=n;if(i.isObjectLike(r)){s=r;o=r.tag}return e.adjust(a.createElement(o),s)}},{key:"show",value:function e(t){if(i.isDomNode(t)){t.hidden=false}}},{key:"hide",value:function e(t){if(i.isDomNode(t)){t.hidden=true}}},{key:"isShown",value:function e(t){return i.isDomNode(t)&&!t.hidden&&t.style.getPropertyValue("display")!=="none"}},{key:"toggle",value:function t(r){if(i.isDomNode(r)){if(e.isShown(r)){e.hide(r)}else{e.show(r)}}}},{key:"getPosition",value:function e(t){if(i.isDomNode(t)){var r=t.getBoundingClientRect();var n=he(),a=n.scrollLeft,o=n.scrollTop;return new DOMRect(r.left+a,r.top+o,r.width,r.height)}return new DOMRect}},{key:"getRelativePosition",value:function t(r,n){if(i.isDomNode(r)&&i.isDomNode(n)){var a=e.getPosition(r);var o=e.getPosition(n);return new DOMRect(a.left-o.left,a.top-o.top,a.width,a.height)}return new DOMRect}},{key:"attr",value:function t(r,n,a){if(i.isElementNode(r)){if(i.isString(n)){if(!i.isNil(a)){return r.setAttribute(n,ce(a))}if(i.isNull(a)){return r.removeAttribute(n)}return ve(r.getAttribute(n))}if(i.isPlainObject(n)){return Object.entries(n).forEach(function(t){var n=babelHelpers.slicedToArray(t,2),i=n[0],a=n[1];e.attr(r,i,a)})}}return null}}]);return e}();var pe=navigator.userAgent.toLowerCase();var ye=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"isOpera",value:function e(){return pe.includes("opera")}},{key:"isIE",value:function t(){return"attachEvent"in document&&!e.isOpera()}},{key:"isIE6",value:function e(){return pe.includes("msie 6")}},{key:"isIE7",value:function e(){return pe.includes("msie 7")}},{key:"isIE8",value:function e(){return pe.includes("msie 8")}},{key:"isIE9",value:function e(){return"documentMode"in document&&document.documentMode>=9}},{key:"isIE10",value:function e(){return"documentMode"in document&&document.documentMode>=10}},{key:"isSafari",value:function e(){return pe.includes("webkit")}},{key:"isFirefox",value:function e(){return pe.includes("firefox")}},{key:"isChrome",value:function e(){return pe.includes("chrome")}},{key:"detectIEVersion",value:function t(){if(e.isOpera()||e.isSafari()||e.isFirefox()||e.isChrome()){return-1}var r=-1;if(!!window.MSStream&&!window.ActiveXObject&&"ActiveXObject"in window){r=11}else if(e.isIE10()){r=10}else if(e.isIE9()){r=9}else if(e.isIE()){r=8}if(r===-1||r===8){if(navigator.appName==="Microsoft Internet Explorer"){var n=new RegExp("MSIE ([0-9]+[.0-9]*)");var a=navigator.userAgent.match(n);if(i.isArrayLike(a)&&a.length>0){r=parseFloat(a[1])}}if(navigator.appName==="Netscape"){r=11;var o=new RegExp("Trident/.*rv:([0-9]+[.0-9]*)");if(o.exec(navigator.userAgent)!=null){var s=navigator.userAgent.match(o);if(i.isArrayLike(s)&&s.length>0){r=parseFloat(s[1])}}}}return r}},{key:"isIE11",value:function t(){return e.detectIEVersion()>=11}},{key:"isMac",value:function e(){return pe.includes("macintosh")}},{key:"isAndroid",value:function e(){return pe.includes("android")}},{key:"isIPad",value:function e(){return pe.includes("ipad;")}},{key:"isIPhone",value:function e(){return pe.includes("iphone;")}},{key:"isIOS",value:function t(){return e.isIPad()||e.isIPhone()}},{key:"isMobile",value:function t(){return e.isIPhone()||e.isIPad()||e.isAndroid()||pe.includes("mobile")||pe.includes("touch")}},{key:"isRetina",value:function e(){return window.devicePixelRatio&&window.devicePixelRatio>=2}},{key:"isDoctype",value:function e(t){var r=t||document;if(r.compatMode){return r.compatMode==="CSS1Compat"}return r.documentElement&&r.documentElement.clientHeight}},{key:"isLocalStorageSupported",value:function e(){try{localStorage.setItem("test","test");localStorage.removeItem("test");return true}catch(e){return false}}},{key:"addGlobalClass",value:function t(){var r="bx-core";if(de.hasClass(document.documentElement,r)){return}if(e.isIOS()){r+=" bx-ios"}else if(e.isMac()){r+=" bx-mac"}else if(e.isAndroid()){r+=" bx-android"}r+=e.isMobile()?" bx-touch":" bx-no-touch";r+=e.isRetina()?" bx-retina":" bx-no-retina";var n=-1;if(/AppleWebKit/.test(navigator.userAgent)){r+=" bx-chrome"}else if(e.detectIEVersion()>0){n=e.detectIEVersion();r+=" bx-ie bx-ie".concat(n);if(n>7&&n<10&&!e.isDoctype()){r+=" bx-quirks"}}else if(/Opera/.test(navigator.userAgent)){r+=" bx-opera"}else if(/Gecko/.test(navigator.userAgent)){r+=" bx-firefox"}de.addClass(document.documentElement,r)}},{key:"detectAndroidVersion",value:function e(){var t=new RegExp("Android ([0-9]+[.0-9]*)");if(t.exec(navigator.userAgent)!=null){var r=navigator.userAgent.match(t);if(i.isArrayLike(r)&&r.length>0){return parseFloat(r[1])}}return 0}},{key:"isPropertySupported",value:function e(t,r){if(t===""){return false}function n(e){return e.replace(/([A-Z])/g,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return"-".concat(t[1].toLowerCase())})}function i(e){var t=/(\\-([a-z]))/g;if(t.test(e)){return e.replace(t,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return t[2].toUpperCase()})}return e}var a=t.includes("-")?i(t):t;var o=!!r;var s=a.charAt(0).toUpperCase()+a.slice(1);var u=["Webkit","Moz","O","ms"].join("".concat(s," "));var l="".concat(a," ").concat(u," ").concat(s).split(" ");var f=document.body||document.documentElement;for(var c=0;c<l.length;c+=1){var v=l[c];if(f&&"style"in f&&v in f.style){var h=v.substr(0,v.length-a.length).toLowerCase();var d=v===a?"":"-".concat(h,"-");return o?d+n(a):v}}return false}},{key:"addGlobalFeatures",value:function t(r){if(!i.isArray(r)){return}var n=[];for(var a=0;a<r.length;a+=1){var o=!!e.isPropertySupported(r[a]);n.push("bx-".concat(o?"":"no-").concat(r[a].toLowerCase()))}de.addClass(document.documentElement,n.join(" "))}}]);return e}();var ge=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"getList",value:function e(){return document.cookie.split(";").map(function(e){return e.split("=")}).map(function(e){return e.map(function(e){return e.trim()})}).reduce(function(e,t){var r=babelHelpers.slicedToArray(t,2),n=r[0],i=r[1];e[decodeURIComponent(n)]=decodeURIComponent(i);return e},{})}},{key:"get",value:function t(r){var n=e.getList();if(r in n){return n[r]}return undefined}},{key:"set",value:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a=babelHelpers.objectSpread({expires:""},n);if(i.isNumber(a.expires)){var o=+new Date;var s=a.expires;var u=864e5;a.expires=new Date(o+s*u)}if(i.isDate(a.expires)){a.expires=a.expires.toUTCString()}var l=decodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f=encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);var c=Object.keys(a).reduce(function(e,t){var r=a[t];if(!r){return e}if(r===true){return"".concat(e,"; ").concat(t)}return"".concat(e,"; ").concat(t,"=").concat(r.split(";")[0])},"");document.cookie="".concat(l,"=").concat(f).concat(c)}},{key:"remove",value:function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e.set(r,"",babelHelpers.objectSpread({},n,{expires:-1}))}}]);return e}();function me(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new FormData;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(i.isUndefined(e)){return t}if(i.isNull(e)){t.append(r,"")}else if(i.isArray(e)){if(!e.length){var n="".concat(r,"[]");t.append(n,"")}else{e.forEach(function(e,n){var i="".concat(r,"[").concat(n,"]");me(e,t,i)})}}else if(i.isDate(e)){t.append(r,e.toISOString())}else if(i.isObject(e)&&!i.isFile(e)&&!i.isBlob(e)){Object.keys(e).forEach(function(n){var a=e[n];var o=n;if(i.isArray(a)){while(n.length>2&&n.lastIndexOf("[]")===n.length-2){o=n.substring(0,n.length-2)}}var s=r?"".concat(r,"[").concat(o,"]"):o;me(a,t,s)})}else{t.append(r,e)}return t}var be=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"convertObjectToFormData",value:function e(t){return me(t)}}]);return e}();var we=function e(){babelHelpers.classCallCheck(this,e)};babelHelpers.defineProperty(we,"Cookie",ge);babelHelpers.defineProperty(we,"Data",be);function Se(e){if(i.isString(e)){if(i.isNil(Se[e])){se.emit("onBXMessageNotFound",new K({compatData:[e]}));if(i.isNil(Se[e])){q.debug("message undefined: ".concat(e));Se[e]=""}}}if(i.isPlainObject(e)){Object.keys(e).forEach(function(t){Se[t]=e[t]})}return Se[e]}if(!i.isNil(window.BX)&&i.isFunction(window.BX.message)){Object.keys(window.BX.message).forEach(function(e){Se(babelHelpers.defineProperty({},e,window.BX.message[e]))})}var xe=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"getMessage",value:function e(t){return Se(t)}},{key:"setMessage",value:function e(t,r){if(i.isString(t)&&i.isString(r)){Se(babelHelpers.defineProperty({},t,r))}if(i.isObject(t)){Se(t)}}}]);return e}();var Ee=new Map;var je=new Map;var Be=function(){var e=0;return function(){e+=1;return e}}();function Oe(e,t){t.forEach(function(t,r){var n=e.querySelector("[".concat(r,"]"));if(n){n.removeAttribute(r);var i=r.replace(/-(.*)/,"");fe.bind(n,i,t);Ee.delete(r)}})}function _e(e,t){t.forEach(function(t,r){var n=e.getElementById(r);if(n){de.replace(n,t);je.delete(r)}})}function Te(e){var t=/[ |\t]on(\w+)="$/;var r=/[\r\n\t]/g;for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++){a[o-1]=arguments[o]}var s=a.reduce(function(n,a,o){var s=n;var u=n.match(t);if(u&&i.isFunction(a)){var l=u[1].replace(/=['|"]/,"");var f="".concat(l,"-").concat(Be());var c="".concat(f,'="');s=s.replace(t," ".concat(c));Ee.set(f,a);s+=e[o+1].replace(r," ").replace(/  +/g," ");return s}if(i.isDomNode(a)){var v="tmp___".concat(Be());je.set(v,a);s+='<span id="'.concat(v,'"> </span>');s+=e[o+1];return s}if(i.isArray(a)){babelHelpers.toConsumableArray(a).forEach(function(e){if(i.isDomNode(e)){var t="tmp___".concat(Be());je.set(t,e);s+='<span id="'.concat(t,'"> </span>')}});s+=e[o+1];return s}return s+a+e[o+1]},e[0]);var u=s.trim().toLowerCase();if(u.startsWith("<!doctype")||u.startsWith("<html")){var l=document.implementation.createHTMLDocument("");l.documentElement.innerHTML=s;_e(l,je);Oe(l,Ee);Ee.clear();return l}var f=new DOMParser;var c=f.parseFromString(s,"text/html");_e(c,je);Oe(c,Ee);if(c.head.children.length&&c.body.children.length){return c}if(c.body.children.length===1){var v=babelHelpers.slicedToArray(c.body.children,1),h=v[0];de.remove(h);return h}if(c.body.children.length>1){return babelHelpers.toConsumableArray(c.body.children).map(function(e){de.remove(e);return e})}if(c.body.children.length===0){if(c.head.children.length===1){var d=babelHelpers.slicedToArray(c.head.children,1),p=d[0];de.remove(p);return p}if(c.head.children.length>1){return babelHelpers.toConsumableArray(c.head.children).map(function(e){de.remove(e);return e})}}return false}function Ae(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return r.reduce(function(t,r,n){var a=n+1;if(!i.isPlainObject(r)&&!i.isArray(r)){return t+r+e[a]}return"".concat(t,"__s").concat(n).concat(e[a])},e[0]).replace(/[\r\t]/gm,"").split(";\n").map(function(e){return e.replace(/\n/,"")}).reduce(function(e,t){if(t!==""){var n=t.match(/^[\w-. ]+:/);var i=t.split(/^[\w-. ]+:/);var a=n[0].replace(":","").trim();var o=i[1].trim();var s=/^__s\d+/;if(s.test(o)){e[a]=r[o.replace("__s","")];return e}e[a]=o}return e},{})}var Ne=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"safe",value:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}return n.reduce(function(e,r,n){return e+f.encode(r)+t[n+1]},t[0])}},{key:"unsafe",value:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}return n.reduce(function(e,r,n){return e+f.decode(r)+t[n+1]},t[0])}},{key:"style",value:function e(t){if(!i.isDomNode(t)){throw new Error("element is not HTMLElement")}return function e(){de.style(t,Ae.apply(void 0,arguments))}}},{key:"message",value:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}return n.reduce(function(e,r,n){return e+xe.getMessage(r)+t[n+1]},t[0])}},{key:"attrs",value:function e(t){if(!i.isDomNode(t)){throw new Error("element is not HTMLElement")}return function e(){de.attr(t,Ae.apply(void 0,arguments))}}}]);return e}();babelHelpers.defineProperty(Ne,"render",Te);babelHelpers.defineProperty(Ne,"attr",Ne.attrs);function Xe(e){switch(e){case"index":return function(e,t,r){var n=/\[(\w*)\]$/.exec(e);var a=e.replace(/\[\w*\]$/,"");if(i.isNil(n)){r[a]=t;return}if(i.isUndefined(r[a])){r[a]={}}r[a][n[1]]=t};case"bracket":return function(e,t,r){var n=/(\[\])$/.exec(e);var a=e.replace(/\[\]$/,"");if(i.isNil(n)){r[a]=t;return}if(i.isUndefined(r[a])){r[a]=[t];return}r[a]=[].concat(r[a],t)};default:return function(e,t,r){var n=e.replace(/\[\]$/,"");r[n]=t}}}function Pe(e){if(/^\w+\[([\w]+)\]$/.test(e)){return"index"}if(/^\w+\[\]$/.test(e)){return"bracket"}return"default"}function ke(e){if(!i.isString(e)){return{}}var t=e.trim().replace(/^[?#&]/,"");if(!t){return{}}return t.split("&").reduce(function(e,t){var r=t.replace(/\+/g," ").split("="),n=babelHelpers.slicedToArray(r,2),i=n[0],a=n[1];var o=Pe(i);var s=Xe(o);s(i,a,e);return e},{})}var Ce=/^((\w+):)?(\/\/((\w+)?(:(\w+))?@)?([^\/\?:]+)(:(\d+))?)?(\/?([^\/\?#][^\?#]*)?)?(\?([^#]+))?(#(\w*))?/;function Me(e){var t=e.match(Ce);if(i.isArray(t)){var r=ke(t[14]);return{useShort:/^\/\//.test(e),href:t[0]||"",schema:t[2]||"",host:t[8]||"",port:t[10]||"",path:t[11]||"",query:t[14]||"",queryParams:r,hash:t[16]||"",username:t[5]||"",password:t[7]||"",origin:t[8]||""}}return{}}function Ie(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=Object.keys(e).reduce(function(t,r){if(i.isArray(e[r])){e[r].forEach(function(e){t.push("".concat(r,"[]=").concat(e))},"")}if(i.isPlainObject(e[r])){Object.keys(e[r]).forEach(function(n){t.push("".concat(r,"[").concat(n,"]=").concat(e[r][n]))},"")}if(!i.isObject(e[r])&&!i.isArray(e[r])){t.push("".concat(r,"=").concat(e[r]))}return t},[]).join("&");if(t.length>0){return"?".concat(t)}return t}function Le(e){if(i.isArray(e)){return e.map(function(e){return String(e)})}if(i.isPlainObject(e)){return babelHelpers.objectSpread({},e)}return String(e)}var Fe=new WeakMap;var De=function(){babelHelpers.createClass(e,null,[{key:"addParam",value:function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new e(r).setQueryParams(n).toString()}},{key:"removeParam",value:function t(r,n){var a;var o=i.isArray(n)?n:[n];return(a=new e(r)).removeQueryParam.apply(a,babelHelpers.toConsumableArray(o)).toString()}}]);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";babelHelpers.classCallCheck(this,e);Fe.set(this,Me(t))}babelHelpers.createClass(e,[{key:"getSchema",value:function e(){return Fe.get(this).schema}},{key:"setSchema",value:function e(t){Fe.get(this).schema=String(t);return this}},{key:"getHost",value:function e(){return Fe.get(this).host}},{key:"setHost",value:function e(t){Fe.get(this).host=String(t);return this}},{key:"getPort",value:function e(){return Fe.get(this).port}},{key:"setPort",value:function e(t){Fe.get(this).port=String(t);return this}},{key:"getPath",value:function e(){return Fe.get(this).path}},{key:"setPath",value:function e(t){if(!/^\//.test(t)){Fe.get(this).path="/".concat(String(t));return this}Fe.get(this).path=String(t);return this}},{key:"getQuery",value:function e(){return Ie(Fe.get(this).queryParams)}},{key:"getQueryParam",value:function e(t){var r=this.getQueryParams();if(t in r){return r[t]}return null}},{key:"setQueryParam",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";Fe.get(this).queryParams[t]=Le(r);return this}},{key:"getQueryParams",value:function e(){return babelHelpers.objectSpread({},Fe.get(this).queryParams)}},{key:"setQueryParams",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=this.getQueryParams();var n=babelHelpers.objectSpread({},r,t);Object.keys(n).forEach(function(e){n[e]=Le(n[e])});Fe.get(this).queryParams=n;return this}},{key:"removeQueryParam",value:function e(){var t=babelHelpers.objectSpread({},Fe.get(this).queryParams);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}n.forEach(function(e){if(e in t){delete t[e]}});Fe.get(this).queryParams=t;return this}},{key:"getFragment",value:function e(){return Fe.get(this).hash}},{key:"setFragment",value:function e(t){Fe.get(this).hash=String(t);return this}},{key:"serialize",value:function e(){var t=babelHelpers.objectSpread({},Fe.get(this));t.href=this.toString();return t}},{key:"toString",value:function e(){var t=babelHelpers.objectSpread({},Fe.get(this));var r=t.schema?"".concat(t.schema,"://"):"";if(t.useShort){r="//"}var n=function(){if(i.isString(t.port)&&!["","80"].includes(t.port)){return":".concat(t.port)}return""}();var a=this.getHost();var o=this.getPath();var s=Ie(t.queryParams);var u=t.hash?"#".concat(t.hash):"";return"".concat(a?r:"").concat(a).concat(a?n:"").concat(o).concat(s).concat(u)}}]);return e}();var Re=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"isEmail",value:function e(t){var r=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;return r.test(String(t).toLowerCase())}}]);return e}();var He=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"storage",new Map)}babelHelpers.createClass(e,[{key:"get",value:function e(t,r){if(!this.storage.has(t)){if(i.isFunction(r)){return r()}if(!i.isUndefined(r)){return r}}return this.storage.get(t)}},{key:"set",value:function e(t,r){this.storage.set(t,r)}},{key:"delete",value:function e(t){this.storage.delete(t)}},{key:"has",value:function e(t){return this.storage.has(t)}},{key:"remember",value:function e(t,r){if(!this.storage.has(t)){if(i.isFunction(r)){this.storage.set(t,r())}else if(!i.isUndefined(r)){this.storage.set(t,r)}}return this.storage.get(t)}},{key:"size",value:function e(){return this.storage.size}},{key:"keys",value:function e(){return babelHelpers.toConsumableArray(this.storage.keys())}},{key:"values",value:function e(){return babelHelpers.toConsumableArray(this.storage.values())}}]);return e}();var We=function(e){babelHelpers.inherits(t,e);function t(){var e;var r;babelHelpers.classCallCheck(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++){i[a]=arguments[a]}r=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(i)));babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r),"storage",new Map);return r}return t}(He);var Ge=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"stackKey","BX.Cache.Storage.LsStorage.stack");babelHelpers.defineProperty(this,"stack",null)}babelHelpers.createClass(e,[{key:"getStack",value:function e(){if(i.isPlainObject(this.stack)){return this.stack}var t=localStorage.getItem(this.stackKey);if(i.isString(t)&&t!==""){var r=JSON.parse(t);if(i.isPlainObject(r)){this.stack=r;return this.stack}}this.stack={};return this.stack}},{key:"saveStack",value:function e(){if(i.isPlainObject(this.stack)){var t=JSON.stringify(this.stack);localStorage.setItem(this.stackKey,t)}}},{key:"get",value:function e(t){var r=this.getStack();return r[t]}},{key:"set",value:function e(t,r){var n=this.getStack();n[t]=r;this.saveStack()}},{key:"delete",value:function e(t){var r=this.getStack();if(t in r){delete r[t]}}},{key:"has",value:function e(t){var r=this.getStack();return t in r}},{key:"keys",value:function e(){var t=this.getStack();return Object.keys(t)}},{key:"values",value:function e(){var t=this.getStack();return Object.values(t)}},{key:"size",get:function e(){var t=this.getStack();return Object.keys(t).length}}]);return e}();var ze=function(e){babelHelpers.inherits(t,e);function t(){var e;var r;babelHelpers.classCallCheck(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++){i[a]=arguments[a]}r=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(i)));babelHelpers.defineProperty(babelHelpers.assertThisInitialized(r),"storage",new Ge);return r}return t}(He);var Ue=function e(){babelHelpers.classCallCheck(this,e)};babelHelpers.defineProperty(Ue,"MemoryCache",We);babelHelpers.defineProperty(Ue,"LocalStorageCache",ze);function Ve(e){if(i.isStringFilled(e)){return e.split(".").reduce(function(e,t){t.split(/\[['"]?(.+?)['"]?\]/g).forEach(function(t){if(i.isStringFilled(t)){e.push(t)}});return e},[])}return[]}var Ye=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);if(i.isPlainObject(t)){Object.assign(this,t)}}babelHelpers.createClass(e,[{key:"get",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=Ve(t);return n.reduce(function(e,t){if(!i.isNil(e)&&e!==r){if(!i.isUndefined(e[t])){return e[t]}return r}return e},this)}}]);return e}();function qe(e){if(i.isObject(e)){Object.values(e).forEach(function(e){qe(e)});return Object.freeze(e)}return e}var Je=new Map;var $e=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"getSettings",value:function e(t){if(i.isStringFilled(t)){if(Je.has(t)){return Je.get(t)}var r=document.querySelector('script[data-extension="'.concat(t,'"]'));if(i.isDomNode(r)){var n=function(){try{return new Ye(JSON.parse(r.innerHTML))}catch(e){return new Ye}}();var a=qe(n);Je.set(t,a);return a}}return qe(new Ye)}}]);return e}();function Ke(e){if(i.isString(e)){return document.getElementById(e)}return e}function Ze(e){if(i.isElementNode(e)){return e.ownerDocument.parentWindow||e.ownerDocument.defaultView||window}if(i.isDomNode(e)){return e.parentWindow||e.defaultView||window}return window}var Qe=a.getClass,et=a.namespace;var tt=Se;var rt=de.replace,nt=de.remove,it=de.clean,at=de.insertBefore,ot=de.insertAfter,st=de.append,ut=de.prepend,lt=de.style,ft=de.adjust,ct=de.create,vt=de.isShown;var ht=function e(){de.addClass.apply(de,babelHelpers.toConsumableArray(q.merge([],Array.from(arguments),[Ke(arguments[0])])))};var dt=function e(){de.removeClass.apply(de,babelHelpers.toConsumableArray(q.merge(Array.from(arguments),[Ke(arguments[0])])))};var pt=function e(){return de.hasClass.apply(de,babelHelpers.toConsumableArray(q.merge(Array.from(arguments),[Ke(arguments[0])])))};var yt=function e(){de.toggleClass.apply(de,babelHelpers.toConsumableArray(q.merge(Array.from(arguments),[Ke(arguments[0])])))};var gt=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=Ke(t);if(i.isDomNode(n)){de.clean(n);if(r){de.remove(n);return n}}return n};var mt=we.Cookie.get;var bt=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a=babelHelpers.objectSpread({},n);if(i.isNumber(a.expires)){a.expires/=3600*24}we.Cookie.set(t,r,a)};var wt=fe.bind,St=fe.unbind,xt=fe.unbindAll,Et=fe.bindOnce,jt=fe.ready;var Bt=w,Ot=E,_t=j;var Tt=function e(t){if(t){S()}else{x()}};var At=q.clone,Nt=q.loadExtension,Xt=q.debounce,Pt=q.throttle,kt=q.html;var Ct=babelHelpers.objectSpread({},Object.getOwnPropertyNames(i).filter(function(e){return!["name","length","prototype","caller","arguments"].includes(e)}).reduce(function(e,t){e[t]=i[t];return e},{}),{isNotEmptyString:function e(t){return i.isString(t)&&t!==""},isNotEmptyObject:function e(t){return i.isObjectLike(t)&&Object.keys(t).length>0},isMapKey:i.isObject,stringToInt:function e(t){var r=parseInt(t);return!Number.isNaN(r)?r:0}});var Mt={IsOpera:ye.isOpera,IsIE:ye.isIE,IsIE6:ye.isIE6,IsIE7:ye.isIE7,IsIE8:ye.isIE8,IsIE9:ye.isIE9,IsIE10:ye.isIE10,IsIE11:ye.isIE11,IsSafari:ye.isSafari,IsFirefox:ye.isFirefox,IsChrome:ye.isChrome,DetectIeVersion:ye.detectIEVersion,IsMac:ye.isMac,IsAndroid:ye.isAndroid,isIPad:ye.isIPad,isIPhone:ye.isIPhone,IsIOS:ye.isIOS,IsMobile:ye.isMobile,isRetina:ye.isRetina,IsDoctype:ye.isDoctype,SupportLocalStorage:ye.isLocalStorageSupported,addGlobalClass:ye.addGlobalClass,DetectAndroidVersion:ye.detectAndroidVersion,isPropertySupported:ye.isPropertySupported,addGlobalFeatures:ye.addGlobalFeatures};var It=window.BX?window.BX.ajax:function(){};function Lt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;return{scrollWidth:e.documentElement.scrollWidth,scrollHeight:e.documentElement.scrollHeight}}function Ft(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;var t=Ze(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Dt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;var t=Ze(e);return{innerWidth:t.innerWidth,innerHeight:t.innerHeight}}function Rt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;return babelHelpers.objectSpread({},Dt(e),Ft(e),Lt(e))}function Ht(e){return Ze(e)}function Wt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){return(new DOMRect).toJSON()}if(e.ownerDocument===document&&!t){var r=e.getBoundingClientRect();var n=document.documentElement;var i=document,a=i.body;return{top:Math.round(r.top+(n.scrollTop||a.scrollTop)),left:Math.round(r.left+(n.scrollLeft||a.scrollLeft)),width:Math.round(r.right-r.left),height:Math.round(r.bottom-r.top),right:Math.round(r.right+(n.scrollLeft||a.scrollLeft)),bottom:Math.round(r.bottom+(n.scrollTop||a.scrollTop))}}var o=0;var s=0;var u=e.offsetWidth;var l=e.offsetHeight;var c=true;for(;e!=null;e=e.offsetParent){if(!c&&t&&BX.is_relative(e)){break}o+=e.offsetLeft;s+=e.offsetTop;if(c){c=false;continue}o+=f.toNumber(de.style(e,"border-left-width"));s+=f.toNumber(de.style(e,"border-top-width"))}return new DOMRect(o,s,u,l).toJSON()}function Gt(e,t,r){if(i.isString(e)){r=t;t=e;e=se.GLOBAL_TARGET}if(e===window){e=se.GLOBAL_TARGET}if(!i.isObject(e)){console.error('The "eventObject" argument must be an object. Received type '+babelHelpers.typeof(e)+".");return}if(!i.isStringFilled(t)){console.error('The "eventName" argument must be a string.');return}if(!i.isFunction(r)){console.error('The "eventHandler" argument must be a function. Received type '+babelHelpers.typeof(r)+".");return}t=t.toLowerCase();se.subscribe(e,t,r,{compatMode:true,useGlobalNaming:true})}function zt(e,t,r,n){if(i.isString(e)){n=r;r=t;t=e;e=se.GLOBAL_TARGET}if(!i.isObject(e)||e===window){e=se.GLOBAL_TARGET}if(!r){r=[]}t=t.toLowerCase();var a=new K;a.setData(r);a.setCompatData(r);se.emit(e,t,a,{cloneData:n===true,useGlobalNaming:true})}function Ut(e,t,r){if(i.isString(e)){r=t;t=e;e=se.GLOBAL_TARGET}if(!i.isFunction(r)){console.error('The "eventHandler" argument must be a function. Received type '+babelHelpers.typeof(r)+".");return}if(e===window){e=se.GLOBAL_TARGET}t=t.toLowerCase();se.unsubscribe(e,t,r,{useGlobalNaming:true})}function Vt(e,t){if(i.isString(e)){t=e;e=se.GLOBAL_TARGET}if(e===window){e=se.GLOBAL_TARGET}t=t.toLowerCase();se.unsubscribeAll(e,t,{useGlobalNaming:true})}if(global&&global.window&&global.window.BX){Object.assign(global.window.BX,e)}e.BaseError=$;e.Browser=ye;e.Cache=Ue;e.Dom=de;e.Event=fe;e.Extension=$e;e.GetContext=Ht;e.GetWindowInnerSize=Dt;e.GetWindowScrollPos=Ft;e.GetWindowScrollSize=Lt;e.GetWindowSize=Rt;e.Http=we;e.Loc=xe;e.Reflection=a;e.Runtime=q;e.Tag=Ne;e.Text=f;e.Type=i;e.Uri=De;e.Validation=Re;e.addClass=ht;e.addCustomEvent=Gt;e.adjust=ft;e.ajax=It;e.append=st;e.bind=wt;e.bindOnce=Et;e.browser=Mt;e.clean=it;e.cleanNode=gt;e.clone=At;e.create=ct;e.debounce=Xt;e.debug=_t;e.debugEnable=Tt;e.debugEnableFlag=Bt;e.debugStatus=Ot;e.getClass=Qe;e.getCookie=mt;e.hasClass=pt;e.html=kt;e.insertAfter=ot;e.insertBefore=at;e.isShown=vt;e.loadExt=Nt;e.message=tt;e.namespace=et;e.onCustomEvent=zt;e.pos=Wt;e.prepend=ut;e.ready=jt;e.remove=nt;e.removeAllCustomEvents=Vt;e.removeClass=dt;e.removeCustomEvent=Ut;e.replace=rt;e.setCookie=bt;e.style=lt;e.throttle=Pt;e.toggleClass=yt;e.type=Ct;e.unbind=St;e.unbindAll=xt})(this.BX=this.BX||{});(function(BX){var proxyList=new WeakMap;var deferList=new WeakMap;var deniedEvents=[];var customEvents=new WeakMap;var customEventsCnt=0;var garbageCollectors=[];var cssList=[];var cssInit=false;var jsList=[];var jsInit=false;var eventTypes={click:"MouseEvent",dblclick:"MouseEvent",mousedown:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",mouseover:"MouseEvent",mouseup:"MouseEvent",focus:"MouseEvent",blur:"MouseEvent"};var lastWait=[];var CHECK_FORM_ELEMENTS={tagName:/^INPUT|SELECT|TEXTAREA|BUTTON$/i};var PRELOADING=1;var PRELOADED=2;var LOADING=3;var LOADED=4;var assets={};var isAsync=null;BX.MSLEFT=1;BX.MSMIDDLE=2;BX.MSRIGHT=4;BX.AM_PM_UPPER=1;BX.AM_PM_LOWER=2;BX.AM_PM_NONE=false;BX.ext=function(e){for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}};var r={script:/<script([^>]*)>/gi,script_end:/<\/script>/gi,script_src:/src=["\']([^"\']+)["\']/i,script_type:/type=["\']([^"\']+)["\']/i,space:/\s+/,ltrim:/^[\s\r\n]+/g,rtrim:/[\s\r\n]+$/g,style:/<link.*?(rel="stylesheet"|type="text\/css")[^>]*>/i,style_href:/href=["\']([^"\']+)["\']/i};BX.processHTML=function(e,t){var n,i,a,o,s,u=[],l=[];var f=[];var c=r.script.lastIndex=r.script_end.lastIndex=0;while((n=r.script.exec(e))!==null){r.script_end.lastIndex=r.script.lastIndex;var v=r.script_end.exec(e);if(v===null){break}var h=false;if((s=n[1].match(r.script_type))!==null){if(s[1]=="text/html"||s[1]=="text/template"||s[1]=="extension/settings"){h=true}}if(h){f.push([c,r.script_end.lastIndex-c])}else{f.push([c,n.index-c]);var d=t||n[1].indexOf("bxrunfirst")!="-1";if((a=n[1].match(r.script_src))!==null){u.push({bRunFirst:d,isInternal:false,JS:a[1]})}else{var p=n.index+n[0].length;var y=e.substr(p,v.index-p);u.push({bRunFirst:d,isInternal:true,JS:y})}}c=v.index+9;r.script.lastIndex=c}f.push([c,c===0?e.length:e.length-c]);var g="";for(var m=0,b=f.length;m<b;m++){if(BX.type.isString(e)&&BX.type.isFunction(e.substr)){g+=e.substr(f[m][0],f[m][1])}}while((i=g.match(r.style))!==null){if((o=i[0].match(r.style_href))!==null&&i[0].indexOf('media="')<0){l.push(o[1])}g=g.replace(i[0],"")}return{HTML:g,SCRIPT:u,STYLE:l}};BX.extend=function(e,t){var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e;e.superclass=t.prototype;e.prototype.superclass=t.prototype;if(t.prototype.constructor==Object.prototype.constructor){t.prototype.constructor=t}};BX.is_subclass_of=function(e,t){if(e instanceof t)return true;if(t.superclass)return BX.is_subclass_of(e,t.superclass);return false};BX.clearNodeCache=function(){return false};BX.bitrix_sessid=function(){return BX.message("bitrix_sessid")};BX.createFragment=function(e){var t=document.createDocumentFragment();if(!BX.type.isArray(e)){return t}for(var r=0;r<e.length;r++){t.appendChild(e[r])}return t};BX.setOpacity=function(e,t){var r=parseFloat(t);if(!isNaN(r)&&BX.type.isDomNode(e)){r=r<1?r:r/100;BX.style(e,"opacity",r)}};BX.hoverEvents=function(e){if(e)return BX.adjust(e,{events:BX.hoverEvents()});else return{mouseover:BX.hoverEventsHover,mouseout:BX.hoverEventsHout}};BX.hoverEventsHover=function(){BX.addClass(this,"bx-hover");this.BXHOVER=true};BX.hoverEventsHout=function(){BX.removeClass(this,"bx-hover");this.BXHOVER=false};BX.focusEvents=function(e){if(e)return BX.adjust(e,{events:BX.focusEvents()});else return{mouseover:BX.focusEventsFocus,mouseout:BX.focusEventsBlur}};BX.focusEventsFocus=function(){BX.addClass(this,"bx-focus");this.BXFOCUS=true};BX.focusEventsBlur=function(){BX.removeClass(this,"bx-focus");this.BXFOCUS=false};BX.setUnselectable=function(e){BX.style(e,{userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none"});e.setAttribute("unSelectable","on")};BX.setSelectable=function(e){BX.style(e,{userSelect:null,MozUserSelect:null,WebkitUserSelect:null,KhtmlUserSelect:null});e.removeAttribute("unSelectable")};BX.styleIEPropertyName=function(e){if(e=="float")e=BX.browser.IsIE()?"styleFloat":"cssFloat";else{var t=BX.browser.isPropertySupported(e);if(t){e=t}else{var r=/(\-([a-z]){1})/g;if(r.test(e)){e=e.replace(r,function(){return arguments[2].toUpperCase()})}}}return e};BX.focus=function(e){try{e.focus();return true}catch(e){return false}};BX.firstChild=function(e){return BX.type.isDomNode(e)?e.firstElementChild:null};BX.lastChild=function(e){return BX.type.isDomNode(e)?e.lastElementChild:null};BX.previousSibling=function(e){return BX.type.isDomNode(e)?e.previousElementSibling:null};BX.nextSibling=function(e){return BX.type.isDomNode(e)?e.nextElementSibling:null};BX.findChildrenByClassName=function(e,t,r){if(!e||!e.childNodes)return null;var n=[];if(typeof e.getElementsByClassName=="undefined"){r=r!==false;n=BX.findChildren(e,{className:t},r)}else{var a=e.getElementsByClassName(t);for(i=0,l=a.length;i<l;i++){n[i]=a[i]}}return n};BX.findChildByClassName=function(e,t,r){if(!e||!e.childNodes)return null;var n=null;if(typeof e.getElementsByClassName=="undefined"){r=r!==false;n=BX.findChild(e,{className:t},r)}else{var i=e.getElementsByClassName(t);if(i&&typeof i[0]!="undefined"){n=i[0]}else{n=null}}return n};BX.findChildren=function(e,t,r){return BX.findChild(e,t,r,true)};BX.findChild=function(e,t,r,n){if(!e||!e.childNodes)return null;r=!!r;n=!!n;var i=e.childNodes.length,a=[];for(var o=0;o<i;o++){var s=e.childNodes[o];if(_checkNode(s,t)){if(n)a.push(s);else return s}if(r==true){var u=BX.findChild(s,t,r,n);if(u){if(n)a=BX.util.array_merge(a,u);else return u}}}if(n||a.length>0)return a;else return null};BX.findParent=function(e,t,r){if(!e)return null;var n=e;while(n.parentNode){var i=n.parentNode;if(_checkNode(i,t))return i;n=i;if(!!r&&(BX.type.isFunction(r)||typeof r=="object")){if(BX.type.isElementNode(r)){if(n==r)break}else{if(_checkNode(n,r))break}}}return null};BX.findNextSibling=function(e,t){if(!e)return null;var r=e;while(r.nextSibling){var n=r.nextSibling;if(_checkNode(n,t))return n;r=n}return null};BX.findPreviousSibling=function(e,t){if(!e)return null;var r=e;while(r.previousSibling){var n=r.previousSibling;if(_checkNode(n,t))return n;r=n}return null};BX.checkNode=function(e,t){return _checkNode(e,t)};BX.findFormElements=function(e){if(BX.type.isString(e))e=document.forms[e]||BX(e);var t=[];if(BX.type.isElementNode(e)){if(e.tagName.toUpperCase()=="FORM"){t=e.elements}else{t=BX.findChildren(e,CHECK_FORM_ELEMENTS,true)}}return t};BX.isParentForNode=function(e,t){if(BX.type.isDomNode(e)&&BX.type.isDomNode(t)){return e.contains(t)}return false};BX.getCaretPosition=function(e){var t=0;if(e.selectionStart||e.selectionStart==0){t=e.selectionStart}else if(document.selection){e.focus();var r=document.selection.createRange();r.moveStart("character",-e.value.length);t=r.text.length}return t};BX.setCaretPosition=function(e,t){if(!BX.isNodeInDom(e)||BX.isNodeHidden(e)||e.disabled){return}if(e.setSelectionRange){e.focus();e.setSelectionRange(t,t)}else if(e.createTextRange){var r=e.createTextRange();r.collapse(true);r.moveEnd("character",t);r.moveStart("character",t);r.select()}};BX.merge=function(){var e=Array.prototype.slice.call(arguments);if(e.length<2)return{};var t=e.shift();for(var r=0;r<e.length;r++){for(var n in e[r]){if(typeof e[r]=="undefined"||e[r]==null)continue;if(e[r].hasOwnProperty(n)){if(typeof e[r][n]=="undefined"||e[r][n]==null)continue;if(typeof e[r][n]=="object"&&!BX.type.isDomNode(e[r][n])&&typeof e[r][n]["isUIWidget"]=="undefined"){var i="length"in e[r][n];if(typeof t[n]!="object")t[n]=i?[]:{};if(i)BX.util.array_merge(t[n],e[r][n]);else BX.merge(t[n],e[r][n])}else t[n]=e[r][n]}}}return t};BX.mergeEx=function(){var e=Array.prototype.slice.call(arguments);if(e.length<2){return{}}var t=e.shift();for(var r=0;r<e.length;r++){for(var n in e[r]){if(typeof e[r]=="undefined"||e[r]==null||!e[r].hasOwnProperty(n)){continue}if(BX.type.isPlainObject(e[r][n])&&BX.type.isPlainObject(t[n])){BX.mergeEx(t[n],e[r][n])}else{t[n]=BX.type.isPlainObject(e[r][n])?BX.clone(e[r][n]):e[r][n]}}}return t};BX.getEventButton=function(e){e=e||window.event;var t=0;if(typeof e.which!="undefined"){switch(e.which){case 1:t=t|BX.MSLEFT;break;case 2:t=t|BX.MSMIDDLE;break;case 3:t=t|BX.MSRIGHT;break}}else if(typeof e.button!="undefined"){t=event.button}return t||BX.MSLEFT};var captured_events=null,_bind=null;BX.CaptureEvents=function(e,t){if(_bind)return;_bind=BX.bind;captured_events=[];BX.bind=function(r,n,i){if(r===e&&n===t)captured_events.push(i);_bind.apply(this,arguments)}};BX.CaptureEventsGet=function(){if(_bind){BX.bind=_bind;var e=captured_events;_bind=null;captured_events=null;return e}return null};BX.fireEvent=function(e,t){var r=false,n=null;if(BX.type.isDomNode(e)){r=true;if(document.createEventObject){if(eventTypes[t]!="MouseEvent"){n=document.createEventObject();n.type=t;r=e.fireEvent("on"+t,n)}if(e[t]){e[t]()}}else{n=null;switch(eventTypes[t]){case"MouseEvent":n=document.createEvent("MouseEvent");try{n.initMouseEvent(t,true,true,top,1,0,0,0,0,0,0,0,0,0,null)}catch(e){n.initMouseEvent(t,true,true,window,1,0,0,0,0,0,0,0,0,0,null)}break;default:n=document.createEvent("Event");n.initEvent(t,true,true)}r=e.dispatchEvent(n)}}return r};BX.getWheelData=function(e){e=e||window.event;e.wheelData=e.detail?e.detail*-1:e.wheelDelta/40;return e.wheelData};BX.proxy_context=null;BX.delegate=function(e,t){if(!e||!t)return e;return function(){var r=BX.proxy_context;BX.proxy_context=this;var n=e.apply(t,arguments);BX.proxy_context=r;return n}};BX.delegateLater=function(e,t,r){return function(){if(t[e]){var n=BX.proxy_context;BX.proxy_context=this;var i=t[e].apply(r||t,arguments);BX.proxy_context=n;return i}return null}};BX.proxy=function(e,t){return getObjectDelegate(e,t,proxyList)};BX.defer=function(e,t){if(!!t)return BX.defer_proxy(e,t);else return function(){var t=arguments;setTimeout(function(){e.apply(this,t)},10)}};BX.defer_proxy=function(e,t){return getObjectDelegate(e,t,deferList,BX.defer)};function getObjectDelegate(e,t,r,n){if(!BX.type.isFunction(e)||!BX.type.isMapKey(t)){return e}var i=r.get(t);if(!i){i=new WeakMap;r.set(t,i)}var a=i.get(e);if(!a){a=n?n(BX.delegate(e,t)):BX.delegate(e,t);i.set(e,a)}return a}BX.once=function(e,t,r){var n=function(){BX.unbind(e,t,n);r.apply(this,arguments)};return n};BX.bindDelegate=function(e,t,r,n){var i=BX.delegateEvent(r,n);BX.bind(e,t,i);return i};BX.delegateEvent=function(e,t){return function(r){r=r||window.event;var n=r.target||r.srcElement;while(n!=this){if(_checkNode(n,e)){return t.call(n,r)}if(n&&n.parentNode)n=n.parentNode;else break}return null}};BX.False=function(){return false};BX.DoNothing=function(){};BX.denyEvent=function(e,t){deniedEvents.push([e,t,e["on"+t]]);e["on"+t]=BX.DoNothing};BX.allowEvent=function(e,t){for(var r=0,n=deniedEvents.length;r<n;r++){if(deniedEvents[r][0]==e&&deniedEvents[r][1]==t){e["on"+t]=deniedEvents[r][2];BX.util.deleteFromArray(deniedEvents,r);return}}};BX.fixEventPageXY=function(e){BX.fixEventPageX(e);BX.fixEventPageY(e);return e};BX.fixEventPageX=function(e){if(e.pageX==null&&e.clientX!=null){e.pageX=e.clientX+(document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0)-(document.documentElement.clientLeft||0)}return e};BX.fixEventPageY=function(e){if(e.pageY==null&&e.clientY!=null){e.pageY=e.clientY+(document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0)-(document.documentElement.clientTop||0)}return e};BX.PreventDefault=function(e){if(!e)e=window.event;if(e.stopPropagation){e.preventDefault();e.stopPropagation()}else{e.cancelBubble=true;e.returnValue=false}return false};BX.eventReturnFalse=function(e){e=e||window.event;if(e&&e.preventDefault)e.preventDefault();else e.returnValue=false;return false};BX.eventCancelBubble=function(e){e=e||window.event;if(e&&e.stopPropagation)e.stopPropagation();else e.cancelBubble=true};BX.bindDebouncedChange=function(e,t,r,n,i){i=i||window;n=n||300;var a="bx-dc-previous-value";BX.data(e,a,e.value);var o=function(t,r){var n=BX.data(e,a);if(typeof n=="undefined"||n!=r){if(typeof i!="object")t(r);else t.apply(i,[r])}};var s=BX.debounce(function(){var r=e.value;o(t,r);BX.data(e,a,r)},n);BX.bind(e,"keyup",s);BX.bind(e,"change",s);BX.bind(e,"input",s);if(BX.type.isFunction(r)){var u=function(){o(r,e.value)};BX.bind(e,"keyup",u);BX.bind(e,"change",u);BX.bind(e,"input",u)}};BX.parseJSON=function(data,context){var result=null;if(BX.type.isNotEmptyString(data)){try{if(data.indexOf("\n")>=0)eval("result = "+data);else result=new Function("return "+data)()}catch(e){BX.onCustomEvent(context,"onParseJSONFailure",[data,context])}}else if(BX.type.isPlainObject(data)){return data}return result};BX.submit=function(e,t,r,n){t=t||"save";if(!e["BXFormSubmit_"+t]){e["BXFormSubmit_"+t]=e.appendChild(BX.create("INPUT",{props:{type:"submit",name:t,value:r||"Y"},style:{display:"none"}}))}if(e.sessid)e.sessid.value=BX.bitrix_sessid();setTimeout(BX.delegate(function(){BX.fireEvent(this,"click");if(n)n()},e["BXFormSubmit_"+t]),10)};BX.show=function(e,t){if(e.BXDISPLAY||!_checkDisplay(e,t)){e.style.display=e.BXDISPLAY}};BX.hide=function(e,t){if(!e.BXDISPLAY)_checkDisplay(e,t);e.style.display="none"};BX.toggle=function(e,t){if(!t&&BX.type.isElementNode(e)){var r=true;if(e.BXDISPLAY)r=!_checkDisplay(e);else r=e.style.display=="none";if(r)BX.show(e);else BX.hide(e)}else if(BX.type.isArray(t)){for(var n=0,i=t.length;n<i;n++){if(e==t[n]){e=t[n==i-1?0:n+1];break}}if(n==i)e=t[0]}return e};function _checkDisplay(e,t){if(typeof t!="undefined")e.BXDISPLAY=t;var r=e.style.display||BX.style(e,"display");if(r!="none"){e.BXDISPLAY=e.BXDISPLAY||r;return true}else{e.BXDISPLAY=e.BXDISPLAY||"block";return false}}BX.util={array_values:function(e){if(!BX.type.isArray(e))return BX.util._array_values_ob(e);var t=[];for(var r=0,n=e.length;r<n;r++)if(e[r]!==null&&typeof e[r]!="undefined")t.push(e[r]);return t},_array_values_ob:function(e){var t=[];for(var r in e)if(e[r]!==null&&typeof e[r]!="undefined")t.push(e[r]);return t},array_keys:function(e){if(!BX.type.isArray(e))return BX.util._array_keys_ob(e);var t=[];for(var r=0,n=e.length;r<n;r++)if(e[r]!==null&&typeof e[r]!="undefined")t.push(r);return t},_array_keys_ob:function(e){var t=[];for(var r in e)if(e[r]!==null&&typeof e[r]!="undefined")t.push(r);return t},object_keys:function(e){var t=[];for(var r in e){if(e.hasOwnProperty(r)){t.push(r)}}return t},array_merge:function(e,t){if(!BX.type.isArray(e))e=[];if(!BX.type.isArray(t))t=[];var r=e.length,n=0;if(typeof t.length==="number"){for(var i=t.length;n<i;n++){e[r++]=t[n]}}else{while(t[n]!==undefined){e[r++]=t[n++]}}e.length=r;return e},array_flip:function(e){var t={};for(var r in e){t[e[r]]=r}return t},array_diff:function(e,t,r){r=BX.type.isFunction(r)?r:null;var n,i,a,o,s={},u=[];for(n=0,i=t.length;n<i;n++){a=t[n];o=r?r(a):a;s[o]=true}for(n=0,i=e.length;n<i;n++){a=e[n];o=r?r(a):a;if(typeof s[o]==="undefined"){u.push(a)}}return u},array_unique:function(e){var t=0,r,n=e.length;if(n<2)return e;for(;t<n-1;t++){for(r=t+1;r<n;r++){if(e[t]==e[r]){e.splice(r--,1);n--}}}return e},in_array:function(e,t){for(var r=0;r<t.length;r++){if(t[r]==e)return true}return false},array_search:function(e,t){for(var r=0;r<t.length;r++){if(t[r]==e)return r}return-1},object_search_key:function(e,t){if(typeof t[e]!="undefined")return t[e];for(var r in t){if(typeof t[r]=="object"){var n=BX.util.object_search_key(e,t[r]);if(n!==false)return n}}return false},trim:function(e){if(BX.type.isString(e)){return e.trim()}return e},urlencode:function(e){return encodeURIComponent(e)},deleteFromArray:function(e,t){return e.slice(0,t).concat(e.slice(t+1))},insertIntoArray:function(e,t,r){return e.slice(0,t).concat([r]).concat(e.slice(t))},htmlspecialchars:function(e){return BX.Text.encode(e)},htmlspecialcharsback:function(e){return BX.Text.decode(e)},preg_quote:function(e,t){if(!e.replace)return e;return e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&")},jsencode:function(e){if(!e||!e.replace)return e;var t=[{c:"\\\\",r:"\\\\"},{c:"\\t",r:"\\t"},{c:"\\n",r:"\\n"},{c:"\\r",r:"\\r"},{c:'"',r:'\\"'},{c:"'",r:"\\'"},{c:"<",r:"\\x3C"},{c:">",r:"\\x3E"},{c:"\\u2028",r:"\\u2028"},{c:"\\u2029",r:"\\u2029"}];for(var r=0;r<t.length;r++)e=e.replace(new RegExp(t[r].c,"g"),t[r].r);return e},getCssName:function(e){if(!BX.type.isNotEmptyString(e)){return""}return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},getJsName:function(e){var t=/\-([a-z]){1}/g;if(t.test(e)){return e.replace(t,function(e,t){return t.toUpperCase()})}return e},nl2br:function(e){if(!e||!e.replace)return e;return e.replace(/([^>])\n/g,"$1<br/>")},str_pad:function(e,t,r,n){r=r||" ";n=n||"right";e=e.toString();if(n==="left"){return BX.util.str_pad_left(e,t,r)}return BX.util.str_pad_right(e,t,r)},str_pad_left:function(e,t,r){return e.toString().padStart(t,r)},str_pad_right:function(e,t,r){return e.toString().padEnd(t,r)},strip_tags:function(e){return e.split(/<[^>]+>/g).join("")},strip_php_tags:function(e){return e.replace(/<\?(.|[\r\n])*?\?>/g,"")},popup:function(e,t,r){var n,i;if(BX.browser.IsOpera()){n=document.body.offsetWidth;i=document.body.offsetHeight}else{n=screen.width;i=screen.height}return window.open(e,"","status=no,scrollbars=yes,resizable=yes,width="+t+",height="+r+",top="+Math.floor((i-r)/2-14)+",left="+Math.floor((n-t)/2-5))},shuffle:function(e){var t,r;var n=e.length;while(0!==n){r=Math.floor(Math.random()*n);n-=1;t=e[n];e[n]=e[r];e[r]=t}return e},objectSort:function(e,t,r){r=r=="asc"?"asc":"desc";var n=[],i;for(i in e){if(e.hasOwnProperty(i)&&e[i][t]){n.push([i,e[i][t]])}}if(r=="asc"){n.sort(function(e,t){var r,n;if(BX.type.isDate(e[1])){r=e[1].getTime()}else if(!isNaN(e[1])){r=parseInt(e[1])}else{r=e[1].toString().toLowerCase()}if(BX.type.isDate(t[1])){n=t[1].getTime()}else if(!isNaN(t[1])){n=parseInt(t[1])}else{n=t[1].toString().toLowerCase()}if(r>n)return 1;else if(r<n)return-1;else return 0})}else{n.sort(function(e,t){var r,n;if(BX.type.isDate(e[1])){r=e[1].getTime()}else if(!isNaN(e[1])){r=parseInt(e[1])}else{r=e[1].toString().toLowerCase()}if(BX.type.isDate(t[1])){n=t[1].getTime()}else if(!isNaN(t[1])){n=parseInt(t[1])}else{n=t[1].toString().toLowerCase()}if(r<n)return 1;else if(r>n)return-1;else return 0})}var a=Array();for(i=0;i<n.length;i++){a.push(e[n[i][0]])}return a},objectMerge:function(){return BX.mergeEx.apply(window,arguments)},objectClone:function(e){return BX.clone(e,true)},hex2rgb:function(e){var t=e.replace(/[# ]/g,"").replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3").match(/.{2}/g);for(var r=0;r<3;r++){t[r]=parseInt(t[r],16)}return{r:t[0],g:t[1],b:t[2]}},remove_url_param:function(e,t){return BX.Uri.removeParam(e,t)},add_url_param:function(e,t){var r=Object.entries(t).reduce(function(e,t){e[t[0]]=BX.type.isArray(t[1])?t[1].join():t[1];return e},{});return BX.Uri.addParam(e,r)},buildQueryString:function(e){var t="";for(var r in e){var n=e[r];if(BX.type.isArray(n)){n.forEach(function(e,n){t+=encodeURIComponent(r+"["+n+"]")+"="+encodeURIComponent(e)+"&"})}else{t+=encodeURIComponent(r)+"="+encodeURIComponent(n)+"&"}}if(t.length>0){t=t.substr(0,t.length-1)}return t},even:function(e){return parseInt(e)%2==0},hashCode:function(e){if(!BX.type.isNotEmptyString(e)){return 0}var t=0;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n;t=t&t}return t},getRandomString:function(e){return BX.Text.getRandom(e)},number_format:function(e,t,r,n){var i,a,o,s,u,l="";t=Math.abs(t);if(isNaN(t)||t<0){t=2}r=r||",";if(typeof n==="undefined")n=".";e=(+e||0).toFixed(t);if(e<0){l="-";e=-e}i=parseInt(e,10)+"";a=i.length>3?i.length%3:0;u=a?i.substr(0,a)+n:"";o=i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n);s=t?r+Math.abs(e-i).toFixed(t).replace(/-/,"0").slice(2):"";return l+u+o+s},getExtension:function(e){e=e||"";var t=e.split("?")[0].split(".");return t[t.length-1].toLowerCase()},addObjectToForm:function(e,t,r){if(!BX.type.isString(r)){r=""}for(var n in e){if(!e.hasOwnProperty(n)){continue}var i=e[n];var a=r!==""?r+"["+n+"]":n;if(BX.type.isArray(i)){var o={};for(var s=0;s<i.length;s++){o[s]=i[s]}BX.util.addObjectToForm(o,t,a)}else if(BX.type.isPlainObject(i)){BX.util.addObjectToForm(i,t,a)}else{i=BX.type.isFunction(i.toString)?i.toString():"";if(i!==""){t.appendChild(BX.create("INPUT",{attrs:{type:"hidden",name:a,value:i}}))}}}},observe:function(e,t){console.error("BX.util.observe: function is no longer supported by browser.");return false},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}};BX.validation={checkIfEmail:function(e){var t="[=a-z0-9_+~'!$&*^`|#%/?{}-]";return new RegExp("^\\s*"+t+"+(\\."+t+"+)*@([a-z0-9-]+\\.)+[a-z0-9-]{2,20}\\s*$","i").test(e)},checkIfPhone:function(e){var t=new RegExp(typeof BX.PhoneNumber==="undefined"?BX.PhoneNumber.getValidNumberPattern():"^\\s*\\+?s*[0-9(-)\\s]+\\s*$","i");return t.test(e)}};BX.prop={get:function(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r},getObject:function(e,t,r){return e&&BX.type.isPlainObject(e[t])?e[t]:r},getElementNode:function(e,t,r){return e&&BX.type.isElementNode(e[t])?e[t]:r},getArray:function(e,t,r){return e&&BX.type.isArray(e[t])?e[t]:r},getFunction:function(e,t,r){return e&&BX.type.isFunction(e[t])?e[t]:r},getNumber:function(e,t,r){if(!(e&&e.hasOwnProperty(t))){return r}var n=e[t];if(BX.type.isNumber(n)){return n}n=parseFloat(n);return!isNaN(n)?n:r},getInteger:function(e,t,r){if(!(e&&e.hasOwnProperty(t))){return r}var n=e[t];if(BX.type.isNumber(n)){return n}n=parseInt(n);return!isNaN(n)?n:r},getBoolean:function(e,t,r){if(!(e&&e.hasOwnProperty(t))){return r}var n=e[t];return BX.type.isBoolean(n)?n:BX.type.isString(n)?n.toLowerCase()==="true":!!n},getString:function(e,t,r){if(!(e&&e.hasOwnProperty(t))){return r}var n=e[t];return BX.type.isString(n)?n:n?n.toString():""},extractDate:function(e){if(!BX.type.isDate(e)){e=new Date}e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}};BX.isNodeInDom=function(e,t){return e===(t||document)?true:e.parentNode?BX.isNodeInDom(e.parentNode):false};BX.isNodeHidden=function(e){if(e===document)return false;else if(BX.style(e,"display")=="none")return true;else return e.parentNode?BX.isNodeHidden(e.parentNode):true};BX.evalPack=function(e){while(e.length>0){var t=e.shift();if(t.TYPE=="SCRIPT_EXT"||t.TYPE=="SCRIPT_SRC"){BX.loadScript(t.DATA,function(){BX.evalPack(e)});return}else if(t.TYPE=="SCRIPT"){BX.evalGlobal(t.DATA)}}};BX.evalGlobal=function(e){if(e){var t=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");r.type="text/javascript";if(!BX.browser.IsIE()){r.appendChild(document.createTextNode(e))}else{r.text=e}t.insertBefore(r,t.firstChild);t.removeChild(r)}};BX.garbage=function(e,t){garbageCollectors.push({callback:e,context:t})};BX.GetDocElement=function(e){e=e||document;return BX.browser.IsDoctype(e)?e.documentElement:e.body};BX.scrollTop=function(e,t){if(typeof t!="undefined"){if(e==window){throw new Error("scrollTop() for window is not implemented")}else e.scrollTop=parseInt(t)}else{if(e==window)return BX.GetWindowScrollPos().scrollTop;return e.scrollTop}};BX.scrollLeft=function(e,t){if(typeof t!="undefined"){if(e==window){throw new Error("scrollLeft() for window is not implemented")}else e.scrollLeft=parseInt(t)}else{if(e==window)return BX.GetWindowScrollPos().scrollLeft;return e.scrollLeft}};BX.hide_object=function(e){e=BX(e);e.style.position="absolute";e.style.top="-1000px";e.style.left="-1000px";e.style.height="10px";e.style.width="10px"};BX.is_relative=function(e){var t=BX.style(e,"position");return t=="relative"||t=="absolute"};BX.is_float=function(e){var t=BX.style(e,"float");return t=="right"||t=="left"};BX.is_fixed=function(e){var t=BX.style(e,"position");return t=="fixed"};BX.width=function(e,t){if(typeof t!="undefined")BX.style(e,"width",parseInt(t)+"px");else{if(e==window)return window.innerWidth;return BX.pos(e).width}};BX.height=function(e,t){if(typeof t!="undefined")BX.style(e,"height",parseInt(t)+"px");else{if(e==window)return window.innerHeight;return BX.pos(e).height}};BX.align=function(e,t,r,n){if(n)n=n.toLowerCase();else n="";var i=document;if(BX.type.isElementNode(e)){i=e.ownerDocument;e=BX.pos(e)}var a=e["left"],o=e["bottom"];var s=BX.GetWindowScrollPos(i);var u=BX.GetWindowInnerSize(i);if(u.innerWidth+s.scrollLeft-(e["left"]+t)<0){if(e["right"]-t>=0)a=e["right"]-t;else a=s.scrollLeft}if(u.innerHeight+s.scrollTop-(e["bottom"]+r)<0||~n.indexOf("top")){if(e["top"]-r>=0||~n.indexOf("top"))o=e["top"]-r;else o=s.scrollTop}return{left:a,top:o}};BX.scrollToNode=function(e){var t=BX(e);if(t.scrollIntoView)t.scrollIntoView(true);else{var r=BX.pos(t);window.scrollTo(r.left,r.top)}};BX.showWait=function(e,t){e=BX(e)||document.body||document.documentElement;t=t||BX.message("JS_CORE_LOADING");var r=e.id||Math.random();var n=e.bxmsg=document.body.appendChild(BX.create("DIV",{props:{id:"wait_"+r},style:{background:'url("/bitrix/js/main/core/images/wait.gif") no-repeat scroll 10px center #fcf7d1',border:"1px solid #E1B52D",color:"black",fontFamily:"Verdana,Arial,sans-serif",fontSize:"11px",padding:"10px 30px 10px 37px",position:"absolute",zIndex:"10000",textAlign:"center"},text:t}));setTimeout(BX.delegate(_adjustWait,e),10);lastWait[lastWait.length]=n;return n};BX.closeWait=function(e,t){if(e&&!t)t=e.bxmsg;if(e&&!t&&BX.hasClass(e,"bx-core-waitwindow"))t=e;if(e&&!t)t=BX("wait_"+e.id);if(!t)t=lastWait.pop();if(t&&t.parentNode){for(var r=0,n=lastWait.length;r<n;r++){if(t==lastWait[r]){lastWait=BX.util.deleteFromArray(lastWait,r);break}}t.parentNode.removeChild(t);if(e)e.bxmsg=null;BX.cleanNode(t,true)}};BX.setJSList=function(e){if(BX.type.isArray(e)){e=e.map(function(e){return normalizeUrl(e)});jsList=jsList.concat(e)}};BX.getJSList=function(){initJsList();return jsList};BX.setCSSList=function(e){if(BX.type.isArray(e)){e=e.map(function(e){return normalizeUrl(e)});cssList=cssList.concat(e)}};BX.getCSSList=function(){initCssList();return cssList};BX.getJSPath=function(e){return e.replace(/^(http[s]*:)*\/\/[^\/]+/i,"")};BX.getCSSPath=function(e){return e.replace(/^(http[s]*:)*\/\/[^\/]+/i,"")};BX.getCDNPath=function(e){return e};BX.loadScript=function(e,t,r){if(BX.type.isString(e)){e=[e]}return BX.load(e,t,r)};BX.loadCSS=function(e,t,r){if(BX.type.isString(e)){e=[e]}if(BX.type.isArray(e)){e=e.map(function(e){return{url:e,ext:"css"}});BX.load(e,null,t)}};BX.load=function(e,t,r){if(!BX.isReady){var n=arguments;BX.ready(function(){BX.load.apply(this,n)});return null}r=r||document;if(isAsync===null){isAsync="async"in r.createElement("script")||"MozAppearance"in r.documentElement.style||window.opera}return isAsync?loadAsync(e,t,r):loadAsyncEmulation(e,t,r)};BX.convert={toNumber:function(e){if(BX.type.isNumber(e)){return e}e=Number(e);return!isNaN(e)?e:0},nodeListToArray:function(e){try{return Array.prototype.slice.call(e,0)}catch(i){var t=[];for(var r=0,n=e.length;r<n;r++){t.push(e[r])}return t}}};function loadAsync(e,t,r){if(!BX.type.isArray(e)){return}function n(e){e=e||assets;for(var t in e){if(e.hasOwnProperty(t)&&e[t].state!==LOADED){return false}}return true}if(!BX.type.isFunction(t)){t=null}var i={},a,o;for(o=0;o<e.length;o++){a=e[o];a=getAsset(a);i[a.name]=a}var s=false;if(e.length>0){for(o=0;o<e.length;o++){a=e[o];a=getAsset(a);load(a,function(){if(n(i)){if(!s){t&&t();s=true}}},r)}}else{if(typeof t==="function"){t();s=true}}}function loadAsyncEmulation(e,t,r){function n(e){e.state=PRELOADED;if(BX.type.isArray(e.onpreload)&&e.onpreload){for(var t=0;t<e.onpreload.length;t++){e.onpreload[t].call()}}}function i(e){if(e.state===undefined){e.state=PRELOADING;e.onpreload=[];loadAsset({url:e.url,type:"cache",ext:e.ext},function(){n(e)},r)}}if(!BX.type.isArray(e)){return}if(!BX.type.isFunction(t)){t=null}var a=[].slice.call(e,1);for(var o=0;o<a.length;o++){i(getAsset(a[o]))}load(getAsset(e[0]),e.length===1?t:function(){loadAsyncEmulation.apply(null,[a,t,r])},r)}function load(e,t,r){t=t||BX.DoNothing;if(e.state===LOADED){t();return}if(e.state===PRELOADING){e.onpreload.push(function(){load(e,t,r)});return}e.state=LOADING;loadAsset(e,function(){e.state=LOADED;t()},r)}function loadAsset(e,t,r){t=t||BX.DoNothing;function n(e){o.onload=o.onreadystatechange=o.onerror=null;t()}function i(n){n=n||window.event;if(n.type==="load"||/loaded|complete/.test(o.readyState)&&(!r.documentMode||r.documentMode<9)){window.clearTimeout(e.errorTimeout);window.clearTimeout(e.cssTimeout);o.onload=o.onreadystatechange=o.onerror=null;t()}}function a(){if(e.state!==LOADED&&e.cssRetries<=20){for(var t=0,n=r.styleSheets.length;t<n;t++){if(r.styleSheets[t].href===o.href){i({type:"load"});return}}e.cssRetries++;e.cssTimeout=window.setTimeout(a,250)}}var o;var s=BX.type.isNotEmptyString(e.ext)?e.ext:BX.util.getExtension(e.url);if(s==="css"){o=r.createElement("link");o.type="text/"+(e.type||"css");o.rel="stylesheet";o.href=e.url;e.cssRetries=0;e.cssTimeout=window.setTimeout(a,500)}else{o=r.createElement("script");o.type="text/"+(e.type||"javascript");o.src=e.url}o.onload=o.onreadystatechange=i;o.onerror=n;o.async=false;o.defer=false;e.errorTimeout=window.setTimeout(function(){n({type:"timeout"})},7e3);if(s==="css"){cssList.push(normalizeMinUrl(normalizeUrl(e.url)))}else{jsList.push(normalizeMinUrl(normalizeUrl(e.url)))}var u=null;var l=r.head||r.getElementsByTagName("head")[0];if(s==="css"&&(u=getTemplateLink(l))!==null){u.parentNode.insertBefore(o,u)}else{l.insertBefore(o,l.lastChild)}}function getAsset(e){var t={};if(typeof e==="object"){t=e;t.name=t.name?t.name:BX.util.hashCode(e.url)}else{t={name:BX.util.hashCode(e),url:e}}var r=BX.type.isNotEmptyString(t.ext)?t.ext:BX.util.getExtension(t.url);if(r==="css"&&isCssLoaded(t.url)||isScriptLoaded(t.url)){t.state=LOADED}var n=assets[t.name];if(n&&n.url===t.url){return n}assets[t.name]=t;return t}function normalizeUrl(e){if(!BX.type.isNotEmptyString(e)){return""}e=BX.getJSPath(e);e=e.replace(/\?[0-9]*$/,"");return e}function normalizeMinUrl(e){if(!BX.type.isNotEmptyString(e)){return""}var t=e.indexOf(".min");return t>=0?e.substr(0,t)+e.substr(t+4):e}function isCssLoaded(e){initCssList();e=normalizeUrl(e);var t=normalizeMinUrl(e);return e!==t&&BX.util.in_array(t,cssList)||BX.util.in_array(e,cssList)}function initCssList(){if(!cssInit){var e=document.getElementsByTagName("link");if(!!e&&e.length>0){for(var t=0;t<e.length;t++){var r=e[t].getAttribute("href");if(BX.type.isNotEmptyString(r)){r=normalizeMinUrl(normalizeUrl(r));cssList.push(r)}}}cssInit=true}}function getTemplateLink(e){var t=function(t){var r=e.getElementsByTagName(t);for(var n=0,i=r.length;n<i;n++){var a=r[n].getAttribute("data-template-style");if(BX.type.isNotEmptyString(a)&&a=="true"){return r[n]}}return null};var r=t("link");if(r===null){r=t("style")}return r}function isScriptLoaded(e){initJsList();e=normalizeUrl(e);var t=normalizeMinUrl(e);return e!==t&&BX.util.in_array(t,jsList)||BX.util.in_array(e,jsList)}function initJsList(){if(!jsInit){var e=document.getElementsByTagName("script");if(!!e&&e.length>0){for(var t=0;t<e.length;t++){var r=e[t].getAttribute("src");if(BX.type.isNotEmptyString(r)){r=normalizeMinUrl(normalizeUrl(r));jsList.push(r)}}}jsInit=true}}function reloadInternal(e,t){if(e===true){t=true;e=null}var r=BX.PageObject.getRootWindow();var n=e||r.location.href;var i=n.indexOf("#"),a="";if(i!=-1){a=n.substr(i);n=n.substr(0,i)}if(t&&n.indexOf("clear_cache=Y")<0)n+=(n.indexOf("?")==-1?"?":"&")+"clear_cache=Y";if(a){if(t&&(a.substr(0,5)=="view/"||a.substr(0,6)=="#view/")&&a.indexOf("clear_cache%3DY")<0)a+=(a.indexOf("%3F")==-1?"%3F":"%26")+"clear_cache%3DY";n=n.replace(/(\?|\&)_r=[\d]*/,"");n+=(n.indexOf("?")==-1?"?":"&")+"_r="+Math.round(Math.random()*1e4)+a}r.location.href=n}BX.reload=function(e,t){if(window!==window.top){BX.Runtime.loadExtension("main.pageobject").then(function(){reloadInternal(e,t)})}else{reloadInternal(e,t)}};BX.clearCache=function(){BX.showWait();BX.reload(true)};BX.template=function(e,t,r){BX.ready(function(){_processTpl(BX(e),t,r)})};BX.isAmPmMode=function(e){if(e===true){return BX.message.AMPM_MODE}return BX.message.AMPM_MODE!==false};BX.formatDate=function(e,t){e=e||new Date;var r=e.getHours()||e.getMinutes()||e.getSeconds(),n=!!t?t:r?BX.message("FORMAT_DATETIME"):BX.message("FORMAT_DATE");return n.replace(/YYYY/gi,e.getFullYear()).replace(/MMMM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/MM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/DD/gi,BX.util.str_pad_left(e.getDate().toString(),2,"0")).replace(/HH/gi,BX.util.str_pad_left(e.getHours().toString(),2,"0")).replace(/MI/gi,BX.util.str_pad_left(e.getMinutes().toString(),2,"0")).replace(/SS/gi,BX.util.str_pad_left(e.getSeconds().toString(),2,"0"))};BX.formatName=function(e,t,r){e=e||{};t=t||"";var n={TITLE:e["TITLE"]||"",NAME:e["NAME"]||"",LAST_NAME:e["LAST_NAME"]||"",SECOND_NAME:e["SECOND_NAME"]||"",LOGIN:e["LOGIN"]||"",NAME_SHORT:e["NAME"]?e["NAME"].substr(0,1)+".":"",LAST_NAME_SHORT:e["LAST_NAME"]?e["LAST_NAME"].substr(0,1)+".":"",SECOND_NAME_SHORT:e["SECOND_NAME"]?e["SECOND_NAME"].substr(0,1)+".":"",EMAIL:e["EMAIL"]||"",ID:e["ID"]||"",NOBR:"","/NOBR":""},i=t;for(var a in n){if(n.hasOwnProperty(a)){i=i.replace("#"+a+"#",n[a])}}i=i.replace(/([\s]+)/gi," ").trim();if(i==""){i=r=="Y"?n["LOGIN"]:"";i=i==""?"Noname":i}return i};BX.getNumMonth=function(e){var t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];var r=["january","february","march","april","may","june","july","august","september","october","november","december"];var n=e.toUpperCase();for(i=1;i<=12;i++){if(n==BX.message("MON_"+i).toUpperCase()||n==BX.message("MONTH_"+i).toUpperCase()||n==t[i-1].toUpperCase()||n==r[i-1].toUpperCase()){return i}}return e};BX.parseDate=function(e,t,r,n){if(BX.type.isNotEmptyString(e)){if(!r)r=BX.message("FORMAT_DATE");if(!n)n=BX.message("FORMAT_DATETIME");var i="";for(u=1;u<=12;u++){i=i+"|"+BX.message("MON_"+u)}var a=new RegExp("([0-9]+|[a-z]+"+i+")","ig");var o=e.match(a),s=r.match(/(DD|MI|MMMM|MM|M|YYYY)/gi),u,l,f=[],c=[],v={};if(!o)return null;if(o.length>s.length){s=n.match(/(DD|MI|MMMM|MM|M|YYYY|HH|H|SS|TT|T|GG|G)/gi)}for(u=0,l=o.length;u<l;u++){if(BX.util.trim(o[u])!=""){f[f.length]=o[u]}}for(u=0,l=s.length;u<l;u++){if(BX.util.trim(s[u])!=""){c[c.length]=s[u]}}var h=BX.util.array_search("MMMM",c);if(h>0){f[h]=BX.getNumMonth(f[h]);c[h]="MM"}else{h=BX.util.array_search("M",c);if(h>0){f[h]=BX.getNumMonth(f[h]);c[h]="MM"}}for(u=0,l=c.length;u<l;u++){var d=c[u].toUpperCase();v[d]=d=="T"||d=="TT"?f[u]:parseInt(f[u],10)}if(v["DD"]>0&&v["MM"]>0&&v["YYYY"]>0){var p=new Date;if(t){p.setUTCDate(1);p.setUTCFullYear(v["YYYY"]);p.setUTCMonth(v["MM"]-1);p.setUTCDate(v["DD"]);p.setUTCHours(0,0,0,0)}else{p.setDate(1);p.setFullYear(v["YYYY"]);p.setMonth(v["MM"]-1);p.setDate(v["DD"]);p.setHours(0,0,0,0)}if((!isNaN(v["HH"])||!isNaN(v["GG"])||!isNaN(v["H"])||!isNaN(v["G"]))&&!isNaN(v["MI"])){if(!isNaN(v["H"])||!isNaN(v["G"])){var y=(v["T"]||v["TT"]||"am").toUpperCase()=="PM";var g=parseInt(v["H"]||v["G"]||0,10);if(y){v["HH"]=g+(g==12?0:12)}else{v["HH"]=g<12?g:0}}else{v["HH"]=parseInt(v["HH"]||v["GG"]||0,10)}if(isNaN(v["SS"]))v["SS"]=0;if(t){p.setUTCHours(v["HH"],v["MI"],v["SS"])}else{p.setHours(v["HH"],v["MI"],v["SS"])}}return p}}return null};BX.selectUtils={addNewOption:function(e,t,r,n,i){e=BX(e);if(e){var a=e.length;if(i!==false){for(var o=0;o<a;o++){if(e[o].value==t){return}}}e.options[a]=new Option(r,t,false,false)}if(n===true){this.sortSelect(e)}},deleteOption:function(e,t){e=BX(e);if(e){for(var r=0;r<e.length;r++){if(e[r].value==t){e.remove(r);break}}}},deleteSelectedOptions:function(e){e=BX(e);if(e){var t=0;while(t<e.length){if(e[t].selected){e[t].selected=false;e.remove(t)}else{t++}}}},deleteAllOptions:function(e){e=BX(e);if(e){for(var t=e.length-1;t>=0;t--){e.remove(t)}}},optionCompare:function(e,t){var r=e.optText.toLowerCase();var n=t.optText.toLowerCase();if(r>n)return 1;if(r<n)return-1;return 0},sortSelect:function(e){e=BX(e);if(e){var t=[];var r=e.options.length;var n;for(n=0;n<r;n++){t[n]={optText:e[n].text,optValue:e[n].value}}t.sort(this.optionCompare);e.length=0;r=t.length;for(n=0;n<r;n++){e[n]=new Option(t[n].optText,t[n].optValue,false,false)}}},selectAllOptions:function(e){e=BX(e);if(e){var t=e.length;for(var r=0;r<t;r++){e[r].selected=true}}},selectOption:function(e,t){e=BX(e);if(e){var r=e.length;for(var n=0;n<r;n++){e[n].selected=e[n].value==t}}},addSelectedOptions:function(e,t,r,n){e=BX(e);if(!e)return;var i=e.length;for(var a=0;a<i;a++)if(e[a].selected)this.addNewOption(t,e[a].value,e[a].text,n,r)},moveOptionsUp:function(e){e=BX(e);if(!e)return;var t=e.length;for(var r=0;r<t;r++){if(e[r].selected&&r>0&&e[r-1].selected==false){var n=new Option(e[r].text,e[r].value);e[r]=new Option(e[r-1].text,e[r-1].value);e[r].selected=false;e[r-1]=n;e[r-1].selected=true}}},moveOptionsDown:function(e){e=BX(e);if(!e)return;var t=e.length;for(var r=t-1;r>=0;r--){if(e[r].selected&&r<t-1&&e[r+1].selected==false){var n=new Option(e[r].text,e[r].value);e[r]=new Option(e[r+1].text,e[r+1].value);e[r].selected=false;e[r+1]=n;e[r+1].selected=true}}}};BX.getEventTarget=function(e){if(e.target){return e.target}else if(e.srcElement){return e.srcElement}return null};BX.hint=function(e,t,r,n){if(null==r){r=t;t=""}if(null==e.BXHINT){e.BXHINT=new BX.CHint({parent:e,hint:r,title:t,id:n});e.BXHINT.Show()}};BX.hint_replace=function(e,t,r){if(null==r){r=t;t=""}if(!e||!e.parentNode||!r)return null;var n=new BX.CHint({hint:r,title:t});n.CreateParent();e.parentNode.insertBefore(n.PARENT,e);e.parentNode.removeChild(e);n.PARENT.style.marginLeft="5px";return e};BX.CHint=function(e){this.PARENT=BX(e.parent);this.HINT=e.hint;this.HINT_TITLE=e.title;this.PARAMS={};for(var t in this.defaultSettings){if(null==e[t])this.PARAMS[t]=this.defaultSettings[t];else this.PARAMS[t]=e[t]}if(null!=e.id)this.ID=e.id;this.timer=null;this.bInited=false;this.msover=true;if(this.PARAMS.showOnce){this.__show();this.msover=false;this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)}else if(this.PARENT){BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this));BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))}};BX.CHint.openHints=new Set;BX.CHint.globalDisabled=false;BX.CHint.handleMenuOpen=function(){BX.CHint.globalDisabled=true;BX.CHint.openHints.forEach(function(e){e.__hide_immediately()})};BX.CHint.handleMenuClose=function(){BX.CHint.globalDisabled=false};BX.addCustomEvent("onMenuOpen",BX.CHint.handleMenuOpen);BX.addCustomEvent("onMenuClose",BX.CHint.handleMenuClose);BX.CHint.prototype.defaultSettings={show_timeout:1e3,hide_timeout:500,dx:2,showOnce:false,preventHide:true,min_width:250};BX.CHint.prototype.CreateParent=function(e,t){if(this.PARENT){BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this));BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))}if(!t)t={};var r="icon";if(t.type&&(t.type=="link"||t.type=="icon"))r=t.type;if(e)r="element";if(r=="icon"){e=BX.create("IMG",{props:{src:t.iconSrc?t.iconSrc:"/bitrix/js/main/core/images/hint.gif"}})}else if(r=="link"){e=BX.create("A",{props:{href:"javascript:void(0)"},html:"[?]"})}this.PARENT=e;BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this));BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this));return this.PARENT};BX.CHint.prototype.Show=function(){this.msover=true;if(null!=this.timer)clearTimeout(this.timer);this.timer=setTimeout(BX.proxy(this.__show,this),this.PARAMS.show_timeout)};BX.CHint.prototype.Hide=function(){this.msover=false;if(null!=this.timer)clearTimeout(this.timer);this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)};BX.CHint.prototype.__show=function(){if(!this.msover||this.disabled||BX.CHint.globalDisabled)return;if(!this.bInited)this.Init();if(this.prepareAdjustPos()){this.DIV.style.display="block";this.adjustPos();BX.CHint.openHints.add(this);BX.bind(window,"scroll",BX.proxy(this.__onscroll,this));if(this.PARAMS.showOnce){this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)}}};BX.CHint.prototype.__onscroll=function(){if(!BX.admin||!BX.admin.panel||!BX.admin.panel.isFixed())return;if(this.scrollTimer)clearTimeout(this.scrollTimer);this.DIV.style.display="none";this.scrollTimer=setTimeout(BX.proxy(this.Reopen,this),this.PARAMS.show_timeout)};BX.CHint.prototype.Reopen=function(){if(null!=this.timer)clearTimeout(this.timer);this.timer=setTimeout(BX.proxy(this.__show,this),50)};BX.CHint.prototype.__hide=function(){if(this.msover)return;if(!this.bInited)return;BX.unbind(window,"scroll",BX.proxy(this.Reopen,this));BX.CHint.openHints.delete(this);if(this.PARAMS.showOnce){this.Destroy()}else{this.DIV.style.display="none"}};BX.CHint.prototype.__hide_immediately=function(){this.msover=false;this.__hide()};BX.CHint.prototype.Init=function(){this.DIV=document.body.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip"},style:{display:"none"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-top-border"},html:'<div class="bx-panel-tooltip-corner bx-panel-tooltip-left-corner"></div><div class="bx-panel-tooltip-border"></div><div class="bx-panel-tooltip-corner bx-panel-tooltip-right-corner"></div>'}),this.CONTENT=BX.create("DIV",{props:{className:"bx-panel-tooltip-content"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay-bg"}})]})]}),BX.create("DIV",{props:{className:"bx-panel-tooltip-bottom-border"},html:'<div class="bx-panel-tooltip-corner bx-panel-tooltip-left-corner"></div><div class="bx-panel-tooltip-border"></div><div class="bx-panel-tooltip-corner bx-panel-tooltip-right-corner"></div>'})]}));if(this.ID){this.CONTENT.insertBefore(BX.create("A",{attrs:{href:"javascript:void(0)"},props:{className:"bx-panel-tooltip-close"},events:{click:BX.delegate(this.Close,this)}}),this.CONTENT.firstChild)}if(this.HINT_TITLE){this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-title"},text:this.HINT_TITLE}))}if(this.HINT){this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))}if(this.PARAMS.preventHide){BX.bind(this.DIV,"mouseout",BX.proxy(this.Hide,this));BX.bind(this.DIV,"mouseover",BX.proxy(this.Show,this))}this.bInited=true};BX.CHint.prototype.setContent=function(e){this.HINT=e;if(this.CONTENT_TEXT)this.CONTENT_TEXT.innerHTML=this.HINT;else this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))};BX.CHint.prototype.prepareAdjustPos=function(){this._wnd={scrollPos:BX.GetWindowScrollPos(),scrollSize:BX.GetWindowScrollSize()};return BX.style(this.PARENT,"display")!="none"};BX.CHint.prototype.getAdjustPos=function(){var e={},t=BX.pos(this.PARENT),r=0;e.top=t.bottom+this.PARAMS.dx;if(BX.admin&&BX.admin.panel.DIV){r=BX.admin.panel.DIV.offsetHeight+this.PARAMS.dx;if(BX.admin.panel.isFixed()){r+=this._wnd.scrollPos.scrollTop}}if(e.top<r)e.top=r;else{if(e.top+this.DIV.offsetHeight>this._wnd.scrollSize.scrollHeight)e.top=t.top-this.PARAMS.dx-this.DIV.offsetHeight}e.left=t.left;if(t.left<this.PARAMS.dx)t.left=this.PARAMS.dx;else{var n=this.DIV.offsetWidth;var i=this._wnd.scrollSize.scrollWidth-n-this.PARAMS.dx;if(e.left>i)e.left=i}return e};BX.CHint.prototype.adjustWidth=function(){if(this.bWidthAdjusted)return;var e=this.DIV.offsetWidth,t=this.DIV.offsetHeight;if(e>this.PARAMS.min_width)e=Math.round(Math.sqrt(1.618*e*t));if(e<this.PARAMS.min_width)e=this.PARAMS.min_width;this.DIV.style.width=e+"px";if(this._adjustWidthInt)clearInterval(this._adjustWidthInt);this._adjustWidthInt=setInterval(BX.delegate(this._adjustWidthInterval,this),5);this.bWidthAdjusted=true};BX.CHint.prototype._adjustWidthInterval=function(){if(!this.DIV||this.DIV.style.display=="none")clearInterval(this._adjustWidthInt);var e=20,t=1500,r=this.DIV.offsetWidth,n=this.CONTENT_TEXT.offsetWidth;if(r>0&&n>0&&r-n<e&&r<t){this.DIV.style.width=r+e+"px";return}clearInterval(this._adjustWidthInt)};BX.CHint.prototype.adjustPos=function(){this.adjustWidth();var e=this.getAdjustPos();this.DIV.style.top=e.top+"px";this.DIV.style.left=e.left+"px"};BX.CHint.prototype.Close=function(){if(this.ID&&BX.WindowManager)BX.WindowManager.saveWindowOptions(this.ID,{display:"off"});this.__hide_immediately();this.Destroy()};BX.CHint.prototype.Destroy=function(){if(this.PARENT){BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this));BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))}if(this.DIV){BX.unbind(this.DIV,"mouseover",BX.proxy(this.Show,this));BX.unbind(this.DIV,"mouseout",BX.proxy(this.Hide,this));BX.cleanNode(this.DIV,true)}};BX.CHint.prototype.enable=function(){this.disabled=false};BX.CHint.prototype.disable=function(){this.__hide_immediately();this.disabled=true};function _adjustWait(){if(!this.bxmsg)return;var e=BX.pos(this),t=e.top;if(t<BX.GetDocElement().scrollTop)t=BX.GetDocElement().scrollTop+5;this.bxmsg.style.top=t+5+"px";if(this==BX.GetDocElement()){this.bxmsg.style.right="5px"}else{this.bxmsg.style.left=e.right-this.bxmsg.offsetWidth-5+"px"}}function _processTpl(e,t,r){if(e){if(r)e.parentNode.removeChild(e);var n={},i=BX.findChildren(e,{attribute:"data-role"},true);for(var a=0,o=i.length;a<o;a++){n[i[a].getAttribute("data-role")]=i[a]}t.apply(e,[n])}}function _checkNode(e,t){t=t||{};if(BX.type.isFunction(t))return t.call(window,e);if(!t.allowTextNodes&&!BX.type.isElementNode(e))return false;var r,n,i;for(r in t){if(t.hasOwnProperty(r)){switch(r){case"tag":case"tagName":if(BX.type.isString(t[r])){if(e.tagName.toUpperCase()!=t[r].toUpperCase())return false}else if(t[r]instanceof RegExp){if(!t[r].test(e.tagName))return false}break;case"class":case"className":if(BX.type.isString(t[r])){if(!BX.hasClass(e,t[r]))return false}else if(t[r]instanceof RegExp){if(!BX.type.isString(e.className)||!t[r].test(e.className))return false}break;case"attr":case"attrs":case"attribute":if(BX.type.isString(t[r])){if(!e.getAttribute(t[r]))return false}else if(BX.type.isArray(t[r])){for(n=0,i=t[r].length;n<i;n++){if(t[r]&&!e.getAttribute(t[r]))return false}}else{for(n in t[r]){if(t[r].hasOwnProperty(n)){var a=e.getAttribute(n);if(t[r][n]instanceof RegExp){if(!BX.type.isString(a)||!t[r][n].test(a)){return false}}else{if(a!=""+t[r][n]){return false}}}}}break;case"property":case"props":if(BX.type.isString(t[r])){if(!e[t[r]])return false}else if(BX.type.isArray(t[r])){for(n=0,i=t[r].length;n<i;n++){if(t[r]&&!e[t[r]])return false}}else{for(n in t[r]){if(BX.type.isString(t[r][n])){if(e[n]!=t[r][n])return false}else if(t[r][n]instanceof RegExp){if(!BX.type.isString(e[n])||!t[r][n].test(e[n]))return false}}}break;case"callback":return t[r](e)}}}return true}function Trash(){var e,t;for(e=0,t=garbageCollectors.length;e<t;e++){try{garbageCollectors[e].callback.apply(garbageCollectors[e].context||window);delete garbageCollectors[e];garbageCollectors[e]=null}catch(e){}}}if(window.attachEvent)window.attachEvent("onunload",Trash);else if(window.addEventListener)window.addEventListener("unload",Trash,false);else window.onunload=Trash;BX(BX.DoNothing);window.BX=BX;BX.browser.addGlobalClass();BX.data=function(e,t,r){if(typeof e=="undefined")return undefined;if(typeof t=="undefined")return undefined;if(typeof r!="undefined"){dataStorage.set(e,t,r)}else{var n;if((n=dataStorage.get(e,t))!=undefined){return n}else{if("getAttribute"in e){n=e.getAttribute("data-"+t.toString());if(n===null){return undefined}return n}}return undefined}};BX.DataStorage=function(){this.keyOffset=1;this.data={};this.uniqueTag="BX-"+Math.random();this.resolve=function(e,t){if(typeof e[this.uniqueTag]=="undefined")if(t){try{Object.defineProperty(e,this.uniqueTag,{value:this.keyOffset++})}catch(t){e[this.uniqueTag]=this.keyOffset++}}else return undefined;return e[this.uniqueTag]};this.get=function(e,t){if(e!=document&&!BX.type.isElementNode(e)||typeof t=="undefined")return undefined;e=this.resolve(e,false);if(typeof e=="undefined"||typeof this.data[e]=="undefined")return undefined;return this.data[e][t]};this.set=function(e,t,r){if(e!=document&&!BX.type.isElementNode(e)||typeof r=="undefined")return;var n=this.resolve(e,true);if(typeof this.data[n]=="undefined")this.data[n]={};this.data[n][t]=r}};var dataStorage=new BX.DataStorage})(window.BX);(function(e){if(!e.BX){e.BX={}}var t=e.BX;t.Promise=function(e,t){this.state=null;this.value=null;this.reason=null;this.next=null;this.ctx=t||this;this.onFulfilled=[];this.onRejected=[]};t.Promise.prototype.fulfill=function(e){this.checkState();this.value=e;this.state=true;this.execute()};t.Promise.prototype.reject=function(e){this.checkState();this.reason=e;this.state=false;this.execute()};t.Promise.prototype.then=function(e,r){if(typeof e=="function"||e instanceof Function){this.onFulfilled.push(e)}if(typeof r=="function"||r instanceof Function){this.onRejected.push(r)}if(this.next===null){this.next=new t.Promise(null,this.ctx)}if(this.state!==null){this.execute()}return this.next};t.Promise.prototype.catch=function(e){if(typeof e=="function"||e instanceof Function){this.onRejected.push(e)}if(this.next===null){this.next=new t.Promise(null,this.ctx)}if(this.state!==null){this.execute()}return this.next};t.Promise.prototype.setAutoResolve=function(e,t){this.timer=setTimeout(function(){if(this.state===null){this[e?"fulfill":"reject"]()}}.bind(this),t||15)};t.Promise.prototype.cancelAutoResolve=function(){clearTimeout(this.timer)};t.Promise.prototype.resolve=function(e){var t=this;if(this===e){this.reject(new TypeError("Promise cannot fulfill or reject itself"))}else if(e&&e.toString()==="[object BX.Promise]"){e.then(function(e){t.fulfill(e)},function(e){t.reject(e)})}else{this.fulfill(e)}};t.Promise.prototype.toString=function(){return"[object BX.Promise]"};t.Promise.prototype.execute=function(){if(this.state===null){return}var r=undefined;var n=undefined;var i=undefined;var a;if(this.state===true){if(this.onFulfilled.length){try{for(a=0;a<this.onFulfilled.length;a++){i=this.onFulfilled[a].apply(this.ctx,[this.value]);if(typeof i!="undefined"){r=i}}}catch(r){if("console"in e){console.dir(r)}if(typeof t.debug!=="undefined"){t.debug(r)}n=r}}else{r=this.value}}else if(this.state===false){if(this.onRejected.length){try{for(a=0;a<this.onRejected.length;a++){i=this.onRejected[a].apply(this.ctx,[this.reason]);if(typeof i!="undefined"){r=i}}}catch(r){if("console"in e){console.dir(r)}if(typeof t.debug!=="undefined"){t.debug(r)}n=r}}else{n=this.reason}}if(this.next!==null){if(typeof n!="undefined"){this.next.reject(n)}else if(typeof r!="undefined"){this.next.resolve(r)}}};t.Promise.prototype.checkState=function(){if(this.state!==null){throw new Error("You can not do fulfill() or reject() multiple times")}}})(window);(function(e){if(e.BX.ajax)return;var t=e.BX,r={},n={method:"GET",dataType:"html",timeout:0,async:true,processData:true,scriptsRunFirst:false,emulateOnload:true,skipAuthCheck:false,start:true,cache:true,preparePost:true,headers:false,lsTimeout:30,lsForce:false},i=null,a={},o=[],s={url_utf:/[^\034-\254]+/g,script_self:/\/bitrix\/js\/main\/core\/core(_ajax)*.js$/i,script_self_window:/\/bitrix\/js\/main\/core\/core_window.js$/i,script_self_admin:/\/bitrix\/js\/main\/core\/core_admin.js$/i,script_onload:/window.onload/g};t.ajax=function(e){var i,a;if(!e||!e.url||!t.type.isString(e.url)){return false}for(var o in r)if(typeof e[o]=="undefined")e[o]=r[o];r={};for(o in n)if(typeof e[o]=="undefined")e[o]=n[o];e.method=e.method.toUpperCase();if(!t.localStorage)e.lsId=null;if(t.browser.IsIE()){var l=s.url_utf.exec(e.url);if(l){do{e.url=e.url.replace(l,t.util.urlencode(l));l=s.url_utf.exec(e.url)}while(l)}}if(e.dataType=="json")e.emulateOnload=false;if(!e.cache&&e.method=="GET")e.url=t.ajax._uncache(e.url);if(e.method=="POST"){if(e.preparePost){e.data=t.ajax.prepareData(e.data)}else if(u(e.headers)==="application/json"){e.data=JSON.stringify(e.data)}}var f=true;if(e.lsId&&!e.lsForce){var c=t.localStorage.get("ajax-"+e.lsId);if(c!==null){f=false;var v=function(r){if(r.key=="ajax-"+e.lsId&&r.value!="BXAJAXWAIT"){var n=r.value,i=!!r.oldValue&&n==null;if(!i)t.ajax.__run(e,n);else if(e.onfailure)e.onfailure("timeout");t.removeCustomEvent("onLocalStorageChange",v)}};if(c=="BXAJAXWAIT"){t.addCustomEvent("onLocalStorageChange",v)}else{setTimeout(function(){v({key:"ajax-"+e.lsId,value:c})},10)}}}if(f){e.xhr=t.ajax.xhr();if(!e.xhr)return;if(e.lsId){t.localStorage.set("ajax-"+e.lsId,"BXAJAXWAIT",e.lsTimeout)}e.xhr.open(e.method,e.url,e.async);if(!e.skipBxHeader&&!t.ajax.isCrossDomain(e.url)){e.xhr.setRequestHeader("Bx-ajax","true")}if(e.method=="POST"&&e.preparePost){e.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}if(typeof e.headers=="object"){for(o=0;o<e.headers.length;o++)e.xhr.setRequestHeader(e.headers[o].name,e.headers[o].value)}if(!!e.onprogress){t.bind(e.xhr,"progress",e.onprogress)}var h=false;var d=e.xhr.onreadystatechange=function(r){if(h)return;if(r==="timeout"){if(e.onfailure){e.onfailure("timeout")}t.onCustomEvent(e.xhr,"onAjaxFailure",["timeout","",e]);e.xhr.onreadystatechange=t.DoNothing;e.xhr.abort();if(e.async){e.xhr=null}}else{if(e.xhr.readyState==4||r=="run"){i=t.ajax.xhrSuccess(e.xhr)?"success":"error";h=true;e.xhr.onreadystatechange=t.DoNothing;if(i=="success"){var n=!!e.skipAuthCheck||t.ajax.isCrossDomain(e.url)?false:e.xhr.getResponseHeader("X-Bitrix-Ajax-Status");if(!!n&&n=="Authorize"){if(e.onfailure){e.onfailure("auth",e.xhr.status)}t.onCustomEvent(e.xhr,"onAjaxFailure",["auth",e.xhr.status,e])}else{var a=e.xhr.responseText;if(e.lsId){t.localStorage.set("ajax-"+e.lsId,a,e.lsTimeout)}t.ajax.__run(e,a)}}else{if(e.onfailure){e.onfailure("status",e.xhr.status)}t.onCustomEvent(e.xhr,"onAjaxFailure",["status",e.xhr.status,e])}if(e.async){e.xhr=null}}}};if(e.async&&e.timeout>0){setTimeout(function(){if(e.xhr&&!h){d("timeout")}},e.timeout*1e3)}if(e.start){e.xhr.send(e.data);if(!e.async){d("run")}}return e.xhr}};t.ajax.xhr=function(){if(e.XMLHttpRequest){try{return new XMLHttpRequest}catch(e){}}else if(e.ActiveXObject){try{return new e.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new e.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new e.ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}return null};t.ajax.isCrossDomain=function(r,n){n=n||e.location;if(r.indexOf("//")===0){r=n.protocol+r}if(r.indexOf("http")!==0){return false}var i=e.document.createElement("a");i.href=r;return i.protocol!==n.protocol||i.hostname!==n.hostname||t.ajax.getHostPort(i.protocol,i.host)!==t.ajax.getHostPort(n.protocol,n.host)};t.ajax.getHostPort=function(e,t){var r=/:(\d+)$/.exec(t);if(r){return r[1]}else{if(e==="http:"){return"80"}else if(e==="https:"){return"443"}}return""};t.ajax.__prepareOnload=function(r){if(r.length>0){t.ajax["onload_"+i]=null;for(var n=0,a=r.length;n<a;n++){if(r[n].isInternal){r[n].JS=r[n].JS.replace(s.script_onload,"BX.ajax.onload_"+i)}}}t.CaptureEventsGet();t.CaptureEvents(e,"load")};t.ajax.__runOnload=function(){if(null!=t.ajax["onload_"+i]){t.ajax["onload_"+i].apply(e);t.ajax["onload_"+i]=null}var r=t.CaptureEventsGet();if(r){for(var n=0;n<r.length;n++)r[n].apply(e)}};t.ajax.__run=function(e,r){if(!e.processData){if(e.onsuccess){e.onsuccess(r)}t.onCustomEvent(e.xhr,"onAjaxSuccess",[r,e])}else{r=t.ajax.processRequestData(r,e)}};t.ajax._onParseJSONFailure=function(e){this.jsonFailure=true;this.jsonResponse=e;this.jsonProactive=/^\[WAF\]/.test(e)};t.ajax.processRequestData=function(e,r){var n,a=[],o=[];switch(r.dataType.toUpperCase()){case"JSON":var s=r.xhr||{};t.addCustomEvent(s,"onParseJSONFailure",t.proxy(t.ajax._onParseJSONFailure,r));n=t.parseJSON(e,s);t.removeCustomEvent(s,"onParseJSONFailure",t.proxy(t.ajax._onParseJSONFailure,r));if(!!n&&t.type.isArray(n["bxjs"])){for(var u=0;u<n["bxjs"].length;u++){if(t.type.isNotEmptyString(n["bxjs"][u])){a.push({isInternal:false,JS:n["bxjs"][u],bRunFirst:r.scriptsRunFirst})}else{a.push(n["bxjs"][u])}}}if(!!n&&t.type.isArray(n["bxcss"])){o=n["bxcss"]}break;case"SCRIPT":a.push({isInternal:true,JS:e,bRunFirst:r.scriptsRunFirst});n=e;break;default:var l=t.processHTML(e,r.scriptsRunFirst);n=l.HTML;a=l.SCRIPT;o=l.STYLE;break}var f=false;if(null==i){i=parseInt(Math.random()*1e6);f=true}if(o.length>0)t.loadCSS(o);if(r.emulateOnload)t.ajax.__prepareOnload(a);var c=t.DoNothing;if(r.emulateOnload||f){c=t.defer(function(){if(r.emulateOnload)t.ajax.__runOnload();if(f)i=null;t.onCustomEvent(r.xhr,"onAjaxSuccessFinish",[r])})}try{if(!!r.jsonFailure){throw{type:"json_failure",data:r.jsonResponse,bProactive:r.jsonProactive}}r.scripts=a;t.ajax.processScripts(r.scripts,true);if(r.onsuccess){r.onsuccess(n)}t.onCustomEvent(r.xhr,"onAjaxSuccess",[n,r]);t.ajax.processScripts(r.scripts,false,c)}catch(e){if(r.onfailure)r.onfailure("processing",e);t.onCustomEvent(r.xhr,"onAjaxFailure",["processing",e,r])}};t.ajax.processScripts=function(e,r,n){var i=[],a="";n=n||t.DoNothing;for(var o=0,s=e.length;o<s;o++){if(typeof r!="undefined"&&r!=!!e[o].bRunFirst)continue;if(e[o].isInternal)a+=";"+e[o].JS;else i.push(e[o].JS)}i=t.util.array_unique(i);var u=a.length>0?function(){t.evalGlobal(a)}:t.DoNothing;if(i.length>0){t.load(i,function(){u();n()})}else{u();n()}};t.ajax.prepareData=function(e,r){var n="";if(t.type.isString(e))n=e;else if(null!=e){for(var i in e){if(e.hasOwnProperty(i)){if(n.length>0)n+="&";var a=t.util.urlencode(i);if(r)a=r+"["+a+"]";if(typeof e[i]=="object")n+=t.ajax.prepareData(e[i],a);else n+=a+"="+t.util.urlencode(e[i])}}}return n};t.ajax.xhrSuccess=function(e){return e.status>=200&&e.status<300||e.status===304||e.status===1223||e.status===0};t.ajax.Setup=function(e,t){t=!!t;for(var i in e){if(t)r[i]=e[i];else n[i]=e[i]}};t.ajax.replaceLocalStorageValue=function(e,r,n){if(!!t.localStorage)t.localStorage.set("ajax-"+e,r,n)};t.ajax._uncache=function(e){return e+((e.indexOf("?")!==-1?"&":"?")+"_="+(new Date).getTime())};t.ajax.get=function(e,r,n){if(t.type.isFunction(r)){n=r;r=""}r=t.ajax.prepareData(r);if(r){e+=(e.indexOf("?")!==-1?"&":"?")+r;r=""}return t.ajax({method:"GET",dataType:"html",url:e,data:"",onsuccess:n})};t.ajax.getCaptcha=function(e){return t.ajax.loadJSON("/bitrix/tools/ajax_captcha.php",e)};t.ajax.insertToNode=function(e,n){n=t(n);if(!!n){var i={cancel:false};t.onCustomEvent("onAjaxInsertToNode",[{url:e,node:n,eventArgs:i}]);if(i.cancel===true){return}var a=null;if(!r.denyShowWait){a=t.showWait(n);delete r.denyShowWait}return t.ajax.get(e,function(e){n.innerHTML=e;t.closeWait(n,a)})}};t.ajax.post=function(e,r,n){r=t.ajax.prepareData(r);return t.ajax({method:"POST",dataType:"html",url:e,data:r,onsuccess:n})};t.ajax.promise=function(e){var r=new t.Promise;e.onsuccess=function(e){r.fulfill(e)};e.onfailure=function(e,t){r.reject({reason:e,data:t})};e.onprogress=function(e){if(e.position==0&&e.totalSize==0){r.reject({reason:"progress",data:e})}};var n=t.ajax(e);if(n){if(typeof e.onrequeststart==="function"){e.onrequeststart(n)}}else{r.reject({reason:"init",data:false})}return r};t.ajax.loadScriptAjax=function(e,r,n){if(t.type.isArray(e)){for(var i=0,o=e.length;i<o;i++){t.ajax.loadScriptAjax(e[i],r,n)}}else{var u=e.replace(/\.js\?.*/,".js");if(s.script_self.test(u))return;if(s.script_self_window.test(u)&&t.CWindow)return;if(s.script_self_admin.test(u)&&t.admin)return;if(typeof a[u]=="undefined"){if(!!n){a[u]="";return t.loadScript(e)}else{return t.ajax({url:e,method:"GET",dataType:"script",processData:true,emulateOnload:false,scriptsRunFirst:true,async:false,start:true,onsuccess:function(e){a[u]=e;if(r)r(e)}})}}else if(r){r(a[u])}}};t.ajax.loadJSON=function(e,r,n,i){if(t.type.isFunction(r)){i=n;n=r;r=""}r=t.ajax.prepareData(r);if(r){e+=(e.indexOf("?")!==-1?"&":"?")+r;r=""}return t.ajax({method:"GET",dataType:"json",url:e,onsuccess:n,onfailure:i})};var u=function(e){if(!t.Type.isArray(e)){return null}var r=e.filter(function(e){return e.name==="Content-Type"}).pop();return r?r.value:null};var l=function(e){var r=e.getParameters||{};if(t.type.isNotEmptyString(e.analyticsLabel)){r.analyticsLabel=e.analyticsLabel}else if(t.type.isNotEmptyObject(e.analyticsLabel)){r.analyticsLabel=e.analyticsLabel}if(typeof e.mode!=="undefined"){r.mode=e.mode}if(e.navigation){if(e.navigation.page){r.nav="page-"+e.navigation.page}if(e.navigation.size){if(r.nav){r.nav+="-"}else{r.nav=""}r.nav+="size-"+e.navigation.size}}return r};var f=function(e){e=t.type.isPlainObject(e)?e:{};if(typeof e.json!=="undefined"){if(!t.type.isPlainObject(e.json)){throw new Error("Wrong `config.json`, plain object expected.")}e.headers=e.headers||[];e.headers.push({name:"Content-Type",value:"application/json"});e.headers.push({name:"X-Bitrix-Csrf-Token",value:t.bitrix_sessid()});if(t.message.SITE_ID){e.headers.push({name:"X-Bitrix-Site-Id",value:t.message.SITE_ID})}e.data=e.json;e.preparePost=false}else if(e.data instanceof FormData){e.preparePost=false;e.data.append("sessid",t.bitrix_sessid());if(t.message.SITE_ID){e.data.append("SITE_ID",t.message.SITE_ID)}if(typeof e.signedParameters!=="undefined"){e.data.append("signedParameters",e.signedParameters)}}else{e.data=t.type.isPlainObject(e.data)?e.data:{};if(t.message.SITE_ID){e.data.SITE_ID=t.message.SITE_ID}e.data.sessid=t.bitrix_sessid();if(typeof e.signedParameters!=="undefined"){e.data.signedParameters=e.signedParameters}}if(!e.method){e.method="POST"}return e};var c=function(e,r){r=r||false;var n=t.clone(e);var i=null;var a=e.onrequeststart;e.onrequeststart=function(e){i=e;if(t.type.isFunction(a)){a(e)}};var o=n.onrequeststart;n.onrequeststart=function(e){i=e;if(t.type.isFunction(o)){o(e)}};var s=t.ajax.promise(e);return s.then(function(e){if(!r&&t.type.isPlainObject(e)&&t.type.isArray(e.errors)){var i=false;e.errors.forEach(function(e){if(e.code==="invalid_csrf"&&e.customData.csrf){t.message({bitrix_sessid:e.customData.csrf});n.data.sessid=t.bitrix_sessid();i=true}});if(i){return c(n,true)}}if(!t.type.isPlainObject(e)||e.status!=="success"){var a=new t.Promise;a.reject(e);return a}return e}).catch(function(e){var r=new t.Promise;if(t.type.isPlainObject(e)&&e.status&&e.hasOwnProperty("data")){r.reject(e)}else{r.reject({status:"error",data:{ajaxRejectData:e},errors:[{code:"NETWORK_ERROR",message:"Network error"}]})}return r}).then(function(e){var r=new t.Promise;var n=i.getAllResponseHeaders().trim().split(/[\r\n]+/);var a={};n.forEach(function(e){var t=e.split(": ");var r=t.shift().toLowerCase();a[r]=t.join(": ")});if(!a["x-process-assets"]){r.fulfill(e);return r}var o=t.prop.getObject(t.prop.getObject(e,"data",{}),"assets",{});var s=new Promise(function(e,r){var n=t.prop.getArray(o,"css",[]);t.load(n,function(){t.loadScript(t.prop.getArray(o,"js",[]),e)})});s.then(function(){var n=t.prop.getArray(o,"string",[]);var i=n.join("\n");t.html(null,i).then(function(){r.fulfill(e)})});return r})};t.ajax.runAction=function(e,r){r=f(r);var n=l(r);n.action=e;var i="/bitrix/services/main/ajax.php?"+t.ajax.prepareData(n);return c({method:r.method,dataType:"json",url:i,data:r.data,timeout:r.timeout,preparePost:r.preparePost,headers:r.headers,onrequeststart:r.onrequeststart})};t.ajax.runComponentAction=function(e,r,n){n=f(n);n.mode=n.mode||"ajax";var i=l(n);i.c=e;i.action=r;var a="/bitrix/services/main/ajax.php?"+t.ajax.prepareData(i);return c({method:n.method,dataType:"json",url:a,data:n.data,timeout:n.timeout,preparePost:n.preparePost,headers:n.headers,onrequeststart:n.onrequeststart?n.onrequeststart:null})};t.ajax.load=function(e,r){if(!t.type.isArray(e))e=[e];var n=0;if(!t.type.isFunction(r))r=t.DoNothing;var i=function(e){if(t.type.isFunction(this.callback))this.callback(e);if(++n>=o)r()};for(var a=0,o=e.length;a<o;a++){switch(e[a].type.toUpperCase()){case"SCRIPT":t.loadScript([e[a].url],t.proxy(i,e[a]));break;case"CSS":t.loadCSS([e[a].url]);if(++n>=o)r();break;case"JSON":t.ajax.loadJSON(e[a].url,t.proxy(i,e[a]));break;default:t.ajax.get(e[a].url,"",t.proxy(i,e[a]));break}}};t.ajax.submit=function(e,r){if(!e.target){if(null==e.BXFormTarget){var n="formTarget_"+Math.random();e.BXFormTarget=document.body.appendChild(t.create("IFRAME",{props:{name:n,id:n,src:"javascript:void(0)"},style:{display:"none"}}))}e.target=e.BXFormTarget.name}e.BXFormCallback=r;t.bind(e.BXFormTarget,"load",t.proxy(t.ajax._submit_callback,e));t.submit(e);return false};t.ajax.submitComponentForm=function(r,n,i){if(!r.target){if(null==r.BXFormTarget){var a="formTarget_"+Math.random();r.BXFormTarget=document.body.appendChild(t.create("IFRAME",{props:{name:a,id:a,src:"javascript:void(0)"},style:{display:"none"}}))}r.target=r.BXFormTarget.name}if(!!i)var o=t.showWait(n);r.BXFormCallback=function(r){if(!!i)t.closeWait(o);var a=function(){if(!!e.bxcompajaxframeonload){setTimeout(function(){e.bxcompajaxframeonload();e.bxcompajaxframeonload=null},10)}};t(n).innerHTML=r;t.onCustomEvent("onAjaxSuccess",[null,null,a])};t.bind(r.BXFormTarget,"load",t.proxy(t.ajax._submit_callback,r));return true};t.ajax._submit_callback=function(){try{if(this.BXFormTarget.contentWindow.location.href.indexOf("http")!=0)return}catch(e){return}if(this.BXFormCallback)this.BXFormCallback.apply(this,[this.BXFormTarget.contentWindow.document.body.innerHTML]);t.unbindAll(this.BXFormTarget)};t.ajax.prepareForm=function(e,t){t=!!t?t:{};var r,n,i,a=[],o=e.elements.length,s=0,u=0;if(!!e){for(r=0;r<o;r++){i=e.elements[r];if(i.disabled)continue;if(!i.type)continue;switch(i.type.toLowerCase()){case"text":case"textarea":case"password":case"number":case"hidden":case"select-one":a.push({name:i.name,value:i.value});u+=i.name.length+i.value.length;break;case"file":if(!!i.files){for(n=0;n<i.files.length;n++){s++;a.push({name:i.name,value:i.files[n],file:true});u+=i.files[n].size}}break;case"radio":case"checkbox":if(i.checked){a.push({name:i.name,value:i.value});u+=i.name.length+i.value.length}break;case"select-multiple":for(var l=0;l<i.options.length;l++){if(i.options[l].selected){a.push({name:i.name,value:i.options[l].value});u+=i.name.length+i.options[l].length}}break;default:break}}r=0;u=0;var f=t,c,v,h,d;while(r<a.length){var p=a[r].name.indexOf("[");if(d){f[a[r].name]={};f[a[r].name][d.replace(/\[|\]/gi,"")]=a[r].value;f=t;d=null;r++}else if(p==-1){f[a[r].name]=a[r].value;f=t;r++}else{c=a[r].name.substring(0,p);v=a[r].name.substring(p+1);h=v.indexOf("]");if(h==-1){if(!f[c])f[c]=[];f=t;r++}else if(h==0){if(!f[c])f[c]=[];f=f[c];a[r].name=""+f.length;if(v.substring(h+1).indexOf("[")===0)d=v.substring(0,h)+v.substring(h+1)}else{if(!f[c])f[c]={};f=f[c];a[r].name=v.substring(0,h)+v.substring(h+1)}}}}return{data:t,filesCount:s,roughSize:u}};t.ajax.submitAjax=function(r,n){n=n!==null&&typeof n=="object"?n:{};n.url=n["url"]||r.getAttribute("action");var i=n["data"]||{};n.data=t.ajax.prepareForm(r).data;for(var a in i){if(i.hasOwnProperty(a)){n.data[a]=i[a]}}if(!e["FormData"]){t.ajax(n)}else{var o=function(e){var t=Object.prototype.toString.call(e);return t=="[object File]"||t=="[object Blob]"},s=function(e,t,r){if(!!r&&typeof r=="object"&&!o(r)){for(var n in r){if(r.hasOwnProperty(n)){s(e,t==""?n:t+"["+n+"]",r[n])}}}else e.append(t,!!r?r:"")},u=function(e){var r={};if(null!=e){if(typeof e=="object"){for(var n in e){if(e.hasOwnProperty(n)){var i=t.util.urlencode(n);if(typeof e[n]=="object"&&e[n]["file"]!==true)r[i]=u(e[n]);else if(e[n]["file"]===true)r[i]=e[n]["value"];else r[i]=t.util.urlencode(e[n])}}}else r=t.util.urlencode(e)}return r},l=new e.FormData;if(n.method!=="POST"){n.data=t.ajax.prepareData(n.data);if(n.data){n.url+=(n.url.indexOf("?")!==-1?"&":"?")+n.data;n.data=""}}else{if(n.preparePost===true)n.data=u(n.data);s(l,"",n.data);n.data=l}n.preparePost=false;n.start=false;var f=t.ajax(n);if(!!n["onprogress"])f.upload.addEventListener("progress",function(e){var t=null;if(e.lengthComputable&&(e.total||e["totalSize"])){t=e.loaded*100/(e.total||e["totalSize"])}n["onprogress"](e,t)});f.send(l)}};t.ajax.UpdatePageData=function(e){if(e.TITLE)t.ajax.UpdatePageTitle(e.TITLE);if(e.WINDOW_TITLE||e.TITLE)t.ajax.UpdateWindowTitle(e.WINDOW_TITLE||e.TITLE);if(e.NAV_CHAIN)t.ajax.UpdatePageNavChain(e.NAV_CHAIN);if(e.CSS&&e.CSS.length>0)t.loadCSS(e.CSS);if(e.SCRIPTS&&e.SCRIPTS.length>0){var r=function(n,i,a){if(!!i&&t.type.isArray(i.scripts)){for(var o=0,s=e.SCRIPTS.length;o<s;o++){i.scripts.push({isInternal:false,JS:e.SCRIPTS[o]})}}else{t.loadScript(e.SCRIPTS,a)}t.removeCustomEvent("onAjaxSuccess",r)};t.addCustomEvent("onAjaxSuccess",r)}else{var n=function(e,r,i){if(t.type.isFunction(i)){i()}t.removeCustomEvent("onAjaxSuccess",n)};t.addCustomEvent("onAjaxSuccess",n)}};t.ajax.UpdatePageTitle=function(e){var r=t("pagetitle");if(r){r.removeChild(r.firstChild);if(!r.firstChild)r.appendChild(document.createTextNode(e));else r.insertBefore(document.createTextNode(e),r.firstChild)}};t.ajax.UpdateWindowTitle=function(e){document.title=e};t.ajax.UpdatePageNavChain=function(e){var r=t("navigation");if(r){r.innerHTML=e}};t.userOptions={options:null,bSend:false,delay:5e3,path:"/bitrix/admin/user_options.php?"};t.userOptions.setAjaxPath=function(e){t.userOptions.path=e.indexOf("?")==-1?e+"?":e+"&"};t.userOptions.save=function(e,r,n,i,a){if(null==t.userOptions.options)t.userOptions.options={};a=!!a;t.userOptions.options[e+"."+r+"."+n]=[e,r,n,i,a];var o=t.userOptions.__get();if(o!="")document.cookie=t.message("COOKIE_PREFIX")+"_LAST_SETTINGS="+encodeURIComponent(o)+"&sessid="+t.bitrix_sessid()+"; expires=Thu, 31 Dec "+((new Date).getFullYear()+1)+" 23:59:59 GMT; path=/;";if(!t.userOptions.bSend){t.userOptions.bSend=true;setTimeout(function(){t.userOptions.send(null)},t.userOptions.delay)}};t.userOptions.send=function(e){var r=t.userOptions.__get();t.userOptions.options=null;t.userOptions.bSend=false;if(r!=""){document.cookie=t.message("COOKIE_PREFIX")+"_LAST_SETTINGS=; path=/;";t.ajax({method:"GET",dataType:"html",processData:false,cache:false,url:t.userOptions.path+r+"&sessid="+t.bitrix_sessid(),onsuccess:e})}};t.userOptions.del=function(e,r,n,i){t.ajax.get(t.userOptions.path+"action=delete&c="+e+"&n="+r+(n==true?"&common=Y":"")+"&sessid="+t.bitrix_sessid(),i)};t.userOptions.__get=function(){if(!t.userOptions.options)return"";var e="",r=-1,n="",i,a;for(a in t.userOptions.options){if(t.userOptions.options.hasOwnProperty(a)){i=t.userOptions.options[a];if(n!=i[0]+"."+i[1]){r++;e+="&p["+r+"][c]="+t.util.urlencode(i[0]);e+="&p["+r+"][n]="+t.util.urlencode(i[1]);if(i[4]==true)e+="&p["+r+"][d]=Y";n=i[0]+"."+i[1]}var o=i[2];var s=i[3];if(o===null){e+="&p["+r+"][v]="+t.util.urlencode(s)}else{e+="&p["+r+"][v]["+t.util.urlencode(o)+"]="+t.util.urlencode(s)}}}return e.substr(1)};t.ajax.history={expected_hash:"",obParams:null,obFrame:null,obImage:null,obTimer:null,bInited:false,bHashCollision:false,bPushState:!!(history.pushState&&t.type.isFunction(history.pushState)),startState:null,init:function(r){if(t.ajax.history.bInited)return;this.obParams=r;var n=this.obParams.getState();if(t.ajax.history.bPushState){t.ajax.history.expected_hash=e.location.pathname;if(e.location.search)t.ajax.history.expected_hash+=e.location.search;t.ajax.history.put(n,t.ajax.history.expected_hash,"",true);setTimeout(function(){t.bind(e,"popstate",t.ajax.history.__hashListener)},500)}else{t.ajax.history.expected_hash=e.location.hash;if(!t.ajax.history.expected_hash||t.ajax.history.expected_hash=="#")t.ajax.history.expected_hash="__bx_no_hash__";v.put(t.ajax.history.expected_hash,n);t.ajax.history.obTimer=setTimeout(t.ajax.history.__hashListener,500);if(t.browser.IsIE()){t.ajax.history.obFrame=document.createElement("IFRAME");t.hide_object(t.ajax.history.obFrame);document.body.appendChild(t.ajax.history.obFrame);t.ajax.history.obFrame.contentWindow.document.open();t.ajax.history.obFrame.contentWindow.document.write(t.ajax.history.expected_hash);t.ajax.history.obFrame.contentWindow.document.close()}else if(t.browser.IsOpera()){t.ajax.history.obImage=document.createElement("IMG");t.hide_object(t.ajax.history.obImage);document.body.appendChild(t.ajax.history.obImage);t.ajax.history.obImage.setAttribute("src","javascript:location.href = 'javascript:BX.ajax.history.__hashListener();';")}}t.ajax.history.bInited=true},__hashListener:function(r){r=r||e.event||{state:false};if(t.ajax.history.bPushState){t.ajax.history.obParams.setState(r.state||t.ajax.history.startState)}else{if(t.ajax.history.obTimer){e.clearTimeout(t.ajax.history.obTimer);t.ajax.history.obTimer=null}var n;if(null!=t.ajax.history.obFrame)n=t.ajax.history.obFrame.contentWindow.document.body.innerText;else n=e.location.hash;if(!n||n=="#")n="__bx_no_hash__";if(n.indexOf("#")==0)n=n.substring(1);if(n!=t.ajax.history.expected_hash){var i=v.get(n);if(i){t.ajax.history.obParams.setState(i);t.ajax.history.expected_hash=n;if(null!=t.ajax.history.obFrame){var a=n=="__bx_no_hash__"?"":n;if(e.location.hash!=a&&e.location.hash!="#"+a)e.location.hash=a}}}t.ajax.history.obTimer=setTimeout(t.ajax.history.__hashListener,500)}},put:function(r,n,i,a){if(this.bPushState){if(!a){history.pushState(r,"",n)}else{t.ajax.history.startState=r}}else{if(typeof i!="undefined")n=i;else n="view"+n;v.put(n,r);t.ajax.history.expected_hash=n;e.location.hash=t.util.urlencode(n);if(null!=t.ajax.history.obFrame){t.ajax.history.obFrame.contentWindow.document.open();t.ajax.history.obFrame.contentWindow.document.write(n);t.ajax.history.obFrame.contentWindow.document.close()}}},checkRedirectStart:function(r,n){var i=e.location.hash;if(i.substring(0,1)=="#")i=i.substring(1);var a=i.substring(0,5);if(a=="view/"||a=="view%"){t.ajax.history.bHashCollision=true;document.write("<"+'div id="__ajax_hash_collision_'+n+'" style="display: none;">')}},checkRedirectFinish:function(r,n){document.write("</div>");var i=e.location.hash;if(i.substring(0,1)=="#")i=i.substring(1);t.ready(function(){var e=i.substring(0,5);if(e=="view/"||e=="view%"){var a=t("__ajax_hash_collision_"+n);var o=a.firstChild;t.cleanNode(o);a.style.display="block";if(e!="view%")i=t.util.urlencode(i);i+=(i.indexOf("%3F")==-1?"%3F":"%26")+r+"="+n;var s="/bitrix/tools/ajax_redirector.php?hash="+i;t.ajax.insertToNode(s,o)}})}};t.ajax.component=function(e){this.node=e};t.ajax.component.prototype.getState=function(){var r={node:this.node,title:e.document.title,data:t(this.node).innerHTML};var n=t("navigation");if(null!=n)r.nav_chain=n.innerHTML;t.onCustomEvent(t(r.node),"onComponentAjaxHistoryGetState",[r]);return r};t.ajax.component.prototype.setState=function(e){t(e.node).innerHTML=e.data;t.ajax.UpdatePageTitle(e.title);if(e.nav_chain){t.ajax.UpdatePageNavChain(e.nav_chain)}t.onCustomEvent(t(e.node),"onComponentAjaxHistorySetState",[e])};var v={arHistory:{},put:function(e,t){this.arHistory[e]=t},get:function(e){return this.arHistory[e]}};t.ajax.FormData=function(){this.elements=[];this.files=[];this.features={};this.isSupported();this.log("BX FormData init")};t.ajax.FormData.isSupported=function(){var e=new t.ajax.FormData;var r=e.features.supported;e=null;return r};t.ajax.FormData.prototype.log=function(e){if(false){try{if(t.browser.IsIE())e=JSON.stringify(e);console.log(e)}catch(e){}}};t.ajax.FormData.prototype.isSupported=function(){var t={};t.fileReader=e.FileReader&&e.FileReader.prototype.readAsBinaryString;t.readFormData=t.sendFormData=!!e.FormData;t.supported=!!(t.readFormData&&t.sendFormData);this.features=t;this.log("features:");this.log(t);return t.supported};t.ajax.FormData.prototype.append=function(e,t){if(typeof t==="object"){this.files.push({name:e,value:t})}else{this.elements.push({name:e,value:t})}};t.ajax.FormData.prototype.send=function(e,r,n,i){this.log("FD send");this.xhr=t.ajax({method:"POST",dataType:"html",url:e,onsuccess:r,onfailure:i,start:false,preparePost:false});if(n){this.xhr.upload.addEventListener("progress",function(e){if(e.lengthComputable)n(e.loaded/(e.total||e.totalSize))},false)}if(this.features.readFormData&&this.features.sendFormData){var a=new FormData;this.log("use browser formdata");for(var o in this.elements){if(this.elements.hasOwnProperty(o))a.append(this.elements[o].name,this.elements[o].value)}for(o in this.files){if(this.files.hasOwnProperty(o))a.append(this.files[o].name,this.files[o].value)}this.xhr.send(a)}return this.xhr};t.addCustomEvent("onAjaxFailure",t.debug)})(window);(function(e,t){"use strict";var r={observer:null,images:{},imageStatus:{hidden:-2,error:-1,undefined:0,inited:1,loaded:2},imageTypes:{image:1,background:2},initObserver:function e(){this.observer=new IntersectionObserver(this.onIntersection.bind(this),{rootMargin:"20% 0% 20% 0%",threshold:.1})},onIntersection:function e(t){t.forEach(function(e){if(e.isIntersecting){this.showImage(e.target)}}.bind(this))},registerImage:function e(r,n,i){if(this.observer===null){this.initObserver()}i=i||{};if(!t.Type.isStringFilled(r)){return}if(t.Type.isObject(this.images[r])){return}var a=document.getElementById(r);if(!t.Type.isDomNode(a)){return}this.observer.observe(a);this.images[r]={id:r,node:null,src:null,dataSrcName:i.dataSrcName||"src",type:null,func:t.Type.isFunction(n)?n:null,status:this.imageStatus.undefined}},registerImages:function e(r,n,i){if(t.Type.isArray(r)){for(var a=0,o=r.length;a<o;a++){this.registerImage(r[a],n,i)}}},showImage:function e(r){var n=r.id;if(!t.Type.isStringFilled(n)){return}var i=this.images[n];if(!t.Type.isPlainObject(i)){return}if(i.status==this.imageStatus.undefined){this.initImage(i)}if(i.status!==this.imageStatus.inited){return}if(!i.node||!i.node.parentNode){i.node=null;i.status=this.imageStatus.error;return}if(i.type==this.imageTypes.image){i.node.src=i.src}else{i.node.style.backgroundImage="url('"+i.src+"')"}i.node.dataset[i.dataSrcName]="";i.status=this.imageStatus.loaded},showImages:function e(r){r=r!==false;for(var n in this.images){if(!this.images.hasOwnProperty(n)){continue}var i=this.images[n];if(i.status==this.imageStatus.undefined){this.initImage(i)}if(i.status!==this.imageStatus.inited){continue}if(!i.node||!i.node.parentNode){i.node=null;i.status=this.imageStatus.error;continue}var a=true;if(r&&t.Type.isFunction(i.func)){a=i.func(i)}if(a===true&&this.isElementVisibleOnScreen(i.node)){if(i.type==this.imageTypes.image){i.node.src=i.src}else{i.node.style.backgroundImage="url('"+i.src+"')"}i.node.dataset[i.dataSrcName]="";i.status=this.imageStatus.loaded}}},initImage:function e(r){r.status=this.imageStatus.error;var n=document.getElementById(r.id);if(!t.Type.isDomNode(n)){return}var i=n.dataset[r.dataSrcName];if(t.Type.isStringFilled(i)){r.node=n;r.src=i;r.status=this.imageStatus.inited;r.type=r.node.tagName.toLowerCase()=="img"?this.imageTypes.image:this.imageTypes.background}},isElementVisibleOnScreen:function e(t){var r=this.getElementCoords(t);var n=window.pageYOffset||document.documentElement.scrollTop;var i=n+document.documentElement.clientHeight;r.bottom=r.top+t.offsetHeight;return r.top>n&&r.top<i||r.bottom<i&&r.bottom>n},isElementVisibleOn2Screens:function e(t){var r=document.documentElement.clientHeight;var n=window.pageYOffset||document.documentElement.scrollTop;var i=n+r;var a=this.getElementCoords(t);a.bottom=a.top+t.offsetHeight;n-=r;i+=r;return a.top>n&&a.top<i||a.bottom<i&&a.bottom>n},getElementCoords:function e(t){var r=t.getBoundingClientRect();return{originTop:r.top,originLeft:r.left,top:r.top+window.pageYOffset,left:r.left+window.pageXOffset}},onScroll:function e(){},clearImages:function e(){this.images=[]}};e.LazyLoad=r})(this.BX=this.BX||{},BX);(function(e){"use strict";var t=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);if(!!t&&babelHelpers.typeof(t)==="object"){this.params=new Map(Object.entries(t))}else{this.params=new Map}}babelHelpers.createClass(e,[{key:"getParam",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.params.has(t)){return this.params.get(t)}return r}},{key:"setParam",value:function e(t,r){this.params.set(t,r)}},{key:"clear",value:function e(){this.params.clear()}}],[{key:"create",value:function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new e(r)}}]);return e}();e.ParamBag=t})(this.BX=this.BX||{});(function(){BX.FixFontSize=function(e){var t,r,n;this.node=null;this.prevWindowSize=0;this.prevWrapperSize=0;this.mainWrapper=null;this.textWrapper=null;this.objList=e.objList;this.minFontSizeList=[];this.minFontSize=0;if(e.onresize){this.prevWindowSize=window.innerWidth||document.documentElement.clientWidth;BX.bind(window,"resize",BX.throttle(this.onResize,350,this))}if(e.onAdaptiveResize){t=this.objList[0].scaleBy||this.objList[0].node;r=getComputedStyle(t);this.prevWrapperSize=parseInt(r["width"])-parseInt(r["paddingLeft"])-parseInt(r["paddingRight"]);BX.bind(window,"resize",BX.throttle(this.onAdaptiveResize,350,this))}this.createTestNodes();this.decrease()};BX.FixFontSize.prototype={createTestNodes:function(){this.textWrapper=BX.create("div",{style:{display:"inline-block",whiteSpace:"nowrap"}});this.mainWrapper=BX.create("div",{style:{height:0,overflow:"hidden"},children:[this.textWrapper]})},insertTestNodes:function(){document.body.appendChild(this.mainWrapper)},removeTestNodes:function(){document.body.removeChild(this.mainWrapper)},decrease:function(){var e,t,r,n;this.insertTestNodes();for(var i=this.objList.length-1;i>=0;i--){r=this.objList[i].scaleBy||this.objList[i].node;n=getComputedStyle(r);e=parseInt(n["width"])-parseInt(n["paddingLeft"])-parseInt(n["paddingRight"]);t=parseInt(getComputedStyle(this.objList[i].node)["font-size"]);this.textWrapperSetStyle(this.objList[i].node);if(this.textWrapperInsertText(this.objList[i].node)){while(this.textWrapper.offsetWidth>e&&t>0){this.textWrapper.style.fontSize=--t+"px"}if(this.objList[i].smallestValue){this.minFontSize=this.minFontSize?Math.min(this.minFontSize,t):t;this.minFontSizeList.push(this.objList[i].node)}else{this.objList[i].node.style.fontSize=t+"px"}}}if(this.minFontSizeList.length>0)this.setMinFont();this.removeTestNodes()},increase:function(){this.insertTestNodes();var e,t,r,n;this.insertTestNodes();for(var i=this.objList.length-1;i>=0;i--){r=this.objList[i].scaleBy||this.objList[i].node;n=getComputedStyle(r);e=parseInt(n["width"])-parseInt(n["paddingLeft"])-parseInt(n["paddingRight"]);t=parseInt(getComputedStyle(this.objList[i].node)["font-size"]);this.textWrapperSetStyle(this.objList[i].node);if(this.textWrapperInsertText(this.objList[i].node)){while(this.textWrapper.offsetWidth<e&&t<this.objList[i].maxFontSize){this.textWrapper.style.fontSize=++t+"px"}t--;if(this.objList[i].smallestValue){this.minFontSize=this.minFontSize?Math.min(this.minFontSize,t):t;this.minFontSizeList.push(this.objList[i].node)}else{this.objList[i].node.style.fontSize=t+"px"}}}if(this.minFontSizeList.length>0)this.setMinFont();this.removeTestNodes()},setMinFont:function(){for(var e=this.minFontSizeList.length-1;e>=0;e--){this.minFontSizeList[e].style.fontSize=this.minFontSize+"px"}this.minFontSize=0},onResize:function(){var e=window.innerWidth||document.documentElement.clientWidth;if(this.prevWindowSize>e)this.decrease();else if(this.prevWindowSize<e)this.increase();this.prevWindowSize=e},onAdaptiveResize:function(){var e=this.objList[0].scaleBy||this.objList[0].node,t=getComputedStyle(e),r=parseInt(t["width"])-parseInt(t["paddingLeft"])-parseInt(t["paddingRight"]);if(this.prevWrapperSize>r)this.decrease();else if(this.prevWrapperSize<r)this.increase();this.prevWrapperSize=r},textWrapperInsertText:function(e){if(e.textContent){this.textWrapper.textContent=e.textContent;return true}else if(e.innerText){this.textWrapper.innerText=e.innerText;return true}else{return false}},textWrapperSetStyle:function(e){this.textWrapper.style.fontFamily=getComputedStyle(e)["font-family"];this.textWrapper.style.fontSize=getComputedStyle(e)["font-size"];this.textWrapper.style.fontStyle=getComputedStyle(e)["font-style"];this.textWrapper.style.fontWeight=getComputedStyle(e)["font-weight"];this.textWrapper.style.lineHeight=getComputedStyle(e)["line-height"]}};BX.FixFontSize.init=function(e){return new BX.FixFontSize(e)}})()})();
 



// file: /bitrix/js/im/view/textarea/dist/textarea.bundle.js
(function(e,t,s,i,n){"use strict";t.Vue.component("bx-im-view-textarea",{props:{siteId:{default:"default"},userId:{default:0},dialogId:{default:0},enableCommand:{default:true},enableMention:{default:true},desktopMode:{default:false},enableEdit:{default:false},enableFile:{default:false},sendByEnter:{default:true},autoFocus:{default:null},writesEventLetter:{default:0},styles:{type:Object,default:function e(){return{}}},listenEventInsertText:{default:""},listenEventFocus:{default:""},listenEventBlur:{default:""}},data:function e(){return{placeholderMessage:"",currentMessage:"",previousMessage:"",commandListen:false,mentionListen:false,stylesDefault:Object.freeze({button:{backgroundColor:null,iconColor:null}})}},created:function e(){if(this.listenEventInsertText){t.Vue.event.$on(this.listenEventInsertText,this.onInsertText);this.$root.$on(this.listenEventInsertText,this.onInsertText)}if(this.listenEventFocus){t.Vue.event.$on(this.listenEventFocus,this.onFocusSet);this.$root.$on(this.listenEventFocus,this.onFocusSet)}if(this.listenEventBlur){t.Vue.event.$on(this.listenEventBlur,this.onFocusClear);this.$root.$on(this.listenEventBlur,this.onFocusClear)}this.localStorage=s.LocalStorage;this.textareaHistory=this.localStorage.get(this.siteId,this.userId,"textarea-history",{});this.currentMessage=this.textareaHistory[this.dialogId]||"";this.placeholderMessage=this.currentMessage},beforeDestroy:function e(){if(this.listenEventInsertText){t.Vue.event.$off(this.listenEventInsertText,this.onInsertText);this.$root.$off(this.listenEventInsertText,this.onInsertText)}if(this.listenEventFocus){t.Vue.event.$off(this.listenEventFocus,this.onFocusSet);this.$root.$off(this.listenEventFocus,this.onFocusSet)}if(this.listenEventBlur){t.Vue.event.$off(this.listenEventBlur,this.onFocusClear);this.$root.$off(this.listenEventBlur,this.onFocusClear)}clearTimeout(this.messageStoreTimeout);this.localStorage.set(this.siteId,this.userId,"textarea-history",this.textareaHistory);this.localStorage=null},computed:{textareaClassName:function e(){return"bx-im-textarea"+(i.Utils.device.isMobile()?" bx-im-textarea-mobile":"")},buttonStyle:function e(){var t=Object.assign({},this.stylesDefault,this.styles);var s=false;if(t.button.iconColor){s=i.Utils.isDarkColor(t.button.iconColor)}else{s=!i.Utils.isDarkColor(t.button.backgroundColor)}t.button.className=s?"bx-im-textarea-send-button":"bx-im-textarea-send-button bx-im-textarea-send-button-bright-arrow";t.button.style=t.button.backgroundColor?"background-color: "+t.button.backgroundColor+";":"";return t},localize:function e(){return t.Vue.getFilteredPhrases("BX_MESSENGER_TEXTAREA_",this.$root.$bitrixMessages)},isIE11:function e(){return n.Browser.isIE11()}},directives:{"bx-im-focus":{inserted:function e(t,s){if(s.value===true||s.value===null&&!i.Utils.device.isMobile()){t.focus()}}}},methods:{insertText:function e(t){var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"current";var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"after";var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var l=this.$refs.textarea;var o=l.selectionStart;var r=l.selectionEnd;if(i=="start"){if(s){t=t+"\n"}l.value=t+l.value;if(a){if(n=="after"){l.selectionStart=t.length;l.selectionEnd=l.selectionStart}else if(n=="before"){l.selectionStart=0;l.selectionEnd=l.selectionStart}}}else if(i=="current"){if(s){if(l.value.substring(0,o).trim().length>0){t="\n"+t}t=t+"\n"}else{if(l.value&&!l.value.endsWith(" ")){t=" "+t}}l.value=l.value.substring(0,o)+t+l.value.substring(r,l.value.length);if(a){if(n=="after"){l.selectionStart=o+t.length;l.selectionEnd=l.selectionStart}else if(n=="before"){l.selectionStart=o;l.selectionEnd=l.selectionStart}}}else if(i=="end"){if(s){if(l.value.substring(0,o).trim().length>0){t="\n"+t}t=t+"\n"}else{if(l.value&&!l.value.endsWith(" ")){t=" "+t}}l.value=l.value+t;if(a){if(n=="after"){l.selectionStart=l.value.length;l.selectionEnd=l.selectionStart}else if(n=="before"){l.selectionStart=l.value.length-t.length;l.selectionEnd=l.selectionStart}}}if(a){if(n=="start"){l.selectionStart=0;l.selectionEnd=0}else if(n=="end"){l.selectionStart=l.value.length;l.selectionEnd=l.selectionStart}l.focus()}this.textChangeEvent()},sendMessage:function e(){this.$emit("send",{text:this.currentMessage.trim()});var t=this.$refs.textarea;if(t){t.value=""}if(this.autoFocus===null||this.autoFocus){t.focus()}this.textChangeEvent()},textChangeEvent:function e(){var t=this;var s=this.$refs.textarea;if(!s){return}var i=s.value.trim();if(this.currentMessage===i){return}if(this.writesEventLetter<=i.length){this.$emit("writes",{text:i})}this.previousMessage=this.currentMessage;this.previousSelectionStart=s.selectionStart;this.previousSelectionEnd=this.previousSelectionStart;this.currentMessage=i;if(i.toString().length>0){this.textareaHistory[this.dialogId]=i}else{delete this.textareaHistory[this.dialogId]}clearTimeout(this.messageStoreTimeout);this.messageStoreTimeout=setTimeout(function(){t.localStorage.set(t.siteId,t.userId,"textarea-history",t.textareaHistory,t.userId?0:10)},500)},onKeyDown:function e(t){this.$emit("keydown",t);var s=t.target;var n=s.value.trim();var a=i.Utils.platform.isMac();var l=i.Utils.platform.isBitrixDesktop()||!i.Utils.browser.isChrome();if(this.commandListen);else if(this.mentionListen);else if(!(t.altKey&&t.ctrlKey)){if(this.enableMention&&t.shiftKey&&(t.keyCode==61||t.keyCode==50||t.keyCode==187||t.keyCode==187)||t.keyCode==107);else if(this.enableCommand&&(t.keyCode==191||t.keyCode==111||t.keyCode==220));}if(t.keyCode==27){if(s.value!=""&&s===document.activeElement){t.preventDefault();t.stopPropagation()}if(t.shiftKey){s.value=""}}else if(t.metaKey||t.ctrlKey){if(l&&t.key==="t"||!l&&t.key==="e"){t.preventDefault()}else if(["b","s","i","u"].includes(t.key)){var o=s.selectionStart;var r=s.selectionEnd;var u="["+t.key.toLowerCase()+"]";var c="[/"+t.key.toLowerCase()+"]";var f=s.value.substring(o,r);if(f.startsWith(u)&&f.endsWith(c)){f=f.substring(u.length,f.indexOf(c))}else{f=u+f+c}s.value=s.value.substring(0,o)+f+s.value.substring(r,s.value.length);s.selectionStart=o;s.selectionEnd=o+f.length;t.preventDefault()}}if(t.keyCode==9){this.insertText("\t");t.preventDefault()}else if(this.enableEdit&&t.keyCode==38&&n.length<=0){this.$emit("edit",{})}else if(t.keyCode==13){if(i.Utils.device.isMobile());else if(this.sendByEnter==true){if(t.ctrlKey||t.altKey||t.shiftKey){if(!t.shiftKey){this.insertText("\n")}}else if(n.length<=0){t.preventDefault()}else{this.sendMessage();t.preventDefault()}}else{if(t.ctrlKey==true){this.sendMessage();t.preventDefault()}else if(a&&(t.metaKey==true||t.altKey==true)){this.sendMessage();t.preventDefault()}}}else if((t.ctrlKey||t.metaKey)&&t.key=="z"){if(this.previousMessage){s.value=this.previousMessage;s.selectionStart=this.previousSelectionStart;s.selectionEnd=this.previousSelectionEnd;this.previousMessage="";t.preventDefault()}}},onKeyUp:function e(t){this.$emit("keyup",{event:t,text:this.currentMessage});this.textChangeEvent()},onPaste:function e(t){this.$nextTick(this.textChangeEvent)},onInput:function e(t){this.textChangeEvent()},onFocus:function e(t){this.$emit("focus",t)},onBlur:function e(t){this.$emit("blur",t)},onAppButtonClick:function e(t,s){this.$emit("appButtonClick",{appId:t,event:s})},onInsertText:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!t.text){return false}this.insertText(t.text,t.breakline,t.position,t.cursor,t.focus);this.$emit("keyup",{event:t,text:this.currentMessage});return true},onFocusSet:function e(){this.$refs.textarea.focus();return true},onFocusClear:function e(){this.$refs.textarea.blur();return true},onFileClick:function e(t){t.target.value=""},onFileSelect:function e(t){this.$emit("fileSelected",{fileChangeEvent:t,fileInput:t.target})}},template:'\n\t\t<div :class="textareaClassName">\n\t\t\t<div class="bx-im-textarea-box">\n\t\t\t\t<textarea ref="textarea" class="bx-im-textarea-input" @keydown="onKeyDown" @keyup="onKeyUp" @paste="onPaste" @input="onInput" @focus="onFocus" @blur="onBlur" v-bx-im-focus="autoFocus" :placeholder="localize.BX_MESSENGER_TEXTAREA_PLACEHOLDER">{{placeholderMessage}}</textarea>\n\t\t\t\t<transition enter-active-class="bx-im-textarea-send-button-show" leave-active-class="bx-im-textarea-send-button-hide">\n\t\t\t\t\t<button v-if="currentMessage" :class="buttonStyle.button.className" :style="buttonStyle.button.style" @click="sendMessage" :title="localize.BX_MESSENGER_TEXTAREA_BUTTON_SEND"></button>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t\t<div class="bx-im-textarea-app-box">\n\t\t\t\t<label v-if="enableFile && !isIE11" class="bx-im-textarea-app-button bx-im-textarea-app-file" :title="localize.BX_MESSENGER_TEXTAREA_FILE">\n\t\t\t\t\t<input type="file" @click="onFileClick($event)" @change="onFileSelect($event)">\n\t\t\t\t</label>\n\t\t\t\t<button class="bx-im-textarea-app-button bx-im-textarea-app-smile" :title="localize.BX_MESSENGER_TEXTAREA_SMILE" @click="onAppButtonClick(\'smile\', $event)"></button>\n\t\t\t\t<button v-if="false" class="bx-im-textarea-app-button bx-im-textarea-app-gif" :title="localize.BX_MESSENGER_TEXTAREA_GIPHY" @click="onAppButtonClick(\'giphy\', $event)"></button>\n\t\t\t</div>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX,BX.Messenger.Lib,BX.Messenger.Lib,BX);
 



// file: /bitrix/js/im/view/quotepanel/dist/quotepanel.bundle.js
(function(t,e){"use strict";e.Vue.component("bx-im-view-quote-panel",{props:{id:{default:0},title:{default:""},description:{default:""},color:{default:""},canClose:{default:true}},methods:{close:function t(e){this.$emit("close",e)}},computed:{formattedTittle:function t(){return this.title?this.title.substr(0,255):this.localize.IM_QUOTE_PANEL_DEFAULT_TITLE},formattedDescription:function t(){return this.description?this.description.substr(0,255):""},localize:function t(){return e.Vue.getFilteredPhrases("IM_QUOTE_PANEL_",this.$root.$bitrixMessages)}},template:'\n\t\t<transition enter-active-class="bx-im-quote-panel-animation-show" leave-active-class="bx-im-quote-panel-animation-close">\t\t\t\t\n\t\t\t<div v-if="id > 0" class="bx-im-quote-panel">\n\t\t\t\t<div class="bx-im-quote-panel-wrap">\n\t\t\t\t\t<div class="bx-im-quote-panel-box" :style="{borderLeftColor: color}">\n\t\t\t\t\t\t<div class="bx-im-quote-panel-box-title" :style="{color: color}">{{formattedTittle}}</div>\n\t\t\t\t\t\t<div class="bx-im-quote-panel-box-desc">{{formattedDescription}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if="canClose" class="bx-im-quote-panel-close" @click="close"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t'})})(this.window=this.window||{},BX);
 



// file: /bitrix/js/imopenlines/component/message/dist/message.bundle.js
(function(e){"use strict";var s=Object.freeze({none:"none",like:"like",welcome:"welcome",offline:"offline",history:"history"});var i=Object.freeze({none:"none",like:"like",dislike:"dislike"});BX.Vue.cloneComponent("bx-imopenlines-message","bx-im-view-message",{methods:{checkFormShow:function e(){if(!this.message.params||!this.message.params.IMOL_FORM){return true}if(this.message.params.IMOL_FORM==="welcome"){if(!this.widget.dialog.sessionClose&&!this.widget.user.name&&!this.widget.user.lastName&&!this.widget.user.email&&!this.widget.user.phone){this.$root.$emit("requestShowForm",{type:s.welcome,delayed:true})}}else if(this.message.params.IMOL_FORM==="offline"){if(!this.widget.dialog.sessionClose&&!this.widget.user.email){this.$root.$emit("requestShowForm",{type:s.offline,delayed:true})}}else if(this.message.params.IMOL_FORM==="history-delay"){if(parseInt(this.message.params.IMOL_VOTE)===this.widget.dialog.sessionId&&this.widget.dialog.userVote===i.none){this.$root.$emit("requestShowForm",{type:s.like,delayed:true})}}}},created:function e(){this.checkFormShow()},computed:babelHelpers.objectSpread({dialogNumber:function e(){if(!this.message.params){return false}if(!this.message.params.IMOL_SID){return false}return this.localize.IMOL_MESSAGE_DIALOG_ID.replace("#ID#",this.message.params.IMOL_SID)},localize:function e(){return Object.freeze(Object.assign({},this.parentLocalize,BX.Vue.getFilteredPhrases("IMOL_MESSAGE_",this.$root.$bitrixMessages)))},showMessage:function e(){if(!this.message.params){return true}if(this.message.params.IMOL_FORM&&this.message.params.IMOL_FORM==="history-delay"){return false}return true}},BX.Vuex.mapState({widget:function e(s){return s.widget}})),template:'\n\t\t<div v-if="showMessage" class="bx-imopenlines-message">\n\t\t\t<div v-if="dialogNumber" class="bx-imopenlines-message-dialog-number">{{dialogNumber}}</div>\n\t\t\t#PARENT_TEMPLATE#\n\t\t</div>\n\t'})})(this.window=this.window||{});
 



// file: /bitrix/js/imopenlines/component/form/dist/form.bundle.js
(function(t,e,i){"use strict";BX.Vue.cloneComponent("bx-test-form","bx-im-view-message",{data:function t(){return{formValue:""}},created:function t(){},computed:babelHelpers.objectSpread({localize:function t(){return e.Vue.getFilteredPhrases("BX_LIVECHAT_",this.$root.$bitrixMessages)},wasFilled:function t(){return!!this.message.params.CRM_FORM_VALUE}},i.Vuex.mapState({widget:function t(e){return e.widget}})),methods:{onFillForm:function t(){this.$root.$bitrixRestClient.callMethod("imopenlines.widget.form.fill",{CRM_FORM_VALUE:this.formValue,MESSAGE_ID:this.message.id}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}},template:'\n\t\t<div class="bx-im-message bx-im-message-without-menu bx-im-message-without-avatar">\n\t\t\t<div v-if="!wasFilled" class="bx-im-message-content">\n\t\t\t\t<div style="margin-bottom: 10px;">Form component with id {{message.params.CRM_FORM_ID}}</div>\n\t\t\t\t<div style="margin-bottom: 10px; display: flex;">\n\t\t\t\t\t<input type="text" v-model="formValue" style="margin-right: 15px;" />\n\t\t\t\t\t<button @click="onFillForm" class="bx-im-textarea-send-button bx-im-textarea-send-button-bright-arrow" style="background-color: rgb(23, 163, 234);"></button>\t\n\t\t\t\t</div>\n\t\t\t\t\x3c!--#PARENT_TEMPLATE#--\x3e\n\t\t\t</div>\n\t\t\t<div v-else class="bx-im-message-content">\n\t\t\t\tForm was already filled with the value - "{{message.params.CRM_FORM_VALUE[0]}}"!\n\t\t\t</div>\n\t\t</div>\n\t'})})(this.window=this.window||{},BX,BX);
 



// file: /bitrix/js/im/provider/rest/dist/registry.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.Provider=this.BX.Messenger.Provider||{};(function(e,s,t,i){"use strict";var a=function(){babelHelpers.createClass(e,null,[{key:"create",value:function e(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new this(s)}}]);function e(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);if(babelHelpers.typeof(s.controller)==="object"&&s.controller){this.controller=s.controller}if(babelHelpers.typeof(s.store)==="object"&&s.store){this.store=s.store}}babelHelpers.createClass(e,[{key:"execute",value:function e(s,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};s="handle"+s.split(".").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("");if(t.error()){if(typeof this[s+"Error"]==="function"){return this[s+"Error"](t.error(),i)}}else{if(typeof this[s+"Success"]==="function"){return this[s+"Success"](t.data(),i)}}return typeof this[s]==="function"?this[s](t,i):null}}]);return e}();var r=function(e){babelHelpers.inherits(a,e);function a(){babelHelpers.classCallCheck(this,a);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).apply(this,arguments))}babelHelpers.createClass(a,[{key:"handleImUserListGetSuccess",value:function e(t){this.store.dispatch("users/set",s.VuexBuilderModel.convertToArray(t))}},{key:"handleImUserGetSuccess",value:function e(s){this.store.dispatch("users/set",[s])}},{key:"handleImChatGetSuccess",value:function e(s){this.store.dispatch("dialogues/set",s)}},{key:"handleImDialogMessagesGetSuccess",value:function e(s){this.store.dispatch("users/set",s.users);this.store.dispatch("files/setBefore",this.controller.application.prepareFilesBeforeSave(s.files));this.store.dispatch("messages/setBefore",s.messages)}},{key:"handleImDialogMessagesGetInitSuccess",value:function e(s){this.store.dispatch("users/set",s.users);this.store.dispatch("files/set",this.controller.application.prepareFilesBeforeSave(s.files));this.store.dispatch("messages/set",s.messages.reverse())}},{key:"handleImDialogMessagesGetUnreadSuccess",value:function e(s){this.store.dispatch("users/set",s.users);this.store.dispatch("files/set",this.controller.application.prepareFilesBeforeSave(s.files));this.store.dispatch("messages/setAfter",s.messages)}},{key:"handleImDiskFolderGetSuccess",value:function e(s){this.store.commit("application/set",{dialog:{diskFolderId:s.ID}})}},{key:"handleImMessageAddSuccess",value:function e(s,t){var i=this;this.store.dispatch("messages/update",{id:t.id,chatId:t.chatId,fields:{id:s,sending:false,error:false}}).then(function(){i.store.dispatch("messages/actionFinish",{id:s,chatId:t.chatId})})}},{key:"handleImMessageAddError",value:function e(s,t){this.store.dispatch("messages/actionError",{id:t.id,chatId:t.chatId})}},{key:"handleImDiskFileCommitSuccess",value:function e(s,t){var i=this;this.store.dispatch("messages/update",{id:t.id,chatId:t.chatId,fields:{id:s["MESSAGE_ID"],sending:false,error:false}}).then(function(){i.store.dispatch("messages/actionFinish",{id:s["MESSAGE_ID"],chatId:t.chatId})})}},{key:"handleImDiskFileCommitError",value:function e(s,i){this.store.dispatch("files/update",{chatId:i.chatId,id:i.file.id,fields:{status:t.FileStatus.error,progress:0}});this.store.dispatch("messages/actionError",{id:i.id,chatId:i.chatId,retry:false})}},{key:"handleImRecentListSuccess",value:function e(s,t){i.Logger.warn("Provider.Rest.handleImRecentGetSuccess",s);var a=[];var r=[];var n={general:[],pinned:[]};s.items.forEach(function(e){var s=0;var t=0;if(e.user&&e.user.id>0){s=e.user.id;a.push(e.user)}if(e.chat){t=e.chat.id;r.push(Object.assign(e.chat,{dialogId:e.id}))}else{r.push(Object.assign({},{dialogId:e.id}))}n.general.push(babelHelpers.objectSpread({},e,{avatar:e.avatar.url,color:e.avatar.color,userId:s,chatId:t}))});s.pinned.forEach(function(e){var s=0;var t=0;if(e.user&&e.user.id>0){s=e.user.id;a.push(e.user)}if(e.chat){t=e.chat.id;r.push(Object.assign(e.chat,{dialogId:e.id}))}else{r.push(Object.assign({},{dialogId:e.id}))}n.pinned.push(babelHelpers.objectSpread({},e,{avatar:e.avatar.url,color:e.avatar.color,userId:s,chatId:t}))});this.store.dispatch("users/set",a);this.store.dispatch("dialogues/set",r);this.store.dispatch("recent/set",n)}}]);return a}(a);var n=function(e){babelHelpers.inherits(s,e);function s(e){var t;babelHelpers.classCallCheck(this,s);t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).call(this,e));t.application=e.application;return t}babelHelpers.createClass(s,[{key:"handleImChatGetSuccess",value:function e(s){this.store.commit("application/set",{dialog:{chatId:s.id,dialogId:s.dialog_id,diskFolderId:s.disk_folder_id}})}},{key:"handleImCallGetCallLimitsSuccess",value:function e(s){this.store.commit("application/set",{call:{serverEnabled:s.callServerEnabled,maxParticipants:s.maxParticipants}})}},{key:"handleImChatGetError",value:function e(s){if(s.ex.error==="ACCESS_ERROR"){i.Logger.error("MobileRestAnswerHandler.handleImChatGetError: ACCESS_ERROR")}}},{key:"handleImDialogMessagesGetInitSuccess",value:function e(){this.controller.application.emit(t.EventType.dialog.sendReadMessages)}},{key:"handleImMessageAddSuccess",value:function e(s,t){this.application.messagesQueue=this.context.messagesQueue.filter(function(e){return e.id!==t.id})}},{key:"handleImMessageAddError",value:function e(s,t){this.application.messagesQueue=this.context.messagesQueue.filter(function(e){return e.id!==t.id})}},{key:"handleImDiskFileCommitSuccess",value:function e(s,t){this.application.messagesQueue=this.context.messagesQueue.filter(function(e){return e.id!==t.id})}}]);return s}(a);e.BaseRestHandler=a;e.CoreRestHandler=r;e.DialogRestHandler=n})(this.BX.Messenger.Provider.Rest=this.BX.Messenger.Provider.Rest||{},BX,BX.Messenger.Const,BX.Messenger.Lib);
 



// file: /bitrix/js/im/provider/pull/dist/registry.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.Provider=this.BX.Messenger.Provider||{};(function(e,t,s,a,i){"use strict";var n=function(){babelHelpers.createClass(e,null,[{key:"create",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new this(t)}}]);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);if(babelHelpers.typeof(t.controller)==="object"&&t.controller){this.controller=t.controller}if(babelHelpers.typeof(t.store)==="object"&&t.store){this.store=t.store}this.option=babelHelpers.typeof(t.store)==="object"&&t.store?t.store:{};if(!(babelHelpers.typeof(this.option.handlingDialog)==="object"&&this.option.handlingDialog&&this.option.handlingDialog.chatId&&this.option.handlingDialog.dialogId)){this.option.handlingDialog=false}}babelHelpers.createClass(e,[{key:"getModuleId",value:function e(){return"im"}},{key:"getSubscriptionType",value:function e(){return a.PullClient.SubscriptionType.Server}},{key:"skipExecute",value:function e(t){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!a.optionImportant){if(this.option.skip){s.Logger.info("Pull: command skipped while loading messages",t);return true}if(!this.option.handlingDialog){return false}}if(typeof t.chatId!=="undefined"||typeof t.dialogId!=="undefined"){if(typeof t.chatId!=="undefined"&&parseInt(t.chatId)===parseInt(this.option.handlingDialog.chatId)){return false}if(typeof t.dialogId!=="undefined"&&t.dialogId.toString()===this.option.handlingDialog.dialogId.toString()){return false}return true}return false}},{key:"handleMessage",value:function e(t,s){this.handleMessageAdd(t,s)}},{key:"handleMessageChat",value:function e(t,s){this.handleMessageAdd(t,s)}},{key:"handleMessageAdd",value:function e(s,a){var n=this;if(this.skipExecute(s,a)){return false}var l=this.store.state.messages.collection[s.chatId];if(!l){l=[]}var o=l.find(function(e){if(s.message.templateId&&e.id===s.message.templateId){return true}return e.id===s.message.id});if(o&&s.message.push){return false}if(s.chat&&s.chat[s.chatId]){this.store.dispatch("dialogues/update",{dialogId:s.dialogId,fields:s.chat[s.chatId]})}this.store.dispatch("recent/update",{id:s.dialogId,fields:{message:{id:s.message.id,text:s.message.text,date:s.message.date},counter:s.counter}});if(s.users){this.store.dispatch("users/set",t.VuexBuilderModel.convertToArray(s.users))}if(s.files){var d=this.controller.application.prepareFilesBeforeSave(t.VuexBuilderModel.convertToArray(s.files));d.forEach(function(e){if(d.length===1&&s.message.templateFileId&&n.store.state.files.index[s.chatId]&&n.store.state.files.index[s.chatId][s.message.templateFileId]){n.store.dispatch("files/update",{id:s.message.templateFileId,chatId:s.chatId,fields:e}).then(function(){n.controller.application.emit(i.EventType.dialog.scrollToBottom,{cancelIfScrollChange:true})})}else{n.store.dispatch("files/set",e)}})}if(o){this.store.dispatch("messages/update",{id:o.id,chatId:o.chatId,fields:babelHelpers.objectSpread({push:false},s.message,{sending:false,error:false})}).then(function(){n.controller.application.emit(i.EventType.dialog.scrollToBottom,{cancelIfScrollChange:s.message.senderId!==n.controller.application.getUserId()})})}else if(this.controller.application.isUnreadMessagesLoaded()){if(this.controller.application.getChatId()===s.chatId){this.store.commit("application/increaseDialogExtraCount")}this.store.dispatch("messages/setAfter",babelHelpers.objectSpread({push:false},s.message,{unread:true}))}this.controller.application.stopOpponentWriting({dialogId:s.dialogId,userId:s.message.senderId});if(s.message.senderId===this.controller.application.getUserId()){this.store.dispatch("messages/readMessages",{chatId:s.chatId}).then(function(e){n.store.dispatch("dialogues/update",{dialogId:s.dialogId,fields:{counter:0}})})}else{this.store.dispatch("dialogues/increaseCounter",{dialogId:s.dialogId,count:1})}}},{key:"handleMessageUpdate",value:function e(t,s,a){this.execMessageUpdateOrDelete(t,s,a)}},{key:"handleMessageDelete",value:function e(t,s,a){this.execMessageUpdateOrDelete(t,s,a)}},{key:"execMessageUpdateOrDelete",value:function e(t,s,a){var n=this;if(this.skipExecute(t,s)){return false}this.controller.application.stopOpponentWriting({dialogId:t.dialogId,userId:t.senderId});this.store.dispatch("messages/update",{id:t.id,chatId:t.chatId,fields:{text:a==="messageUpdate"?t.text:"",textOriginal:a==="messageUpdate"?t.textOriginal:"",params:t.params,blink:true}}).then(function(){n.controller.application.emit(i.EventType.dialog.scrollToBottom,{cancelIfScrollChange:true})});var l=this.store.getters["recent/get"](t.dialogId);if(a==="messageUpdate"&&l.element&&l.element.message.id===t.id){this.store.dispatch("recent/update",{id:t.dialogId,fields:{message:{id:t.id,text:t.text,date:l.element.message.date}}})}if(a==="messageDelete"&&l.element&&l.element.message.id===t.id){this.store.dispatch("recent/update",{id:t.dialogId,fields:{message:{id:t.id,text:"Message deleted",date:l.element.message.date}}})}}},{key:"handleMessageDeleteComplete",value:function e(t,s){if(this.skipExecute(t,s)){return false}this.store.dispatch("messages/delete",{id:t.id,chatId:t.chatId});this.controller.application.stopOpponentWriting({dialogId:t.dialogId,userId:t.senderId,action:false})}},{key:"handleMessageLike",value:function e(t,s){if(this.skipExecute(t,s)){return false}this.store.dispatch("messages/update",{id:t.id,chatId:t.chatId,fields:{params:{LIKE:t.users}}})}},{key:"handleChatOwner",value:function e(t,s){if(this.skipExecute(t,s)){return false}this.store.dispatch("dialogues/update",{dialogId:t.dialogId,fields:{ownerId:t.userId}})}},{key:"handleChatUserAdd",value:function e(t,s){if(this.skipExecute(t,s)){return false}this.store.dispatch("dialogues/update",{dialogId:t.dialogId,fields:{userCounter:t.userCount}})}},{key:"handleChatUserLeave",value:function e(t,s){if(this.skipExecute(t,s)){return false}this.store.dispatch("dialogues/update",{dialogId:t.dialogId,fields:{userCounter:t.userCount}})}},{key:"handleMessageParamsUpdate",value:function e(t,s){var a=this;if(this.skipExecute(t,s)){return false}this.store.dispatch("messages/update",{id:t.id,chatId:t.chatId,fields:{params:t.params}}).then(function(){a.controller.application.emit(i.EventType.dialog.scrollToBottom,{cancelIfScrollChange:true})})}},{key:"handleStartWriting",value:function e(t,s){if(this.skipExecute(t,s)){return false}this.controller.application.startOpponentWriting(t)}},{key:"handleReadMessage",value:function e(t,s){var a=this;if(this.skipExecute(t,s)){return false}this.store.dispatch("messages/readMessages",{chatId:t.chatId,readId:t.lastId}).then(function(e){a.store.dispatch("dialogues/update",{dialogId:t.dialogId,fields:{counter:t.counter}})});this.store.dispatch("recent/update",{id:t.dialogId,fields:{counter:t.counter}})}},{key:"handleReadMessageChat",value:function e(t,s){this.handleReadMessage(t,s)}},{key:"handleReadMessageOpponent",value:function e(t,s){this.execReadMessageOpponent(t,s)}},{key:"handleReadMessageChatOpponent",value:function e(t,s){this.execReadMessageOpponent(t,s)}},{key:"execReadMessageOpponent",value:function e(t,s){if(this.skipExecute(t,s)){return false}this.store.dispatch("dialogues/updateReaded",{dialogId:t.dialogId,userId:t.userId,userName:t.userName,messageId:t.lastId,date:t.date,action:true})}},{key:"handleUnreadMessageOpponent",value:function e(t,s){this.execUnreadMessageOpponent(t,s)}},{key:"handleUnreadMessageChatOpponent",value:function e(t,s){this.execUnreadMessageOpponent(t,s)}},{key:"execUnreadMessageOpponent",value:function e(t,s){if(this.skipExecute(t,s)){return false}this.store.dispatch("dialogues/updateReaded",{dialogId:t.dialogId,userId:t.userId,action:false})}},{key:"handleFileUpload",value:function e(s,a){var n=this;if(this.skipExecute(s,a)){return false}this.store.dispatch("files/set",this.controller.application.prepareFilesBeforeSave(t.VuexBuilderModel.convertToArray({file:s.fileParams}))).then(function(){n.controller.application.emit(i.EventType.dialog.scrollToBottom,{cancelIfScrollChange:true})})}},{key:"handleChatPin",value:function e(t,s){this.store.dispatch("recent/pin",{id:t.dialogId,action:t.active})}},{key:"handleChatHide",value:function e(t,s){this.store.dispatch("recent/delete",{id:t.dialogId})}},{key:"handleReadNotifyList",value:function e(t,s){this.store.dispatch("recent/update",{id:"notify",fields:{counter:t.counter}})}},{key:"handleUserInvite",value:function e(t,s){if(!t.invited){this.store.dispatch("users/update",{id:t.userId,fields:t.user})}}}]);return e}();var l=function(){babelHelpers.createClass(e,null,[{key:"create",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new this(t)}}]);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);if(babelHelpers.typeof(t.application)==="object"&&t.application){this.application=t.application}if(babelHelpers.typeof(t.controller)==="object"&&t.controller){this.controller=t.controller}if(babelHelpers.typeof(t.store)==="object"&&t.store){this.store=t.store}this.option=babelHelpers.typeof(t.store)==="object"&&t.store?t.store:{}}babelHelpers.createClass(e,[{key:"getModuleId",value:function e(){return"im"}},{key:"getSubscriptionType",value:function e(){return a.PullClient.SubscriptionType.Server}},{key:"handleChatUserAdd",value:function e(t){var s=Object.values(t.users).map(function(e){return babelHelpers.objectSpread({},e,{lastActivityDate:new Date})});this.store.commit("callApplication/common",{userCount:t.userCount});this.store.commit("users/set",s)}},{key:"handleChatUserLeave",value:function e(t){if(t.userId===this.controller.getUserId()&&t.dialogId===this.store.state.application.dialog.dialogId){this.application.kickFromCall()}this.store.commit("callApplication/common",{userCount:t.userCount})}},{key:"handleCallUserNameUpdate",value:function e(t){var s=this.store.getters["users/get"](t.userId);if(!s){this.store.dispatch("users/set",{id:t.userId,lastActivityDate:new Date})}this.store.dispatch("users/update",{id:t.userId,fields:{name:t.name,lastActivityDate:new Date}})}},{key:"handleVideoconfShareUpdate",value:function e(t){if(t.dialogId===this.store.state.application.dialog.dialogId){this.application.changeVideoconfUrl(t.newLink)}}},{key:"handleMessageChat",value:function e(t){if(t.chatId===this.application.getChatId()&&!this.store.state.callApplication.common.showChat&&t.message.senderId!==this.controller.getUserId()&&!this.store.state.callApplication.common.error){var s="";if(t.message.senderId===0||t.message.system==="Y"){s=t.message.text}else{var a=t.users[t.message.senderId].name;if(t.message.text===""&&Object.keys(t.files).length>0){s="".concat(a,": ").concat(this.controller.localize["BX_IM_COMPONENT_CALL_FILE"])}else if(t.message.text!==""){s="".concat(a,": ").concat(t.message.text)}}this.application.sendNewMessageNotify(s)}}}]);return e}();e.ImBasePullHandler=n;e.ImCallPullHandler=l})(this.BX.Messenger.Provider.Pull=this.BX.Messenger.Provider.Pull||{},BX,BX.Messenger.Lib,BX,BX.Messenger.Const);
 



// file: /bitrix/js/im/lib/timer/dist/timer.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};(function(t){"use strict";var e=function(){function t(){babelHelpers.classCallCheck(this,t);this.list={};this.updateInterval=1e3;clearInterval(this.updateIntervalId);this.updateIntervalId=setInterval(this.worker.bind(this),this.updateInterval)}babelHelpers.createClass(t,[{key:"start",value:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"default";var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};i=i==null?"default":i;n=parseFloat(n);if(isNaN(n)||n<=0){return false}n=n*1e3;if(typeof this.list[e]==="undefined"){this.list[e]={}}this.list[e][i]={dateStop:(new Date).getTime()+n,callback:typeof s==="function"?s:function(){},callbackParams:l};return true}},{key:"has",value:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"default";i=i==null?"default":i;if(i.toString().length<=0||typeof this.list[e]==="undefined"){return false}return!!this.list[e][i]}},{key:"stop",value:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"default";var n=arguments.length>2?arguments[2]:undefined;i=i==null?"default":i;if(i.toString().length<=0||typeof this.list[e]==="undefined"){return false}if(!this.list[e][i]){return true}if(n!==true){this.list[e][i]["callback"](i,this.list[e][i]["callbackParams"])}delete this.list[e][i];return true}},{key:"stopAll",value:function t(e){for(var i in this.list){if(this.list.hasOwnProperty(i)){for(var n in this.list[i]){if(this.list[i].hasOwnProperty(n)){this.stop(i,n,e)}}}}return true}},{key:"worker",value:function t(){for(var e in this.list){if(!this.list.hasOwnProperty(e)){continue}for(var i in this.list[e]){if(!this.list[e].hasOwnProperty(i)||this.list[e][i]["dateStop"]>new Date){continue}this.stop(e,i)}}return true}},{key:"clean",value:function t(){clearInterval(this.updateIntervalId);this.stopAll(true);return true}}]);return t}();t.Timer=e})(this.BX.Messenger.Lib=this.BX.Messenger.Lib||{});
 



// file: /bitrix/js/im/controller/dist/controller.bundle.js
this.BX=this.BX||{};(function(e,t,i,s,a,n,r,o,l,u,d,c){"use strict";var h=function(){function e(){babelHelpers.classCallCheck(this,e);this.controller=null;this.timer=new o.Timer;this._prepareFilesBeforeSave=function(e){return e};this.defaultMessageLimit=20;this.requestMessageLimit=this.getDefaultMessageLimit();this.messageLastReadId={};this.messageReadQueue={}}babelHelpers.createClass(e,[{key:"setCoreController",value:function e(t){this.controller=t}},{key:"getSiteId",value:function e(){return this.controller.getStore().state.application.common.siteId}},{key:"getUserId",value:function e(){return this.controller.getStore().state.application.common.userId}},{key:"getLanguageId",value:function e(){return this.controller.getStore().state.application.common.languageId}},{key:"getCurrentUser",value:function e(){return this.controller.getStore().getters["users/get"](this.controller.getStore().state.application.common.userId,true)}},{key:"getChatId",value:function e(){return this.controller.getStore().state.application.dialog.chatId}},{key:"getDialogId",value:function e(){return this.controller.getStore().state.application.dialog.dialogId}},{key:"getData",value:function e(){return this.controller.getStore().state.application}},{key:"getDialogData",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getDialogId();if(this.controller.getStore().state.dialogues.collection[t]){return this.controller.getStore().state.dialogues.collection[t]}return this.controller.getStore().getters["dialogues/getBlank"]()}},{key:"getDialogCrmData",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getDialogId();var i={enabled:false,entityType:d.DialogCrmType.none,entityId:0};var s=this.getDialogData(t);if(s.type===d.DialogType.call){if(s.entityData1&&typeof s.entityData1==="string"){var a=s.entityData1.split("|"),n=babelHelpers.slicedToArray(a,3),r=n[0],o=n[1],l=n[2];if(r){o=o?o.toString().toLowerCase():d.DialogCrmType.none;i={enabled:r,entityType:o,entityId:l}}}}else if(s.type===d.DialogType.crm){var u=s.entityId.split("|"),c=babelHelpers.slicedToArray(u,2),h=c[0],g=c[1];h=h?h.toString().toLowerCase():d.DialogCrmType.none;i={enabled:true,entityType:h,entityId:g}}return i}},{key:"getDialogIdByChatId",value:function e(t){if(this.getDialogId()==="chat"+t){return this.getDialogId()}var i=this.controller.getStore().getters["dialogues/getByChatId"](t);if(!i){return 0}return i.dialogId}},{key:"getDiskFolderId",value:function e(){return this.controller.getStore().state.application.dialog.diskFolderId}},{key:"getDefaultMessageLimit",value:function e(){return this.defaultMessageLimit}},{key:"getRequestMessageLimit",value:function e(){return this.requestMessageLimit}},{key:"muteDialog",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getDialogId();if(l.Utils.dialog.isEmptyDialogId(s)){return false}if(i===null){i=!this.isDialogMuted()}this.timer.start("muteDialog",s,.3,function(e){t.controller.restClient.callMethod(d.RestMethod.imChatMute,{DIALOG_ID:s,ACTION:i?"Y":"N"})});var a=[];if(i){a=this.getDialogData().muteList;a.push(this.getUserId())}else{a=this.getDialogData().muteList.filter(function(e){return e!==t.getUserId()})}this.controller.getStore().dispatch("dialogues/update",{dialogId:s,fields:{muteList:a}});return true}},{key:"isDialogMuted",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getDialogId();return this.getDialogData().muteList.includes(this.getUserId())}},{key:"isUnreadMessagesLoaded",value:function e(){var t=this.controller.getStore().state.dialogues.collection[this.getDialogId()];if(!t){return true}if(t.unreadLastId<=0){return true}var i=this.controller.getStore().state.messages.collection[this.getChatId()];if(!i||i.length<=0){return true}var s=0;for(var a=i.length-1;a>=0;a--){var n=i[a];if(typeof n.id==="number"){s=n.id;break}}return s>=t.unreadLastId}},{key:"prepareFilesBeforeSave",value:function e(t){return this._prepareFilesBeforeSave(t)}},{key:"setPrepareFilesBeforeSaveFunction",value:function e(t){this._prepareFilesBeforeSave=t.bind(this)}},{key:"showSmiles",value:function e(){this.store.dispatch("application/showSmiles")}},{key:"hideSmiles",value:function e(){this.store.dispatch("application/hideSmiles")}},{key:"startOpponentWriting",value:function e(t){var i=this;var s=t.dialogId,a=t.userId,n=t.userName;this.controller.getStore().dispatch("dialogues/updateWriting",{dialogId:s,userId:a,userName:n,action:true});this.timer.start("writingEnd",s+"|"+a,35,function(e,t){var s=t.dialogId,a=t.userId;i.controller.getStore().dispatch("dialogues/updateWriting",{dialogId:s,userId:a,action:false})},{dialogId:s,userId:a});return true}},{key:"stopOpponentWriting",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=t.dialogId,s=t.userId,a=t.userName;this.timer.stop("writingStart",i+"|"+s,true);this.timer.stop("writingEnd",i+"|"+s);return true}},{key:"startWriting",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getDialogId();if(l.Utils.dialog.isEmptyDialogId(i)||this.timer.has("writes",i)){return false}this.timer.start("writes",i,28);this.timer.start("writesSend",i,5,function(e){t.controller.restClient.callMethod(d.RestMethod.imDialogWriting,{DIALOG_ID:i}).catch(function(){t.timer.stop("writes",i)})})}},{key:"stopWriting",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getDialogId();this.timer.stop("writes",t,true);this.timer.stop("writesSend",t,true)}},{key:"joinParentChat",value:function e(t,i){var s=this;return new Promise(function(e,a){if(!t||!i){return a()}if(typeof s.tempJoinChat==="undefined"){s.tempJoinChat={}}else if(s.tempJoinChat["wait"]){return a()}s.tempJoinChat["wait"]=true;s.controller.restClient.callMethod(d.RestMethod.imChatParentJoin,{DIALOG_ID:i,MESSAGE_ID:t}).then(function(){s.tempJoinChat["wait"]=false;s.tempJoinChat[i]=true;return e(i)}).catch(function(){s.tempJoinChat["wait"]=false;return a()})})}},{key:"setTextareaMessage",value:function e(t){var i=t.message,s=i===void 0?"":i,a=t.dialogId,n=a===void 0?this.getDialogId():a;this.controller.getStore().dispatch("dialogues/update",{dialogId:n,fields:{textareaMessage:s}})}},{key:"setSendingMessageFlag",value:function e(t){this.controller.getStore().dispatch("messages/actionStart",{id:t,chatId:this.getChatId()})}},{key:"reactMessage",value:function e(t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"auto";this.controller.restClient.callMethod(d.RestMethod.imMessageLike,{MESSAGE_ID:t,ACTION:i==="auto"?"auto":i==="set"?"plus":"minus"})}},{key:"readMessage",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=this.getChatId();if(typeof this.messageLastReadId[n]==="undefined"){this.messageLastReadId[n]=null}if(typeof this.messageReadQueue[n]==="undefined"){this.messageReadQueue[n]=[]}if(i){this.messageReadQueue[n].push(parseInt(i))}this.timer.stop("readMessage",n,true);this.timer.stop("readMessageServer",n,true);if(s){return this.readMessageExecute(n,a)}return new Promise(function(e,i){t.timer.start("readMessage",n,.1,function(i,s){return t.readMessageExecute(i,a).then(function(t){return e(t)})})})}},{key:"readMessageExecute",value:function e(t){var i=this;var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return new Promise(function(e,a){if(i.messageReadQueue[t]){i.messageReadQueue[t]=i.messageReadQueue[t].filter(function(e){if(!i.messageLastReadId[t]){i.messageLastReadId[t]=e}else if(i.messageLastReadId[t]<e){i.messageLastReadId[t]=e}})}var n=i.getDialogIdByChatId(t);var r=i.messageLastReadId[t]||0;if(r<=0){e({dialogId:n,lastId:0});return true}i.controller.getStore().dispatch("messages/readMessages",{chatId:t,readId:r}).then(function(a){i.controller.getStore().dispatch("dialogues/decreaseCounter",{dialogId:n,count:a.count});if(i.getChatId()===t&&i.controller.getStore().getters["dialogues/canSaveChat"]){var o=i.controller.getStore().getters["dialogues/get"](n);if(o.counter<=0){i.controller.getStore().commit("application/clearDialogExtraCount")}}if(s){e({dialogId:n,lastId:r})}else{i.timer.start("readMessageServer",t,.5,function(){i.controller.restClient.callMethod(d.RestMethod.imDialogRead,{DIALOG_ID:n,MESSAGE_ID:r}).then(function(){return e({dialogId:n,lastId:r})}).catch(function(){return e({dialogId:n,lastId:r})})})}}).catch(function(){e()})})}},{key:"unreadMessage",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=this.getChatId();if(typeof this.messageLastReadId[a]==="undefined"){this.messageLastReadId[a]=null}if(typeof this.messageReadQueue[a]==="undefined"){this.messageReadQueue[a]=[]}if(i){this.messageReadQueue[a]=this.messageReadQueue[a].filter(function(e){return e<i})}this.timer.stop("readMessage",a,true);this.timer.stop("readMessageServer",a,true);this.messageLastReadId[a]=i;this.controller.getStore().dispatch("messages/unreadMessages",{chatId:a,unreadId:this.messageLastReadId[a]}).then(function(e){var n=t.getDialogIdByChatId(a);t.controller.getStore().dispatch("dialogues/update",{dialogId:n,fields:{unreadId:i}});t.controller.getStore().dispatch("dialogues/increaseCounter",{dialogId:n,count:e.count});if(!s){t.controller.restClient.callMethod(d.RestMethod.imDialogUnread,{DIALOG_ID:n,MESSAGE_ID:t.messageLastReadId[a]})}}).catch(function(){})}},{key:"shareMessage",value:function e(t,i){this.controller.restClient.callMethod(d.RestMethod.imMessageShare,{DIALOG_ID:this.getDialogId(),MESSAGE_ID:t,TYPE:i});return true}},{key:"replyToUser",value:function e(t,i){return true}},{key:"openMessageReactionList",value:function e(t,i){return true}},{key:"emit",value:function e(t){var i;for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++){a[n-1]=arguments[n]}(i=u.Vue.event).$emit.apply(i,[t].concat(a))}},{key:"listen",value:function e(t,i){u.Vue.event.$on(t,i)}}]);return e}();var g=function(){function e(){babelHelpers.classCallCheck(this,e);this.paginationCount=50;this.loadingMore=false;this.hasMoreToLoad=true;this.placeholderCount=0;this.lastMessageDate=null}babelHelpers.createClass(e,[{key:"setCoreController",value:function e(t){this.controller=t}},{key:"drawPlaceholders",value:function e(){var t=this.generatePlaceholders(this.paginationCount);this.controller.getStore().dispatch("recent/set",{general:t})}},{key:"getRecentData",value:function e(){var t=this;var i={SKIP_OPENLINES:"Y",LIMIT:this.paginationCount};this.controller.restClient.callMethod(d.RestMethod.imRecentList,i,null,null).then(function(e){t.lastMessageDate=t.getLastMessageDate(e.data().items);if(e.data().items.length!==t.paginationCount){t.hasMoreToLoad=false}t.controller.getStore().dispatch("recent/clearPlaceholders");t.controller.executeRestAnswer(d.RestMethodHandler.imRecentList,e)})}},{key:"loadMore",value:function e(){var t=this;if(!this.loadingMore&&this.hasMoreToLoad){this.loadingMore=true;var i=this.placeholderCount;var s=this.generatePlaceholders(this.paginationCount);this.controller.getStore().dispatch("recent/set",{general:s}).then(function(){var e={SKIP_OPENLINES:"Y",LIMIT:t.paginationCount,LAST_MESSAGE_UPDATE:t.lastMessageDate};t.controller.restClient.callMethod(d.RestMethod.imRecentList,e,null,null).then(function(e){var s=e.data().items;if(!s||s.length===0){t.controller.getStore().dispatch("recent/clearPlaceholders");return false}if(s.length!==t.paginationCount){t.hasMoreToLoad=false}t.lastMessageDate=t.getLastMessageDate(s);var a=t.prepareDataForModels(s);t.controller.getStore().dispatch("users/set",a.users).then(function(){t.controller.getStore().dispatch("dialogues/set",a.dialogues).then(function(){t.controller.getStore().dispatch("recent/updatePlaceholders",{items:a.recent,firstMessage:i}).then(function(){t.loadingMore=false;if(!t.hasMoreToLoad){t.controller.getStore().dispatch("recent/clearPlaceholders")}})})})})})}}},{key:"generatePlaceholders",value:function e(t){var i=[];for(var s=0;s<t;s++){i.push({id:"placeholder"+this.placeholderCount,templateId:"placeholder"+this.placeholderCount,template:"placeholder",sectionCode:"general"});this.placeholderCount++}return i}},{key:"getLastMessageDate",value:function e(t){return t.slice(-1)[0].date_update}},{key:"openOldDialog",value:function e(t){if(t.id!=="notify"){BXIM.openMessenger(t.id)}else{BXIM.openNotify()}}},{key:"openOldContextMenu",value:function e(t){t.$event.preventDefault();var i=this.controller.getStore().getters["recent/get"](t.id);var s={userId:t.id,userIsChat:typeof t.id==="string",dialogIsPinned:i.element.pinned};BXIM.messenger.openPopupMenu(t.$event.target,"contactList",undefined,s)}},{key:"prepareDataForModels",value:function e(t){var i={users:[],dialogues:[],recent:[]};t.forEach(function(e){var t=0;var s=0;if(e.user&&e.user.id>0){t=e.user.id;i.users.push(e.user)}if(e.chat){s=e.chat.id;i.dialogues.push(Object.assign(e.chat,{dialogId:e.id}))}else{i.dialogues.push(Object.assign({},{dialogId:e.id}))}i.recent.push(babelHelpers.objectSpread({},e,{avatar:e.avatar.url,color:e.avatar.color,userId:t,chatId:s}))});return i}}]);return e}();var f=function(){function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);this.inited=false;this.initPromise=new Promise(function(e,i){t.initPromiseResolver=e});this.offline=false;this.restAnswerHandler=[];this.vuexAdditionalModel=[];this.store=null;this.storeBuilder=null;this.init().then(function(){return t.prepareParams(i)}).then(function(){return t.initController()}).then(function(){return t.initLocalStorage()}).then(function(){return t.initStorage()}).then(function(){return t.initRestClient()}).then(function(){return t.initPullClient()}).then(function(){return t.initEnvironment()}).then(function(){return t.initComplete()}).catch(function(){c.Logger.log("error initializing core controller")})}babelHelpers.createClass(e,[{key:"init",value:function e(){return Promise.resolve()}},{key:"prepareParams",value:function e(a){var n=this;if(typeof a.localize!=="undefined"){this.localize=a.localize}else{if(typeof BX!=="undefined"){this.localize=babelHelpers.objectSpread({},BX.message)}else{this.localize={}}}if(typeof a.host!=="undefined"){this.host=a.host}else{this.host=location.origin}if(typeof a.userId!=="undefined"){var r=parseInt(a.userId);if(!isNaN(r)){this.userId=r}else{this.userId=0}}else{var o=this.getLocalize("USER_ID");this.userId=o?parseInt(o):0}if(typeof a.siteId!=="undefined"){if(typeof a.siteId==="string"&&a.siteId!==""){this.siteId=a.siteId}else{this.siteId="s1"}}else{this.siteId=this.getLocalize("SITE_ID")||"s1"}if(typeof a.siteDir!=="undefined"){if(typeof a.siteDir==="string"&&a.siteDir!==""){this.siteDir=a.siteDir}else{this.siteDir="s1"}}else{this.siteDir=this.getLocalize("SITE_DIR")||"s1"}if(typeof a.languageId!=="undefined"){if(typeof a.languageId==="string"&&a.languageId!==""){this.languageId=a.languageId}else{this.languageId="en"}}else{this.languageId=this.getLocalize("LANGUAGE_ID")||"en"}this.pullInstance=t.PullClient;this.pullClient=t.PULL;if(typeof a.pull!=="undefined"){if(typeof a.pull.instance!=="undefined"){this.pullInstance=a.pull.instance}if(typeof a.pull.client!=="undefined"){this.pullClient=a.pull.client}}this.restInstance=i.RestClient;this.restClient=i.rest;if(typeof a.rest!=="undefined"){if(typeof a.rest.instance!=="undefined"){this.restInstance=a.rest.instance}if(typeof a.rest.client!=="undefined"){this.restClient=a.rest.client}}this.vuexBuilder={database:false,databaseName:"desktop/im",databaseType:s.VuexBuilder.DatabaseType.indexedDb};if(typeof a.vuexBuilder!=="undefined"){if(typeof a.vuexBuilder.database!=="undefined"){this.vuexBuilder.database=a.vuexBuilder.database}if(typeof a.vuexBuilder.databaseName!=="undefined"){this.vuexBuilder.databaseName=a.vuexBuilder.databaseName}if(typeof a.vuexBuilder.databaseType!=="undefined"){this.vuexBuilder.databaseType=a.vuexBuilder.databaseType}if(typeof a.vuexBuilder.models!=="undefined"){a.vuexBuilder.models.forEach(function(e){n.addVuexModel(e)})}}return Promise.resolve()}},{key:"initController",value:function e(){this.application=new h;this.application.setCoreController(this);this.recent=new g;this.recent.setCoreController(this);return new Promise(function(e,t){return e()})}},{key:"initLocalStorage",value:function e(){return new Promise(function(e,t){return e()})}},{key:"initStorage",value:function e(){var t=this;var i={common:{host:this.getHost(),userId:this.getUserId(),siteId:this.getSiteId(),languageId:this.getLanguageId()},dialog:{messageLimit:this.application.getDefaultMessageLimit(),enableReadMessages:false},device:{type:l.Utils.device.isMobile()?d.DeviceType.mobile:d.DeviceType.desktop,orientation:l.Utils.device.getOrientation()}};var n=(new s.VuexBuilder).addModel(a.ApplicationModel.create().useDatabase(false).setVariables(i)).addModel(a.MessagesModel.create().useDatabase(this.vuexBuilder.database).setVariables({host:this.getHost()})).addModel(a.DialoguesModel.create().useDatabase(this.vuexBuilder.database).setVariables({host:this.getHost()})).addModel(a.FilesModel.create().useDatabase(this.vuexBuilder.database).setVariables({host:this.getHost(),default:{name:"File is deleted"}})).addModel(a.UsersModel.create().useDatabase(this.vuexBuilder.database).setVariables({host:this.getHost(),default:{name:"Anonymous"}})).addModel(a.RecentModel.create().useDatabase(false).setVariables({host:this.getHost()}));this.vuexAdditionalModel.forEach(function(e){n.addModel(e)});n.setDatabaseConfig({name:this.vuexBuilder.databaseName,type:this.vuexBuilder.databaseType,siteId:this.getSiteId(),userId:this.getUserId()});return n.build().then(function(e){t.store=e.store;t.storeBuilder=e.builder;return new Promise(function(e,t){return e()})})}},{key:"initRestClient",value:function e(t){this.addRestAnswerHandler(r.CoreRestHandler.create({store:this.store,controller:this}));return new Promise(function(e,t){return e()})}},{key:"initPullClient",value:function e(){if(!this.pullClient){return false}this.pullClient.subscribe(this.pullBaseHandler=new n.ImBasePullHandler({store:this.store,controller:this}));this.pullClient.subscribe({type:this.pullInstance.SubscriptionType.Status,callback:this.eventStatusInteraction.bind(this)});this.pullClient.subscribe({type:this.pullInstance.SubscriptionType.Online,callback:this.eventOnlineInteraction.bind(this)});return new Promise(function(e,t){return e()})}},{key:"initEnvironment",value:function e(t){var i=this;window.addEventListener("orientationchange",function(){if(!i.store){return}i.store.commit("application/set",{device:{orientation:l.Utils.device.getOrientation()}});if(i.store.state.application.device.type===d.DeviceType.mobile&&i.store.state.application.device.orientation===d.DeviceOrientation.horizontal){document.activeElement.blur()}});return new Promise(function(e,t){return e()})}},{key:"initComplete",value:function e(){this.inited=true;this.initPromiseResolver(this)}},{key:"eventStatusInteraction",value:function e(t){if(t.status===this.pullInstance.PullStatus.Online){this.offline=false}else if(t.status===this.pullInstance.PullStatus.Offline){this.offline=true}}},{key:"eventOnlineInteraction",value:function e(t){if(t.command==="list"||t.command==="userStatus"){for(var i in t.params.users){if(!t.params.users.hasOwnProperty(i)){continue}this.store.dispatch("users/update",{id:t.params.users[i].id,fields:t.params.users[i]})}}}},{key:"executeRestAnswer",value:function e(t,i,s){c.Logger.warn("Core.controller.executeRestAnswer",t,i,s);this.restAnswerHandler.forEach(function(e){e.execute(t,i,s)})}},{key:"createVue",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var s=this;var a=this.restClient;var n=this.pullClient||null;var r=function e(){};if(i.beforeCreate){r=i.beforeCreate}var o=function e(){};if(i.destroyed){o=i.destroyed}var l={store:this.store,beforeCreate:function e(){this.$bitrixApplication=t;this.$bitrixController=s;this.$bitrixRestClient=a;this.$bitrixPullClient=n;this.$bitrixMessages=s.localize;r.bind(this)()},destroyed:function e(){this.$bitrixApplication=null;this.$bitrixController=null;this.$bitrixRestClient=null;this.$bitrixPullClient=null;this.$bitrixMessages=null;o.bind(this)()}};if(i.el){l.el=i.el}if(i.template){l.template=i.template}if(i.computed){l.computed=i.computed}if(i.created){l.created=i.created}if(i.data){l.data=i.data}return new Promise(function(e,t){l.created=function(){e(this)};u.Vue.create(l)})}},{key:"getHost",value:function e(){return this.host}},{key:"setHost",value:function e(t){this.host=t;this.store.commit("application/set",{common:{host:t}})}},{key:"getUserId",value:function e(){return this.userId}},{key:"setUserId",value:function e(t){var i=parseInt(t);if(!isNaN(i)){this.userId=i}else{this.userId=0}this.store.commit("application/set",{common:{userId:t}})}},{key:"getSiteId",value:function e(){return this.siteId}},{key:"setSiteId",value:function e(t){if(typeof t==="string"&&t!==""){this.siteId=t}else{this.siteId="s1"}this.store.commit("application/set",{common:{siteId:this.siteId}})}},{key:"getLanguageId",value:function e(){return this.languageId}},{key:"setLanguageId",value:function e(t){if(typeof t==="string"&&t!==""){this.languageId=t}else{this.languageId="en"}this.store.commit("application/set",{common:{languageId:this.languageId}})}},{key:"getStore",value:function e(){return this.store}},{key:"getStoreBuilder",value:function e(){return this.storeBuilder}},{key:"addRestAnswerHandler",value:function e(t){this.restAnswerHandler.push(t)}},{key:"addVuexModel",value:function e(t){this.vuexAdditionalModel.push(t)}},{key:"isOnline",value:function e(){return!this.offline}},{key:"ready",value:function e(){if(this.inited){return Promise.resolve(this)}return this.initPromise}},{key:"setError",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";c.Logger.error("Messenger.Application.error: ".concat(t," (").concat(i,")"));var s="";if(t.endsWith("LOCALIZED")){s=i}this.store.commit("application/set",{error:{active:true,code:t,description:s}})}},{key:"clearError",value:function e(){this.store.commit("application/set",{error:{active:false,code:"",description:""}})}},{key:"addLocalize",value:function e(t){if(babelHelpers.typeof(t)!=="object"||!t){return false}for(var i in t){if(t.hasOwnProperty(i)){this.localize[i]=t[i]}}return true}},{key:"getLocalize",value:function e(t){var i="";if(typeof t==="undefined"){return this.localize}else if(typeof this.localize[t.toString()]==="undefined"){c.Logger.warn("Controller.Core.getLocalize: message with code '".concat(t.toString(),"' is undefined."))}else{i=this.localize[t]}return i}}]);return e}();e.Controller=f})(this.BX.Messenger=this.BX.Messenger||{},BX,BX,BX,BX.Messenger.Model,BX.Messenger.Provider.Pull,BX.Messenger.Provider.Rest,BX.Messenger.Lib,BX.Messenger.Lib,BX,BX.Messenger.Const,BX.Messenger.Lib);
 



// file: /bitrix/js/im/lib/cookie/dist/cookie.bundle.js
this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};(function(e,i){"use strict";var o={get:function e(o,t){var n=o?o+"_"+t:t;if(navigator.cookieEnabled){var r=document.cookie.match(new RegExp("(?:^|; )"+n.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));if(r){return decodeURIComponent(r[1])}}if(i.LocalStorage.isEnabled()){var s=i.LocalStorage.get(o,0,t,undefined);if(typeof s!=="undefined"){return s}}if(typeof window.BX.GuestUserCookie==="undefined"){window.BX.GuestUserCookie={}}return window.BX.GuestUserCookie[n]},set:function e(o,t,n,r){r=r||{};var s=r.expires;if(typeof s=="number"&&s){var a=new Date;a.setTime(a.getTime()+s*1e3);s=r.expires=a}if(s&&s.toUTCString){r.expires=s.toUTCString()}n=encodeURIComponent(n);var u=o?o+"_"+t:t;var f=u+"="+n;for(var d in r){if(!r.hasOwnProperty(d)){continue}f+="; "+d;var c=r[d];if(c!==true){f+="="+c}}document.cookie=f;if(typeof window.BX.GuestUserCookie==="undefined"){BX.GuestUserCookie={}}window.BX.GuestUserCookie[u]=n;i.LocalStorage.set(o,0,t,n);return true}};e.Cookie=o})(this.BX.Messenger.Lib=this.BX.Messenger.Lib||{},BX.Messenger.Lib);
 



// file: /bitrix/js/imopenlines/component/widget/dist/widget.bundle.js
(function(t,e,i,o,s,n,a,r,l,c,d,h,u,g,m,f,p,v,b,w,x,y,C,I){"use strict";function T(t){var e=[];for(var i in t){if(t.hasOwnProperty(i)){e.push(t[i])}}return e}var E=Object.freeze({none:"none",like:"like",dislike:"dislike"});var S=Object.freeze({russian:"ru",ukraine:"ua",world:"en"});var M=Object.freeze({none:"none",like:"like",smile:"smile",consent:"consent",welcome:"welcome",offline:"offline",history:"history"});var L=Object.freeze({topLeft:1,topMiddle:2,topBottom:3,bottomLeft:6,bottomMiddle:5,bottomRight:4});var k=Object.freeze({1:"top-left",2:"top-center",3:"top-right",6:"bottom-left",5:"bottom-center",4:"bottom-right"});var _=Object.freeze({configLoaded:"configLoaded",widgetOpen:"widgetOpen",widgetClose:"widgetClose",sessionStart:"sessionStart",sessionOperatorChange:"sessionOperatorChange",sessionFinish:"sessionFinish",operatorMessage:"operatorMessage",userForm:"userForm",userMessage:"userMessage",userFile:"userFile",userVote:"userVote",every:"every"});var D=T(_);var A=Object.freeze({widgetUserRegister:"imopenlines.widget.user.register",widgetConfigGet:"imopenlines.widget.config.get",widgetDialogGet:"imopenlines.widget.dialog.get",widgetUserGet:"imopenlines.widget.user.get",widgetUserConsentApply:"imopenlines.widget.user.consent.apply",widgetVoteSend:"imopenlines.widget.vote.send",widgetFormSend:"imopenlines.widget.form.send",pullServerTime:"server.time",pullConfigGet:"pull.config.get"});var F=T(A);var H=Object.freeze({guest:"guest"});var R=Object.freeze({new:0,skip:5,answer:10,client:20,clientAfterOperator:25,operator:40,waitClient:50,close:60,spam:65,duplicate:69,silentlyClose:75});var $=function(t){babelHelpers.inherits(e,t);function e(){babelHelpers.classCallCheck(this,e);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).apply(this,arguments))}babelHelpers.createClass(e,[{key:"getName",value:function t(){return"widget"}},{key:"getState",value:function t(){return{common:{configId:0,configName:"",host:this.getVariable("common.host",location.protocol+"//"+location.host),pageMode:this.getVariable("common.pageMode",false),copyright:this.getVariable("common.copyright",true),copyrightUrl:this.getVariable("common.copyrightUrl","https://bitrix24.com"),location:this.getVariable("common.location",L.bottomRight),styles:{backgroundColor:this.getVariable("styles.backgroundColor","#17a3ea"),iconColor:this.getVariable("styles.iconColor","#ffffff")},vote:{enable:false,beforeFinish:true,messageText:this.getVariable("vote.messageText",""),messageLike:this.getVariable("vote.messageLike",""),messageDislike:this.getVariable("vote.messageDislike","")},textMessages:{bxLivechatOnlineLine1:this.getVariable("textMessages.bxLivechatOnlineLine1",""),bxLivechatOnlineLine2:this.getVariable("textMessages.bxLivechatOnlineLine2",""),bxLivechatOffline:this.getVariable("textMessages.bxLivechatOffline",""),bxLivechatTitle:""},online:false,operators:[],connectors:[],showForm:M.none,showed:false,reopen:false,dragged:false,textareaHeight:0,widgetHeight:0,widgetWidth:0,showConsent:false,consentUrl:"",dialogStart:false,watchTyping:false},dialog:{sessionId:0,sessionClose:true,sessionStatus:0,userVote:E.none,userConsent:false,operatorChatId:0,operator:{id:0,name:"",firstName:"",lastName:"",workPosition:"",avatar:"",online:false}},user:{id:-1,hash:"",name:"",firstName:"",lastName:"",avatar:"",email:"",phone:"",www:"",gender:"M",position:""}}}},{key:"getStateSaveException",value:function t(){return{common:{host:null,pageMode:null,copyright:null,copyrightUrl:null,styles:null,dragged:null,showed:null,showConsent:null,showForm:null}}}},{key:"getMutations",value:function t(){var e=this;return{common:function t(i,o){if(typeof o.configId==="number"){i.common.configId=o.configId}if(typeof o.configName==="string"){i.common.configName=o.configName}if(typeof o.online==="boolean"){i.common.online=o.online}if(y.Utils.types.isPlainObject(o.vote)){if(typeof o.vote.enable==="boolean"){i.common.vote.enable=o.vote.enable}if(typeof o.vote.beforeFinish==="boolean"){i.common.vote.beforeFinish=o.vote.beforeFinish}if(typeof o.vote.messageText==="string"){i.common.vote.messageText=o.vote.messageText}if(typeof o.vote.messageLike==="string"){i.common.vote.messageLike=o.vote.messageLike}if(typeof o.vote.messageDislike==="string"){i.common.vote.messageDislike=o.vote.messageDislike}}if(y.Utils.types.isPlainObject(o.textMessages)){if(typeof o.textMessages.bxLivechatOnlineLine1==="string"&&o.textMessages.bxLivechatOnlineLine1!==""){i.common.textMessages.bxLivechatOnlineLine1=o.textMessages.bxLivechatOnlineLine1}if(typeof o.textMessages.bxLivechatOnlineLine2==="string"&&o.textMessages.bxLivechatOnlineLine2!==""){i.common.textMessages.bxLivechatOnlineLine2=o.textMessages.bxLivechatOnlineLine2}if(typeof o.textMessages.bxLivechatOffline==="string"&&o.textMessages.bxLivechatOffline!==""){i.common.textMessages.bxLivechatOffline=o.textMessages.bxLivechatOffline}if(typeof o.textMessages.bxLivechatTitle==="string"&&o.textMessages.bxLivechatTitle!==""){i.common.textMessages.bxLivechatTitle=o.textMessages.bxLivechatTitle}}if(typeof o.dragged==="boolean"){i.common.dragged=o.dragged}if(typeof o.textareaHeight==="number"){i.common.textareaHeight=o.textareaHeight}if(typeof o.widgetHeight==="number"){i.common.widgetHeight=o.widgetHeight}if(typeof o.widgetWidth==="number"){i.common.widgetWidth=o.widgetWidth}if(typeof o.showConsent==="boolean"){i.common.showConsent=o.showConsent}if(typeof o.consentUrl==="string"){i.common.consentUrl=o.consentUrl}if(typeof o.showed==="boolean"){i.common.showed=o.showed;o.reopen=y.Utils.device.isMobile()?false:o.showed}if(typeof o.reopen==="boolean"){i.common.reopen=o.reopen}if(typeof o.copyright==="boolean"){i.common.copyright=o.copyright}if(typeof o.dialogStart==="boolean"){i.common.dialogStart=o.dialogStart}if(typeof o.watchTyping==="boolean"){i.common.watchTyping=o.watchTyping}if(o.operators instanceof Array){i.common.operators=o.operators}if(o.connectors instanceof Array){i.common.connectors=o.connectors}if(typeof o.showForm==="string"&&typeof M[o.showForm]!=="undefined"){i.common.showForm=o.showForm}if(typeof o.location==="number"&&typeof k[o.location]!=="undefined"){if(i.common.location!==o.location){i.common.widgetHeight=0;i.common.widgetWidth=0;i.common.location=o.location}}if(e.isSaveNeeded({common:o})){e.saveState(i)}},dialog:function t(i,o){if(typeof o.sessionId==="number"){i.dialog.sessionId=o.sessionId}if(typeof o.sessionClose==="boolean"){i.dialog.sessionClose=o.sessionClose}if(typeof o.sessionStatus==="number"){i.dialog.sessionStatus=o.sessionStatus}if(typeof o.userConsent==="boolean"){i.dialog.userConsent=o.userConsent}if(typeof o.userVote==="string"&&typeof o.userVote!=="undefined"){i.dialog.userVote=o.userVote}if(typeof o.operatorChatId==="number"){i.dialog.operatorChatId=o.operatorChatId}if(y.Utils.types.isPlainObject(o.operator)){if(typeof o.operator.id==="number"){i.dialog.operator.id=o.operator.id}if(typeof o.operator.name==="string"||typeof o.operator.name==="number"){i.dialog.operator.name=o.operator.name.toString()}if(typeof o.operator.lastName==="string"||typeof o.operator.lastName==="number"){i.dialog.operator.lastName=o.operator.lastName.toString()}if(typeof o.operator.firstName==="string"||typeof o.operator.firstName==="number"){i.dialog.operator.firstName=o.operator.firstName.toString()}if(typeof o.operator.workPosition==="string"||typeof o.operator.workPosition==="number"){i.dialog.operator.workPosition=o.operator.workPosition.toString()}if(typeof o.operator.avatar==="string"){if(!o.operator.avatar||o.operator.avatar.startsWith("http")){i.dialog.operator.avatar=o.operator.avatar}else{i.dialog.operator.avatar=i.common.host+o.operator.avatar}}if(typeof o.operator.online==="boolean"){i.dialog.operator.online=o.operator.online}}if(e.isSaveNeeded({dialog:o})){e.saveState(i)}},user:function t(i,o){if(typeof o.id==="number"){i.user.id=o.id}if(typeof o.hash==="string"&&o.hash!==i.user.hash){i.user.hash=o.hash;m.Cookie.set(null,"LIVECHAT_HASH",o.hash,{expires:365*86400,path:"/"})}if(typeof o.name==="string"||typeof o.name==="number"){i.user.name=o.name.toString()}if(typeof o.firstName==="string"||typeof o.firstName==="number"){i.user.firstName=o.firstName.toString()}if(typeof o.lastName==="string"||typeof o.lastName==="number"){i.user.lastName=o.lastName.toString()}if(typeof o.avatar==="string"){i.user.avatar=o.avatar}if(typeof o.email==="string"){i.user.email=o.email}if(typeof o.phone==="string"||typeof o.phone==="number"){i.user.phone=o.phone.toString()}if(typeof o.www==="string"){i.user.www=o.www}if(typeof o.gender==="string"){i.user.gender=o.gender}if(typeof o.position==="string"){i.user.position=o.position}if(e.isSaveNeeded({user:o})){e.saveState(i)}}}}},{key:"getActions",value:function t(){return{show:function t(e){var i=e.commit;i("common",{showed:true})}}}}]);return e}(I.VuexBuilderModel);var P=function(){function t(e){babelHelpers.classCallCheck(this,t);this.queryAuthRestore=false;this.setAuthId(H.guest);this.restClient=new c.RestClient({endpoint:e.endpoint,queryParams:this.queryParams,cors:true})}babelHelpers.createClass(t,[{key:"setAuthId",value:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(babelHelpers.typeof(this.queryParams)!=="object"){this.queryParams={}}if(e==H.guest||typeof e==="string"&&e.match(/^[a-f0-9]{32}$/)){this.queryParams.livechat_auth_id=e}else{console.error("%LiveChatRestClient.setAuthId: auth is not correct (%c".concat(e,"%c)"),"color: black;","font-weight: bold; color: red","color: black");return false}if(e==H.guest&&typeof i==="string"&&i.match(/^[a-f0-9]{32}$/)){this.queryParams.livechat_custom_auth_id=i}return true}},{key:"getAuthId",value:function t(){if(babelHelpers.typeof(this.queryParams)!=="object"){this.queryParams={}}return this.queryParams.livechat_auth_id||null}},{key:"callMethod",value:function t(e,i,o,s){var n=this;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(!a){a=y.Utils.getLogTrackingParams({name:e})}var r=new BX.Promise;this.restClient.callMethod(e,i,null,s,a).then(function(t){n.queryAuthRestore=false;r.fulfill(t)}).catch(function(t){var o=t.error();if(o.ex.error=="LIVECHAT_AUTH_WIDGET_USER"){n.setAuthId(o.ex.hash);if(e===A.widgetUserRegister){console.warn("BX.LiveChatRestClient: ".concat(o.ex.error_description," (").concat(o.ex.error,")"));n.queryAuthRestore=false;r.reject(t);return false}if(!n.queryAuthRestore){console.warn("BX.LiveChatRestClient: your auth-token has expired, send query with a new token");n.queryAuthRestore=true;n.restClient.callMethod(e,i,null,s,a).then(function(t){n.queryAuthRestore=false;r.fulfill(t)}).catch(function(t){n.queryAuthRestore=false;r.reject(t)});return false}}n.queryAuthRestore=false;r.reject(t)});return r}},{key:"callBatch",value:function t(e,i,o,s,n){var a=this;var r=function t(r){for(var l in e){if(!e.hasOwnProperty(l)){continue}var c=r[l].error();if(c&&c.ex.error=="LIVECHAT_AUTH_WIDGET_USER"){a.setAuthId(c.ex.hash);if(l===A.widgetUserRegister){console.warn("BX.LiveChatRestClient: ".concat(c.ex.error_description," (").concat(c.ex.error,")"));a.queryAuthRestore=false;i(r);return false}if(!a.queryAuthRestore){console.warn("BX.LiveChatRestClient: your auth-token has expired, send query with a new token");a.queryAuthRestore=true;a.restClient.callBatch(e,i,o,s,n);return false}}}a.queryAuthRestore=false;i(r);return true};return this.restClient.callBatch(e,r,o,s,n)}}]);return t}();var B=function(t){babelHelpers.inherits(e,t);function e(){var t;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,e);t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).call(this,i));t.widget=i.widget;return t}babelHelpers.createClass(e,[{key:"handleImopenlinesWidgetConfigGetSuccess",value:function t(e){this.store.commit("widget/common",{configId:e.configId,configName:e.configName,vote:e.vote,textMessages:e.textMessages,operators:e.operators||[],online:e.online,consentUrl:e.consentUrl,connectors:e.connectors||[],watchTyping:e.watchTyping});this.store.commit("application/set",{disk:e.disk});this.widget.addLocalize(e.serverVariables);f.LocalStorage.set(this.widget.getSiteId(),0,"serverVariables",e.serverVariables||{})}},{key:"handleImopenlinesWidgetUserRegisterSuccess",value:function t(e){this.widget.restClient.setAuthId(e.hash);var i=[];if(typeof this.store.state.messages.collection[this.controller.application.getChatId()]!=="undefined"){i=this.store.state.messages.collection[this.controller.application.getChatId()]}this.store.commit("messages/initCollection",{chatId:e.chatId,messages:i});this.store.commit("dialogues/initCollection",{dialogId:e.dialogId,fields:{entityType:"LIVECHAT",type:"livechat"}});this.store.commit("application/set",{dialog:{chatId:e.chatId,dialogId:"chat"+e.chatId}})}},{key:"handleImopenlinesWidgetUserGetSuccess",value:function t(e){this.store.commit("widget/user",{id:e.id,hash:e.hash,name:e.name,firstName:e.firstName,lastName:e.lastName,phone:e.phone,avatar:e.avatar,email:e.email,www:e.www,gender:e.gender,position:e.position});this.store.dispatch("users/set",[{id:e.id,name:e.name,firstName:e.firstName,lastName:e.lastName,avatar:e.avatar,gender:e.gender,workPosition:e.position}]);this.store.commit("application/set",{common:{userId:e.id}})}},{key:"handleImopenlinesWidgetDialogGetSuccess",value:function t(e){this.store.commit("messages/initCollection",{chatId:e.chatId});this.store.commit("widget/dialog",e);this.store.commit("application/set",{dialog:{chatId:e.chatId,dialogId:"chat"+e.chatId,diskFolderId:e.diskFolderId}})}},{key:"handleImDialogMessagesGetInitSuccess",value:function t(e){this.handleImDialogMessagesGetSuccess(e)}},{key:"handleImDialogMessagesGetSuccess",value:function t(e){if(e.messages&&e.messages.length>0&&!this.widget.isDialogStart()){this.store.commit("widget/common",{dialogStart:true});this.store.commit("widget/dialog",{userConsent:true})}}},{key:"handleImMessageAddSuccess",value:function t(e,i){this.widget.messagesQueue=this.widget.messagesQueue.filter(function(t){return t.id!=i.id});this.widget.sendEvent({type:_.userMessage,data:{id:e,text:i.text}})}},{key:"handleImMessageAddError",value:function t(e,i){this.widget.messagesQueue=this.widget.messagesQueue.filter(function(t){return t.id!=i.id})}},{key:"handleImDiskFileCommitSuccess",value:function t(e,i){this.widget.messagesQueue=this.widget.messagesQueue.filter(function(t){return t.id!=i.id});this.widget.sendEvent({type:_.userFile,data:{}})}}]);return e}(d.BaseRestHandler);var U=function(){babelHelpers.createClass(t,[{key:"getModuleId",value:function t(){return"im"}}],[{key:"create",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new this(e)}}]);function t(e){babelHelpers.classCallCheck(this,t);this.controller=e.controller;this.store=e.store;this.widget=e.widget}babelHelpers.createClass(t,[{key:"handleMessageChat",value:function t(e,i,o){if(e.message.senderId!=this.controller.application.getUserId()){this.widget.sendEvent({type:_.operatorMessage,data:e});if(!this.store.state.widget.common.showed&&!this.widget.onceShowed){this.widget.onceShowed=true;this.widget.open()}}}}]);return t}();var N=function(){babelHelpers.createClass(t,null,[{key:"create",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new this(e)}}]);function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,t);this.controller=e.controller;this.store=e.store;this.widget=e.widget}babelHelpers.createClass(t,[{key:"getModuleId",value:function t(){return"imopenlines"}},{key:"handleSessionStart",value:function t(e,i,o){this.store.commit("widget/dialog",{sessionId:e.sessionId,sessionClose:false,sessionStatus:0,userVote:E.none});this.widget.sendEvent({type:_.sessionStart,data:{sessionId:e.sessionId}})}},{key:"handleSessionOperatorChange",value:function t(e,i,o){this.store.commit("widget/dialog",{operator:e.operator,operatorChatId:e.operatorChatId});this.widget.sendEvent({type:_.sessionOperatorChange,data:{operator:e.operator}})}},{key:"handleSessionStatus",value:function t(e,i,o){this.store.commit("widget/dialog",{sessionId:e.sessionId,sessionStatus:e.sessionStatus,sessionClose:e.sessionClose});this.widget.sendEvent({type:_.sessionStatus,data:{sessionId:e.sessionId,sessionStatus:e.sessionStatus}});if(e.sessionClose){this.widget.sendEvent({type:_.sessionFinish,data:{sessionId:e.sessionId,sessionStatus:e.sessionStatus}});if(!e.spam){this.store.commit("widget/dialog",{operator:{name:"",firstName:"",lastName:"",workPosition:"",avatar:"",online:false}})}}}}]);return t}();var V=function(){function t(){var e=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};babelHelpers.classCallCheck(this,t);this.params=i;this.template=null;this.rootNode=this.params.node||document.createElement("div");this.messagesQueue=[];this.ready=true;this.widgetDataRequested=false;this.offline=false;this.inited=false;this.initEventFired=false;this.restClient=null;this.userRegisterData={};this.customData=[];this.subscribers={};this.configRequestXhr=null;this.initParams().then(function(){return e.initRestClient()}).then(function(){return e.initPullClient()}).then(function(){return e.initCore()}).then(function(){return e.initWidget()}).then(function(){return e.initComplete()})}babelHelpers.createClass(t,[{key:"initParams",value:function t(){this.code=this.params.code||"";this.host=this.params.host||"";this.language=this.params.language||"en";this.copyright=this.params.copyright!==false;this.copyrightUrl=this.copyright&&this.params.copyrightUrl?this.params.copyrightUrl:"";this.buttonInstance=babelHelpers.typeof(this.params.buttonInstance)==="object"&&this.params.buttonInstance!==null?this.params.buttonInstance:null;this.pageMode=babelHelpers.typeof(this.params.pageMode)==="object"&&this.params.pageMode;if(this.pageMode){this.pageMode.useBitrixLocalize=this.params.pageMode.useBitrixLocalize===true;this.pageMode.placeholder=document.getElementById(this.params.pageMode.placeholder)}if(typeof this.code==="string"){if(this.code.length<=0){console.warn("%cLiveChatWidget.constructor: code is not correct (%c".concat(this.code,"%c)"),"color: black;","font-weight: bold; color: red","color: black");this.ready=false}}if(typeof this.host==="string"){if(this.host.length<=0||!this.host.startsWith("http")){console.warn("%cLiveChatWidget.constructor: host is not correct (%c".concat(this.host,"%c)"),"color: black;","font-weight: bold; color: red","color: black");this.ready=false}}if(this.pageMode&&this.pageMode.placeholder){this.rootNode=this.pageMode.placeholder}else{if(document.body.firstChild){document.body.insertBefore(this.rootNode,document.body.firstChild)}else{document.body.appendChild(this.rootNode)}}this.localize=this.pageMode&&this.pageMode.useBitrixLocalize?window.BX.message:{};if(babelHelpers.typeof(this.params.localize)==="object"){this.addLocalize(this.params.localize)}var e=f.LocalStorage.get(this.getSiteId(),0,"serverVariables",false);if(e){this.addLocalize(e)}return new Promise(function(t,e){return t()})}},{key:"initRestClient",value:function t(){this.restClient=new P({endpoint:this.host+"/rest"});return new Promise(function(t,e){return t()})}},{key:"initPullClient",value:function t(){this.pullClient=new u.PullClient({serverEnabled:true,userId:0,siteId:this.getSiteId(),restClient:this.restClient,skipStorageInit:true,configTimestamp:0,skipCheckRevision:true,getPublicListMethod:"imopenlines.widget.operator.get"});this.pullClientInited=false;return new Promise(function(t,e){return t()})}},{key:"initCore",value:function t(){var e=this;var i={common:{host:this.getHost(),pageMode:this.pageMode!==false,copyright:this.copyright,copyrightUrl:this.copyrightUrl},vote:{messageText:this.getLocalize("BX_LIVECHAT_VOTE_TITLE"),messageLike:this.getLocalize("BX_LIVECHAT_VOTE_PLUS_TITLE"),messageDislike:this.getLocalize("BX_LIVECHAT_VOTE_MINUS_TITLE")},textMessages:{bxLivechatOnlineLine1:this.getLocalize("BX_LIVECHAT_ONLINE_LINE_1"),bxLivechatOnlineLine2:this.getLocalize("BX_LIVECHAT_ONLINE_LINE_2"),bxLivechatOffline:this.getLocalize("BX_LIVECHAT_OFFLINE")}};if(y.Utils.types.isPlainObject(this.params.styles)&&(this.params.styles.backgroundColor||this.params.styles.iconColor)){i.styles={};if(this.params.styles.backgroundColor){i.styles.backgroundColor=this.params.styles.backgroundColor}if(this.params.styles.iconColor){i.styles.iconColor=this.params.styles.iconColor}}this.controller=new g.Controller({host:this.getHost(),siteId:this.getSiteId(),userId:0,languageId:this.language,pull:{client:this.pullClient},rest:{client:this.restClient},localize:this.localize,vuexBuilder:{database:!y.Utils.browser.isIe(),databaseName:"imol/widget",databaseType:I.VuexBuilder.DatabaseType.localStorage,models:[$.create().setVariables(i)]}});return new Promise(function(t,i){e.controller.ready().then(function(){return t()})})}},{key:"initWidget",value:function t(){if(this.isUserRegistered()){this.restClient.setAuthId(this.getUserHash())}else{this.restClient.setAuthId(H.guest)}if(this.params.location&&typeof k[this.params.location]!=="undefined"){this.controller.getStore().commit("widget/common",{location:this.params.location})}this.controller.application.setPrepareFilesBeforeSaveFunction(this.prepareFileData.bind(this));this.controller.addRestAnswerHandler(B.create({widget:this,store:this.controller.getStore(),controller:this.controller}));return new Promise(function(t,e){return t()})}},{key:"initComplete",value:function t(){window.dispatchEvent(new CustomEvent("onBitrixLiveChat",{detail:{widget:this,widgetCode:this.code,widgetHost:this.host}}));if(this.callStartFlag){this.start()}if(this.pageMode||this.callOpenFlag){this.open()}return new Promise(function(t,e){return t()})}},{key:"requestWidgetData",value:function t(){var e=this;if(!this.isReady()){console.error("LiveChatWidget.start: widget code or host is not specified");return false}this.widgetDataRequested=true;if(!this.isUserRegistered()&&(this.userRegisterData.hash||this.getUserHashCookie())){this.requestData();this.inited=true;this.fireInitEvent()}else if(this.isConfigDataLoaded()&&this.isUserRegistered()){this.requestData();this.inited=true;this.fireInitEvent()}else{this.controller.restClient.callMethod(A.widgetConfigGet,{code:this.code},function(t){e.configRequestXhr=t}).then(function(t){e.configRequestXhr=null;e.clearError();e.controller.executeRestAnswer(A.widgetConfigGet,t);if(!e.inited){e.inited=true;e.fireInitEvent()}}).catch(function(t){e.configRequestXhr=null;e.setError(t.error().ex.error,t.error().ex.error_description)});if(this.isConfigDataLoaded()){this.inited=true;this.fireInitEvent()}}}},{key:"requestData",value:function t(){var e=this;if(this.requestDataSend){return true}this.requestDataSend=true;if(this.configRequestXhr){this.configRequestXhr.abort()}var i=babelHelpers.defineProperty({},A.widgetConfigGet,[A.widgetConfigGet,{code:this.code}]);if(this.isUserRegistered()){i[A.widgetDialogGet]=[A.widgetDialogGet,{config_id:this.getConfigId(),trace_data:this.getCrmTraceData(),custom_data:this.getCustomData()}];i[b.RestMethodHandler.imChatGet]=[b.RestMethod.imChatGet,{dialog_id:"$result["+A.widgetDialogGet+"][dialogId]"}];i[b.RestMethodHandler.imDialogMessagesGetInit]=[b.RestMethod.imDialogMessagesGet,{chat_id:"$result["+A.widgetDialogGet+"][chatId]",limit:this.controller.application.getRequestMessageLimit(),convert_text:"Y"}]}else{i[A.widgetUserRegister]=[A.widgetUserRegister,babelHelpers.objectSpread({config_id:"$result["+A.widgetConfigGet+"][configId]"},this.getUserRegisterFields())];i[b.RestMethodHandler.imChatGet]=[b.RestMethod.imChatGet,{dialog_id:"$result["+A.widgetUserRegister+"][dialogId]"}];if(this.userRegisterData.hash||this.getUserHashCookie()){i[A.widgetDialogGet]=[A.widgetDialogGet,{config_id:"$result["+A.widgetConfigGet+"][configId]",trace_data:this.getCrmTraceData(),custom_data:this.getCustomData()}];i[b.RestMethodHandler.imDialogMessagesGetInit]=[b.RestMethod.imDialogMessagesGet,{chat_id:"$result["+A.widgetDialogGet+"][chatId]",limit:this.controller.application.getRequestMessageLimit(),convert_text:"Y"}]}if(this.isUserAgreeConsent()){i[A.widgetUserConsentApply]=[A.widgetUserConsentApply,{config_id:"$result["+A.widgetConfigGet+"][configId]",consent_url:location.href}]}}i[A.pullServerTime]=[A.pullServerTime,{}];i[A.pullConfigGet]=[A.pullConfigGet,{CACHE:"N"}];i[A.widgetUserGet]=[A.widgetUserGet,{}];this.controller.restClient.callBatch(i,function(t){if(!t){e.requestDataSend=false;e.setError("EMPTY_RESPONSE","Server returned an empty response.");return false}var i=t[A.widgetConfigGet];if(i&&i.error()){e.requestDataSend=false;e.setError(i.error().ex.error,i.error().ex.error_description);return false}e.controller.executeRestAnswer(A.widgetConfigGet,i);var o=t[A.widgetUserGet];if(o.error()){e.requestDataSend=false;e.setError(o.error().ex.error,o.error().ex.error_description);return false}e.controller.executeRestAnswer(A.widgetUserGet,o);var s=t[b.RestMethodHandler.imChatGet];if(s.error()){e.requestDataSend=false;e.setError(s.error().ex.error,s.error().ex.error_description);return false}e.controller.executeRestAnswer(b.RestMethodHandler.imChatGet,s);var n=t[A.widgetDialogGet];if(n){if(n.error()){e.requestDataSend=false;e.setError(n.error().ex.error,n.error().ex.error_description);return false}e.controller.executeRestAnswer(A.widgetDialogGet,n)}var a=t[b.RestMethodHandler.imDialogMessagesGetInit];if(a){if(a.error()){e.requestDataSend=false;e.setError(a.error().ex.error,a.error().ex.error_description);return false}e.controller.getStore().dispatch("dialogues/saveDialog",{dialogId:e.controller.application.getDialogId(),chatId:e.controller.application.getChatId()});e.controller.executeRestAnswer(b.RestMethodHandler.imDialogMessagesGetInit,a)}var r=t[A.widgetUserRegister];if(r){if(r.error()){e.requestDataSend=false;e.setError(r.error().ex.error,r.error().ex.error_description);return false}e.controller.executeRestAnswer(A.widgetUserRegister,r)}var l=0;var c=t[A.pullServerTime];if(c&&!c.error()){l=Math.floor(((new Date).getTime()-new Date(c.data()).getTime())/1e3)}var d=null;var h=t[A.pullConfigGet];if(h&&!h.error()){d=h.data();d.server.timeShift=l}e.startPullClient(d).then(function(){e.processSendMessages()}).catch(function(t){e.setError(t.ex.error,t.ex.error_description)});e.requestDataSend=false},false,false,y.Utils.getLogTrackingParams({name:"widget.init.config",dialog:this.controller.application.getDialogData()}))}},{key:"prepareFileData",value:function t(e){var i=this;if(!y.Utils.types.isArray(e)){return e}return e.map(function(t){var e=(window.md5||v.md5)(i.getUserId()+"|"+t.id+"|"+i.getUserHash());var o="livechat_auth_id="+e+"&livechat_user_id="+i.getUserId();if(t.urlPreview){t.urlPreview=t.urlPreview+"&"+o}if(t.urlShow){t.urlShow=t.urlShow+"&"+o}if(t.urlDownload){t.urlDownload=t.urlDownload+"&"+o}return t})}},{key:"checkBrowserVersion",value:function t(){if(y.Utils.platform.isIos()){var e=y.Utils.platform.getIosVersion();if(e&&e<=10){return false}}return true}},{key:"startPullClient",value:function t(e){var i=this;var o=new BX.Promise;if(!this.getUserId()||!this.getSiteId()||!this.restClient){o.reject({ex:{error:"WIDGET_NOT_LOADED",error_description:"Widget is not loaded."}});return o}if(this.pullClientInited){if(!this.pullClient.isConnected()){this.pullClient.scheduleReconnect()}o.resolve(true);return o}this.controller.userId=this.getUserId();this.pullClient.userId=this.getUserId();this.pullClient.configTimestamp=e?e.server.config_timestamp:0;this.pullClient.skipStorageInit=false;this.pullClient.storage=u.PullClient.StorageManager({userId:this.getUserId(),siteId:this.getSiteId()});this.pullClient.subscribe(new U({store:this.controller.getStore(),controller:this.controller,widget:this}));this.pullClient.subscribe(new N({store:this.controller.getStore(),controller:this.controller,widget:this}));this.pullClient.subscribe({type:u.PullClient.SubscriptionType.Status,callback:this.eventStatusInteraction.bind(this)});this.pullConnectedFirstTime=this.pullClient.subscribe({type:u.PullClient.SubscriptionType.Status,callback:function t(e){if(e.status===u.PullClient.PullStatus.Online){o.resolve(true);i.pullConnectedFirstTime()}}});if(this.template){this.template.$root.$bitrixPullClient=this.pullClient;this.template.$root.$emit("onBitrixPullClientInited",this.pullClient)}this.pullClient.start(babelHelpers.objectSpread({},e,{skipReconnectToLastSession:true})).catch(function(){o.reject({ex:{error:"PULL_CONNECTION_ERROR",error_description:"Pull is not connected."}})});this.pullClientInited=true;return o}},{key:"stopPullClient",value:function t(){if(this.pullClient){this.pullClient.stop(u.PullClient.CloseReasons.MANUAL,"Closed manually")}}},{key:"recoverPullConnection",value:function t(){this.pullClient.restart(u.PullClient.CloseReasons.MANUAL,"Restart after click by connection status button.")}},{key:"eventStatusInteraction",value:function t(e){var i=this;if(e.status===u.PullClient.PullStatus.Online){this.offline=false;if(this.pullRequestMessage){this.getDialogUnread().then(function(){i.processSendMessages()});this.pullRequestMessage=false}else{this.readMessage();this.processSendMessages()}}else if(e.status===u.PullClient.PullStatus.Offline){this.pullRequestMessage=true;this.offline=true}}},{key:"attachTemplate",value:function t(){var e=this;if(this.template){this.controller.getStore().commit("widget/common",{showed:true});return true}this.rootNode.innerHTML="";this.rootNode.appendChild(document.createElement("div"));var i=this;return this.controller.createVue(i,{el:this.rootNode.firstChild,template:"<bx-livechat/>",beforeCreate:function t(){i.sendEvent({type:_.widgetOpen,data:{}})},destroyed:function t(){i.sendEvent({type:_.widgetClose,data:{}});i.template=null;i.templateAttached=false;i.rootNode.innerHTML=""}}).then(function(t){e.template=t;return new Promise(function(t,e){return t()})})}},{key:"detachTemplate",value:function t(){if(!this.template){return true}this.template.$destroy();return true}},{key:"mutateTemplateComponent",value:function t(e,i){return C.Vue.mutateComponent(e,i)}},{key:"addMessage",value:function t(){var e=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!i&&!o){return false}p.Logger.warn("addMessage",i,o);if(!this.controller.application.isUnreadMessagesLoaded()){this.sendMessage({id:0,text:i,file:o});this.processSendMessages();return true}this.controller.getStore().commit("application/increaseDialogExtraCount");var s={};if(o){s.FILE_ID=[o.id]}this.controller.getStore().dispatch("messages/add",{chatId:this.getChatId(),authorId:this.getUserId(),text:i,params:s,sending:!o}).then(function(t){if(!e.isDialogStart()){e.controller.getStore().commit("widget/common",{dialogStart:true})}e.messagesQueue.push({id:t,text:i,file:o,sending:false});if(e.getChatId()){e.processSendMessages()}else{e.requestData()}});return true}},{key:"uploadFile",value:function t(e){var i=this;if(!e){return false}p.Logger.warn("addFile",e.files[0].name,e.files[0].size,e.files[0]);var o=e.files[0];var s="file";if(o.type.toString().startsWith("image")){s="image"}if(!this.controller.application.isUnreadMessagesLoaded()){this.addMessage("",{id:0,source:e});return true}this.controller.getStore().dispatch("files/add",{chatId:this.getChatId(),authorId:this.getUserId(),name:o.name,type:s,extension:o.name.split(".").splice(-1)[0],size:o.size,image:false,status:b.FileStatus.upload,progress:0,authorName:this.controller.application.getCurrentUser().name,urlPreview:""}).then(function(t){return i.addMessage("",{id:t,source:e})});return true}},{key:"cancelUploadFile",value:function t(e){var i=this;var o=this.messagesQueue.find(function(t){return t.file&&t.file.id===e});if(o){if(o.xhr){o.xhr.abort()}this.controller.getStore().dispatch("messages/delete",{chatId:this.getChatId(),id:o.id}).then(function(){i.controller.getStore().dispatch("files/delete",{chatId:i.getChatId(),id:o.file.id});i.messagesQueue=i.messagesQueue.filter(function(t){return t.id!==o.id})})}}},{key:"processSendMessages",value:function t(){var e=this;if(this.offline){return false}this.messagesQueue.filter(function(t){return!t.sending}).forEach(function(t){t.sending=true;if(t.file){e.sendMessageWithFile(t)}else{e.sendMessage(t)}});return true}},{key:"sendMessage",value:function t(e){var i=this;this.controller.application.stopWriting();var o=this.controller.getStore().getters["dialogues/getQuoteId"](this.getDialogId());if(o){var s=this.controller.getStore().getters["messages/getMessage"](this.getChatId(),o);if(s){var n=this.controller.getStore().getters["users/get"](s.authorId);var a=[];a.push("------------------------------------------------------");a.push(n.name?n.name:this.getLocalize("BX_LIVECHAT_SYSTEM_MESSAGE"));a.push(s.text);a.push("------------------------------------------------------");a.push(e.text);e.text=a.join("\n");this.quoteMessageClear()}}e.chatId=this.getChatId();this.controller.restClient.callMethod(b.RestMethod.imMessageAdd,{TEMPLATE_ID:e.id,CHAT_ID:e.chatId,MESSAGE:e.text},null,null,y.Utils.getLogTrackingParams({name:b.RestMethod.imMessageAdd,data:{timMessageType:"text"},dialog:this.getDialogData()})).then(function(t){i.controller.executeRestAnswer(b.RestMethodHandler.imMessageAdd,t,e)}).catch(function(t){i.controller.executeRestAnswer(b.RestMethodHandler.imMessageAdd,t,e)});return true}},{key:"sendMessageWithFile",value:function t(e){var i=this;this.controller.application.stopWriting();var o=this.controller.getStore().getters["files/get"](this.getChatId(),e.file.id,true).type;var s=this.getDiskFolderId();var n={};if(s){n[b.RestMethodHandler.imDiskFileUpload]=[b.RestMethod.imDiskFileUpload,{id:s,data:{NAME:e.file.source.files[0].name},fileContent:e.file.source,generateUniqueName:true}]}else{n[b.RestMethodHandler.imDiskFolderGet]=[b.RestMethod.imDiskFolderGet,{chat_id:this.getChatId()}];n[b.RestMethodHandler.imDiskFileUpload]=[b.RestMethod.imDiskFileUpload,{id:"$result["+b.RestMethodHandler.imDiskFolderGet+"][ID]",data:{NAME:e.file.source.files[0].name},fileContent:e.file.source,generateUniqueName:true}]}this.controller.restClient.callBatch(n,function(t){if(!t){i.requestDataSend=false;console.warn("EMPTY_RESPONSE","Server returned an empty response. [1]");i.fileError(i.getChatId,e.file.id,e.id);return false}if(!s){var n=t[b.RestMethodHandler.imDiskFolderGet];if(n&&n.error()){console.warn(n.error().ex.error,n.error().ex.error_description);i.fileError(i.getChatId(),e.file.id,e.id);return false}i.controller.executeRestAnswer(b.RestMethodHandler.imDiskFolderGet,n)}var a=0;var r=t[b.RestMethodHandler.imDiskFileUpload];if(r){var l=r.data();if(r.error()){console.warn(r.error().ex.error,r.error().ex.error_description);i.fileError(i.getChatId(),e.file.id,e.id);return false}else if(!l){console.warn("EMPTY_RESPONSE","Server returned an empty response. [2]");i.fileError(i.getChatId(),e.file.id,e.id);return false}a=l.ID}else{console.warn("EMPTY_RESPONSE","Server returned an empty response. [3]");i.fileError(i.getChatId(),e.file.id,e.id);return false}e.chatId=i.getChatId();i.controller.getStore().dispatch("files/update",{chatId:e.chatId,id:e.file.id,fields:{status:b.FileStatus.wait,progress:95}});i.fileCommit({chatId:e.chatId,uploadId:a,messageText:e.text,messageId:e.id,fileId:e.file.id,fileType:o},e)},false,function(t){e.xhr=t},y.Utils.getLogTrackingParams({name:b.RestMethodHandler.imDiskFileCommit,data:{timMessageType:o},dialog:this.getDialogData()}))}},{key:"fileError",value:function t(e,i){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this.controller.getStore().dispatch("files/update",{chatId:e,id:i,fields:{status:b.FileStatus.error,progress:0}});if(o){this.controller.getStore().dispatch("messages/actionError",{chatId:e,id:o,retry:false})}}},{key:"fileCommit",value:function t(e,i){var o=this;this.controller.restClient.callMethod(b.RestMethod.imDiskFileCommit,{chat_id:e.chatId,upload_id:e.uploadId,message:e.messageText,template_id:e.messageId,file_template_id:e.fileId},null,null,y.Utils.getLogTrackingParams({name:b.RestMethod.imDiskFileCommit,data:{timMessageType:e.fileType},dialog:this.getDialogData()})).then(function(t){o.controller.executeRestAnswer(b.RestMethodHandler.imDiskFileCommit,t,i)}).catch(function(t){o.controller.executeRestAnswer(b.RestMethodHandler.imDiskFileCommit,t,i)});return true}},{key:"getDialogHistory",value:function t(e){var i=this;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.controller.application.getRequestMessageLimit();this.controller.restClient.callMethod(b.RestMethod.imDialogMessagesGet,{CHAT_ID:this.getChatId(),LAST_ID:e,LIMIT:o,CONVERT_TEXT:"Y"}).then(function(t){i.controller.executeRestAnswer(b.RestMethodHandler.imDialogMessagesGet,t);i.template.$emit(b.EventType.dialog.requestHistoryResult,{count:t.data().messages.length})}).catch(function(t){i.template.$emit(b.EventType.dialog.requestHistoryResult,{error:t.error().ex})})}},{key:"getDialogUnread",value:function t(e){var i=this;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.controller.application.getRequestMessageLimit();var s=new BX.Promise;if(!e){e=this.controller.getStore().getters["messages/getLastId"](this.controller.application.getChatId())}if(!e){this.template.$emit(b.EventType.dialog.requestUnreadResult,{error:{error:"LAST_ID_EMPTY",error_description:"LastId is empty."}});s.reject();return s}this.controller.application.readMessage(e,true,true).then(function(){var t;var n=(t={},babelHelpers.defineProperty(t,b.RestMethodHandler.imDialogRead,[b.RestMethod.imDialogRead,{dialog_id:i.getDialogId(),message_id:e}]),babelHelpers.defineProperty(t,b.RestMethodHandler.imChatGet,[b.RestMethod.imChatGet,{dialog_id:i.getDialogId()}]),babelHelpers.defineProperty(t,b.RestMethodHandler.imDialogMessagesGetUnread,[b.RestMethod.imDialogMessagesGet,{chat_id:i.getChatId(),first_id:e,limit:o,convert_text:"Y"}]),t);i.controller.restClient.callBatch(n,function(t){if(!t){i.template.$emit(b.EventType.dialog.requestUnreadResult,{error:{error:"EMPTY_RESPONSE",error_description:"Server returned an empty response."}});s.reject();return false}var e=t[b.RestMethodHandler.imChatGet];if(!e.error()){i.controller.executeRestAnswer(b.RestMethodHandler.imChatGet,e)}var o=t[b.RestMethodHandler.imDialogMessagesGetUnread];if(o.error()){i.template.$emit(b.EventType.dialog.requestUnreadResult,{error:o.error().ex})}else{i.controller.executeRestAnswer(b.RestMethodHandler.imDialogMessagesGetUnread,o);i.template.$emit(b.EventType.dialog.requestUnreadResult,{firstMessageId:o.data().messages.length>0?o.data().messages[0].id:0,count:o.data().messages.length})}s.fulfill(t)},false,false,y.Utils.getLogTrackingParams({name:b.RestMethodHandler.imDialogMessagesGetUnread,dialog:i.getDialogData()}))});return s}},{key:"retrySendMessage",value:function t(e){if(this.messagesQueue.find(function(t){return t.id===e.id})){return false}this.messagesQueue.push({id:e.id,text:e.text,sending:false});this.controller.application.setSendingMessageFlag(e.id);this.processSendMessages()}},{key:"readMessage",value:function t(e){if(this.offline){return false}return this.controller.application.readMessage(e)}},{key:"quoteMessage",value:function t(e){this.controller.getStore().dispatch("dialogues/update",{dialogId:this.controller.application.getDialogId(),fields:{quoteId:e}})}},{key:"reactMessage",value:function t(e,i){this.controller.application.reactMessage(e,i.type,i.action)}},{key:"execMessageKeyboardCommand",value:function t(e){if(e.action!=="COMMAND"){return false}var i=e.params,o=i.dialogId,s=i.messageId,n=i.botId,a=i.command,r=i.params;this.controller.restClient.callMethod(b.RestMethod.imMessageCommand,{MESSAGE_ID:s,DIALOG_ID:o,BOT_ID:n,COMMAND:a,COMMAND_PARAMS:r});return true}},{key:"quoteMessageClear",value:function t(){this.controller.getStore().dispatch("dialogues/update",{dialogId:this.controller.application.getDialogId(),fields:{quoteId:0}})}},{key:"sendDialogVote",value:function t(e){var i=this;if(!this.getSessionId()){return false}this.controller.restClient.callMethod(A.widgetVoteSend,{SESSION_ID:this.getSessionId(),ACTION:e}).catch(function(t){i.controller.getStore().commit("widget/dialog",{userVote:E.none})});this.sendEvent({type:_.userVote,data:{vote:e}})}},{key:"sendForm",value:function t(e,i){var o,s=this;p.Logger.info("LiveChatWidgetPrivate.sendForm:",e,i);var n=(o={},babelHelpers.defineProperty(o,A.widgetFormSend,[A.widgetFormSend,{CHAT_ID:this.getChatId(),FORM:e.toUpperCase(),FIELDS:i}]),babelHelpers.defineProperty(o,A.widgetUserGet,[A.widgetUserGet,{}]),o);this.controller.restClient.callBatch(n,function(t){if(!t){s.requestDataSend=false;s.setError("EMPTY_RESPONSE","Server returned an empty response.");return false}var o=t[A.widgetUserGet];if(o.error()){s.requestDataSend=false;s.setError(o.error().ex.error,o.error().ex.error_description);return false}s.controller.executeRestAnswer(A.widgetUserGet,o);s.sendEvent({type:_.userForm,data:{form:e,fields:i}})},false,false,y.Utils.getLogTrackingParams({name:A.widgetUserGet,dialog:this.getDialogData()}))}},{key:"sendConsentDecision",value:function t(e){e=e===true;this.controller.getStore().commit("widget/dialog",{userConsent:e});if(e&&this.isUserRegistered()){this.controller.restClient.callMethod(A.widgetUserConsentApply,{config_id:this.getConfigId(),consent_url:location.href})}}},{key:"start",value:function t(){if(!this.controller||!this.controller.getStore()){this.callStartFlag=true;return true}if(this.isSessionActive()){this.requestWidgetData()}return true}},{key:"open",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};clearTimeout(this.openTimeout);if(!this.controller.getStore()){this.callOpenFlag=true;return true}if(!e.openFromButton&&this.buttonInstance){this.buttonInstance.wm.showById("openline_livechat")}if(!this.checkBrowserVersion()){this.setError("OLD_BROWSER_LOCALIZED",this.localize.BX_LIVECHAT_OLD_BROWSER)}else if(y.Utils.versionCompare(C.Vue.version(),"2.1")<0){alert(this.localize.BX_LIVECHAT_OLD_VUE);console.error("LiveChatWidget.error: OLD_VUE_VERSION (".concat(this.localize.BX_LIVECHAT_OLD_VUE_DEV.replace("#CURRENT_VERSION#",C.Vue.version()),")"));return false}else if(!this.isWidgetDataRequested()){this.requestWidgetData()}this.attachTemplate()}},{key:"close",value:function t(){if(this.pageMode){return false}if(this.buttonInstance){this.buttonInstance.onWidgetClose()}this.detachTemplate()}},{key:"showNotification",value:function t(e){if(!this.controller.getStore()){console.error("LiveChatWidget.showNotification: method can be called after fired event - onBitrixLiveChat");return false}}},{key:"fireInitEvent",value:function t(){if(this.initEventFired){return true}this.sendEvent({type:_.configLoaded,data:{}});if(this.controller.getStore().state.widget.common.reopen){this.open()}this.initEventFired=true;return true}},{key:"isReady",value:function t(){return this.ready}},{key:"isInited",value:function t(){return this.inited}},{key:"isUserRegistered",value:function t(){return!!this.getUserHash()}},{key:"isConfigDataLoaded",value:function t(){return this.controller.getStore().state.widget.common.configId}},{key:"isWidgetDataRequested",value:function t(){return this.widgetDataRequested}},{key:"isChatLoaded",value:function t(){return this.controller.getStore().state.application.dialog.chatId>0}},{key:"isSessionActive",value:function t(){return!this.controller.getStore().state.widget.dialog.sessionClose}},{key:"isUserAgreeConsent",value:function t(){return this.controller.getStore().state.widget.dialog.userConsent}},{key:"getCrmTraceData",value:function t(){var e="";if(!this.buttonInstance){return e}if(typeof this.buttonInstance.getTrace!=="function"){e=this.buttonInstance.getTrace()}else if(typeof this.buttonInstance.b24Tracker!=="undefined"&&typeof this.buttonInstance.b24Tracker.guest!=="undefined"){e=this.buttonInstance.b24Tracker.guest.getTrace()}return e}},{key:"getCustomData",value:function t(){var e=[];if(this.customData.length>0){e=this.customData}else{e=[{MESSAGE:this.localize.BX_LIVECHAT_EXTRA_SITE+": "+location.href}]}return JSON.stringify(e)}},{key:"isUserLoaded",value:function t(){return this.controller.getStore().state.widget.user.id>0}},{key:"getSiteId",value:function t(){return this.host.replace(/(http.?:\/\/)|([:.\\\/])/gm,"")+this.code}},{key:"getHost",value:function t(){return this.host}},{key:"getConfigId",value:function t(){return this.controller.getStore().state.widget.common.configId}},{key:"isDialogStart",value:function t(){return this.controller.getStore().state.widget.common.dialogStart}},{key:"getChatId",value:function t(){return this.controller.getStore().state.application.dialog.chatId}},{key:"getDialogId",value:function t(){return this.controller.getStore().state.application.dialog.dialogId}},{key:"getDiskFolderId",value:function t(){return this.controller.getStore().state.application.dialog.diskFolderId}},{key:"getDialogData",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getDialogId();return this.controller.getStore().state.dialogues.collection[e]}},{key:"getSessionId",value:function t(){return this.controller.getStore().state.widget.dialog.sessionId}},{key:"getUserHash",value:function t(){return this.controller.getStore().state.widget.user.hash}},{key:"getUserHashCookie",value:function t(){var e="";var i=m.Cookie.get(null,"LIVECHAT_HASH");if(typeof i==="string"&&i.match(/^[a-f0-9]{32}$/)){e=i}else{var o=m.Cookie.get(this.getSiteId(),"LIVECHAT_HASH");if(typeof o==="string"&&o.match(/^[a-f0-9]{32}$/)){e=o}}return e}},{key:"getUserId",value:function t(){return this.controller.getStore().state.widget.user.id}},{key:"getUserData",value:function t(){if(!this.controller.getStore()){console.error("LiveChatWidget.getUserData: method can be called after fired event - onBitrixLiveChat");return false}return this.controller.getStore().state.widget.user}},{key:"getUserRegisterFields",value:function t(){return{name:this.userRegisterData.name||"",last_name:this.userRegisterData.lastName||"",avatar:this.userRegisterData.avatar||"",email:this.userRegisterData.email||"",www:this.userRegisterData.www||"",gender:this.userRegisterData.gender||"",position:this.userRegisterData.position||"",user_hash:this.userRegisterData.hash||this.getUserHashCookie()||"",consent_url:this.controller.getStore().state.widget.common.consentUrl?location.href:"",trace_data:this.getCrmTraceData(),custom_data:this.getCustomData()}}},{key:"getWidgetLocationCode",value:function t(){return k[this.controller.getStore().state.widget.common.location]}},{key:"setUserRegisterData",value:function t(e){if(!this.controller.getStore()){console.error("LiveChatWidget.getUserData: method can be called after fired event - onBitrixLiveChat");return false}var i=["hash","name","lastName","avatar","email","www","gender","position"];if(!y.Utils.types.isPlainObject(e)){console.error("%cLiveChatWidget.setUserData: params is not a object","color: black;");return false}for(var o in this.userRegisterData){if(!this.userRegisterData.hasOwnProperty(o)){continue}if(!e[o]){delete this.userRegisterData[o]}}for(var s in e){if(!e.hasOwnProperty(s)){continue}if(i.indexOf(s)===-1){console.warn("%cLiveChatWidget.setUserData: user field is not set, because you are trying to set an unknown field (%c".concat(s,"%c)"),"color: black;","font-weight: bold; color: red","color: black");continue}this.userRegisterData[s]=e[s]}if(this.userRegisterData.hash&&this.getUserHash()&&this.userRegisterData.hash!==this.getUserHash()){this.setNewAuthToken(this.userRegisterData.hash)}}},{key:"setNewAuthToken",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";this.controller.getStoreBuilder().clearModelState();m.Cookie.set(null,"LIVECHAT_HASH","",{expires:365*86400,path:"/"});this.controller.restClient.setAuthId(H.guest,e)}},{key:"setCustomData",value:function t(e){if(!this.controller.getStore()){console.error("LiveChatWidget.getUserData: method can be called after fired event - onBitrixLiveChat");return false}var i=[];if(e instanceof Array){e.forEach(function(t){if(t&&babelHelpers.typeof(t)==="object"){i.push(t)}});if(i.length<=0){console.error("LiveChatWidget.setCustomData: params is empty");return false}}else{if(!e){return false}i=[{MESSAGE:e}]}this.customData=this.customData.concat(i);return true}},{key:"setError",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";console.error("LiveChatWidget.error: ".concat(e," (").concat(i,")"));var o="";if(e==="LIVECHAT_AUTH_FAILED"){o=this.getLocalize("BX_LIVECHAT_AUTH_FAILED").replace("#LINK_START#",'<a href="javascript:void();" onclick="location.reload()">').replace("#LINK_END#","</a>");this.setNewAuthToken()}else if(e==="LIVECHAT_AUTH_PORTAL_USER"){o=this.getLocalize("BX_LIVECHAT_PORTAL_USER_NEW").replace("#LINK_START#",'<a href="'+this.host+'">').replace("#LINK_END#","</a>")}else if(e.endsWith("LOCALIZED")){o=i}this.controller.getStore().commit("application/set",{error:{active:true,code:e,description:o}})}},{key:"clearError",value:function t(){this.controller.getStore().commit("application/set",{error:{active:false,code:"",description:""}})}},{key:"subscribe",value:function t(e){if(!y.Utils.types.isPlainObject(e)){console.error("%cLiveChatWidget.subscribe: params is not a object","color: black;");return false}if(!D.includes(e.type)){console.error("%cLiveChatWidget.subscribe: subscription type is not correct (%c".concat(e.type,"%c)"),"color: black;","font-weight: bold; color: red","color: black");return false}if(typeof e.callback!=="function"){console.error("%cLiveChatWidget.subscribe: callback is not a function (%c".concat(babelHelpers.typeof(e.callback),"%c)"),"color: black;","font-weight: bold; color: red","color: black");return false}if(typeof this.subscribers[e.type]==="undefined"){this.subscribers[e.type]=[]}this.subscribers[e.type].push(e.callback);return function(){this.subscribers[e.type]=this.subscribers[e.type].filter(function(t){return t!==e.callback})}.bind(this)}},{key:"sendEvent",value:function t(e){e=e||{};if(!e.type){return false}if(babelHelpers.typeof(e.data)!=="object"||!e.data){e.data={}}if(this.subscribers[e.type]instanceof Array&&this.subscribers[e.type].length>0){this.subscribers[e.type].forEach(function(t){return t(e.data)})}if(this.subscribers[_.every]instanceof Array&&this.subscribers[_.every].length>0){this.subscribers[_.every].forEach(function(t){return t({type:e.type,data:e.data})})}return true}},{key:"addLocalize",value:function t(e){if(babelHelpers.typeof(e)!=="object"||!e){return false}for(var i in e){if(e.hasOwnProperty(i)){this.localize[i]=e[i]}}return true}},{key:"getLocalize",value:function t(e){var i="";if(typeof e==="undefined"){return this.localize}else if(typeof this.localize[e.toString()]==="undefined"){console.warn("LiveChatWidget.getLocalize: message with code '".concat(e.toString(),"' is undefined."))}else{i=this.localize[e]}return i}}]);return t}();var O=function(){function t(e){babelHelpers.classCallCheck(this,t);this.developerInfo="Do not use private methods.";this.__privateMethods__=new V(e);this.__createLegacyMethods()}babelHelpers.createClass(t,[{key:"open",value:function t(e){return this.__privateMethods__.open(e)}},{key:"close",value:function t(){return this.__privateMethods__.close()}},{key:"showNotification",value:function t(e){return this.__privateMethods__.showNotification(e)}},{key:"getUserData",value:function t(){return this.__privateMethods__.getUserData()}},{key:"setUserRegisterData",value:function t(e){return this.__privateMethods__.setUserRegisterData(e)}},{key:"setCustomData",value:function t(e){return this.__privateMethods__.setCustomData(e)}},{key:"mutateTemplateComponent",value:function t(e,i){return this.__privateMethods__.mutateTemplateComponent(e,i)}},{key:"addLocalize",value:function t(e){return this.__privateMethods__.addLocalize(e)}},{key:"subscribe",value:function t(e){return this.__privateMethods__.subscribe(e)}},{key:"start",value:function t(){return this.__privateMethods__.start()}},{key:"__createLegacyMethods",value:function t(){var e=this;if(typeof window.BX.LiveChat==="undefined"){var i=document.createElement("a");i.href=this.__privateMethods__.host;var o=i.protocol+"//"+i.hostname+(i.port&&i.port!="80"&&i.port!="443"?":"+i.port:"");window.BX.LiveChat={openLiveChat:function t(){e.open({openFromButton:true})},closeLiveChat:function t(){e.close()},addEventListener:function t(i,s,n){if(s==="message"){e.subscribe({type:_.userMessage,callback:function t(e){n({origin:o,data:JSON.stringify({action:"sendMessage"}),event:e})}})}else{console.warn("Method BX.LiveChat.addEventListener is not supported, user new format for subscribe.")}},setCookie:function t(){},getCookie:function t(){},sourceDomain:o}}if(typeof window.BxLiveChatInit==="function"){var s=window.BxLiveChatInit();if(s.user){this.__privateMethods__.setUserRegisterData(s.user)}if(s.firstMessage){this.__privateMethods__.setCustomData(s.firstMessage)}}if(window.BxLiveChatLoader instanceof Array){window.BxLiveChatLoader.forEach(function(t){return t()})}return true}}]);return t}();C.Vue.component("bx-livechat",{data:function t(){return{viewPortMetaSiteNode:null,viewPortMetaWidgetNode:null,storedMessage:"",storedFile:null,widgetMinimumHeight:435,widgetMinimumWidth:340,widgetBaseHeight:557,widgetBaseWidth:435,widgetMargin:50,widgetAvailableHeight:0,widgetAvailableWidth:0,widgetCurrentHeight:0,widgetCurrentWidth:0,widgetDrag:false,textareaFocused:false,textareaDrag:false,textareaHeight:100,textareaMinimumHeight:100,textareaMaximumHeight:y.Utils.device.isMobile()?200:300}},created:function t(){this.onCreated();document.addEventListener("keydown",this.onWindowKeyDown);if(!y.Utils.device.isMobile()&&!this.widget.common.pageMode){window.addEventListener("resize",this.getAvailableSpaceFunc=y.Utils.throttle(this.getAvailableSpace,50))}this.$root.$on("requestShowForm",this.onRequestShowForm)},beforeDestroy:function t(){document.removeEventListener("keydown",this.onWindowKeyDown);if(!y.Utils.device.isMobile()&&!this.widget.common.pageMode){window.removeEventListener("resize",this.getAvailableSpaceFunc)}this.$root.$off("requestShowForm",this.onRequestShowForm);this.onTextareaDragEventRemove()},computed:babelHelpers.objectSpread({FormType:function t(){return M},VoteType:function t(){return E},DeviceType:function t(){return b.DeviceType},EventType:function t(){return b.EventType},textareaHeightStyle:function t(e){return{flex:"0 0 "+this.textareaHeight+"px"}},textAreaBottomMargin:function t(){if(!this.widget.common.copyright&&!this.isBottomLocation){return{marginBottom:"5px"}}return""},widgetBaseSizes:function t(){return{width:this.widgetBaseWidth,height:this.widgetBaseHeight}},widgetHeightStyle:function t(){if(y.Utils.device.isMobile()||this.widget.common.pageMode){return}if(this.widgetAvailableHeight<this.widgetBaseSizes.height||this.widgetAvailableHeight<this.widgetCurrentHeight){this.widgetCurrentHeight=Math.max(this.widgetAvailableHeight,this.widgetMinimumHeight)}return this.widgetCurrentHeight+"px"},widgetWidthStyle:function t(){if(y.Utils.device.isMobile()||this.widget.common.pageMode){return}if(this.widgetAvailableWidth<this.widgetBaseSizes.width||this.widgetAvailableWidth<this.widgetCurrentWidth){this.widgetCurrentWidth=Math.max(this.widgetAvailableWidth,this.widgetMinimumWidth)}return this.widgetCurrentWidth+"px"},userSelectStyle:function t(){return this.widgetDrag?"none":"auto"},isBottomLocation:function t(){return[L.bottomLeft,L.bottomMiddle,L.bottomRight].includes(this.widget.common.location)},isLeftLocation:function t(){return[L.bottomLeft,L.topLeft,L.topMiddle].includes(this.widget.common.location)},localize:function t(){return C.Vue.getFilteredPhrases("BX_LIVECHAT_",this.$root.$bitrixMessages)},widgetMobileDisabled:function t(e){if(e.application.device.type===b.DeviceType.mobile){if(navigator.userAgent.toString().includes("iPad"));else if(e.application.device.orientation===b.DeviceOrientation.horizontal){if(navigator.userAgent.toString().includes("iPhone")){return true}else{return!(babelHelpers.typeof(window.screen)==="object"&&window.screen.availHeight>=800)}}}return false},widgetClassName:function t(e){var i=["bx-livechat-wrapper"];i.push("bx-livechat-show");if(e.widget.common.pageMode){i.push("bx-livechat-page-mode")}else{i.push("bx-livechat-position-"+k[e.widget.common.location])}if(e.application.common.languageId===S.russian){i.push("bx-livechat-logo-ru")}else if(e.application.common.languageId===S.ukraine){i.push("bx-livechat-logo-ua")}else{i.push("bx-livechat-logo-en")}if(!e.widget.common.online){i.push("bx-livechat-offline-state")}if(e.widget.common.dragged){i.push("bx-livechat-drag-n-drop")}if(e.widget.common.dialogStart){i.push("bx-livechat-chat-start")}if(e.widget.dialog.operator.name&&!(e.application.device.type===b.DeviceType.mobile&&e.application.device.orientation===b.DeviceOrientation.horizontal)){i.push("bx-livechat-has-operator")}if(y.Utils.device.isMobile()){i.push("bx-livechat-mobile")}else if(y.Utils.browser.isSafari()){i.push("bx-livechat-browser-safari")}else if(y.Utils.browser.isIe()){i.push("bx-livechat-browser-ie")}if(y.Utils.platform.isMac()){i.push("bx-livechat-mac")}else{i.push("bx-livechat-custom-scroll")}if(e.widget.common.styles.backgroundColor&&y.Utils.isDarkColor(e.widget.common.styles.iconColor)){i.push("bx-livechat-bright-header")}return i.join(" ")},showMessageDialog:function t(){return this.messageCollection.length>0},quotePanelData:function t(){var e={id:0,title:"",description:"",color:""};if(!this.dialog.quoteId){return e}var i=this.$store.getters["messages/getMessage"](this.dialog.chatId,this.dialog.quoteId);if(!i){return e}var o=this.$store.getters["users/get"](i.authorId);e={id:this.dialog.quoteId,title:o?o.name:"",color:o?o.color:"",description:i.textConverted?i.textConverted:this.localize.BX_LIVECHAT_FILE_MESSAGE};return e}},I.Vuex.mapState({widget:function t(e){return e.widget},application:function t(e){return e.application},dialog:function t(e){return e.dialogues.collection[e.application.dialog.dialogId]},messageCollection:function t(e){return e.messages.collection[e.application.dialog.chatId]}})),watch:{sessionClose:function t(e){p.Logger.log("sessionClose change",e)}},methods:{close:function t(e){if(this.widget.common.pageMode){return false}this.onBeforeClose();this.$store.commit("widget/common",{showed:false})},getAvailableSpace:function t(){if(this.isBottomLocation){var e=this.$refs.widgetWrapper.getBoundingClientRect().bottom;var i=window.innerHeight-e;this.widgetAvailableHeight=window.innerHeight-this.widgetMargin-i}else{var o=this.$refs.widgetWrapper.getBoundingClientRect().top;this.widgetAvailableHeight=window.innerHeight-this.widgetMargin-o}this.widgetAvailableWidth=window.innerWidth-this.widgetMargin*2},showLikeForm:function t(){if(this.offline){return false}clearTimeout(this.showFormTimeout);if(!this.widget.common.vote.enable){return false}if(this.widget.dialog.sessionClose&&this.widget.dialog.userVote!==E.none){return false}this.$store.commit("widget/common",{showForm:M.like})},showWelcomeForm:function t(){clearTimeout(this.showFormTimeout);this.$store.commit("widget/common",{showForm:M.welcome})},showOfflineForm:function t(){clearTimeout(this.showFormTimeout);if(this.widget.dialog.showForm!==M.welcome){this.$store.commit("widget/common",{showForm:M.offline})}},showHistoryForm:function t(){clearTimeout(this.showFormTimeout);this.$store.commit("widget/common",{showForm:M.history})},hideForm:function t(){clearTimeout(this.showFormTimeout);if(this.widget.common.showForm!==M.none){this.$store.commit("widget/common",{showForm:M.none})}},showConsentWidow:function t(){this.$store.commit("widget/common",{showConsent:true})},agreeConsentWidow:function t(){this.$store.commit("widget/common",{showConsent:false});this.$root.$bitrixApplication.sendConsentDecision(true);if(this.storedMessage||this.storedFile){if(this.storedMessage){this.onTextareaSend({focus:this.application.device.type!==b.DeviceType.mobile});this.storedMessage=""}if(this.storedFile){this.onTextareaFileSelected();this.storedFile=""}}else if(this.widget.common.showForm===M.none){this.$root.$emit(b.EventType.textarea.focus)}},disagreeConsentWidow:function t(){this.$store.commit("widget/common",{showForm:M.none});this.$store.commit("widget/common",{showConsent:false});this.$root.$bitrixApplication.sendConsentDecision(false);if(this.storedMessage){this.$root.$emit(b.EventType.textarea.insertText,{text:this.storedMessage,focus:this.application.device.type!==b.DeviceType.mobile});this.storedMessage=""}if(this.storedFile){this.storedFile=""}if(this.application.device.type!==b.DeviceType.mobile){this.$root.$emit(b.EventType.textarea.focus)}},logEvent:function t(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++){o[s-1]=arguments[s]}p.Logger.info.apply(p.Logger,[e].concat(o))},onCreated:function t(){var e=this;if(y.Utils.device.isMobile()){var i=Array.from(document.head.getElementsByTagName("meta")).filter(function(t){return t.name==="viewport"})[0];if(i){this.viewPortMetaSiteNode=i;document.head.removeChild(this.viewPortMetaSiteNode)}else{var o=document.body.offsetWidth;if(o<window.innerWidth){o=window.innerWidth}if(o<1024){o=1024}this.viewPortMetaSiteNode=document.createElement("meta");this.viewPortMetaSiteNode.setAttribute("name","viewport");this.viewPortMetaSiteNode.setAttribute("content","width=".concat(o,", initial-scale=1.0, user-scalable=1"))}if(!this.viewPortMetaWidgetNode){this.viewPortMetaWidgetNode=document.createElement("meta");this.viewPortMetaWidgetNode.setAttribute("name","viewport");this.viewPortMetaWidgetNode.setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=0");document.head.appendChild(this.viewPortMetaWidgetNode)}document.body.classList.add("bx-livechat-mobile-state");if(y.Utils.browser.isSafariBased()){document.body.classList.add("bx-livechat-mobile-safari-based")}setTimeout(function(){e.$store.dispatch("widget/show")},50)}else{this.$store.dispatch("widget/show").then(function(){e.widgetCurrentHeight=e.widgetBaseSizes.height;e.widgetCurrentWidth=e.widgetBaseSizes.width;e.getAvailableSpace();e.widgetCurrentHeight=e.widget.common.widgetHeight||e.widgetCurrentHeight;e.widgetCurrentWidth=e.widget.common.widgetWidth||e.widgetCurrentWidth})}this.textareaHeight=this.widget.common.textareaHeight||this.textareaHeight;this.$store.commit("files/initCollection",{chatId:this.$root.$bitrixApplication.getChatId()});this.$store.commit("messages/initCollection",{chatId:this.$root.$bitrixApplication.getChatId()});this.$store.commit("dialogues/initCollection",{dialogId:this.$root.$bitrixApplication.getDialogId(),fields:{entityType:"LIVECHAT",type:"livechat"}})},onBeforeClose:function t(){if(y.Utils.device.isMobile()){document.body.classList.remove("bx-livechat-mobile-state");if(y.Utils.browser.isSafariBased()){document.body.classList.remove("bx-livechat-mobile-safari-based")}if(this.viewPortMetaWidgetNode){document.head.removeChild(this.viewPortMetaWidgetNode);this.viewPortMetaWidgetNode=null}if(this.viewPortMetaSiteNode){document.head.appendChild(this.viewPortMetaSiteNode);this.viewPortMetaSiteNode=null}}},onAfterClose:function t(){this.$root.$bitrixApplication.close()},onRequestShowForm:function t(e){var i=this;clearTimeout(this.showFormTimeout);if(e.type===M.welcome){if(e.delayed){this.showFormTimeout=setTimeout(function(){i.showWelcomeForm()},5e3)}else{this.showWelcomeForm()}}else if(e.type===M.offline){if(e.delayed){this.showFormTimeout=setTimeout(function(){i.showOfflineForm()},3e3)}else{this.showOfflineForm()}}else if(e.type===M.like){if(e.delayed){this.showFormTimeout=setTimeout(function(){i.showLikeForm()},5e3)}else{this.showLikeForm()}}},onDialogRequestHistory:function t(e){this.$root.$bitrixApplication.getDialogHistory(e.lastId)},onDialogRequestUnread:function t(e){this.$root.$bitrixApplication.getDialogUnread(e.lastId)},onDialogMessageClickByUserName:function t(e){this.$root.$emit(b.EventType.textarea.insertText,{text:e.user.name+" "})},onDialogMessageClickByUploadCancel:function t(e){this.$root.$bitrixApplication.cancelUploadFile(e.file.id)},onDialogMessageClickByKeyboardButton:function t(e){this.$root.$bitrixApplication.execMessageKeyboardCommand(e)},onDialogMessageClickByCommand:function t(e){if(e.type==="put"){this.$root.$emit(b.EventType.textarea.insertText,{text:e.value+" "})}else if(e.type==="send"){this.$root.$bitrixApplication.addMessage(e.value)}else{p.Logger.warn("Unprocessed command",e)}},onDialogMessageMenuClick:function t(e){p.Logger.warn("Message menu:",e)},onDialogMessageRetryClick:function t(e){p.Logger.warn("Message retry:",e);this.$root.$bitrixApplication.retrySendMessage(e.message)},onDialogReadMessage:function t(e){this.$root.$bitrixApplication.readMessage(e.id)},onDialogQuoteMessage:function t(e){this.$root.$bitrixApplication.quoteMessage(e.message.id)},onDialogMessageReactionSet:function t(e){this.$root.$bitrixApplication.reactMessage(e.message.id,e.reaction)},onDialogClick:function t(e){if(this.widget.common.showForm!==M.none){this.$store.commit("widget/common",{showForm:M.none})}},onTextareaKeyUp:function t(e){if(this.widget.common.watchTyping&&this.widget.dialog.sessionId&&!this.widget.dialog.sessionClose&&this.widget.dialog.operator.id&&this.widget.dialog.operatorChatId&&this.$root.$bitrixPullClient.isPublishingEnabled()){var i=v.md5(this.widget.dialog.sessionId+"/"+this.application.dialog.chatId+"/"+this.widget.user.id);this.$root.$bitrixPullClient.sendMessage([this.widget.dialog.operator.id],"imopenlines","linesMessageWrite",{text:e.text,infoString:i,operatorChatId:this.widget.dialog.operatorChatId})}},onTextareaSend:function t(e){e.focus=e.focus!==false;if(this.widget.common.showForm===M.smile){this.$store.commit("widget/common",{showForm:M.none})}if(!this.widget.dialog.userConsent&&this.widget.common.consentUrl){if(e.text){this.storedMessage=e.text}this.showConsentWidow();return false}e.text=e.text?e.text:this.storedMessage;if(!e.text){return false}this.hideForm();this.$root.$bitrixApplication.addMessage(e.text);if(e.focus){this.$root.$emit(b.EventType.textarea.focus)}return true},onTextareaWrites:function t(e){this.$root.$bitrixController.application.startWriting()},onTextareaFocus:function t(e){var i=this;if(this.widget.common.copyright&&this.application.device.type===b.DeviceType.mobile){this.widget.common.copyright=false}if(y.Utils.device.isMobile()){clearTimeout(this.onTextareaFocusScrollTimeout);this.onTextareaFocusScrollTimeout=setTimeout(function(){document.addEventListener("scroll",i.onWindowScroll)},1e3)}this.textareaFocused=true},onTextareaBlur:function t(e){var i=this;if(!this.widget.common.copyright&&this.widget.common.copyright!==this.$root.$bitrixApplication.copyright){this.widget.common.copyright=this.$root.$bitrixApplication.copyright;this.$nextTick(function(){i.$root.$emit(b.EventType.dialog.scrollToBottom,{force:true})})}if(y.Utils.device.isMobile()){clearTimeout(this.onTextareaFocusScrollTimeout);document.removeEventListener("scroll",this.onWindowScroll)}this.textareaFocused=false},onTextareaStartDrag:function t(e){if(this.textareaDrag){return}p.Logger.log("Livechat: textarea drag started");this.textareaDrag=true;e=e.changedTouches?e.changedTouches[0]:e;this.textareaDragCursorStartPoint=e.clientY;this.textareaDragHeightStartPoint=this.textareaHeight;this.onTextareaDragEventAdd();this.$root.$emit(b.EventType.textarea.blur,true)},onTextareaContinueDrag:function t(e){if(!this.textareaDrag){return}e=e.changedTouches?e.changedTouches[0]:e;this.textareaDragCursorControlPoint=e.clientY;var i=Math.max(Math.min(this.textareaDragHeightStartPoint+this.textareaDragCursorStartPoint-this.textareaDragCursorControlPoint,this.textareaMaximumHeight),this.textareaMinimumHeight);p.Logger.log("Livechat: textarea drag","new: "+i,"curr: "+this.textareaHeight);if(this.textareaHeight!==i){this.textareaHeight=i}},onTextareaStopDrag:function t(){if(!this.textareaDrag){return}p.Logger.log("Livechat: textarea drag ended");this.textareaDrag=false;this.onTextareaDragEventRemove();this.$store.commit("widget/common",{textareaHeight:this.textareaHeight});this.$root.$emit(b.EventType.dialog.scrollToBottom,{force:true})},onTextareaDragEventAdd:function t(){document.addEventListener("mousemove",this.onTextareaContinueDrag);document.addEventListener("touchmove",this.onTextareaContinueDrag);document.addEventListener("touchend",this.onTextareaStopDrag);document.addEventListener("mouseup",this.onTextareaStopDrag);document.addEventListener("mouseleave",this.onTextareaStopDrag)},onTextareaDragEventRemove:function t(){document.removeEventListener("mousemove",this.onTextareaContinueDrag);document.removeEventListener("touchmove",this.onTextareaContinueDrag);document.removeEventListener("touchend",this.onTextareaStopDrag);document.removeEventListener("mouseup",this.onTextareaStopDrag);document.removeEventListener("mouseleave",this.onTextareaStopDrag)},onTextareaFileSelected:function t(e){var i=e&&e.fileInput?e.fileInput:this.storedFile;if(!i){return false}if(i.files[0].size>this.application.disk.maxFileSize){alert(this.localize.BX_LIVECHAT_FILE_SIZE_EXCEEDED.replace("#LIMIT#",Math.round(this.application.disk.maxFileSize/1024/1024)));return false}if(!this.widget.dialog.userConsent&&this.widget.common.consentUrl){this.storedFile=e.fileInput;this.showConsentWidow();return false}this.$root.$bitrixApplication.uploadFile(i)},onTextareaAppButtonClick:function t(e){if(e.appId===M.smile){if(this.widget.common.showForm===M.smile){this.$store.commit("widget/common",{showForm:M.none})}else{this.$store.commit("widget/common",{showForm:M.smile})}}else{this.$root.$emit(b.EventType.textarea.focus)}},onPullRequestConfig:function t(e){this.$root.$bitrixApplication.recoverPullConnection()},onSmilesSelectSmile:function t(e){this.$root.$emit(b.EventType.textarea.insertText,{text:e.text})},onSmilesSelectSet:function t(){this.$root.$emit(b.EventType.textarea.focus)},onQuotePanelClose:function t(){this.$root.$bitrixApplication.quoteMessageClear()},onWidgetStartDrag:function t(e){if(this.widgetDrag){return}this.widgetDrag=true;e=e.changedTouches?e.changedTouches[0]:e;this.widgetDragCursorStartPointY=e.clientY;this.widgetDragCursorStartPointX=e.clientX;this.widgetDragHeightStartPoint=this.widgetCurrentHeight;this.widgetDragWidthStartPoint=this.widgetCurrentWidth;this.onWidgetDragEventAdd()},onWidgetContinueDrag:function t(e){if(!this.widgetDrag){return}e=e.changedTouches?e.changedTouches[0]:e;this.widgetDragCursorControlPointY=e.clientY;this.widgetDragCursorControlPointX=e.clientX;var i=0;if(this.isBottomLocation){i=Math.max(Math.min(this.widgetDragHeightStartPoint+this.widgetDragCursorStartPointY-this.widgetDragCursorControlPointY,this.widgetAvailableHeight),this.widgetMinimumHeight)}else{i=Math.max(Math.min(this.widgetDragHeightStartPoint-this.widgetDragCursorStartPointY+this.widgetDragCursorControlPointY,this.widgetAvailableHeight),this.widgetMinimumHeight)}var o=0;if(this.isLeftLocation){o=Math.max(Math.min(this.widgetDragWidthStartPoint-this.widgetDragCursorStartPointX+this.widgetDragCursorControlPointX,this.widgetAvailableWidth),this.widgetMinimumWidth)}else{o=Math.max(Math.min(this.widgetDragWidthStartPoint+this.widgetDragCursorStartPointX-this.widgetDragCursorControlPointX,this.widgetAvailableWidth),this.widgetMinimumWidth)}if(this.widgetCurrentHeight!==i){this.widgetCurrentHeight=i}if(this.widgetCurrentWidth!==o){this.widgetCurrentWidth=o}},onWidgetStopDrag:function t(){if(!this.widgetDrag){return}this.widgetDrag=false;this.onWidgetDragEventRemove();this.$store.commit("widget/common",{widgetHeight:this.widgetCurrentHeight,widgetWidth:this.widgetCurrentWidth})},onWidgetDragEventAdd:function t(){document.addEventListener("mousemove",this.onWidgetContinueDrag);document.addEventListener("mouseup",this.onWidgetStopDrag);document.addEventListener("mouseleave",this.onWidgetStopDrag)},onWidgetDragEventRemove:function t(){document.removeEventListener("mousemove",this.onWidgetContinueDrag);document.removeEventListener("mouseup",this.onWidgetStopDrag);document.removeEventListener("mouseleave",this.onWidgetStopDrag)},onWindowKeyDown:function t(e){if(e.keyCode===27){if(this.widget.common.showForm!==M.none){this.$store.commit("widget/common",{showForm:M.none})}else if(this.widget.common.showConsent){this.disagreeConsentWidow()}else{this.close()}e.preventDefault();e.stopPropagation();this.$root.$emit(b.EventType.textarea.focus)}},onWindowScroll:function t(e){var i=this;clearTimeout(this.onWindowScrollTimeout);this.onWindowScrollTimeout=setTimeout(function(){i.$root.$emit(b.EventType.textarea.blur,true)},50)}},template:'\n\t\t<transition enter-active-class="bx-livechat-show" leave-active-class="bx-livechat-close" @after-leave="onAfterClose">\n\t\t\t<div :class="widgetClassName" v-if="widget.common.showed" :style="{height: widgetHeightStyle, width: widgetWidthStyle, userSelect: userSelectStyle}" ref="widgetWrapper">\n\t\t\t\t<div class="bx-livechat-box">\n\t\t\t\t\t<div v-if="isBottomLocation" class="bx-livechat-widget-resize-handle" @mousedown="onWidgetStartDrag"></div>\n\t\t\t\t\t<bx-livechat-head :isWidgetDisabled="widgetMobileDisabled" @like="showLikeForm" @history="showHistoryForm" @close="close"/>\n\t\t\t\t\t<template v-if="widgetMobileDisabled">\n\t\t\t\t\t\t<bx-livechat-body-orientation-disabled/>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else-if="application.error.active">\n\t\t\t\t\t\t<bx-livechat-body-error/>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else-if="!widget.common.configId">\n\t\t\t\t\t\t<div class="bx-livechat-body" key="loading-body">\n\t\t\t\t\t\t\t<bx-livechat-body-loading/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\t\t\t\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<template v-if="!widget.common.dialogStart">\n\t\t\t\t\t\t\t<div class="bx-livechat-body" key="welcome-body">\n\t\t\t\t\t\t\t\t<bx-livechat-body-operators/>\n\t\t\t\t\t\t\t\t<keep-alive include="bx-livechat-smiles">\n\t\t\t\t\t\t\t\t\t<template v-if="widget.common.showForm == FormType.smile">\n\t\t\t\t\t\t\t\t\t\t<bx-livechat-smiles @selectSmile="onSmilesSelectSmile" @selectSet="onSmilesSelectSet"/>\t\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</keep-alive>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if="widget.common.dialogStart">\n\t\t\t\t\t\t\t<bx-pull-component-status :canReconnect="true" @reconnect="onPullRequestConfig"/>\n\t\t\t\t\t\t\t<div :class="[\'bx-livechat-body\', {\'bx-livechat-body-with-message\': showMessageDialog}]" key="with-message">\n\t\t\t\t\t\t\t\t<template v-if="showMessageDialog">\n\t\t\t\t\t\t\t\t\t<div class="bx-livechat-dialog">\n\t\t\t\t\t\t\t\t\t\t<bx-im-view-dialog\n\t\t\t\t\t\t\t\t\t\t\t:userId="application.common.userId" \n\t\t\t\t\t\t\t\t\t\t\t:dialogId="application.dialog.dialogId"\n\t\t\t\t\t\t\t\t\t\t\t:chatId="application.dialog.chatId"\n\t\t\t\t\t\t\t\t\t\t\t:messageLimit="application.dialog.messageLimit"\n\t\t\t\t\t\t\t\t\t\t\t:messageExtraCount="application.dialog.messageExtraCount"\n\t\t\t\t\t\t\t\t\t\t\t:enableReactions="true"\n\t\t\t\t\t\t\t\t\t\t\t:enableDateActions="false"\n\t\t\t\t\t\t\t\t\t\t\t:enableCreateContent="false"\n\t\t\t\t\t\t\t\t\t\t\t:enableGestureQuote="true"\n\t\t\t\t\t\t\t\t\t\t\t:enableGestureMenu="true"\n\t\t\t\t\t\t\t\t\t\t\t:showMessageAvatar="false"\n\t\t\t\t\t\t\t\t\t\t\t:showMessageMenu="false"\n\t\t\t\t\t\t\t\t\t\t\t:listenEventScrollToBottom="EventType.dialog.scrollToBottom"\n\t\t\t\t\t\t\t\t\t\t\t:listenEventRequestHistory="EventType.dialog.requestHistoryResult"\n\t\t\t\t\t\t\t\t\t\t\t:listenEventRequestUnread="EventType.dialog.requestUnreadResult"\n\t\t\t\t\t\t\t\t\t\t\t@readMessage="onDialogReadMessage"\n\t\t\t\t\t\t\t\t\t\t\t@requestHistory="onDialogRequestHistory"\n\t\t\t\t\t\t\t\t\t\t\t@requestUnread="onDialogRequestUnread"\n\t\t\t\t\t\t\t\t\t\t\t@quoteMessage="onDialogQuoteMessage"\n\t\t\t\t\t\t\t\t\t\t\t@clickByCommand="onDialogMessageClickByCommand"\n\t\t\t\t\t\t\t\t\t\t\t@clickByUserName="onDialogMessageClickByUserName"\n\t\t\t\t\t\t\t\t\t\t\t@clickByUploadCancel="onDialogMessageClickByUploadCancel"\n\t\t\t\t\t\t\t\t\t\t\t@clickByKeyboardButton="onDialogMessageClickByKeyboardButton"\n\t\t\t\t\t\t\t\t\t\t\t@clickByMessageMenu="onDialogMessageMenuClick"\n\t\t\t\t\t\t\t\t\t\t\t@clickByMessageRetry="onDialogMessageRetryClick"\n\t\t\t\t\t\t\t\t\t\t\t@setMessageReaction="onDialogMessageReactionSet"\n\t\t\t\t\t\t\t\t\t\t\t@click="onDialogClick"\n\t\t\t\t\t\t\t\t\t\t />\n\t\t\t\t\t\t\t\t\t</div>\t \n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t<bx-livechat-body-loading/>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<bx-im-view-quote-panel :id="quotePanelData.id" :title="quotePanelData.title" :description="quotePanelData.description" :color="quotePanelData.color" @close="onQuotePanelClose"/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<keep-alive include="bx-livechat-smiles">\n\t\t\t\t\t\t\t\t\t<template v-if="widget.common.showForm == FormType.like && widget.common.vote.enable">\n\t\t\t\t\t\t\t\t\t\t<bx-livechat-form-vote/>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template v-else-if="widget.common.showForm == FormType.welcome">\n\t\t\t\t\t\t\t\t\t\t<bx-livechat-form-welcome/>\t\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template v-else-if="widget.common.showForm == FormType.offline">\n\t\t\t\t\t\t\t\t\t\t<bx-livechat-form-offline/>\t\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template v-else-if="widget.common.showForm == FormType.history">\n\t\t\t\t\t\t\t\t\t\t<bx-livechat-form-history/>\t\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template v-else-if="widget.common.showForm == FormType.smile">\n\t\t\t\t\t\t\t\t\t\t<bx-livechat-smiles @selectSmile="onSmilesSelectSmile" @selectSet="onSmilesSelectSet"/>\t\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</keep-alive>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\t\n\t\t\t\t\t\t<div class="bx-livechat-textarea" :style="[textareaHeightStyle, textAreaBottomMargin]" ref="textarea">\n\t\t\t\t\t\t\t<div class="bx-livechat-textarea-resize-handle" @mousedown="onTextareaStartDrag" @touchstart="onTextareaStartDrag"></div>\n\t\t\t\t\t\t\t<bx-im-view-textarea\n\t\t\t\t\t\t\t\t:siteId="application.common.siteId"\n\t\t\t\t\t\t\t\t:userId="application.common.userId"\n\t\t\t\t\t\t\t\t:dialogId="application.dialog.dialogId"\n\t\t\t\t\t\t\t\t:writesEventLetter="3"\n\t\t\t\t\t\t\t\t:enableEdit="true"\n\t\t\t\t\t\t\t\t:enableCommand="false"\n\t\t\t\t\t\t\t\t:enableMention="false"\n\t\t\t\t\t\t\t\t:enableFile="application.disk.enabled"\n\t\t\t\t\t\t\t\t:autoFocus="application.device.type !== DeviceType.mobile"\n\t\t\t\t\t\t\t\t:styles="{button: {backgroundColor: widget.common.styles.backgroundColor, iconColor: widget.common.styles.iconColor}}"\n\t\t\t\t\t\t\t\t:listenEventInsertText="EventType.textarea.insertText"\n\t\t\t\t\t\t\t\t:listenEventFocus="EventType.textarea.focus"\n\t\t\t\t\t\t\t\t:listenEventBlur="EventType.textarea.blur"\n\t\t\t\t\t\t\t\t@writes="onTextareaWrites" \n\t\t\t\t\t\t\t\t@send="onTextareaSend" \n\t\t\t\t\t\t\t\t@focus="onTextareaFocus" \n\t\t\t\t\t\t\t\t@blur="onTextareaBlur"\n\t\t\t\t\t\t\t\t@keyup="onTextareaKeyUp" \n\t\t\t\t\t\t\t\t@edit="logEvent(\'edit message\', $event)"\n\t\t\t\t\t\t\t\t@fileSelected="onTextareaFileSelected"\n\t\t\t\t\t\t\t\t@appButtonClick="onTextareaAppButtonClick"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if="!widget.common.copyright && !isBottomLocation" class="bx-livechat-nocopyright-resize-wrap" style="position: relative;">\n\t\t\t\t\t\t\t<div class="bx-livechat-widget-resize-handle" @mousedown="onWidgetStartDrag"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<bx-livechat-form-consent @agree="agreeConsentWidow" @disagree="disagreeConsentWidow"/>\n\t\t\t\t\t\t<template v-if="widget.common.copyright">\n\t\t\t\t\t\t\t<div class="bx-livechat-copyright">\t\n\t\t\t\t\t\t\t\t<template v-if="widget.common.copyrightUrl">\n\t\t\t\t\t\t\t\t\t<a class="bx-livechat-copyright-link" :href="widget.common.copyrightUrl" target="_blank">\n\t\t\t\t\t\t\t\t\t\t<span class="bx-livechat-logo-name">{{localize.BX_LIVECHAT_COPYRIGHT_TEXT}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="bx-livechat-logo-icon"></span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t<span class="bx-livechat-logo-name">{{localize.BX_LIVECHAT_COPYRIGHT_TEXT}}</span>\n\t\t\t\t\t\t\t\t\t<span class="bx-livechat-logo-icon"></span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<div v-if="!isBottomLocation" class="bx-livechat-widget-resize-handle" @mousedown="onWidgetStartDrag"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t'});C.Vue.component("bx-livechat-body-error",{computed:babelHelpers.objectSpread({localize:function t(){return Object.freeze({BX_LIVECHAT_ERROR_TITLE:this.$root.$bitrixMessages.BX_LIVECHAT_ERROR_TITLE,BX_LIVECHAT_ERROR_DESC:this.$root.$bitrixMessages.BX_LIVECHAT_ERROR_DESC})}},I.Vuex.mapState({application:function t(e){return e.application}})),template:'\n\t\t<div class="bx-livechat-body" key="error-body">\n\t\t\t<div class="bx-livechat-warning-window">\n\t\t\t\t<div class="bx-livechat-warning-icon"></div>\n\t\t\t\t<template v-if="application.error.description"> \n\t\t\t\t\t<div class="bx-livechat-help-title bx-livechat-help-title-sm bx-livechat-warning-msg" v-html="application.error.description"></div>\n\t\t\t\t</template> \n\t\t\t\t<template v-else>\n\t\t\t\t\t<div class="bx-livechat-help-title bx-livechat-help-title-md bx-livechat-warning-msg">{{localize.BX_LIVECHAT_ERROR_TITLE}}</div>\n\t\t\t\t\t<div class="bx-livechat-help-title bx-livechat-help-title-sm bx-livechat-warning-msg">{{localize.BX_LIVECHAT_ERROR_DESC}}</div>\n\t\t\t\t</template> \n\t\t\t</div>\n\t\t</div>\n\t'});C.Vue.component("bx-livechat-head",{props:{isWidgetDisabled:{default:false}},methods:{close:function t(e){this.$emit("close")},like:function t(e){this.$emit("like")},history:function t(e){this.$emit("history")}},computed:babelHelpers.objectSpread({VoteType:function t(){return E},customBackgroundStyle:function t(e){return e.widget.common.styles.backgroundColor?"background-color: "+e.widget.common.styles.backgroundColor+"!important;":""},customBackgroundOnlineStyle:function t(e){return e.widget.common.styles.backgroundColor?"border-color: "+e.widget.common.styles.backgroundColor+"!important;":""},showName:function t(e){return e.widget.dialog.operator.firstName||e.widget.dialog.operator.lastName},voteActive:function t(e){if(!e.widget.common.vote.beforeFinish&&e.widget.dialog.sessionStatus<R.waitClient){return false}if(!e.widget.dialog.sessionClose||e.widget.dialog.sessionClose&&e.widget.dialog.userVote===E.none){return true}if(e.widget.dialog.sessionClose&&e.widget.dialog.userVote!==E.none){return true}return false},chatTitle:function t(e){return e.widget.common.textMessages.bxLivechatTitle||e.widget.common.configName||this.localize.BX_LIVECHAT_TITLE},operatorName:function t(e){if(!this.showName)return"";return e.widget.dialog.operator.firstName?e.widget.dialog.operator.firstName:e.widget.dialog.operator.name},operatorDescription:function t(e){if(!this.showName)return"";return e.widget.dialog.operator.workPosition?e.widget.dialog.operator.workPosition:this.localize.BX_LIVECHAT_USER},localize:function t(){return C.Vue.getFilteredPhrases("BX_LIVECHAT_",this.$root.$bitrixMessages)}},I.Vuex.mapState({widget:function t(e){return e.widget},application:function t(e){return e.application}})),watch:{showName:function t(e){var i=this;if(e){setTimeout(function(){i.$root.$emit(b.EventType.dialog.scrollToBottom)},300)}}},template:'\n\t\t<div class="bx-livechat-head-wrap">\n\t\t\t<template v-if="isWidgetDisabled">\n\t\t\t\t<div class="bx-livechat-head" :style="customBackgroundStyle">\n\t\t\t\t\t<div class="bx-livechat-title">{{chatTitle}}</div>\n\t\t\t\t\t<div class="bx-livechat-control-box">\n\t\t\t\t\t\t<button v-if="!widget.common.pageMode" class="bx-livechat-control-btn bx-livechat-control-btn-close" :title="localize.BX_LIVECHAT_CLOSE_BUTTON" @click="close"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t</template>\n\t\t\t<template v-else-if="application.error.active">\n\t\t\t\t<div class="bx-livechat-head" :style="customBackgroundStyle">\n\t\t\t\t\t<div class="bx-livechat-title">{{chatTitle}}</div>\n\t\t\t\t\t<div class="bx-livechat-control-box">\n\t\t\t\t\t\t<button v-if="!widget.common.pageMode" class="bx-livechat-control-btn bx-livechat-control-btn-close" :title="localize.BX_LIVECHAT_CLOSE_BUTTON" @click="close"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if="!widget.common.configId">\n\t\t\t\t<div class="bx-livechat-head" :style="customBackgroundStyle">\n\t\t\t\t\t<div class="bx-livechat-title">{{chatTitle}}</div>\n\t\t\t\t\t<div class="bx-livechat-control-box">\n\t\t\t\t\t\t<button v-if="!widget.common.pageMode" class="bx-livechat-control-btn bx-livechat-control-btn-close" :title="localize.BX_LIVECHAT_CLOSE_BUTTON" @click="close"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\t\t\t\n\t\t\t<template v-else>\n\t\t\t\t<div class="bx-livechat-head" :style="customBackgroundStyle">\n\t\t\t\t\t<template v-if="!showName">\n\t\t\t\t\t\t<div class="bx-livechat-title">{{chatTitle}}</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<div class="bx-livechat-user bx-livechat-status-online">\n\t\t\t\t\t\t\t<template v-if="widget.dialog.operator.avatar">\n\t\t\t\t\t\t\t\t<div class="bx-livechat-user-icon" :style="\'background-image: url(\'+encodeURI(widget.dialog.operator.avatar)+\')\'">\n\t\t\t\t\t\t\t\t\t<div v-if="widget.dialog.operator.online" class="bx-livechat-user-status" :style="customBackgroundOnlineStyle"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t<div class="bx-livechat-user-icon">\n\t\t\t\t\t\t\t\t\t<div v-if="widget.dialog.operator.online" class="bx-livechat-user-status" :style="customBackgroundOnlineStyle"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-livechat-user-info">\n\t\t\t\t\t\t\t<div class="bx-livechat-user-name">{{operatorName}}</div>\n\t\t\t\t\t\t\t<div class="bx-livechat-user-position">{{operatorDescription}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div class="bx-livechat-control-box">\n\t\t\t\t\t\t<span class="bx-livechat-control-box-active" v-if="widget.common.dialogStart && widget.dialog.sessionId">\n\t\t\t\t\t\t\t<button v-if="widget.common.vote.enable && voteActive" :class="\'bx-livechat-control-btn bx-livechat-control-btn-like bx-livechat-dialog-vote-\'+(widget.dialog.userVote)" :title="localize.BX_LIVECHAT_VOTE_BUTTON" @click="like"></button>\n\t\t\t\t\t\t\t<button v-if="false" class="bx-livechat-control-btn bx-livechat-control-btn-mail" :title="localize.BX_LIVECHAT_MAIL_BUTTON_NEW" @click="history"></button>\n\t\t\t\t\t\t</span>\t\n\t\t\t\t\t\t<button v-if="!widget.common.pageMode" class="bx-livechat-control-btn bx-livechat-control-btn-close" :title="localize.BX_LIVECHAT_CLOSE_BUTTON" @click="close"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t'});C.Vue.component("bx-livechat-body-loading",{computed:{localize:function t(){return Object.freeze({BX_LIVECHAT_LOADING:this.$root.$bitrixMessages.BX_LIVECHAT_LOADING})}},template:'\n\t\t<div class="bx-livechat-loading-window">\n\t\t\t<svg class="bx-livechat-loading-circular" viewBox="25 25 50 50">\n\t\t\t\t<circle class="bx-livechat-loading-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>\n\t\t\t\t<circle class="bx-livechat-loading-inner-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>\n\t\t\t</svg>\n\t\t\t<h3 class="bx-livechat-help-title bx-livechat-help-title-md bx-livechat-loading-msg">{{localize.BX_LIVECHAT_LOADING}}</h3>\n\t\t</div>\n\t'});C.Vue.component("bx-livechat-body-operators",{computed:babelHelpers.objectSpread({localize:function t(){return C.Vue.getFilteredPhrases("BX_LIVECHAT_",this.$root.$bitrixMessages)}},I.Vuex.mapState({widget:function t(e){return e.widget}})),template:'\n\t\t<div class="bx-livechat-help-container">\n\t\t\t<transition name="bx-livechat-animation-fade">\n\t\t\t\t<h2 v-if="widget.common.online" key="online" class="bx-livechat-help-title bx-livechat-help-title-lg">{{widget.common.textMessages.bxLivechatOnlineLine1}}<div class="bx-livechat-help-subtitle">{{widget.common.textMessages.bxLivechatOnlineLine2}}</div></h2>\n\t\t\t\t<h2 v-else key="offline" class="bx-livechat-help-title bx-livechat-help-title-sm">{{widget.common.textMessages.bxLivechatOffline}}</h2>\n\t\t\t</transition>\t\n\t\t\t<div class="bx-livechat-help-user">\n\t\t\t\t<template v-for="operator in widget.common.operators">\n\t\t\t\t\t<div class="bx-livechat-user" :key="operator.id">\n\t\t\t\t\t\t<template v-if="operator.avatar">\n\t\t\t\t\t\t\t<div class="bx-livechat-user-icon" :style="\'background-image: url(\'+encodeURI(operator.avatar)+\')\'"></div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<div class="bx-livechat-user-icon"></div>\n\t\t\t\t\t\t</template>\t\n\t\t\t\t\t\t<div class="bx-livechat-user-info">\n\t\t\t\t\t\t\t<div class="bx-livechat-user-name">{{operator.firstName? operator.firstName: operator.name}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\t\n\t\t\t</div>\n\t\t</div>\n\t'});C.Vue.component("bx-livechat-body-orientation-disabled",{computed:{localize:function t(){return Object.freeze({BX_LIVECHAT_MOBILE_ROTATE:this.$root.$bitrixMessages.BX_LIVECHAT_MOBILE_ROTATE})}},template:'\n\t\t<div class="bx-livechat-body" key="orientation-head">\n\t\t\t<div class="bx-livechat-mobile-orientation-box">\n\t\t\t\t<div class="bx-livechat-mobile-orientation-icon"></div>\n\t\t\t\t<div class="bx-livechat-mobile-orientation-text">{{localize.BX_LIVECHAT_MOBILE_ROTATE}}</div>\n\t\t\t</div>\n\t\t</div>\n\t'});C.Vue.component("bx-livechat-form-consent",{computed:babelHelpers.objectSpread({localize:function t(){return C.Vue.getFilteredPhrases("BX_LIVECHAT_",this.$root.$bitrixMessages)}},I.Vuex.mapState({widget:function t(e){return e.widget}})),methods:{agree:function t(e){this.$emit("agree",{event:e})},disagree:function t(e){this.$emit("disagree",{event:e})},onShow:function t(e,i){e.classList.add("bx-livechat-consent-window-show");i()},onHide:function t(e,i){e.classList.remove("bx-livechat-consent-window-show");e.classList.add("bx-livechat-consent-window-close");setTimeout(function(){i()},400)},onKeyDown:function t(e){if(e.keyCode==9){if(e.target===this.$refs.iframe){if(e.shiftKey){this.$refs.cancel.focus()}else{this.$refs.success.focus()}}else if(e.target===this.$refs.success){if(e.shiftKey){this.$refs.iframe.focus()}else{this.$refs.cancel.focus()}}else if(e.target===this.$refs.cancel){if(e.shiftKey){this.$refs.success.focus()}else{this.$refs.iframe.focus()}}e.preventDefault()}else if(e.keyCode==39||e.keyCode==37){if(e.target.nextElementSibling){e.target.nextElementSibling.focus()}else if(e.target.previousElementSibling){e.target.previousElementSibling.focus()}e.preventDefault()}}},directives:{focus:{inserted:function t(e,i){e.focus()}}},template:'\n\t\t<transition @enter="onShow" @leave="onHide">\n\t\t\t<template v-if="widget.common.showConsent && widget.common.consentUrl">\n\t\t\t\t<div class="bx-livechat-consent-window">\n\t\t\t\t\t<div class="bx-livechat-consent-window-title">{{localize.BX_LIVECHAT_CONSENT_TITLE}}</div>\n\t\t\t\t\t<div class="bx-livechat-consent-window-content">\n\t\t\t\t\t\t<iframe class="bx-livechat-consent-window-content-iframe" ref="iframe" frameborder="0" marginheight="0"  marginwidth="0" allowtransparency="allow-same-origin" seamless="true" :src="widget.common.consentUrl" @keydown="onKeyDown"></iframe>\n\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\n\t\t\t\t\t<div class="bx-livechat-consent-window-btn-box">\n\t\t\t\t\t\t<button class="bx-livechat-btn bx-livechat-btn-success" ref="success" @click="agree" @keydown="onKeyDown" v-focus>{{localize.BX_LIVECHAT_CONSENT_AGREE}}</button>\n\t\t\t\t\t\t<button class="bx-livechat-btn bx-livechat-btn-cancel" ref="cancel" @click="disagree" @keydown="onKeyDown">{{localize.BX_LIVECHAT_CONSENT_DISAGREE}}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</transition>\n\t'});C.Vue.component("bx-livechat-form-history",{data:function t(){return{fieldEmail:""}},watch:{fieldEmail:function t(e){clearTimeout(this.fieldEmailTimeout);this.fieldEmailTimeout=setTimeout(this.checkEmailField,300)}},computed:babelHelpers.objectSpread({localize:function t(){return C.Vue.getFilteredPhrases("BX_LIVECHAT_",this.$root.$bitrixMessages)}},I.Vuex.mapState({widget:function t(e){return e.widget}})),created:function t(){this.fieldEmail=""+this.widget.user.email},methods:{formShowed:function t(){if(!y.Utils.platform.isMobile()){this.$refs.emailInput.focus()}},sendForm:function t(){var e=this.checkEmailField()?this.fieldEmail:"";if(e){this.$root.$bitrixApplication.sendForm(M.history,{email:e})}this.hideForm()},hideForm:function t(e){clearTimeout(this.fieldEmailTimeout);this.$parent.hideForm()},onFieldEnterPress:function t(e){this.sendForm();e.preventDefault()},checkEmailField:function t(){if(this.fieldEmail.match(/^(.*)@(.*)\.[a-zA-Z]{2,}$/)){if(this.$refs.email){this.$refs.email.classList.remove("ui-ctl-danger")}return true}else{if(document.activeElement!==this.$refs.emailInput){if(this.$refs.email){this.$refs.email.classList.add("ui-ctl-danger")}}return false}}},template:'\n\t\t<transition enter-active-class="bx-livechat-consent-window-show" leave-active-class="bx-livechat-form-close" @after-enter="formShowed">\n\t\t\t<div v-if="false" class="bx-livechat-alert-box bx-livechat-form-show" key="welcome">\t\n\t\t\t\t<div class="bx-livechat-alert-close" @click="hideForm"></div>\n\t\t\t\t<div class="bx-livechat-alert-form-box">\n\t\t\t\t\t<h4 class="bx-livechat-alert-title bx-livechat-alert-title-sm">{{localize.BX_LIVECHAT_MAIL_TITLE_NEW}}</h4>\n\t\t\t\t\t<div class="bx-livechat-form-item ui-ctl ui-ctl-after-icon ui-ctl-w100 ui-ctl-lg" ref="email">\n\t\t\t\t\t   <div class="ui-ctl-after ui-ctl-icon-mail bx-livechat-form-icon" :title="localize.BX_LIVECHAT_FIELD_MAIL_TOOLTIP"></div>\n\t\t\t\t\t   <input type="text" class="ui-ctl-element ui-ctl-textbox" :placeholder="localize.BX_LIVECHAT_FIELD_MAIL" v-model="fieldEmail" ref="emailInput" @blur="checkEmailField" @keydown.enter="onFieldEnterPress">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-livechat-btn-box">\n\t\t\t\t\t\t<button class="bx-livechat-btn bx-livechat-btn-success" @click="sendForm">{{localize.BX_LIVECHAT_MAIL_BUTTON_NEW}}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t</transition>\t\n\t'});C.Vue.cloneComponent("bx-livechat-form-offline","bx-livechat-form-welcome",{methods:{formShowed:function t(){if(!y.Utils.platform.isMobile()){this.$refs.emailInput.focus()}},sendForm:function t(){var e=this.fieldName;var i=this.checkEmailField()?this.fieldEmail:"";var o=this.checkPhoneField()?this.fieldPhone:"";if(e||i||o){this.$root.$bitrixApplication.sendForm(M.offline,{name:e,email:i,phone:o})}this.hideForm()},onFieldEnterPress:function t(e){if(e.target===this.$refs.emailInput){this.showFullForm();this.$refs.phoneInput.focus()}else if(e.target===this.$refs.phoneInput){this.$refs.nameInput.focus()}else{this.sendForm()}e.preventDefault()}},watch:{fieldName:function t(){clearTimeout(this.fieldNameTimeout);this.fieldNameTimeout=setTimeout(this.checkNameField,300)},fieldEmail:function t(){clearTimeout(this.showFormTimeout);this.showFormTimeout=setTimeout(this.showFullForm,1e3);clearTimeout(this.fieldEmailTimeout);this.fieldEmailTimeout=setTimeout(this.checkEmailField,300)}},template:'\n\t\t<transition enter-active-class="bx-livechat-consent-window-show" leave-active-class="bx-livechat-form-close" @after-enter="formShowed">\n\t\t\t<div class="bx-livechat-alert-box bx-livechat-form-show" key="welcome">\t\n\t\t\t\t<div class="bx-livechat-alert-close" @click="hideForm"></div>\n\t\t\t\t<div class="bx-livechat-alert-form-box">\n\t\t\t\t\t<h4 class="bx-livechat-alert-title bx-livechat-alert-title-sm">{{localize.BX_LIVECHAT_OFFLINE_TITLE}}</h4>\n\t\t\t\t\t<div class="bx-livechat-form-item ui-ctl ui-ctl-after-icon ui-ctl-w100 ui-ctl-lg" ref="email">\n\t\t\t\t\t   <div class="ui-ctl-after ui-ctl-icon-mail bx-livechat-form-icon" :title="localize.BX_LIVECHAT_FIELD_MAIL_TOOLTIP"></div>\n\t\t\t\t\t   <input type="text" class="ui-ctl-element ui-ctl-textbox" :placeholder="localize.BX_LIVECHAT_FIELD_MAIL" v-model="fieldEmail" ref="emailInput" @blur="checkEmailField" @keydown.enter="onFieldEnterPress">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div :class="[\'bx-livechat-form-short\', {\n\t\t\t\t\t\t\'bx-livechat-form-full\': isFullForm,\n\t\t\t\t\t}]">\n\t\t\t\t\t\t<div class="bx-livechat-form-item ui-ctl ui-ctl-after-icon ui-ctl-w100 ui-ctl-lg" ref="phone">\n\t\t\t\t\t\t   <div class="ui-ctl-after ui-ctl-icon-phone bx-livechat-form-icon" :title="localize.BX_LIVECHAT_FIELD_PHONE_TOOLTIP"></div>\n\t\t\t\t\t\t   <input type="text" class="ui-ctl-element ui-ctl-textbox" :placeholder="localize.BX_LIVECHAT_FIELD_PHONE" v-model="fieldPhone" ref="phoneInput" @blur="checkPhoneField" @keydown.enter="onFieldEnterPress">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-livechat-form-item ui-ctl ui-ctl-w100 ui-ctl-lg" ref="name">\n\t\t\t\t\t\t   <input type="text" class="ui-ctl-element ui-ctl-textbox" :placeholder="localize.BX_LIVECHAT_FIELD_NAME" v-model="fieldName" ref="nameInput" @blur="checkNameField" @keydown.enter="onFieldEnterPress"  @keydown.tab="onFieldEnterPress">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-livechat-btn-box">\n\t\t\t\t\t\t\t<button class="bx-livechat-btn bx-livechat-btn-success" @click="sendForm">{{localize.BX_LIVECHAT_ABOUT_SEND}}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t</transition>\t\n\t'});C.Vue.component("bx-livechat-form-vote",{computed:babelHelpers.objectSpread({VoteType:function t(){return E},localize:function t(){return C.Vue.getFilteredPhrases("BX_LIVECHAT_",this.$root.$bitrixMessages)}},I.Vuex.mapState({widget:function t(e){return e.widget}})),methods:{userVote:function t(e){this.$store.commit("widget/common",{showForm:M.none});this.$store.commit("widget/dialog",{userVote:e});this.$root.$bitrixApplication.sendDialogVote(e)},hideForm:function t(e){this.$parent.hideForm()}},template:'\n\t\t<transition enter-active-class="bx-livechat-consent-window-show" leave-active-class="bx-livechat-form-close">\n\t\t\t<div class="bx-livechat-alert-box bx-livechat-form-rate-show" key="vote">\n\t\t\t\t<div class="bx-livechat-alert-close" @click="hideForm"></div>\n\t\t\t\t<div class="bx-livechat-alert-rate-box">\n\t\t\t\t\t<h4 class="bx-livechat-alert-title bx-livechat-alert-title-mdl">{{widget.common.vote.messageText}}</h4>\n\t\t\t\t\t<div class="bx-livechat-btn-box">\n\t\t\t\t\t\t<button class="bx-livechat-btn bx-livechat-btn-like" @click="userVote(VoteType.like)" :title="widget.common.vote.messageLike"></button>\n\t\t\t\t\t\t<button class="bx-livechat-btn bx-livechat-btn-dislike" @click="userVote(VoteType.dislike)" :title="widget.common.vote.messageDislike"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\t\n\t'});C.Vue.component("bx-livechat-form-welcome",{data:function t(){return{fieldName:"",fieldEmail:"",fieldPhone:"",isFullForm:y.Utils.platform.isMobile()}},watch:{fieldName:function t(){clearTimeout(this.showFormTimeout);this.showFormTimeout=setTimeout(this.showFullForm,1e3);clearTimeout(this.fieldNameTimeout);this.fieldNameTimeout=setTimeout(this.checkNameField,300)},fieldEmail:function t(e){clearTimeout(this.fieldEmailTimeout);this.fieldEmailTimeout=setTimeout(this.checkEmailField,300)},fieldPhone:function t(e){clearTimeout(this.fieldPhoneTimeout);this.fieldPhoneTimeout=setTimeout(this.checkPhoneField,300)}},computed:babelHelpers.objectSpread({localize:function t(){return C.Vue.getFilteredPhrases("BX_LIVECHAT_",this.$root.$bitrixMessages)}},I.Vuex.mapState({widget:function t(e){return e.widget}})),created:function t(){this.fieldName=""+this.widget.user.name;this.fieldEmail=""+this.widget.user.email;this.fieldPhone=""+this.widget.user.phone},methods:{formShowed:function t(){if(!y.Utils.platform.isMobile()){this.$refs.nameInput.focus()}},showFullForm:function t(){clearTimeout(this.showFormTimeout);this.isFullForm=true},sendForm:function t(){var e=this.fieldName;var i=this.checkEmailField()?this.fieldEmail:"";var o=this.checkPhoneField()?this.fieldPhone:"";if(e||i||o){this.$root.$bitrixApplication.sendForm(M.welcome,{name:e,email:i,phone:o})}this.hideForm()},hideForm:function t(e){clearTimeout(this.showFormTimeout);clearTimeout(this.fieldNameTimeout);clearTimeout(this.fieldEmailTimeout);clearTimeout(this.fieldPhoneTimeout);this.$parent.hideForm()},onFieldEnterPress:function t(e){if(e.target===this.$refs.nameInput){this.showFullForm();this.$refs.emailInput.focus()}else if(e.target===this.$refs.emailInput){this.$refs.phoneInput.focus()}else{this.sendForm()}e.preventDefault()},checkNameField:function t(){if(this.fieldName.length>0){if(this.$refs.name){this.$refs.name.classList.remove("ui-ctl-danger")}return true}else{if(document.activeElement!==this.$refs.nameInput){if(this.$refs.name){this.$refs.name.classList.add("ui-ctl-danger")}}return false}},checkEmailField:function t(){if(this.fieldEmail.match(/^(.*)@(.*)\.[a-zA-Z]{2,}$/)){if(this.$refs.email){this.$refs.email.classList.remove("ui-ctl-danger")}return true}else{if(document.activeElement!==this.$refs.emailInput){if(this.$refs.email){this.$refs.email.classList.add("ui-ctl-danger")}}return false}},checkPhoneField:function t(){if(this.fieldPhone.match(/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/)){if(this.$refs.phone){this.$refs.phone.classList.remove("ui-ctl-danger")}return true}else{if(document.activeElement!==this.$refs.phoneInput){if(this.$refs.phone){this.$refs.phone.classList.add("ui-ctl-danger")}}return false}}},template:'\n\t\t<transition enter-active-class="bx-livechat-consent-window-show" leave-active-class="bx-livechat-form-close" @after-enter="formShowed">\n\t\t\t<div class="bx-livechat-alert-box bx-livechat-form-show" key="welcome">\t\n\t\t\t\t<div class="bx-livechat-alert-close" @click="hideForm"></div>\n\t\t\t\t<div class="bx-livechat-alert-form-box">\n\t\t\t\t\t<h4 class="bx-livechat-alert-title bx-livechat-alert-title-sm">{{localize.BX_LIVECHAT_ABOUT_TITLE}}</h4>\n\t\t\t\t\t<div class="bx-livechat-form-item ui-ctl ui-ctl-w100 ui-ctl-lg" ref="name">\n\t\t\t\t\t   <input type="text" class="ui-ctl-element ui-ctl-textbox" :placeholder="localize.BX_LIVECHAT_FIELD_NAME" v-model="fieldName" ref="nameInput" @blur="checkNameField" @keydown.enter="onFieldEnterPress"  @keydown.tab="onFieldEnterPress">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div :class="[\'bx-livechat-form-short\', {\n\t\t\t\t\t\t\'bx-livechat-form-full\': isFullForm,\n\t\t\t\t\t}]">\n\t\t\t\t\t\t<div class="bx-livechat-form-item ui-ctl ui-ctl-after-icon ui-ctl-w100 ui-ctl-lg" ref="email">\n\t\t\t\t\t\t   <div class="ui-ctl-after ui-ctl-icon-mail bx-livechat-form-icon" :title="localize.BX_LIVECHAT_FIELD_MAIL_TOOLTIP"></div>\n\t\t\t\t\t\t   <input type="text" class="ui-ctl-element ui-ctl-textbox" :placeholder="localize.BX_LIVECHAT_FIELD_MAIL" v-model="fieldEmail" ref="emailInput" @blur="checkEmailField" @keydown.enter="onFieldEnterPress">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-livechat-form-item ui-ctl ui-ctl-after-icon ui-ctl-w100 ui-ctl-lg" ref="phone">\n\t\t\t\t\t\t   <div class="ui-ctl-after ui-ctl-icon-phone bx-livechat-form-icon" :title="localize.BX_LIVECHAT_FIELD_PHONE_TOOLTIP"></div>\n\t\t\t\t\t\t   <input type="text" class="ui-ctl-element ui-ctl-textbox" :placeholder="localize.BX_LIVECHAT_FIELD_PHONE" v-model="fieldPhone" ref="phoneInput" @blur="checkPhoneField" @keydown.enter="onFieldEnterPress">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-livechat-btn-box">\n\t\t\t\t\t\t\t<button class="bx-livechat-btn bx-livechat-btn-success" @click="sendForm">{{localize.BX_LIVECHAT_ABOUT_SEND}}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t</transition>\t\n\t'});C.Vue.cloneComponent("bx-livechat-smiles","bx-smiles",{methods:{hideForm:function t(e){this.$parent.hideForm()}},template:'\n\t\t<transition enter-active-class="bx-livechat-consent-window-show" leave-active-class="bx-livechat-form-close">\n\t\t\t<div class="bx-livechat-alert-box bx-livechat-alert-box-zero-padding bx-livechat-form-show" key="vote">\n\t\t\t\t<div class="bx-livechat-alert-close" @click="hideForm"></div>\n\t\t\t\t<div class="bx-livechat-alert-smiles-box">\n\t\t\t\t\t#PARENT_TEMPLATE#\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t'});C.Vue.component("bx-livechat-footer",{computed:babelHelpers.objectSpread({localize:function t(){return C.Vue.getFilteredPhrases("BX_LIVECHAT_COPYRIGHT_",this.$root.$bitrixMessages)}},I.Vuex.mapState({widget:function t(e){return e.widget}})),template:'\n\t\t<div class="bx-livechat-copyright">\t\n\t\t\t<template v-if="widget.common.copyrightUrl">\n\t\t\t\t<a :href="widget.common.copyrightUrl" target="_blank">\n\t\t\t\t\t<span class="bx-livechat-logo-name">{{localize.BX_LIVECHAT_COPYRIGHT_TEXT}}</span>\n\t\t\t\t\t<span class="bx-livechat-logo-icon"></span>\n\t\t\t\t</a>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<span class="bx-livechat-logo-name">{{localize.BX_LIVECHAT_COPYRIGHT_TEXT}}</span>\n\t\t\t\t<span class="bx-livechat-logo-icon"></span>\n\t\t\t</template>\n\t\t</div>\n\t'});BX.LiveChatWidget=O;BX.LiveChatWidget.VoteType=E;BX.LiveChatWidget.SubscriptionType=_;BX.LiveChatWidget.LocationStyle=k;BX.LiveChatWidget.Cookie=m.Cookie;window.dispatchEvent(new CustomEvent("onBitrixLiveChatSourceLoaded",{detail:{}}))})(this.window=this.window||{},BX,window,window,window,window,window,window,window,BX,BX.Messenger.Provider.Rest,BX,BX,BX.Messenger,BX.Messenger.Lib,BX.Messenger.Lib,BX.Messenger.Lib,BX,BX.Messenger.Const,BX,BX,BX.Messenger.Lib,BX,BX);
 

